!function(e){var t={};function i(n){if(t[n])return t[n].exports;var l=t[n]={i:n,l:!1,exports:{}};return e[n].call(l.exports,l,l.exports,i),l.l=!0,l.exports}i.m=e,i.c=t,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var l in e)i.d(n,l,function(t){return e[t]}.bind(null,l));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=1)}([function(e,t,i){},function(e,t,i){"use strict";i.r(t);i.p,i(0);var n=function(){for(var e=0,t=0,i=arguments.length;t<i;t++)e+=arguments[t].length;var n=Array(e),l=0;for(t=0;t<i;t++)for(var a=arguments[t],o=0,s=a.length;o<s;o++,l++)n[l]=a[o];return n},l=function(){function e(){this.observers=[]}return e.prototype.addObserver=function(e){if("function"!=typeof e)throw new Error("observer must be a function");this.observers.map((function(t){if(t===e)throw new Error("observer already in the list")})),this.observers.push(e)},e.prototype.removeObserver=function(e){for(var t=0;t<this.observers.length;t++){if(this.observers[t]===e)return void this.observers.splice(t,1)}throw new Error("could not find observer in list of observers")},e.prototype.notifyObservers=function(){n(this.observers).map((function(e){return e()}))},e}();var a=function(e){var t=document.createElement("div");return t.ondragstart=function(){return!1},t.classList.add(e),t},o=function(){function e(){this.elem=a("slider__scale")}return e.prototype.getLeft=function(){return this.elem.getBoundingClientRect().left},e.prototype.getWidth=function(){return this.elem.getBoundingClientRect().width},e.prototype.getHeight=function(){return this.elem.getBoundingClientRect().height},e.prototype.getTop=function(){return this.elem.getBoundingClientRect().top},e}(),s=function(){function e(){this.gradElem=a("slider__graduation"),this.mark1=a("slider__graduation-mark"),this.mark2=a("slider__graduation-mark"),this.mark3=a("slider__graduation-mark"),this.mark4=a("slider__graduation-mark"),this.gradElem.appendChild(this.mark1),this.gradElem.appendChild(this.mark2),this.gradElem.appendChild(this.mark3),this.gradElem.appendChild(this.mark4),this.init=this.init.bind(this)}return e.prototype.init=function(e,t,i,n){void 0===n&&(n=!1),this.mark1.innerHTML=e+"",this.mark4.innerHTML=t+"",n?(this.mark2.innerHTML=(e+(t-e)/3).toFixed(2),this.mark3.innerHTML=(e+2*(t-e)/3).toFixed(2)):(this.mark2.innerHTML=e+Math.round((t-e)/3)+"",this.mark3.innerHTML=e+Math.round(2*(t-e)/3)+""),i?(this.mark1.style.marginTop="-9px",this.mark1.style.marginLeft="0",this.mark4.style.marginBottom="-9px",this.mark4.style.marginRight="0"):(this.mark1.style.marginLeft="-15px",this.mark1.style.marginTop="0",this.mark4.style.marginRight="-15px",this.mark4.style.marginBottom="0")},e}(),r=function(){function e(){this.elem=a("slider__button")}return e.prototype.getLeft=function(){return this.elem.getBoundingClientRect().left},e.prototype.getWidth=function(){return this.elem.getBoundingClientRect().width},e.prototype.getTop=function(){return this.elem.getBoundingClientRect().top},e}(),u=function(){function e(){this.elem=a("slider__button-label")}return e.prototype.getWidth=function(){return this.elem.getBoundingClientRect().width},e.prototype.getHeight=function(){return this.elem.getBoundingClientRect().height},e}(),c=function(){this.elem=a("slider__scale-filling")},d=function(e,t,i,n,a,d,g){var h=this;void 0===e&&(e=0),void 0===t&&(t=1e3),void 0===i&&(i=1),void 0===n&&(n=!1),void 0===a&&(a=!1),void 0===d&&(d=!1),void 0===g&&(g=!1),this.getStart=function(){return h.range?h.isVertical?h.button1.getTop()-h.scale.getTop()+h.button1.getWidth()/2:h.button1.getLeft()-h.scale.getLeft()+h.button1.getWidth()/2:0},this.getEnd=function(){return h.isVertical?h.button2.getTop()-h.scale.getTop()+h.button2.getWidth()/2:h.button2.getLeft()-h.scale.getLeft()+h.button2.getWidth()/2},this.updateElems=function(){h.isVertical?(h.scaleFilling.elem.style.top=h.getStart()+"px",h.scaleFilling.elem.style.left="0",h.scaleFilling.elem.style.height=h.getEnd()-h.getStart()+"px",h.scaleFilling.elem.style.width="100%"):(h.scaleFilling.elem.style.left=h.getStart()+"px",h.scaleFilling.elem.style.top="0",h.scaleFilling.elem.style.width=h.getEnd()-h.getStart()+"px",h.scaleFilling.elem.style.height="100%"),h.range||(h.curMinValue=h.minValue),h.observers.notifyObservers()},this.round=function(e,t){var i=Math.floor(e/t),n=e%t;return e<0?Math.abs(n)>t/2?i*t:(i+1)*t:n<t/2?i*t:(i+1)*t},this.roundOffsetButt=function(e){var t;t=h.isVertical?h.scale.getHeight():h.scale.getWidth();var i=h.minValue+(e+h.button2.getWidth()/2)*(h.maxValue-h.minValue)/t,n=h.round(i,h.step);return h.float&&(n=parseFloat(n.toFixed(2))),n<h.minValue?n=h.minValue:n>h.maxValue&&(n=h.maxValue),[(n-h.minValue)*t/(h.maxValue-h.minValue)-h.button2.getWidth()/2,n]},this.offsetValueConv=function(e){return h.isVertical?(e-h.minValue)/(h.maxValue-h.minValue)*h.scale.getHeight()-h.button2.getWidth()/2:(e-h.minValue)/(h.maxValue-h.minValue)*h.scale.getWidth()-h.button2.getWidth()/2},this.butt1Move=function(e,t){h.isVertical?(h.button1.elem.style.top=e+"px",h.label1.elem.style.top=e-h.label1.getHeight()/2+h.button1.getWidth()/2+"px"):(h.button1.elem.style.left=e+"px",h.label1.elem.style.left=e-h.label1.getWidth()/2+h.button1.getWidth()/2+"px"),t<h.minValue&&(t=h.minValue),h.label1.elem.innerHTML=t+"",h.curMinValue=t,h.updateElems()},this.butt1OffsetCheck=function(e){var t;if(h.isVertical){var i=h.step*h.scale.getHeight()/(h.maxValue-h.minValue);e<-h.button2.getWidth()/2&&(e=-h.button2.getWidth()/2,t=h.minValue),i/1.5>h.button2.getWidth()?e>h.button2.getTop()-h.scale.getTop()-i/1.5&&(e=h.button2.getTop()-h.scale.getTop()-i/1.5):e>h.button2.getTop()-h.scale.getTop()-h.button2.getWidth()&&(e=h.button2.getTop()-h.scale.getTop()-h.button2.getWidth())}else i=h.step*h.scale.getWidth()/(h.maxValue-h.minValue),e<-h.button1.getWidth()/2&&(e=-h.button1.getWidth()/2,t=h.minValue),i/1.5>h.button1.getWidth()?e>h.button2.getLeft()-h.scale.getLeft()-i/1.5&&(e=h.button2.getLeft()-h.scale.getLeft()-i/1.5):e>h.button2.getLeft()-h.scale.getLeft()-h.button2.getWidth()&&(e=h.button2.getLeft()-h.scale.getLeft()-h.button2.getWidth());return[e,t]},this.onMouseMove1=function(e){var t,i,n,l,a;n=h.isVertical?e.clientY-h.scale.getTop()-h.button1.getWidth()/2:e.clientX-h.scale.getLeft()-h.button1.getWidth()/2,a=(t=h.butt1OffsetCheck(n))[0],(l=t[1])||(a=(i=h.roundOffsetButt(a))[0],l=i[1]),h.butt1Move(a,l)},this.onMouseUp1=function(e){document.removeEventListener("mouseup",h.onMouseUp1),document.removeEventListener("mousemove",h.onMouseMove1)},this.butt2Move=function(e,t){h.isVertical?(h.button2.elem.style.top=e+"px",h.label2.elem.style.top=e-h.label2.getHeight()/2+h.button2.getWidth()/2+"px"):(h.button2.elem.style.left=e+"px",h.label2.elem.style.left=e-h.label2.getWidth()/2+h.button2.getWidth()/2+"px"),t<h.minValue?t=h.minValue:t>h.maxValue&&(t=h.maxValue),h.label2.elem.innerHTML=t+"",h.curMaxValue=t,h.updateElems()},this.butt2OffsetCheck=function(e){var t;if(h.range||e<-h.button2.getWidth()/2&&(e=-h.button2.getWidth()/2,t=h.minValue),h.isVertical){var i=h.step*h.scale.getHeight()/(h.maxValue-h.minValue);e>h.scale.getHeight()-h.button2.getWidth()/2&&(e=h.scale.getHeight()-h.button2.getWidth()/2,t=h.maxValue),i/1.5>h.button2.getWidth()?e<h.button1.getTop()-h.scale.getTop()+i/1.5&&(e=h.button1.getTop()-h.scale.getTop()+i/1.5):e<h.button1.getTop()-h.scale.getTop()+h.button2.getWidth()&&(e=h.button1.getTop()-h.scale.getTop()+h.button2.getWidth())}else i=h.step*h.scale.getWidth()/(h.maxValue-h.minValue),e>h.scale.getWidth()-h.button2.getWidth()/2&&(e=h.scale.getWidth()-h.button2.getWidth()/2,t=h.maxValue),i/1.5>h.button2.getWidth()?e<h.button1.getLeft()-h.scale.getLeft()+i/1.5&&(e=h.button1.getLeft()-h.scale.getLeft()+i/1.5):e<h.button1.getLeft()-h.scale.getLeft()+h.button2.getWidth()&&(e=h.button1.getLeft()-h.scale.getLeft()+h.button2.getWidth());return[e,t]},this.onMouseMove2=function(e){var t,i,n,l,a;n=h.isVertical?e.clientY-h.scale.getTop()-h.button2.getWidth()/2:e.clientX-h.scale.getLeft()-h.button2.getWidth()/2,a=(t=h.butt2OffsetCheck(n))[0],(l=t[1])||(a=(i=h.roundOffsetButt(a))[0],l=i[1]),h.butt2Move(a,l)},this.onMouseUp2=function(e){document.removeEventListener("mouseup",h.onMouseUp2),document.removeEventListener("mousemove",h.onMouseMove2)},this.scaleOnclick=function(e){h.range&&(h.isVertical?Math.abs(e.clientY-h.button1.getTop()-h.button1.getWidth()/2)<Math.abs(e.clientY-h.button2.getTop()-h.button2.getWidth()/2):Math.abs(e.clientX-h.button1.getLeft()-h.button1.getWidth()/2)<Math.abs(e.clientX-h.button2.getLeft()-h.button2.getWidth()/2))?h.onMouseMove1(e):h.onMouseMove2(e)},this.interMarkHandler=function(e){var t,i,n,l;if(h.isVertical){var a=(e-h.minValue)/(h.maxValue-h.minValue)*h.scale.getHeight();n=(t=h.roundOffsetButt(a-h.button2.getWidth()/2))[0],l=t[1],h.range&&Math.abs(a+h.scale.getTop()-h.button1.getTop()-h.button2.getWidth()/2)<Math.abs(a+h.scale.getTop()-h.button2.getTop()-h.button2.getWidth()/2)?h.butt1Move(n,l):h.butt2Move(n,l)}else a=(e-h.minValue)/(h.maxValue-h.minValue)*h.scale.getWidth(),n=(i=h.roundOffsetButt(a-h.button2.getWidth()/2))[0],l=i[1],h.range&&Math.abs(a+h.scale.getLeft()-h.button1.getLeft()-h.button2.getWidth()/2)<Math.abs(a+h.scale.getLeft()-h.button2.getLeft()-h.button2.getWidth()/2)?h.butt1Move(n,l):h.butt2Move(n,l)},this.mark1Onclick=function(e){var t=-h.button2.getWidth()/2,i=h.minValue;h.range?h.butt1Move(t,i):h.butt2Move(t,i)},this.mark4Onclick=function(e){if(h.isVertical){var t=h.scale.getHeight()-h.button2.getWidth()/2,i=h.maxValue;h.butt2Move(t,i)}else t=h.scale.getWidth()-h.button2.getWidth()/2,i=h.maxValue,h.butt2Move(t,i)},this.mark2Onclick=function(e){var t=h.float?parseFloat(h.graduation.mark2.innerHTML):parseInt(h.graduation.mark2.innerHTML);h.interMarkHandler(t)},this.mark3Onclick=function(e){var t=h.float?parseFloat(h.graduation.mark3.innerHTML):parseInt(h.graduation.mark3.innerHTML);h.interMarkHandler(t)},this.checkValues=function(){"number"!=typeof h.maxValue&&console.error("Maxvalue should be a number"),"number"!=typeof h.minValue&&console.error("Maxvalue should be a number"),"number"!=typeof h.step&&console.error("Step should be a number"),"boolean"!=typeof h.range&&console.error("Range should be a boolean"),"boolean"!=typeof h.isVertical&&console.error("isVertical should be a boolean"),"boolean"!=typeof h.showLabel&&console.error("ShowLabel should be a boolean"),h.step>h.maxValue-h.minValue&&(h.step=h.maxValue-h.minValue,console.error("Step is setted to the max"))},this.init=function(){h.button1.elem.style.display="none",h.label1.elem.style.display="none",h.graduation.init(h.minValue,h.maxValue,h.isVertical,h.float),h.checkValues(),h.showLabel?(h.label1.elem.style.display="block",h.label2.elem.style.display="block"):(h.label1.elem.style.display="none",h.label2.elem.style.display="none"),h.range?h.button1.elem.style.display="block":(h.button1.elem.style.display="none",h.label1.elem.style.display="none"),h.isVertical?(h.scale.elem.classList.add("slider__scale_vertical"),h.scaleFilling.elem.classList.add("slider__scale-filling_vertical"),h.graduation.gradElem.classList.add("slider__graduation_vertical"),h.graduation.gradElem.style.height=h.scale.getHeight()+"px",h.button1.elem.classList.add("slider__button_vertical"),h.button2.elem.classList.add("slider__button_vertical"),h.label1.elem.classList.add("slider__button-label_vertical"),h.label2.elem.classList.add("slider__button-label_vertical"),h.button1.elem.style.top=-h.button1.getWidth()/2+"px",h.button1.elem.style.left="50%",h.button2.elem.style.top=h.scale.getHeight()-h.button2.getWidth()/2+"px",h.button2.elem.style.left="50%",h.label1.elem.innerHTML=h.minValue+"",h.label2.elem.innerHTML=h.maxValue+"",h.label1.elem.style.top=h.getStart()-h.label1.getHeight()/2+"px",h.label1.elem.style.left="50%",h.label2.elem.style.top=h.getEnd()-h.label2.getHeight()/2+"px",h.label2.elem.style.left="50%"):(h.scale.elem.classList.remove("slider__scale_vertical"),h.scaleFilling.elem.classList.remove("slider__scale-filling_vertical"),h.graduation.gradElem.classList.remove("slider__graduation_vertical"),h.graduation.gradElem.style.height="20px",h.button1.elem.classList.remove("slider__button_vertical"),h.button2.elem.classList.remove("slider__button_vertical"),h.label1.elem.classList.remove("slider__button-label_vertical"),h.label2.elem.classList.remove("slider__button-label_vertical"),h.button1.elem.style.left=-h.button1.getWidth()/2+"px",h.button1.elem.style.top="50%",h.button2.elem.style.left=h.scale.getWidth()-h.button2.getWidth()/2+"px",h.button2.elem.style.top="50%",h.label1.elem.innerHTML=h.minValue+"",h.label2.elem.innerHTML=h.maxValue+"",h.label1.elem.style.left=h.getStart()-h.label1.getWidth()/2+"px",h.label1.elem.style.top="50%",h.label2.elem.style.left=h.getEnd()-h.label2.getWidth()/2+"px",h.label2.elem.style.top="50%"),h.updateElems()},this.append=function(e){e.appendChild(h.scale.elem).appendChild(h.scaleFilling.elem),e.appendChild(h.button1.elem),e.appendChild(h.label1.elem),e.appendChild(h.graduation.gradElem),e.appendChild(h.button2.elem),e.appendChild(h.label2.elem),h.scale.elem.onclick=h.scaleOnclick,h.graduation.mark1.onclick=h.mark1Onclick,h.graduation.mark2.onclick=h.mark2Onclick,h.graduation.mark3.onclick=h.mark3Onclick,h.graduation.mark4.onclick=h.mark4Onclick,h.button1.elem.onmousedown=function(e){e.preventDefault(),document.addEventListener("mousemove",h.onMouseMove1),document.addEventListener("mouseup",h.onMouseUp1)},h.button2.elem.onmousedown=function(e){e.preventDefault(),document.addEventListener("mousemove",h.onMouseMove2),document.addEventListener("mouseup",h.onMouseUp2)}},this.scale=new o,this.button1=new r,this.button2=new r,this.label1=new u,this.label2=new u,this.scaleFilling=new c,this.graduation=new s,this.minValue=e,this.maxValue=t,this.curMinValue=e,this.curMaxValue=t,this.step=i,this.range=n,this.isVertical=a,this.showLabel=d,this.float=g,this.observers=new l,this.checkValues()},g=function(){function e(e,t){void 0===e&&(e=0),void 0===t&&(t=1e3),this.curMinValue=e,this.curMaxValue=t,this.observers=new l}return e.prototype.setCurMinValue=function(e){this.curMinValue!=e&&(this.curMinValue=e,this.observers.notifyObservers())},e.prototype.setCurMaxValue=function(e){this.curMaxValue!=e&&(this.curMaxValue=e,this.observers.notifyObservers())},e}(),h=function(e,t,i,n,a,o,s){var r=this;void 0===e&&(e=0),void 0===t&&(t=1e3),void 0===i&&(i=1),void 0===n&&(n=!1),void 0===a&&(a=!1),void 0===o&&(o=!1),void 0===s&&(s=!1),this.append=function(e){r.view.append(e.get(0)),r.view.init()},this.update=function(e){Object.keys(e).map((function(t){void 0!==r.view[t]&&(r.view[t]=e[t])})),r.view.init(),r.view.butt1Move(r.view.butt1OffsetCheck(r.view.offsetValueConv(r.model.curMinValue))[0],r.model.curMinValue),r.view.butt2Move(r.view.butt2OffsetCheck(r.view.offsetValueConv(r.model.curMaxValue))[0],r.model.curMaxValue)},this.getValues=function(){return[r.model.curMinValue,r.model.curMaxValue]},this.setValues=function(e,t){e&&r.model.setCurMinValue(e),t&&r.model.setCurMaxValue(t)},this.getConfig=function(){return{minValue:r.view.minValue,maxValue:r.view.maxValue,step:r.view.step,range:r.view.range,isVertical:r.view.isVertical,showLabel:r.view.showLabel,float:r.view.float}},this.addObserver=function(e){r.observers.addObserver(e)},this.view=new d(e,t,i,n,a,o,s),this.model=new g(e,t),this.observers=new l,this.view.observers.addObserver((function(){r.model.curMinValue=r.view.curMinValue,r.model.curMaxValue=r.view.curMaxValue,r.observers.notifyObservers()})),this.model.observers.addObserver((function(){var e=r.model.curMinValue,t=r.model.curMaxValue;r.view.butt1Move(r.view.offsetValueConv(e),e),r.view.butt2Move(r.view.offsetValueConv(t),t),r.observers.notifyObservers()}))};!function(e){const t={minValue:0,maxValue:1e3,step:1,range:!1,isVertical:!1,showLabel:!1,float:!1},i={init:function(i){if(!e(this).data("slider")){const n=JSON.parse(JSON.stringify(t)),l=new h(...Object.values(e.extend(n,i)));e(this).data("slider",l),l.append(e(this))}},update:function(t){e(this).data("slider").update(t)},getConfig:function(){return e(this).data("slider").getConfig()},setValues:function(t){e(this).data("slider").setValues(t.curMinValue,t.curMaxValue)},inputsAttach:function(t){const i=e(this).data("slider");i.addObserver(()=>{t.minValueIn.val(i.getValues()[0]),t.maxValueIn.val(i.getValues()[1])})}};e.fn.omfgslider=function(t){return i[t]?i[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?void e.error('Метод "'+t+'" не найден в плагине jQuery.mySimplePlugin'):i.init.apply(this,arguments)}}(jQuery)}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL3Rlc3QuaHRtbCIsIndlYnBhY2s6Ly8vLi9zcmMvYXNzZXRzL01ha2VPYnNlcnZhYmxlT2JqZWN0LnRzIiwid2VicGFjazovLy8uL3NyYy9hc3NldHMvY3JlYXRlRWxlbS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvYXNzZXRzL1NjYWxlLnRzIiwid2VicGFjazovLy8uL3NyYy9hc3NldHMvR3JhZHVhdGlvbi50cyIsIndlYnBhY2s6Ly8vLi9zcmMvYXNzZXRzL0J1dHRvbi50cyIsIndlYnBhY2s6Ly8vLi9zcmMvYXNzZXRzL0xhYmVsLnRzIiwid2VicGFjazovLy8uL3NyYy9hc3NldHMvU2NhbGVGaWxsaW5nLnRzIiwid2VicGFjazovLy8uL3NyYy92aWV3LnRzIiwid2VicGFjazovLy8uL3NyYy9tb2RlbC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvY29udHJvbGxlci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvbWFpbi5qcyJdLCJuYW1lcyI6WyJpbnN0YWxsZWRNb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiZXhwb3J0cyIsIm1vZHVsZSIsImkiLCJsIiwibW9kdWxlcyIsImNhbGwiLCJtIiwiYyIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsInIiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsInZhbHVlIiwidCIsIm1vZGUiLCJfX2VzTW9kdWxlIiwibnMiLCJjcmVhdGUiLCJrZXkiLCJiaW5kIiwibiIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsInRoaXMiLCJvYnNlcnZlcnMiLCJhZGRPYnNlcnZlciIsImZuIiwiRXJyb3IiLCJtYXAiLCJvYnNlcnZlciIsInB1c2giLCJyZW1vdmVPYnNlcnZlciIsImxlbmd0aCIsInNwbGljZSIsIm5vdGlmeU9ic2VydmVycyIsImNsYXNzTmFtZSIsImVsZW0iLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJvbmRyYWdzdGFydCIsImNsYXNzTGlzdCIsImFkZCIsImdldExlZnQiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJsZWZ0IiwiZ2V0V2lkdGgiLCJ3aWR0aCIsImdldEhlaWdodCIsImhlaWdodCIsImdldFRvcCIsInRvcCIsImdyYWRFbGVtIiwibWFyazEiLCJtYXJrMiIsIm1hcmszIiwibWFyazQiLCJhcHBlbmRDaGlsZCIsImluaXQiLCJtaW5WYWx1ZSIsIm1heFZhbHVlIiwiaXNWZXJ0aWNhbCIsImlzRmxvYXQiLCJpbm5lckhUTUwiLCJ0b0ZpeGVkIiwiTWF0aCIsInJvdW5kIiwic3R5bGUiLCJtYXJnaW5Ub3AiLCJtYXJnaW5MZWZ0IiwibWFyZ2luQm90dG9tIiwibWFyZ2luUmlnaHQiLCJzdGVwIiwicmFuZ2UiLCJzaG93TGFiZWwiLCJmbG9hdCIsImdldFN0YXJ0IiwiYnV0dG9uMSIsInNjYWxlIiwiZ2V0RW5kIiwiYnV0dG9uMiIsInVwZGF0ZUVsZW1zIiwic2NhbGVGaWxsaW5nIiwiY3VyTWluVmFsdWUiLCJ2YWwiLCJ3aG9sZSIsImZsb29yIiwicmVtaW5kZXIiLCJhYnMiLCJyb3VuZE9mZnNldEJ1dHQiLCJjdXJyT2Zmc2V0Iiwic2NhbGVNZXNzdXJlIiwiY3VyclZhbHVlIiwicm91bmRWYWx1ZSIsInBhcnNlRmxvYXQiLCJvZmZzZXRWYWx1ZUNvbnYiLCJidXR0MU1vdmUiLCJyb3VuZE9mZnNldCIsImxhYmVsMSIsImJ1dHQxT2Zmc2V0Q2hlY2siLCJuZXdPZmZzZXQiLCJzdGVwV2lkdGgiLCJvbk1vdXNlTW92ZTEiLCJldmVudE1tIiwiY2xpZW50WSIsImNsaWVudFgiLCJvbk1vdXNlVXAxIiwiZXZlbnRNdSIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJidXR0Mk1vdmUiLCJsYWJlbDIiLCJjdXJNYXhWYWx1ZSIsImJ1dHQyT2Zmc2V0Q2hlY2siLCJvbk1vdXNlTW92ZTIiLCJvbk1vdXNlVXAyIiwic2NhbGVPbmNsaWNrIiwiZXZlbnQiLCJpbnRlck1hcmtIYW5kbGVyIiwibWFya1giLCJtYXJrMU9uY2xpY2siLCJtYXJrNE9uY2xpY2siLCJtYXJrMk9uY2xpY2siLCJncmFkdWF0aW9uIiwicGFyc2VJbnQiLCJtYXJrM09uY2xpY2siLCJjaGVja1ZhbHVlcyIsImNvbnNvbGUiLCJlcnJvciIsImRpc3BsYXkiLCJyZW1vdmUiLCJhcHBlbmQiLCJlbnRyeSIsIm9uY2xpY2siLCJvbm1vdXNlZG93biIsImV2ZW50TWQiLCJwcmV2ZW50RGVmYXVsdCIsImFkZEV2ZW50TGlzdGVuZXIiLCJzZXRDdXJNaW5WYWx1ZSIsImRhdGEiLCJzZXRDdXJNYXhWYWx1ZSIsInZpZXciLCJ1cGRhdGUiLCJhcmdzIiwia2V5cyIsIml0ZW0iLCJ1bmRlZmluZWQiLCJtb2RlbCIsImdldFZhbHVlcyIsInNldFZhbHVlcyIsImdldENvbmZpZyIsIiQiLCJjb25maWciLCJtZXRob2RzIiwib3B0IiwibmV3Q29uZmlnIiwiSlNPTiIsInBhcnNlIiwic3RyaW5naWZ5Iiwic2xpZGVyIiwidmFsdWVzIiwiZXh0ZW5kIiwiaW5wdXRzQXR0YWNoIiwibWluVmFsdWVJbiIsIm1heFZhbHVlSW4iLCJvbWZnc2xpZGVyIiwibWV0aG9kIiwiYXBwbHkiLCJBcnJheSIsInNsaWNlIiwiYXJndW1lbnRzIiwialF1ZXJ5Il0sIm1hcHBpbmdzIjoiYUFDRSxJQUFJQSxFQUFtQixHQUd2QixTQUFTQyxFQUFvQkMsR0FHNUIsR0FBR0YsRUFBaUJFLEdBQ25CLE9BQU9GLEVBQWlCRSxHQUFVQyxRQUduQyxJQUFJQyxFQUFTSixFQUFpQkUsR0FBWSxDQUN6Q0csRUFBR0gsRUFDSEksR0FBRyxFQUNISCxRQUFTLElBVVYsT0FOQUksRUFBUUwsR0FBVU0sS0FBS0osRUFBT0QsUUFBU0MsRUFBUUEsRUFBT0QsUUFBU0YsR0FHL0RHLEVBQU9FLEdBQUksRUFHSkYsRUFBT0QsUUFLZkYsRUFBb0JRLEVB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QUFFVSxPQUFPTixFQUFXRCxLQUNuRUgsRUFBRTlILE1BQU1rSCxLQUFLLFNBQVVvQixHQUN2QkEsRUFBTzVCLE9BQU9vQixFQUFFOUgsU0FJcEJxSCxPQUFRLFNBQVNZLEdBQ0FILEVBQUU5SCxNQUFNa0gsS0FBSyxVQUNyQkcsT0FBT1ksSUFHaEJKLFVBQVcsV0FFVCxPQURlQyxFQUFFOUgsTUFBTWtILEtBQUssVUFDZFcsYUFHaEJELFVBQVcsU0FBU0ssR0FDSEgsRUFBRTlILE1BQU1rSCxLQUFLLFVBQ3JCVSxVQUFVSyxFQUFJdEUsWUFBYXNFLEVBQUkxQyxjQUd4Q2tELGFBQWMsU0FBU1IsR0FDckIsTUFBTUssRUFBU1IsRUFBRTlILE1BQU1rSCxLQUFLLFVBQzVCb0IsRUFBT3BJLFlBQVksS0FDakIrSCxFQUFJUyxXQUFXOUUsSUFBSTBFLEVBQU9YLFlBQVksSUFDdENNLEVBQUlVLFdBQVcvRSxJQUFJMEUsRUFBT1gsWUFBWSxRQUs1Q0csRUFBRTNILEdBQUd5SSxXQUFhLFNBQVNDLEdBQ3pCLE9BQUliLEVBQVFhLEdBQ0hiLEVBQVFhLEdBQVFDLE1BQU05SSxLQUFNK0ksTUFBTW5KLFVBQVVvSixNQUFNN0ssS0FBSzhLLFVBQVcsSUFDOUMsaUJBQVhKLEdBQXdCQSxPQUd4Q2YsRUFBRXZCLE1BQU0sVUFBYXNDLEVBQVMsK0NBRnZCYixFQUFROUYsS0FBSzRHLE1BQU05SSxLQUFNaUosWUFqRHRDLENBc0RHQyIsImZpbGUiOiJidW5kbGUuanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gMSk7XG4iLCJleHBvcnQgZGVmYXVsdCBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyArIFwidGVzdC5odG1sXCI7IiwiY2xhc3MgTWFrZU9ic2VydmFibGVPYmplY3Qge1xyXG4gIG9ic2VydmVyczogQXJyYXk8RnVuY3Rpb24+O1xyXG4gIFxyXG4gIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgdGhpcy5vYnNlcnZlcnMgPSBbXTtcclxuICB9XHJcblxyXG4gIGFkZE9ic2VydmVyIChmbjogRnVuY3Rpb24pOiB2b2lkIHtcclxuICAgIGlmICh0eXBlb2YgZm4gIT09ICdmdW5jdGlvbicpIHtcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKCdvYnNlcnZlciBtdXN0IGJlIGEgZnVuY3Rpb24nKTtcclxuICAgIH1cclxuICAgIHRoaXMub2JzZXJ2ZXJzLm1hcCgob2JzZXJ2ZXIpID0+IHtcclxuICAgICAgaWYgKG9ic2VydmVyID09PSBmbikge1xyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcignb2JzZXJ2ZXIgYWxyZWFkeSBpbiB0aGUgbGlzdCcpO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICAgIHRoaXMub2JzZXJ2ZXJzLnB1c2goZm4pO1xyXG4gIH1cclxuXHJcbiAgcmVtb3ZlT2JzZXJ2ZXIgKGZuOiBGdW5jdGlvbik6IHZvaWQge1xyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLm9ic2VydmVycy5sZW5ndGg7IGkrKykge1xyXG4gICAgICBjb25zdCBvYnNlcnZlciA9IHRoaXMub2JzZXJ2ZXJzW2ldO1xyXG4gICAgICBpZiAob2JzZXJ2ZXIgPT09IGZuKSB7XHJcbiAgICAgICAgdGhpcy5vYnNlcnZlcnMuc3BsaWNlKGksIDEpO1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgdGhyb3cgbmV3IEVycm9yKCdjb3VsZCBub3QgZmluZCBvYnNlcnZlciBpbiBsaXN0IG9mIG9ic2VydmVycycpO1xyXG4gIH1cclxuICBcclxuICBub3RpZnlPYnNlcnZlcnMgKCk6IHZvaWQge1xyXG4gICAgY29uc3Qgb2JzZXJ2ZXJzU25hcHNob3QgPSBbLi4udGhpcy5vYnNlcnZlcnNdO1xyXG4gICAgb2JzZXJ2ZXJzU25hcHNob3QubWFwKChvYnNlcnZlcikgPT4gb2JzZXJ2ZXIoKSk7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBNYWtlT2JzZXJ2YWJsZU9iamVjdDsiLCIvLyBFbGVtZW50cyBmYWN0b3J5XHJcbmZ1bmN0aW9uIGNyZWF0ZUVsZW0oY2xhc3NOYW1lOiBzdHJpbmcpIDpIVE1MRWxlbWVudCB7XHJcbiAgY29uc3QgZWxlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XHJcbiAgZWxlbS5vbmRyYWdzdGFydCA9ICgpID0+IGZhbHNlO1xyXG4gIGVsZW0uY2xhc3NMaXN0LmFkZChjbGFzc05hbWUpO1xyXG4gIHJldHVybiBlbGVtO1xyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjcmVhdGVFbGVtOyIsImltcG9ydCBjcmVhdGVFbGVtIGZyb20gXCIuL2NyZWF0ZUVsZW1cIjtcclxuXHJcbmNsYXNzIFNjYWxlIHtcclxuICBlbGVtOiBIVE1MRWxlbWVudDtcclxuXHJcbiAgY29uc3RydWN0b3IoKSB7dGhpcy5lbGVtID0gY3JlYXRlRWxlbShcInNsaWRlcl9fc2NhbGVcIik7XHJcbiAgfVxyXG5cclxuICBnZXRMZWZ0KCk6IG51bWJlciB7XHJcbiAgICByZXR1cm4gdGhpcy5lbGVtLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmxlZnQ7XHJcbiAgfVxyXG5cclxuICBnZXRXaWR0aCgpOiBudW1iZXIge1xyXG4gICAgcmV0dXJuIHRoaXMuZWxlbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS53aWR0aDtcclxuICB9XHJcblxyXG4gIGdldEhlaWdodCgpOiBudW1iZXIge1xyXG4gICAgcmV0dXJuIHRoaXMuZWxlbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5oZWlnaHQ7XHJcbiAgfVxyXG4gIFxyXG4gIGdldFRvcCgpOiBudW1iZXIge1xyXG4gICAgcmV0dXJuIHRoaXMuZWxlbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS50b3A7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBTY2FsZTtcclxuIiwiaW1wb3J0IGNyZWF0ZUVsZW0gZnJvbSBcIi4vY3JlYXRlRWxlbVwiO1xyXG5cclxuY2xhc3MgR3JhZHVhdGlvbiB7XHJcbiAgZ3JhZEVsZW06IEhUTUxFbGVtZW50O1xyXG4gIG1hcmsxOiBIVE1MRWxlbWVudDtcclxuICBtYXJrMjogSFRNTEVsZW1lbnQ7XHJcbiAgbWFyazM6IEhUTUxFbGVtZW50O1xyXG4gIG1hcms0OiBIVE1MRWxlbWVudDtcclxuXHJcbiAgY29uc3RydWN0b3IoKSB7XHJcbiAgICB0aGlzLmdyYWRFbGVtID0gY3JlYXRlRWxlbShcInNsaWRlcl9fZ3JhZHVhdGlvblwiKTtcclxuICAgIHRoaXMubWFyazEgPSBjcmVhdGVFbGVtKFwic2xpZGVyX19ncmFkdWF0aW9uLW1hcmtcIik7XHJcbiAgICB0aGlzLm1hcmsyID0gY3JlYXRlRWxlbShcInNsaWRlcl9fZ3JhZHVhdGlvbi1tYXJrXCIpO1xyXG4gICAgdGhpcy5tYXJrMyA9IGNyZWF0ZUVsZW0oXCJzbGlkZXJfX2dyYWR1YXRpb24tbWFya1wiKTtcclxuICAgIHRoaXMubWFyazQgPSBjcmVhdGVFbGVtKFwic2xpZGVyX19ncmFkdWF0aW9uLW1hcmtcIik7XHJcbiAgICB0aGlzLmdyYWRFbGVtLmFwcGVuZENoaWxkKHRoaXMubWFyazEpO1xyXG4gICAgdGhpcy5ncmFkRWxlbS5hcHBlbmRDaGlsZCh0aGlzLm1hcmsyKTtcclxuICAgIHRoaXMuZ3JhZEVsZW0uYXBwZW5kQ2hpbGQodGhpcy5tYXJrMyk7XHJcbiAgICB0aGlzLmdyYWRFbGVtLmFwcGVuZENoaWxkKHRoaXMubWFyazQpO1xyXG4gICAgdGhpcy5pbml0ID0gdGhpcy5pbml0LmJpbmQodGhpcyk7XHJcbiAgfVxyXG5cclxuICBpbml0KG1pblZhbHVlOiBudW1iZXIsIG1heFZhbHVlOiBudW1iZXIsIGlzVmVydGljYWw6IGJvb2xlYW4sIGlzRmxvYXQgPSBmYWxzZSk6IHZvaWQge1xyXG4gICAgdGhpcy5tYXJrMS5pbm5lckhUTUwgPSBtaW5WYWx1ZSArIFwiXCI7XHJcbiAgICB0aGlzLm1hcms0LmlubmVySFRNTCA9IG1heFZhbHVlICsgXCJcIjtcclxuXHJcbiAgICBpZiAoaXNGbG9hdCkge1xyXG4gICAgICB0aGlzLm1hcmsyLmlubmVySFRNTCA9IChtaW5WYWx1ZSArIChtYXhWYWx1ZSAtIG1pblZhbHVlKS8zKS50b0ZpeGVkKDIpO1xyXG4gICAgICB0aGlzLm1hcmszLmlubmVySFRNTCA9IChtaW5WYWx1ZSArIChtYXhWYWx1ZSAtIG1pblZhbHVlKSoyLzMpLnRvRml4ZWQoMik7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLm1hcmsyLmlubmVySFRNTCA9IG1pblZhbHVlICsgTWF0aC5yb3VuZCgobWF4VmFsdWUgLSBtaW5WYWx1ZSkvMykgKyBcIlwiO1xyXG4gICAgICB0aGlzLm1hcmszLmlubmVySFRNTCA9IG1pblZhbHVlICsgTWF0aC5yb3VuZCgobWF4VmFsdWUgLSBtaW5WYWx1ZSkqMi8zKSArIFwiXCI7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKCFpc1ZlcnRpY2FsKSB7XHJcbiAgICAgIHRoaXMubWFyazEuc3R5bGUubWFyZ2luTGVmdCA9IC0xNSArIFwicHhcIjtcclxuICAgICAgdGhpcy5tYXJrMS5zdHlsZS5tYXJnaW5Ub3AgPSBcIjBcIjtcclxuICAgICAgdGhpcy5tYXJrNC5zdHlsZS5tYXJnaW5SaWdodCA9IC0xNSArIFwicHhcIjtcclxuICAgICAgdGhpcy5tYXJrNC5zdHlsZS5tYXJnaW5Cb3R0b20gPSBcIjBcIjtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMubWFyazEuc3R5bGUubWFyZ2luVG9wID0gLTkgICsgXCJweFwiO1xyXG4gICAgICB0aGlzLm1hcmsxLnN0eWxlLm1hcmdpbkxlZnQgPSBcIjBcIjtcclxuICAgICAgdGhpcy5tYXJrNC5zdHlsZS5tYXJnaW5Cb3R0b20gPSAtOSArIFwicHhcIjtcclxuICAgICAgdGhpcy5tYXJrNC5zdHlsZS5tYXJnaW5SaWdodCA9IFwiMFwiO1xyXG4gICAgfVxyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgR3JhZHVhdGlvbjsiLCJpbXBvcnQgY3JlYXRlRWxlbSBmcm9tIFwiLi9jcmVhdGVFbGVtXCI7XHJcblxyXG5jbGFzcyBCdXR0b24ge1xyXG4gIGVsZW06IEhUTUxFbGVtZW50O1xyXG5cclxuICBjb25zdHJ1Y3RvcigpIHtcclxuICAgIHRoaXMuZWxlbSA9IGNyZWF0ZUVsZW0oXCJzbGlkZXJfX2J1dHRvblwiKTtcclxuICB9XHJcblxyXG4gIGdldExlZnQoKTogbnVtYmVyIHtcclxuICAgIHJldHVybiB0aGlzLmVsZW0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkubGVmdDtcclxuICB9XHJcblxyXG4gIGdldFdpZHRoKCk6IG51bWJlciB7XHJcbiAgICByZXR1cm4gdGhpcy5lbGVtLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLndpZHRoO1xyXG4gIH1cclxuXHJcbiAgZ2V0VG9wKCk6IG51bWJlciB7XHJcbiAgICByZXR1cm4gdGhpcy5lbGVtLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnRvcDtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IEJ1dHRvbjsiLCJpbXBvcnQgY3JlYXRlRWxlbSBmcm9tIFwiLi9jcmVhdGVFbGVtXCI7XHJcblxyXG5jbGFzcyBMYWJlbCB7XHJcbiAgZWxlbTogSFRNTEVsZW1lbnQ7XHJcblxyXG4gIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgdGhpcy5lbGVtID0gY3JlYXRlRWxlbShcInNsaWRlcl9fYnV0dG9uLWxhYmVsXCIpO1xyXG4gIH1cclxuXHJcbiAgZ2V0V2lkdGgoKTogbnVtYmVyIHtcclxuICAgIHJldHVybiB0aGlzLmVsZW0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkud2lkdGg7XHJcbiAgfVxyXG4gIFxyXG4gIGdldEhlaWdodCgpOiBudW1iZXIge1xyXG4gICAgcmV0dXJuIHRoaXMuZWxlbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5oZWlnaHQ7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBMYWJlbDsiLCJpbXBvcnQgY3JlYXRlRWxlbSBmcm9tIFwiLi9jcmVhdGVFbGVtXCI7XHJcblxyXG5jbGFzcyBTY2FsZUZpbGxpbmcge1xyXG4gIGVsZW06IEhUTUxFbGVtZW50O1xyXG4gIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICB0aGlzLmVsZW0gPSBjcmVhdGVFbGVtKFwic2xpZGVyX19zY2FsZS1maWxsaW5nXCIpO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgU2NhbGVGaWxsaW5nO1xyXG4iLCJpbXBvcnQgTWFrZU9ic2VydmFibGVPYmplY3QgZnJvbSBcIi4vYXNzZXRzL01ha2VPYnNlcnZhYmxlT2JqZWN0XCI7XHJcbmltcG9ydCBjcmVhdGVFbGVtIGZyb20gXCIuL2Fzc2V0cy9jcmVhdGVFbGVtXCI7XHJcbmltcG9ydCBTY2FsZSBmcm9tIFwiLi9hc3NldHMvU2NhbGVcIjtcclxuaW1wb3J0IEdyYWR1YXRpb24gZnJvbSBcIi4vYXNzZXRzL0dyYWR1YXRpb25cIjtcclxuaW1wb3J0IEJ1dHRvbiBmcm9tIFwiLi9hc3NldHMvQnV0dG9uXCI7XHJcbmltcG9ydCBMYWJlbCBmcm9tIFwiLi9hc3NldHMvTGFiZWxcIjtcclxuaW1wb3J0IFNjYWxlRmlsbGluZyBmcm9tIFwiLi9hc3NldHMvU2NhbGVGaWxsaW5nXCI7XHJcblxyXG5jbGFzcyBWaWV3IHtcclxuICBbaW5kZXg6IHN0cmluZ106IG51bWJlcnxib29sZWFufFNjYWxlfEdyYWR1YXRpb258U2NhbGVGaWxsaW5nfEJ1dHRvbnxMYWJlbHxNYWtlT2JzZXJ2YWJsZU9iamVjdHxGdW5jdGlvbjtcclxuICBzY2FsZTogU2NhbGU7XHJcbiAgZ3JhZHVhdGlvbjogR3JhZHVhdGlvbjtcclxuICBzY2FsZUZpbGxpbmc6IFNjYWxlRmlsbGluZztcclxuICBidXR0b24xOiBCdXR0b247XHJcbiAgYnV0dG9uMjogQnV0dG9uO1xyXG4gIGxhYmVsMTogTGFiZWw7XHJcbiAgbGFiZWwyOiBMYWJlbDtcclxuICByYW5nZTogYm9vbGVhbjtcclxuICBpc1ZlcnRpY2FsOiBib29sZWFuO1xyXG4gIHNob3dMYWJlbDogYm9vbGVhbjtcclxuICBtaW5WYWx1ZTogbnVtYmVyO1xyXG4gIG1heFZhbHVlOiBudW1iZXI7XHJcbiAgY3VyTWluVmFsdWU6IG51bWJlcjtcclxuICBjdXJNYXhWYWx1ZTogbnVtYmVyO1xyXG4gIHN0ZXA6IG51bWJlcjtcclxuICBmbG9hdDogYm9vbGVhbjtcclxuICBvYnNlcnZlcnM6IE1ha2VPYnNlcnZhYmxlT2JqZWN0O1xyXG4gICAgXHJcbiAgY29uc3RydWN0b3IobWluVmFsdWUgPSAwLCBtYXhWYWx1ZSA9IDEwMDAsIHN0ZXAgPSAxLCByYW5nZSA9IGZhbHNlLCBpc1ZlcnRpY2FsID0gZmFsc2UsIHNob3dMYWJlbCA9IGZhbHNlLCBmbG9hdCA9IGZhbHNlKSB7XHJcbiAgICB0aGlzLnNjYWxlID0gbmV3IFNjYWxlKCk7XHJcbiAgICB0aGlzLmJ1dHRvbjEgPSBuZXcgQnV0dG9uKCk7XHJcbiAgICB0aGlzLmJ1dHRvbjIgPSBuZXcgQnV0dG9uKCk7XHJcbiAgICB0aGlzLmxhYmVsMSA9IG5ldyBMYWJlbCgpO1xyXG4gICAgdGhpcy5sYWJlbDIgPSBuZXcgTGFiZWwoKTtcclxuICAgIHRoaXMuc2NhbGVGaWxsaW5nID0gbmV3IFNjYWxlRmlsbGluZygpO1xyXG4gICAgdGhpcy5ncmFkdWF0aW9uID0gbmV3IEdyYWR1YXRpb24oKTtcclxuICAgIHRoaXMubWluVmFsdWUgPSBtaW5WYWx1ZTtcclxuICAgIHRoaXMubWF4VmFsdWUgPSBtYXhWYWx1ZTtcclxuICAgIHRoaXMuY3VyTWluVmFsdWUgPSBtaW5WYWx1ZTtcclxuICAgIHRoaXMuY3VyTWF4VmFsdWUgPSBtYXhWYWx1ZTtcclxuICAgIHRoaXMuc3RlcCA9IHN0ZXA7XHJcbiAgICB0aGlzLnJhbmdlID0gcmFuZ2U7XHJcbiAgICB0aGlzLmlzVmVydGljYWwgPSBpc1ZlcnRpY2FsO1xyXG4gICAgdGhpcy5zaG93TGFiZWwgPSBzaG93TGFiZWw7XHJcbiAgICB0aGlzLmZsb2F0ID0gZmxvYXQ7XHJcbiAgICB0aGlzLm9ic2VydmVycyA9IG5ldyBNYWtlT2JzZXJ2YWJsZU9iamVjdCgpXHJcbiAgICB0aGlzLmNoZWNrVmFsdWVzKCk7XHJcbiAgfVxyXG5cclxuICBnZXRTdGFydCA9ICgpOiBudW1iZXIgPT4ge1xyXG4gICAgaWYgKHRoaXMucmFuZ2UpIHtcclxuICAgICAgaWYgKHRoaXMuaXNWZXJ0aWNhbCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmJ1dHRvbjEuZ2V0VG9wKCkgLSB0aGlzLnNjYWxlLmdldFRvcCgpICsgdGhpcy5idXR0b24xLmdldFdpZHRoKCkvMjtcclxuICAgICAgfSBcclxuICAgICAgICAgIFxyXG4gICAgICByZXR1cm4gdGhpcy5idXR0b24xLmdldExlZnQoKSAtIHRoaXMuc2NhbGUuZ2V0TGVmdCgpICsgdGhpcy5idXR0b24xLmdldFdpZHRoKCkvMjtcclxuICAgIH0gXHJcbiAgICAgICAgXHJcbiAgICByZXR1cm4gMDtcclxuICB9XHJcblxyXG4gIGdldEVuZCA9ICgpOiBudW1iZXIgPT4ge1xyXG4gICAgaWYgKHRoaXMuaXNWZXJ0aWNhbCkge1xyXG4gICAgICByZXR1cm4gdGhpcy5idXR0b24yLmdldFRvcCgpIC0gdGhpcy5zY2FsZS5nZXRUb3AoKSArIHRoaXMuYnV0dG9uMi5nZXRXaWR0aCgpLzI7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHRoaXMuYnV0dG9uMi5nZXRMZWZ0KCkgLSB0aGlzLnNjYWxlLmdldExlZnQoKSArIHRoaXMuYnV0dG9uMi5nZXRXaWR0aCgpLzI7XHJcbiAgfVxyXG5cclxuICB1cGRhdGVFbGVtcyA9ICgpOiB2b2lkID0+IHtcclxuICAgIGlmICh0aGlzLmlzVmVydGljYWwpIHtcclxuICAgICAgdGhpcy5zY2FsZUZpbGxpbmcuZWxlbS5zdHlsZS50b3AgPSB0aGlzLmdldFN0YXJ0KCkgKyBcInB4XCI7XHJcbiAgICAgIHRoaXMuc2NhbGVGaWxsaW5nLmVsZW0uc3R5bGUubGVmdCA9IFwiMFwiO1xyXG4gICAgICB0aGlzLnNjYWxlRmlsbGluZy5lbGVtLnN0eWxlLmhlaWdodCA9IHRoaXMuZ2V0RW5kKCkgLSB0aGlzLmdldFN0YXJ0KCkgKyBcInB4XCI7XHJcbiAgICAgIHRoaXMuc2NhbGVGaWxsaW5nLmVsZW0uc3R5bGUud2lkdGggPSBcIjEwMCVcIjtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuc2NhbGVGaWxsaW5nLmVsZW0uc3R5bGUubGVmdCA9IHRoaXMuZ2V0U3RhcnQoKSArIFwicHhcIjtcclxuICAgICAgdGhpcy5zY2FsZUZpbGxpbmcuZWxlbS5zdHlsZS50b3AgPSBcIjBcIjtcclxuICAgICAgdGhpcy5zY2FsZUZpbGxpbmcuZWxlbS5zdHlsZS53aWR0aCA9IHRoaXMuZ2V0RW5kKCkgLSB0aGlzLmdldFN0YXJ0KCkgKyBcInB4XCI7XHJcbiAgICAgIHRoaXMuc2NhbGVGaWxsaW5nLmVsZW0uc3R5bGUuaGVpZ2h0ID0gXCIxMDAlXCI7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKCF0aGlzLnJhbmdlKSB7XHJcbiAgICAgIHRoaXMuY3VyTWluVmFsdWUgPSB0aGlzLm1pblZhbHVlO1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXMub2JzZXJ2ZXJzLm5vdGlmeU9ic2VydmVycygpO1xyXG4gIH1cclxuXHJcbiAgcm91bmQgPSAodmFsOiBudW1iZXIsIHN0ZXA6IG51bWJlcik6IG51bWJlciA9PiB7XHJcbiAgICBjb25zdCB3aG9sZSA9IE1hdGguZmxvb3IodmFsL3N0ZXApO1xyXG4gICAgY29uc3QgcmVtaW5kZXIgPSB2YWwgJSBzdGVwO1xyXG5cclxuICAgIGlmICh2YWwgPCAwKSB7XHJcbiAgICAgIHJldHVybiBNYXRoLmFicyhyZW1pbmRlcikgPiBzdGVwLzIgPyB3aG9sZSpzdGVwIDogKHdob2xlICsgMSkqc3RlcDtcclxuICAgIH1cclxuICAgIHJldHVybiByZW1pbmRlciA8IHN0ZXAvMiA/IHdob2xlKnN0ZXAgOiAod2hvbGUgKyAxKSpzdGVwO1xyXG4gIH1cclxuXHJcbiAgcm91bmRPZmZzZXRCdXR0ID0gKGN1cnJPZmZzZXQ6IG51bWJlcik6IEFycmF5PG51bWJlcj4gPT4ge1xyXG4gICAgbGV0IHNjYWxlTWVzc3VyZTtcclxuICAgIGlmKHRoaXMuaXNWZXJ0aWNhbCkge1xyXG4gICAgICBzY2FsZU1lc3N1cmUgPSB0aGlzLnNjYWxlLmdldEhlaWdodCgpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgc2NhbGVNZXNzdXJlID0gdGhpcy5zY2FsZS5nZXRXaWR0aCgpO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IGN1cnJWYWx1ZSA9IHRoaXMubWluVmFsdWUgKyAoY3Vyck9mZnNldCArIHRoaXMuYnV0dG9uMi5nZXRXaWR0aCgpLzIpKih0aGlzLm1heFZhbHVlIC0gdGhpcy5taW5WYWx1ZSkvc2NhbGVNZXNzdXJlO1xyXG4gICAgbGV0IHJvdW5kVmFsdWUgPSB0aGlzLnJvdW5kKGN1cnJWYWx1ZSwgdGhpcy5zdGVwKTtcclxuXHJcbiAgICBpZiAodGhpcy5mbG9hdCkge1xyXG4gICAgICByb3VuZFZhbHVlID0gcGFyc2VGbG9hdChyb3VuZFZhbHVlLnRvRml4ZWQoMikpO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBpZiAocm91bmRWYWx1ZSA8IHRoaXMubWluVmFsdWUpIHtcclxuICAgICAgcm91bmRWYWx1ZSA9IHRoaXMubWluVmFsdWU7XHJcbiAgICB9IGVsc2UgaWYgKHJvdW5kVmFsdWUgPiB0aGlzLm1heFZhbHVlKSB7XHJcbiAgICAgIHJvdW5kVmFsdWUgPSB0aGlzLm1heFZhbHVlO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBjb25zdCByb3VuZE9mZnNldCA9IChyb3VuZFZhbHVlIC0gdGhpcy5taW5WYWx1ZSkqc2NhbGVNZXNzdXJlLyh0aGlzLm1heFZhbHVlIC0gdGhpcy5taW5WYWx1ZSkgLSB0aGlzLmJ1dHRvbjIuZ2V0V2lkdGgoKS8yO1xyXG4gICAgcmV0dXJuIFtyb3VuZE9mZnNldCwgcm91bmRWYWx1ZV07XHJcbiAgfVxyXG5cclxuICBvZmZzZXRWYWx1ZUNvbnYgPSAodmFsdWU6IG51bWJlcik6IG51bWJlciA9PiB7XHJcbiAgICBpZiAodGhpcy5pc1ZlcnRpY2FsKSB7XHJcbiAgICAgIHJldHVybiAoKHZhbHVlIC0gdGhpcy5taW5WYWx1ZSkvKHRoaXMubWF4VmFsdWUgLSB0aGlzLm1pblZhbHVlKSp0aGlzLnNjYWxlLmdldEhlaWdodCgpIC0gdGhpcy5idXR0b24yLmdldFdpZHRoKCkvMik7XHJcbiAgICB9IFxyXG4gICAgICAgIFxyXG4gICAgcmV0dXJuICgodmFsdWUgLSB0aGlzLm1pblZhbHVlKS8odGhpcy5tYXhWYWx1ZSAtIHRoaXMubWluVmFsdWUpKnRoaXMuc2NhbGUuZ2V0V2lkdGgoKSAtIHRoaXMuYnV0dG9uMi5nZXRXaWR0aCgpLzIpO1xyXG4gIH1cclxuXHJcbiAgLy9CdXR0b24xICBIYW5kbGVycy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuICBidXR0MU1vdmUgPSAocm91bmRPZmZzZXQ6IG51bWJlciwgcm91bmRWYWx1ZTogbnVtYmVyKTogdm9pZCA9PiB7XHJcbiAgICBpZiAodGhpcy5pc1ZlcnRpY2FsKSB7XHJcbiAgICAgIHRoaXMuYnV0dG9uMS5lbGVtLnN0eWxlLnRvcCA9IHJvdW5kT2Zmc2V0ICsgXCJweFwiO1xyXG4gICAgICB0aGlzLmxhYmVsMS5lbGVtLnN0eWxlLnRvcCA9IHJvdW5kT2Zmc2V0IC0gdGhpcy5sYWJlbDEuZ2V0SGVpZ2h0KCkvMiArIHRoaXMuYnV0dG9uMS5nZXRXaWR0aCgpLzIgKyBcInB4XCI7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLmJ1dHRvbjEuZWxlbS5zdHlsZS5sZWZ0ID0gcm91bmRPZmZzZXQgKyBcInB4XCI7XHJcbiAgICAgIHRoaXMubGFiZWwxLmVsZW0uc3R5bGUubGVmdCA9IHJvdW5kT2Zmc2V0IC0gdGhpcy5sYWJlbDEuZ2V0V2lkdGgoKS8yICsgdGhpcy5idXR0b24xLmdldFdpZHRoKCkvMiArIFwicHhcIjtcclxuICAgIH1cclxuXHJcbiAgICBpZiAocm91bmRWYWx1ZSA8IHRoaXMubWluVmFsdWUpIHtcclxuICAgICAgcm91bmRWYWx1ZSA9IHRoaXMubWluVmFsdWU7XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5sYWJlbDEuZWxlbS5pbm5lckhUTUwgPSByb3VuZFZhbHVlICsgXCJcIjtcclxuICAgIHRoaXMuY3VyTWluVmFsdWUgPSByb3VuZFZhbHVlO1xyXG4gICAgdGhpcy51cGRhdGVFbGVtcygpO1xyXG4gIH1cclxuXHJcbiAgYnV0dDFPZmZzZXRDaGVjayA9IChuZXdPZmZzZXQ6IG51bWJlcik6IEFycmF5PG51bWJlcj4gPT4ge1xyXG4gICAgbGV0IHJvdW5kVmFsdWU7XHJcblxyXG4gICAgaWYgKHRoaXMuaXNWZXJ0aWNhbCkge1xyXG4gICAgICBjb25zdCBzdGVwV2lkdGggPSB0aGlzLnN0ZXAqdGhpcy5zY2FsZS5nZXRIZWlnaHQoKS8odGhpcy5tYXhWYWx1ZSAtIHRoaXMubWluVmFsdWUpO1xyXG4gICAgICBpZiAobmV3T2Zmc2V0IDwgLXRoaXMuYnV0dG9uMi5nZXRXaWR0aCgpLzIpIHtcclxuICAgICAgICBuZXdPZmZzZXQgPSAtdGhpcy5idXR0b24yLmdldFdpZHRoKCkvMjtcclxuICAgICAgICByb3VuZFZhbHVlID0gdGhpcy5taW5WYWx1ZTtcclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKHN0ZXBXaWR0aC8xLjUgPiB0aGlzLmJ1dHRvbjIuZ2V0V2lkdGgoKSkge1xyXG4gICAgICAgIGlmIChuZXdPZmZzZXQgPiB0aGlzLmJ1dHRvbjIuZ2V0VG9wKCkgLSB0aGlzLnNjYWxlLmdldFRvcCgpIC0gc3RlcFdpZHRoLzEuNSkge1xyXG4gICAgICAgICAgbmV3T2Zmc2V0ID0gdGhpcy5idXR0b24yLmdldFRvcCgpIC0gdGhpcy5zY2FsZS5nZXRUb3AoKSAtIHN0ZXBXaWR0aC8xLjU7XHJcbiAgICAgICAgfVxyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGlmIChuZXdPZmZzZXQgPiB0aGlzLmJ1dHRvbjIuZ2V0VG9wKCkgLSB0aGlzLnNjYWxlLmdldFRvcCgpIC0gdGhpcy5idXR0b24yLmdldFdpZHRoKCkpIHtcclxuICAgICAgICAgIG5ld09mZnNldCA9IHRoaXMuYnV0dG9uMi5nZXRUb3AoKSAtIHRoaXMuc2NhbGUuZ2V0VG9wKCkgLSB0aGlzLmJ1dHRvbjIuZ2V0V2lkdGgoKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGNvbnN0IHN0ZXBXaWR0aCA9IHRoaXMuc3RlcCp0aGlzLnNjYWxlLmdldFdpZHRoKCkvKHRoaXMubWF4VmFsdWUgLSB0aGlzLm1pblZhbHVlKTtcclxuICAgICAgaWYgKG5ld09mZnNldCA8IC10aGlzLmJ1dHRvbjEuZ2V0V2lkdGgoKS8yKSB7XHJcbiAgICAgICAgbmV3T2Zmc2V0ID0gLXRoaXMuYnV0dG9uMS5nZXRXaWR0aCgpLzI7XHJcbiAgICAgICAgcm91bmRWYWx1ZSA9IHRoaXMubWluVmFsdWU7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmIChzdGVwV2lkdGgvMS41ID4gdGhpcy5idXR0b24xLmdldFdpZHRoKCkpIHtcclxuICAgICAgICBpZiAobmV3T2Zmc2V0ID4gdGhpcy5idXR0b24yLmdldExlZnQoKSAtIHRoaXMuc2NhbGUuZ2V0TGVmdCgpIC0gc3RlcFdpZHRoLzEuNSkge1xyXG4gICAgICAgICAgbmV3T2Zmc2V0ID0gdGhpcy5idXR0b24yLmdldExlZnQoKSAtIHRoaXMuc2NhbGUuZ2V0TGVmdCgpIC0gc3RlcFdpZHRoLzEuNTtcclxuICAgICAgICB9XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgaWYgKG5ld09mZnNldCA+IHRoaXMuYnV0dG9uMi5nZXRMZWZ0KCkgLSB0aGlzLnNjYWxlLmdldExlZnQoKSAtIHRoaXMuYnV0dG9uMi5nZXRXaWR0aCgpKSB7XHJcbiAgICAgICAgICBuZXdPZmZzZXQgPSB0aGlzLmJ1dHRvbjIuZ2V0TGVmdCgpIC0gdGhpcy5zY2FsZS5nZXRMZWZ0KCkgLSB0aGlzLmJ1dHRvbjIuZ2V0V2lkdGgoKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gW25ld09mZnNldCwgcm91bmRWYWx1ZV07XHJcbiAgfVxyXG4gICAgXHJcbiAgb25Nb3VzZU1vdmUxID0gKGV2ZW50TW06IE1vdXNlRXZlbnQpOiB2b2lkID0+IHtcclxuICAgIGxldCBuZXdPZmZzZXQ7XHJcbiAgICBsZXQgcm91bmRWYWx1ZTtcclxuICAgIGxldCByb3VuZE9mZnNldDtcclxuICAgIGlmICh0aGlzLmlzVmVydGljYWwpIHtcclxuICAgICAgbmV3T2Zmc2V0ID0gZXZlbnRNbS5jbGllbnRZIC0gdGhpcy5zY2FsZS5nZXRUb3AoKSAtIHRoaXMuYnV0dG9uMS5nZXRXaWR0aCgpLzI7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBuZXdPZmZzZXQgPSBldmVudE1tLmNsaWVudFggLSB0aGlzLnNjYWxlLmdldExlZnQoKSAtIHRoaXMuYnV0dG9uMS5nZXRXaWR0aCgpLzI7XHJcbiAgICB9IFxyXG5cclxuICAgIFtyb3VuZE9mZnNldCwgcm91bmRWYWx1ZV0gPSB0aGlzLmJ1dHQxT2Zmc2V0Q2hlY2sobmV3T2Zmc2V0KTtcclxuICAgIGlmICghcm91bmRWYWx1ZSkge1xyXG4gICAgICAgIFtyb3VuZE9mZnNldCwgcm91bmRWYWx1ZV0gPSB0aGlzLnJvdW5kT2Zmc2V0QnV0dChyb3VuZE9mZnNldCk7XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5idXR0MU1vdmUocm91bmRPZmZzZXQsIHJvdW5kVmFsdWUpO1xyXG4gIH1cclxuXHJcbiAgb25Nb3VzZVVwMSA9IChldmVudE11OiBNb3VzZUV2ZW50KTogdm9pZCA9PiB7XHJcbiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwibW91c2V1cFwiLCB0aGlzLm9uTW91c2VVcDEpO1xyXG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1vdXNlbW92ZVwiLCB0aGlzLm9uTW91c2VNb3ZlMSk7XHJcbiAgfVxyXG5cclxuICAvL0J1dHRvbjIgIEhhbmRsZXJzLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4gIGJ1dHQyTW92ZSA9IChyb3VuZE9mZnNldDogbnVtYmVyLCByb3VuZFZhbHVlOiBudW1iZXIpOiB2b2lkID0+IHtcclxuICAgIGlmICh0aGlzLmlzVmVydGljYWwpIHtcclxuICAgICAgdGhpcy5idXR0b24yLmVsZW0uc3R5bGUudG9wID0gcm91bmRPZmZzZXQgKyBcInB4XCI7XHJcbiAgICAgIHRoaXMubGFiZWwyLmVsZW0uc3R5bGUudG9wID0gcm91bmRPZmZzZXQgLSB0aGlzLmxhYmVsMi5nZXRIZWlnaHQoKS8yICsgdGhpcy5idXR0b24yLmdldFdpZHRoKCkvMiArIFwicHhcIjtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuYnV0dG9uMi5lbGVtLnN0eWxlLmxlZnQgPSByb3VuZE9mZnNldCArIFwicHhcIjtcclxuICAgICAgdGhpcy5sYWJlbDIuZWxlbS5zdHlsZS5sZWZ0ID0gcm91bmRPZmZzZXQgLSB0aGlzLmxhYmVsMi5nZXRXaWR0aCgpLzIgKyB0aGlzLmJ1dHRvbjIuZ2V0V2lkdGgoKS8yICsgXCJweFwiO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChyb3VuZFZhbHVlIDwgdGhpcy5taW5WYWx1ZSkge1xyXG4gICAgICByb3VuZFZhbHVlID0gdGhpcy5taW5WYWx1ZTtcclxuICAgIH0gZWxzZSBpZiAocm91bmRWYWx1ZSA+IHRoaXMubWF4VmFsdWUpIHtcclxuICAgICAgcm91bmRWYWx1ZSA9IHRoaXMubWF4VmFsdWU7XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5sYWJlbDIuZWxlbS5pbm5lckhUTUwgPSByb3VuZFZhbHVlICsgXCJcIjtcclxuICAgIHRoaXMuY3VyTWF4VmFsdWUgPSByb3VuZFZhbHVlO1xyXG4gICAgdGhpcy51cGRhdGVFbGVtcygpOyBcclxuICB9XHJcblxyXG4gIGJ1dHQyT2Zmc2V0Q2hlY2sgPSAobmV3T2Zmc2V0OiBudW1iZXIpOiBBcnJheTxudW1iZXI+ID0+IHtcclxuICAgIGxldCByb3VuZFZhbHVlO1xyXG4gICAgaWYgKCF0aGlzLnJhbmdlKSB7XHJcbiAgICAgIGlmIChuZXdPZmZzZXQgPCAtdGhpcy5idXR0b24yLmdldFdpZHRoKCkvMikge1xyXG4gICAgICAgIG5ld09mZnNldCA9IC10aGlzLmJ1dHRvbjIuZ2V0V2lkdGgoKS8yO1xyXG4gICAgICAgIHJvdW5kVmFsdWUgPSB0aGlzLm1pblZhbHVlO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHRoaXMuaXNWZXJ0aWNhbCkge1xyXG4gICAgICBjb25zdCBzdGVwV2lkdGggPSB0aGlzLnN0ZXAqdGhpcy5zY2FsZS5nZXRIZWlnaHQoKS8odGhpcy5tYXhWYWx1ZSAtIHRoaXMubWluVmFsdWUpO1xyXG4gICAgICBpZiAobmV3T2Zmc2V0ID4gdGhpcy5zY2FsZS5nZXRIZWlnaHQoKSAtIHRoaXMuYnV0dG9uMi5nZXRXaWR0aCgpLzIpIHtcclxuICAgICAgICBuZXdPZmZzZXQgPSB0aGlzLnNjYWxlLmdldEhlaWdodCgpIC0gdGhpcy5idXR0b24yLmdldFdpZHRoKCkvMjtcclxuICAgICAgICByb3VuZFZhbHVlID0gdGhpcy5tYXhWYWx1ZTtcclxuICAgICAgfVxyXG4gICAgICBcclxuICAgICAgaWYgKHN0ZXBXaWR0aC8xLjUgPiB0aGlzLmJ1dHRvbjIuZ2V0V2lkdGgoKSkge1xyXG4gICAgICAgIGlmIChuZXdPZmZzZXQgPCB0aGlzLmJ1dHRvbjEuZ2V0VG9wKCkgLSB0aGlzLnNjYWxlLmdldFRvcCgpICsgc3RlcFdpZHRoLzEuNSkge1xyXG4gICAgICAgICAgbmV3T2Zmc2V0ID0gdGhpcy5idXR0b24xLmdldFRvcCgpIC0gdGhpcy5zY2FsZS5nZXRUb3AoKSArIHN0ZXBXaWR0aC8xLjU7XHJcbiAgICAgICAgfVxyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGlmIChuZXdPZmZzZXQgPCB0aGlzLmJ1dHRvbjEuZ2V0VG9wKCkgLSB0aGlzLnNjYWxlLmdldFRvcCgpICsgdGhpcy5idXR0b24yLmdldFdpZHRoKCkpIHtcclxuICAgICAgICAgIG5ld09mZnNldCA9IHRoaXMuYnV0dG9uMS5nZXRUb3AoKSAtIHRoaXMuc2NhbGUuZ2V0VG9wKCkgKyB0aGlzLmJ1dHRvbjIuZ2V0V2lkdGgoKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGNvbnN0IHN0ZXBXaWR0aCA9IHRoaXMuc3RlcCp0aGlzLnNjYWxlLmdldFdpZHRoKCkvKHRoaXMubWF4VmFsdWUgLSB0aGlzLm1pblZhbHVlKTtcclxuXHJcbiAgICAgIGlmIChuZXdPZmZzZXQgPiB0aGlzLnNjYWxlLmdldFdpZHRoKCkgLSB0aGlzLmJ1dHRvbjIuZ2V0V2lkdGgoKS8yKSB7XHJcbiAgICAgICAgbmV3T2Zmc2V0ID0gdGhpcy5zY2FsZS5nZXRXaWR0aCgpIC0gdGhpcy5idXR0b24yLmdldFdpZHRoKCkvMjtcclxuICAgICAgICByb3VuZFZhbHVlID0gdGhpcy5tYXhWYWx1ZTtcclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKHN0ZXBXaWR0aC8xLjUgPiB0aGlzLmJ1dHRvbjIuZ2V0V2lkdGgoKSkge1xyXG4gICAgICAgIGlmIChuZXdPZmZzZXQgPCB0aGlzLmJ1dHRvbjEuZ2V0TGVmdCgpIC0gdGhpcy5zY2FsZS5nZXRMZWZ0KCkgKyBzdGVwV2lkdGgvMS41KSB7XHJcbiAgICAgICAgICBuZXdPZmZzZXQgPSB0aGlzLmJ1dHRvbjEuZ2V0TGVmdCgpIC0gdGhpcy5zY2FsZS5nZXRMZWZ0KCkgKyBzdGVwV2lkdGgvMS41O1xyXG4gICAgICAgIH1cclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBpZiAobmV3T2Zmc2V0IDwgdGhpcy5idXR0b24xLmdldExlZnQoKSAtIHRoaXMuc2NhbGUuZ2V0TGVmdCgpICsgdGhpcy5idXR0b24yLmdldFdpZHRoKCkpIHtcclxuICAgICAgICAgIG5ld09mZnNldCA9IHRoaXMuYnV0dG9uMS5nZXRMZWZ0KCkgLSB0aGlzLnNjYWxlLmdldExlZnQoKSArIHRoaXMuYnV0dG9uMi5nZXRXaWR0aCgpO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBbbmV3T2Zmc2V0LCByb3VuZFZhbHVlXTtcclxuICB9XHJcblxyXG4gIG9uTW91c2VNb3ZlMiA9IChldmVudE1tOiBNb3VzZUV2ZW50KTogdm9pZCA9PiB7XHJcbiAgICBsZXQgbmV3T2Zmc2V0O1xyXG4gICAgbGV0IHJvdW5kVmFsdWU7XHJcbiAgICBsZXQgcm91bmRPZmZzZXQ7XHJcbiAgICBpZiAodGhpcy5pc1ZlcnRpY2FsKSB7XHJcbiAgICAgIG5ld09mZnNldCA9IGV2ZW50TW0uY2xpZW50WSAtIHRoaXMuc2NhbGUuZ2V0VG9wKCkgLSB0aGlzLmJ1dHRvbjIuZ2V0V2lkdGgoKS8yO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgbmV3T2Zmc2V0ID0gZXZlbnRNbS5jbGllbnRYIC0gdGhpcy5zY2FsZS5nZXRMZWZ0KCkgLSB0aGlzLmJ1dHRvbjIuZ2V0V2lkdGgoKS8yO1xyXG4gICAgfVxyXG5cclxuICAgIFtyb3VuZE9mZnNldCwgcm91bmRWYWx1ZV0gPSB0aGlzLmJ1dHQyT2Zmc2V0Q2hlY2sobmV3T2Zmc2V0KTtcclxuICAgIGlmICghcm91bmRWYWx1ZSkge1xyXG4gICAgICAgIFtyb3VuZE9mZnNldCwgcm91bmRWYWx1ZV0gPSB0aGlzLnJvdW5kT2Zmc2V0QnV0dChyb3VuZE9mZnNldCk7XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5idXR0Mk1vdmUocm91bmRPZmZzZXQsIHJvdW5kVmFsdWUpO1xyXG4gIH1cclxuXHJcbiAgb25Nb3VzZVVwMiA9IChldmVudE11OiBNb3VzZUV2ZW50KTogdm9pZCA9PiB7XHJcbiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwibW91c2V1cFwiLCB0aGlzLm9uTW91c2VVcDIpO1xyXG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1vdXNlbW92ZVwiLCB0aGlzLm9uTW91c2VNb3ZlMik7XHJcbiAgfVxyXG4gICAgXHJcbiAgLy8gU2NhbGUgRXZlbnRMaXN0ZW5lcnMtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuICBzY2FsZU9uY2xpY2sgPSAoZXZlbnQ6IE1vdXNlRXZlbnQpOiB2b2lkID0+IHtcclxuICAgIGlmKHRoaXMucmFuZ2UpIHtcclxuICAgICAgbGV0IGJ1dHQxQ2xvc2VyO1xyXG4gICAgICBpZiAodGhpcy5pc1ZlcnRpY2FsKSB7XHJcbiAgICAgICAgYnV0dDFDbG9zZXIgPSBNYXRoLmFicyhldmVudC5jbGllbnRZIC0gdGhpcy5idXR0b24xLmdldFRvcCgpIC0gdGhpcy5idXR0b24xLmdldFdpZHRoKCkvMikgXHJcbiAgICAgICAgPCBNYXRoLmFicyhldmVudC5jbGllbnRZIC0gdGhpcy5idXR0b24yLmdldFRvcCgpIC0gdGhpcy5idXR0b24yLmdldFdpZHRoKCkvMik7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgYnV0dDFDbG9zZXIgPSBNYXRoLmFicyhldmVudC5jbGllbnRYIC0gdGhpcy5idXR0b24xLmdldExlZnQoKSAtIHRoaXMuYnV0dG9uMS5nZXRXaWR0aCgpLzIpXHJcbiAgICAgICAgPCBNYXRoLmFicyhldmVudC5jbGllbnRYIC0gdGhpcy5idXR0b24yLmdldExlZnQoKSAtIHRoaXMuYnV0dG9uMi5nZXRXaWR0aCgpLzIpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAoYnV0dDFDbG9zZXIpIHtcclxuICAgICAgICB0aGlzLm9uTW91c2VNb3ZlMShldmVudCk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgdGhpcy5vbk1vdXNlTW92ZTIoZXZlbnQpO1xyXG4gICAgICB9XHJcblxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5vbk1vdXNlTW92ZTIoZXZlbnQpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLy8gR3JhZHVhdGlvbiBFdmVudExpc3RlbmVycy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuICBpbnRlck1hcmtIYW5kbGVyID0gKGN1cnJWYWx1ZTogbnVtYmVyKTogdm9pZCA9PiB7XHJcbiAgICBsZXQgcm91bmRPZmZzZXQ7XHJcbiAgICBsZXQgcm91bmRWYWx1ZTtcclxuICAgIGlmICh0aGlzLmlzVmVydGljYWwpIHtcclxuICAgICAgY29uc3QgbWFya1ggPSAoY3VyclZhbHVlIC0gdGhpcy5taW5WYWx1ZSkvKHRoaXMubWF4VmFsdWUgLSB0aGlzLm1pblZhbHVlKSp0aGlzLnNjYWxlLmdldEhlaWdodCgpO1xyXG4gICAgICBbcm91bmRPZmZzZXQsIHJvdW5kVmFsdWVdID0gdGhpcy5yb3VuZE9mZnNldEJ1dHQobWFya1ggLSB0aGlzLmJ1dHRvbjIuZ2V0V2lkdGgoKS8yKTtcclxuICAgICAgaWYgKHRoaXMucmFuZ2UpIHtcclxuICAgICAgICBpZiAoTWF0aC5hYnMobWFya1ggKyB0aGlzLnNjYWxlLmdldFRvcCgpIC0gdGhpcy5idXR0b24xLmdldFRvcCgpIC0gdGhpcy5idXR0b24yLmdldFdpZHRoKCkvMilcclxuICAgICAgICAgIDwgTWF0aC5hYnMobWFya1ggKyB0aGlzLnNjYWxlLmdldFRvcCgpIC0gdGhpcy5idXR0b24yLmdldFRvcCgpIC0gdGhpcy5idXR0b24yLmdldFdpZHRoKCkvMikpIHtcclxuICAgICAgICAgIHRoaXMuYnV0dDFNb3ZlKHJvdW5kT2Zmc2V0LCByb3VuZFZhbHVlKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgdGhpcy5idXR0Mk1vdmUocm91bmRPZmZzZXQsIHJvdW5kVmFsdWUpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICB0aGlzLmJ1dHQyTW92ZShyb3VuZE9mZnNldCwgcm91bmRWYWx1ZSk7XHJcbiAgICAgIH1cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGNvbnN0IG1hcmtYID0gKGN1cnJWYWx1ZSAtIHRoaXMubWluVmFsdWUpLyh0aGlzLm1heFZhbHVlIC0gdGhpcy5taW5WYWx1ZSkqdGhpcy5zY2FsZS5nZXRXaWR0aCgpO1xyXG4gICAgICBbcm91bmRPZmZzZXQsIHJvdW5kVmFsdWVdID0gdGhpcy5yb3VuZE9mZnNldEJ1dHQobWFya1ggLSB0aGlzLmJ1dHRvbjIuZ2V0V2lkdGgoKS8yKTtcclxuICAgICAgaWYgKHRoaXMucmFuZ2UpIHtcclxuICAgICAgICBpZiAoTWF0aC5hYnMobWFya1ggKyB0aGlzLnNjYWxlLmdldExlZnQoKSAtIHRoaXMuYnV0dG9uMS5nZXRMZWZ0KCkgLSB0aGlzLmJ1dHRvbjIuZ2V0V2lkdGgoKS8yKVxyXG4gICAgICAgICAgPCBNYXRoLmFicyhtYXJrWCArIHRoaXMuc2NhbGUuZ2V0TGVmdCgpIC0gdGhpcy5idXR0b24yLmdldExlZnQoKSAtIHRoaXMuYnV0dG9uMi5nZXRXaWR0aCgpLzIpKSB7XHJcbiAgICAgICAgICB0aGlzLmJ1dHQxTW92ZShyb3VuZE9mZnNldCwgcm91bmRWYWx1ZSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIHRoaXMuYnV0dDJNb3ZlKHJvdW5kT2Zmc2V0LCByb3VuZFZhbHVlKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgdGhpcy5idXR0Mk1vdmUocm91bmRPZmZzZXQsIHJvdW5kVmFsdWUpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBtYXJrMU9uY2xpY2sgPSAoZXZlbnQ6IE1vdXNlRXZlbnQpOiB2b2lkID0+IHtcclxuICAgIGNvbnN0IHJvdW5kT2Zmc2V0ID0gLXRoaXMuYnV0dG9uMi5nZXRXaWR0aCgpLzI7XHJcbiAgICBjb25zdCByb3VuZFZhbHVlID0gdGhpcy5taW5WYWx1ZTtcclxuICAgIGlmICghdGhpcy5yYW5nZSkge1xyXG4gICAgICB0aGlzLmJ1dHQyTW92ZShyb3VuZE9mZnNldCwgcm91bmRWYWx1ZSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLmJ1dHQxTW92ZShyb3VuZE9mZnNldCwgcm91bmRWYWx1ZSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBtYXJrNE9uY2xpY2sgPSAoZXZlbnQ6IE1vdXNlRXZlbnQpOiB2b2lkID0+IHtcclxuICAgIGlmICh0aGlzLmlzVmVydGljYWwpIHtcclxuICAgICAgY29uc3Qgcm91bmRPZmZzZXQgPSB0aGlzLnNjYWxlLmdldEhlaWdodCgpIC0gdGhpcy5idXR0b24yLmdldFdpZHRoKCkvMjtcclxuICAgICAgY29uc3Qgcm91bmRWYWx1ZSA9IHRoaXMubWF4VmFsdWU7XHJcbiAgICAgIHRoaXMuYnV0dDJNb3ZlKHJvdW5kT2Zmc2V0LCByb3VuZFZhbHVlKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGNvbnN0IHJvdW5kT2Zmc2V0ID0gdGhpcy5zY2FsZS5nZXRXaWR0aCgpIC0gdGhpcy5idXR0b24yLmdldFdpZHRoKCkvMjtcclxuICAgICAgY29uc3Qgcm91bmRWYWx1ZSA9IHRoaXMubWF4VmFsdWU7XHJcbiAgICAgIHRoaXMuYnV0dDJNb3ZlKHJvdW5kT2Zmc2V0LCByb3VuZFZhbHVlKTsgXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBtYXJrMk9uY2xpY2sgPSAoZXZlbnQ6IE1vdXNlRXZlbnQpOiB2b2lkID0+IHtcclxuICAgIGNvbnN0IHZhbCA9IHRoaXMuZmxvYXQgPyBwYXJzZUZsb2F0KHRoaXMuZ3JhZHVhdGlvbi5tYXJrMi5pbm5lckhUTUwpIDogcGFyc2VJbnQodGhpcy5ncmFkdWF0aW9uLm1hcmsyLmlubmVySFRNTCk7XHJcbiAgICB0aGlzLmludGVyTWFya0hhbmRsZXIodmFsKTtcclxuICB9XHJcblxyXG4gIG1hcmszT25jbGljayA9IChldmVudDogTW91c2VFdmVudCk6IHZvaWQgPT4ge1xyXG4gICAgY29uc3QgdmFsID0gdGhpcy5mbG9hdCA/IHBhcnNlRmxvYXQodGhpcy5ncmFkdWF0aW9uLm1hcmszLmlubmVySFRNTCkgOiBwYXJzZUludCh0aGlzLmdyYWR1YXRpb24ubWFyazMuaW5uZXJIVE1MKTtcclxuICAgIHRoaXMuaW50ZXJNYXJrSGFuZGxlcih2YWwpO1xyXG4gIH1cclxuXHJcbiAgY2hlY2tWYWx1ZXMgPSAoKTogdm9pZCA9PiB7XHJcbiAgICBpZiAodHlwZW9mIHRoaXMubWF4VmFsdWUgIT09IFwibnVtYmVyXCIpIHtcclxuICAgICAgY29uc29sZS5lcnJvcihcIk1heHZhbHVlIHNob3VsZCBiZSBhIG51bWJlclwiKTtcclxuICAgIH1cclxuICAgIGlmICh0eXBlb2YgdGhpcy5taW5WYWx1ZSAhPT0gXCJudW1iZXJcIikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKFwiTWF4dmFsdWUgc2hvdWxkIGJlIGEgbnVtYmVyXCIpO1xyXG4gICAgfVxyXG4gICAgaWYgKHR5cGVvZiB0aGlzLnN0ZXAgIT09IFwibnVtYmVyXCIpIHtcclxuICAgICAgY29uc29sZS5lcnJvcihcIlN0ZXAgc2hvdWxkIGJlIGEgbnVtYmVyXCIpO1xyXG4gICAgfVxyXG4gICAgaWYgKHR5cGVvZiB0aGlzLnJhbmdlICE9PSBcImJvb2xlYW5cIikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKFwiUmFuZ2Ugc2hvdWxkIGJlIGEgYm9vbGVhblwiKTtcclxuICAgIH1cclxuICAgIGlmICh0eXBlb2YgdGhpcy5pc1ZlcnRpY2FsICE9PSBcImJvb2xlYW5cIikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKFwiaXNWZXJ0aWNhbCBzaG91bGQgYmUgYSBib29sZWFuXCIpO1xyXG4gICAgfVxyXG4gICAgaWYgKHR5cGVvZiB0aGlzLnNob3dMYWJlbCAhPT0gXCJib29sZWFuXCIpIHtcclxuICAgICAgY29uc29sZS5lcnJvcihcIlNob3dMYWJlbCBzaG91bGQgYmUgYSBib29sZWFuXCIpO1xyXG4gICAgfVxyXG4gICAgaWYgKHRoaXMuc3RlcCA+IHRoaXMubWF4VmFsdWUgLSB0aGlzLm1pblZhbHVlKSB7XHJcbiAgICAgIHRoaXMuc3RlcCA9IHRoaXMubWF4VmFsdWUgLSB0aGlzLm1pblZhbHVlO1xyXG4gICAgICBjb25zb2xlLmVycm9yKFwiU3RlcCBpcyBzZXR0ZWQgdG8gdGhlIG1heFwiKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGluaXQgPSAoKTogdm9pZCA9PiB7XHJcbiAgICB0aGlzLmJ1dHRvbjEuZWxlbS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XHJcbiAgICB0aGlzLmxhYmVsMS5lbGVtLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcclxuICAgIHRoaXMuZ3JhZHVhdGlvbi5pbml0KHRoaXMubWluVmFsdWUsIHRoaXMubWF4VmFsdWUsIHRoaXMuaXNWZXJ0aWNhbCwgdGhpcy5mbG9hdCk7XHJcbiAgICB0aGlzLmNoZWNrVmFsdWVzKCk7XHJcbiAgICBpZiAodGhpcy5zaG93TGFiZWwpIHtcclxuICAgICAgdGhpcy5sYWJlbDEuZWxlbS5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xyXG4gICAgICB0aGlzLmxhYmVsMi5lbGVtLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLmxhYmVsMS5lbGVtLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcclxuICAgICAgdGhpcy5sYWJlbDIuZWxlbS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHRoaXMucmFuZ2UpIHtcclxuICAgICAgdGhpcy5idXR0b24xLmVsZW0uc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuYnV0dG9uMS5lbGVtLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcclxuICAgICAgdGhpcy5sYWJlbDEuZWxlbS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHRoaXMuaXNWZXJ0aWNhbCkge1xyXG4gICAgICB0aGlzLnNjYWxlLmVsZW0uY2xhc3NMaXN0LmFkZChcInNsaWRlcl9fc2NhbGVfdmVydGljYWxcIik7XHJcbiAgICAgIHRoaXMuc2NhbGVGaWxsaW5nLmVsZW0uY2xhc3NMaXN0LmFkZChcInNsaWRlcl9fc2NhbGUtZmlsbGluZ192ZXJ0aWNhbFwiKTtcclxuICAgICAgdGhpcy5ncmFkdWF0aW9uLmdyYWRFbGVtLmNsYXNzTGlzdC5hZGQoXCJzbGlkZXJfX2dyYWR1YXRpb25fdmVydGljYWxcIik7XHJcbiAgICAgIHRoaXMuZ3JhZHVhdGlvbi5ncmFkRWxlbS5zdHlsZS5oZWlnaHQgPSB0aGlzLnNjYWxlLmdldEhlaWdodCgpICtcInB4XCI7XHJcbiAgICAgIHRoaXMuYnV0dG9uMS5lbGVtLmNsYXNzTGlzdC5hZGQoXCJzbGlkZXJfX2J1dHRvbl92ZXJ0aWNhbFwiKTtcclxuICAgICAgdGhpcy5idXR0b24yLmVsZW0uY2xhc3NMaXN0LmFkZChcInNsaWRlcl9fYnV0dG9uX3ZlcnRpY2FsXCIpO1xyXG4gICAgICB0aGlzLmxhYmVsMS5lbGVtLmNsYXNzTGlzdC5hZGQoXCJzbGlkZXJfX2J1dHRvbi1sYWJlbF92ZXJ0aWNhbFwiKTtcclxuICAgICAgdGhpcy5sYWJlbDIuZWxlbS5jbGFzc0xpc3QuYWRkKFwic2xpZGVyX19idXR0b24tbGFiZWxfdmVydGljYWxcIik7XHJcblxyXG4gICAgICB0aGlzLmJ1dHRvbjEuZWxlbS5zdHlsZS50b3AgPSAtdGhpcy5idXR0b24xLmdldFdpZHRoKCkvMiArIFwicHhcIjtcclxuICAgICAgdGhpcy5idXR0b24xLmVsZW0uc3R5bGUubGVmdCA9IFwiNTAlXCI7XHJcbiAgICAgIHRoaXMuYnV0dG9uMi5lbGVtLnN0eWxlLnRvcCA9IHRoaXMuc2NhbGUuZ2V0SGVpZ2h0KCkgLSB0aGlzLmJ1dHRvbjIuZ2V0V2lkdGgoKS8yICsgXCJweFwiO1xyXG4gICAgICB0aGlzLmJ1dHRvbjIuZWxlbS5zdHlsZS5sZWZ0ID0gXCI1MCVcIjtcclxuICAgICAgdGhpcy5sYWJlbDEuZWxlbS5pbm5lckhUTUwgPSB0aGlzLm1pblZhbHVlICsgXCJcIjtcclxuICAgICAgdGhpcy5sYWJlbDIuZWxlbS5pbm5lckhUTUwgPSB0aGlzLm1heFZhbHVlICsgXCJcIjtcclxuICAgICAgdGhpcy5sYWJlbDEuZWxlbS5zdHlsZS50b3AgPSB0aGlzLmdldFN0YXJ0KCkgLSB0aGlzLmxhYmVsMS5nZXRIZWlnaHQoKS8yICsgXCJweFwiO1xyXG4gICAgICB0aGlzLmxhYmVsMS5lbGVtLnN0eWxlLmxlZnQgPSBcIjUwJVwiO1xyXG4gICAgICB0aGlzLmxhYmVsMi5lbGVtLnN0eWxlLnRvcCA9IHRoaXMuZ2V0RW5kKCkgLSB0aGlzLmxhYmVsMi5nZXRIZWlnaHQoKS8yICsgXCJweFwiO1xyXG4gICAgICB0aGlzLmxhYmVsMi5lbGVtLnN0eWxlLmxlZnQgPSBcIjUwJVwiO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5zY2FsZS5lbGVtLmNsYXNzTGlzdC5yZW1vdmUoXCJzbGlkZXJfX3NjYWxlX3ZlcnRpY2FsXCIpO1xyXG4gICAgICB0aGlzLnNjYWxlRmlsbGluZy5lbGVtLmNsYXNzTGlzdC5yZW1vdmUoXCJzbGlkZXJfX3NjYWxlLWZpbGxpbmdfdmVydGljYWxcIik7XHJcbiAgICAgIHRoaXMuZ3JhZHVhdGlvbi5ncmFkRWxlbS5jbGFzc0xpc3QucmVtb3ZlKFwic2xpZGVyX19ncmFkdWF0aW9uX3ZlcnRpY2FsXCIpO1xyXG4gICAgICB0aGlzLmdyYWR1YXRpb24uZ3JhZEVsZW0uc3R5bGUuaGVpZ2h0ID0gMjAgK1wicHhcIjtcclxuICAgICAgdGhpcy5idXR0b24xLmVsZW0uY2xhc3NMaXN0LnJlbW92ZShcInNsaWRlcl9fYnV0dG9uX3ZlcnRpY2FsXCIpO1xyXG4gICAgICB0aGlzLmJ1dHRvbjIuZWxlbS5jbGFzc0xpc3QucmVtb3ZlKFwic2xpZGVyX19idXR0b25fdmVydGljYWxcIik7XHJcbiAgICAgIHRoaXMubGFiZWwxLmVsZW0uY2xhc3NMaXN0LnJlbW92ZShcInNsaWRlcl9fYnV0dG9uLWxhYmVsX3ZlcnRpY2FsXCIpO1xyXG4gICAgICB0aGlzLmxhYmVsMi5lbGVtLmNsYXNzTGlzdC5yZW1vdmUoXCJzbGlkZXJfX2J1dHRvbi1sYWJlbF92ZXJ0aWNhbFwiKTtcclxuXHJcbiAgICAgIHRoaXMuYnV0dG9uMS5lbGVtLnN0eWxlLmxlZnQgPSAtdGhpcy5idXR0b24xLmdldFdpZHRoKCkvMiArIFwicHhcIjtcclxuICAgICAgdGhpcy5idXR0b24xLmVsZW0uc3R5bGUudG9wID0gXCI1MCVcIjtcclxuICAgICAgdGhpcy5idXR0b24yLmVsZW0uc3R5bGUubGVmdCA9IHRoaXMuc2NhbGUuZ2V0V2lkdGgoKSAtIHRoaXMuYnV0dG9uMi5nZXRXaWR0aCgpLzIgKyBcInB4XCI7XHJcbiAgICAgIHRoaXMuYnV0dG9uMi5lbGVtLnN0eWxlLnRvcCA9IFwiNTAlXCJcclxuICAgICAgdGhpcy5sYWJlbDEuZWxlbS5pbm5lckhUTUwgPSB0aGlzLm1pblZhbHVlICsgXCJcIjtcclxuICAgICAgdGhpcy5sYWJlbDIuZWxlbS5pbm5lckhUTUwgPSB0aGlzLm1heFZhbHVlICsgXCJcIjtcclxuICAgICAgdGhpcy5sYWJlbDEuZWxlbS5zdHlsZS5sZWZ0ID0gdGhpcy5nZXRTdGFydCgpIC0gdGhpcy5sYWJlbDEuZ2V0V2lkdGgoKS8yICsgXCJweFwiO1xyXG4gICAgICB0aGlzLmxhYmVsMS5lbGVtLnN0eWxlLnRvcCA9IFwiNTAlXCI7XHJcbiAgICAgIHRoaXMubGFiZWwyLmVsZW0uc3R5bGUubGVmdCA9IHRoaXMuZ2V0RW5kKCkgLSB0aGlzLmxhYmVsMi5nZXRXaWR0aCgpLzIgKyBcInB4XCI7XHJcbiAgICAgIHRoaXMubGFiZWwyLmVsZW0uc3R5bGUudG9wID0gXCI1MCVcIjtcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLnVwZGF0ZUVsZW1zKCk7XHJcbiAgfVxyXG5cclxuICBhcHBlbmQgPSAoZW50cnk6IEhUTUxFbGVtZW50KTogdm9pZCA9PiB7XHJcbiAgICBlbnRyeS5hcHBlbmRDaGlsZCh0aGlzLnNjYWxlLmVsZW0pLmFwcGVuZENoaWxkKHRoaXMuc2NhbGVGaWxsaW5nLmVsZW0pO1xyXG4gICAgZW50cnkuYXBwZW5kQ2hpbGQodGhpcy5idXR0b24xLmVsZW0pO1xyXG4gICAgZW50cnkuYXBwZW5kQ2hpbGQodGhpcy5sYWJlbDEuZWxlbSk7XHJcbiAgICBlbnRyeS5hcHBlbmRDaGlsZCh0aGlzLmdyYWR1YXRpb24uZ3JhZEVsZW0pO1xyXG4gICAgZW50cnkuYXBwZW5kQ2hpbGQodGhpcy5idXR0b24yLmVsZW0pO1xyXG4gICAgZW50cnkuYXBwZW5kQ2hpbGQodGhpcy5sYWJlbDIuZWxlbSk7XHJcblxyXG4gICAgdGhpcy5zY2FsZS5lbGVtLm9uY2xpY2sgPSB0aGlzLnNjYWxlT25jbGljaztcclxuICAgIHRoaXMuZ3JhZHVhdGlvbi5tYXJrMS5vbmNsaWNrID0gdGhpcy5tYXJrMU9uY2xpY2s7XHJcbiAgICB0aGlzLmdyYWR1YXRpb24ubWFyazIub25jbGljayA9IHRoaXMubWFyazJPbmNsaWNrO1xyXG4gICAgdGhpcy5ncmFkdWF0aW9uLm1hcmszLm9uY2xpY2sgPSB0aGlzLm1hcmszT25jbGljaztcclxuICAgIHRoaXMuZ3JhZHVhdGlvbi5tYXJrNC5vbmNsaWNrID0gdGhpcy5tYXJrNE9uY2xpY2s7XHJcbiAgICB0aGlzLmJ1dHRvbjEuZWxlbS5vbm1vdXNlZG93biA9IChldmVudE1kOiBNb3VzZUV2ZW50KSA9PiB7XHJcbiAgICAgIGV2ZW50TWQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlbW92ZVwiLCB0aGlzLm9uTW91c2VNb3ZlMSk7XHJcbiAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZXVwXCIsIHRoaXMub25Nb3VzZVVwMSk7XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5idXR0b24yLmVsZW0ub25tb3VzZWRvd24gPSAoZXZlbnRNZDogTW91c2VFdmVudCkgPT4ge1xyXG4gICAgICBldmVudE1kLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZW1vdmVcIiwgdGhpcy5vbk1vdXNlTW92ZTIpO1xyXG4gICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwibW91c2V1cFwiLCB0aGlzLm9uTW91c2VVcDIpO1xyXG4gICAgfVxyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IHtjcmVhdGVFbGVtLCBTY2FsZSwgTGFiZWwsIEJ1dHRvbiwgU2NhbGVGaWxsaW5nLCBWaWV3LCBHcmFkdWF0aW9ufTtcclxuIiwiaW1wb3J0IE1ha2VPYnNlcnZhYmxlT2JqZWN0IGZyb20gXCIuL2Fzc2V0cy9NYWtlT2JzZXJ2YWJsZU9iamVjdFwiO1xyXG5cclxuY2xhc3MgTW9kZWwge1xyXG4gIGN1ck1pblZhbHVlOiBudW1iZXI7XHJcbiAgY3VyTWF4VmFsdWU6IG51bWJlcjtcclxuICBvYnNlcnZlcnM6IE1ha2VPYnNlcnZhYmxlT2JqZWN0O1xyXG5cclxuICBjb25zdHJ1Y3RvcihjdXJNaW5WYWx1ZSA9IDAsIGN1ck1heFZhbHVlID0gMTAwMCkge1xyXG4gICAgdGhpcy5jdXJNaW5WYWx1ZSA9IGN1ck1pblZhbHVlO1xyXG4gICAgdGhpcy5jdXJNYXhWYWx1ZSA9IGN1ck1heFZhbHVlO1xyXG4gICAgdGhpcy5vYnNlcnZlcnMgPSBuZXcgTWFrZU9ic2VydmFibGVPYmplY3QoKTtcclxuICB9XHJcbiAgXHJcbiAgc2V0Q3VyTWluVmFsdWUoZGF0YTogbnVtYmVyKTogdm9pZCB7XHJcbiAgICBpZiAodGhpcy5jdXJNaW5WYWx1ZSAhPSBkYXRhKSB7XHJcbiAgICAgIHRoaXMuY3VyTWluVmFsdWUgPSBkYXRhO1xyXG4gICAgICB0aGlzLm9ic2VydmVycy5ub3RpZnlPYnNlcnZlcnMoKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHNldEN1ck1heFZhbHVlKGRhdGE6IG51bWJlcik6IHZvaWQge1xyXG4gICAgaWYgKHRoaXMuY3VyTWF4VmFsdWUgIT0gZGF0YSkge1xyXG4gICAgICB0aGlzLmN1ck1heFZhbHVlID0gZGF0YTtcclxuICAgICAgdGhpcy5vYnNlcnZlcnMubm90aWZ5T2JzZXJ2ZXJzKCk7XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBNb2RlbDsiLCJpbXBvcnQgeyBWaWV3IH0gZnJvbSBcIi4vdmlld1wiO1xyXG5pbXBvcnQgTW9kZWwgZnJvbSBcIi4vbW9kZWxcIjtcclxuaW1wb3J0IE1ha2VPYnNlcnZhYmxlT2JqZWN0IGZyb20gXCIuL2Fzc2V0cy9NYWtlT2JzZXJ2YWJsZU9iamVjdFwiO1xyXG5cclxuaW50ZXJmYWNlIGNvbmZpZ1R5cGUge1xyXG4gIFtpbmRleDogc3RyaW5nXTogbnVtYmVyIHwgYm9vbGVhbjtcclxufVxyXG5cclxuY2xhc3MgQ29udHJvbGxlciB7XHJcbiAgdmlldzogVmlldztcclxuICBtb2RlbDogTW9kZWw7XHJcbiAgb2JzZXJ2ZXJzOiBNYWtlT2JzZXJ2YWJsZU9iamVjdDtcclxuICBjb25zdHJ1Y3RvcihtaW5WYWx1ZSA9IDAsIG1heFZhbHVlID0gMTAwMCwgc3RlcCA9IDEsIHJhbmdlID0gZmFsc2UsIGlzVmVydGljYWwgPSBmYWxzZSwgc2hvd0xhYmVsID0gZmFsc2UsIGZsb2F0ID0gZmFsc2UpIHtcclxuICAgIHRoaXMudmlldyA9IG5ldyBWaWV3KG1pblZhbHVlLCBtYXhWYWx1ZSwgc3RlcCwgcmFuZ2UsIGlzVmVydGljYWwsIHNob3dMYWJlbCwgZmxvYXQpO1xyXG4gICAgdGhpcy5tb2RlbCA9IG5ldyBNb2RlbChtaW5WYWx1ZSwgbWF4VmFsdWUpO1xyXG4gICAgdGhpcy5vYnNlcnZlcnMgPSBuZXcgTWFrZU9ic2VydmFibGVPYmplY3QoKTtcclxuXHJcbiAgICB0aGlzLnZpZXcub2JzZXJ2ZXJzLmFkZE9ic2VydmVyKCgpID0+IHtcclxuICAgICAgdGhpcy5tb2RlbC5jdXJNaW5WYWx1ZSA9IHRoaXMudmlldy5jdXJNaW5WYWx1ZTtcclxuICAgICAgdGhpcy5tb2RlbC5jdXJNYXhWYWx1ZSA9IHRoaXMudmlldy5jdXJNYXhWYWx1ZTtcclxuICAgICAgdGhpcy5vYnNlcnZlcnMubm90aWZ5T2JzZXJ2ZXJzKCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICB0aGlzLm1vZGVsLm9ic2VydmVycy5hZGRPYnNlcnZlcigoKSA9PiB7XHJcbiAgICAgIGNvbnN0IGN1ck1pblZhbHVlID0gdGhpcy5tb2RlbC5jdXJNaW5WYWx1ZTtcclxuICAgICAgY29uc3QgY3VyTWF4VmFsdWUgPSB0aGlzLm1vZGVsLmN1ck1heFZhbHVlO1xyXG4gICAgICB0aGlzLnZpZXcuYnV0dDFNb3ZlKHRoaXMudmlldy5vZmZzZXRWYWx1ZUNvbnYoY3VyTWluVmFsdWUpLCBjdXJNaW5WYWx1ZSk7XHJcbiAgICAgIHRoaXMudmlldy5idXR0Mk1vdmUodGhpcy52aWV3Lm9mZnNldFZhbHVlQ29udihjdXJNYXhWYWx1ZSksIGN1ck1heFZhbHVlKTtcclxuICAgICAgdGhpcy5vYnNlcnZlcnMubm90aWZ5T2JzZXJ2ZXJzKCk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGFwcGVuZCA9IChlbnRyeTogSlF1ZXJ5KTogdm9pZCA9PiB7XHJcbiAgICB0aGlzLnZpZXcuYXBwZW5kKGVudHJ5LmdldCgwKSk7XHJcbiAgICB0aGlzLnZpZXcuaW5pdCgpO1xyXG4gIH1cclxuXHJcbiAgdXBkYXRlID0gKGFyZ3M6IGNvbmZpZ1R5cGUpOiB2b2lkID0+IHtcclxuICAgIE9iamVjdC5rZXlzKGFyZ3MpLm1hcCgoaXRlbSkgID0+IHtcclxuICAgICAgaWYgKHRoaXMudmlld1tpdGVtXSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgdGhpcy52aWV3W2l0ZW1dID0gYXJnc1tpdGVtXTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgdGhpcy52aWV3LmluaXQoKTtcclxuICAgIHRoaXMudmlldy5idXR0MU1vdmUodGhpcy52aWV3LmJ1dHQxT2Zmc2V0Q2hlY2sodGhpcy52aWV3Lm9mZnNldFZhbHVlQ29udih0aGlzLm1vZGVsLmN1ck1pblZhbHVlKSlbMF0sIHRoaXMubW9kZWwuY3VyTWluVmFsdWUpO1xyXG4gICAgdGhpcy52aWV3LmJ1dHQyTW92ZSh0aGlzLnZpZXcuYnV0dDJPZmZzZXRDaGVjayh0aGlzLnZpZXcub2Zmc2V0VmFsdWVDb252KHRoaXMubW9kZWwuY3VyTWF4VmFsdWUpKVswXSwgdGhpcy5tb2RlbC5jdXJNYXhWYWx1ZSk7XHJcbiAgfVxyXG5cclxuICBnZXRWYWx1ZXMgPSAoKTogQXJyYXk8bnVtYmVyPiA9PiB7XHJcbiAgICByZXR1cm4gW3RoaXMubW9kZWwuY3VyTWluVmFsdWUsIHRoaXMubW9kZWwuY3VyTWF4VmFsdWVdO1xyXG4gIH1cclxuXHJcbiAgc2V0VmFsdWVzID0gKGN1ck1pblZhbHVlOiBudW1iZXIsIGN1ck1heFZhbHVlOiBudW1iZXIpOiB2b2lkID0+IHtcclxuICAgIGlmIChjdXJNaW5WYWx1ZSkge1xyXG4gICAgICB0aGlzLm1vZGVsLnNldEN1ck1pblZhbHVlKGN1ck1pblZhbHVlKTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoY3VyTWF4VmFsdWUpIHtcclxuICAgICAgdGhpcy5tb2RlbC5zZXRDdXJNYXhWYWx1ZShjdXJNYXhWYWx1ZSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBnZXRDb25maWcgPSAoKTogY29uZmlnVHlwZSA9PiB7XHJcbiAgICByZXR1cm4ge21pblZhbHVlOiB0aGlzLnZpZXcubWluVmFsdWUsIG1heFZhbHVlOiB0aGlzLnZpZXcubWF4VmFsdWUsIHN0ZXA6IHRoaXMudmlldy5zdGVwLFxyXG4gICAgICByYW5nZTogdGhpcy52aWV3LnJhbmdlLCBpc1ZlcnRpY2FsOiB0aGlzLnZpZXcuaXNWZXJ0aWNhbCwgc2hvd0xhYmVsOiB0aGlzLnZpZXcuc2hvd0xhYmVsLCBmbG9hdDogdGhpcy52aWV3LmZsb2F0fVxyXG4gIH1cclxuICBcclxuICBhZGRPYnNlcnZlciA9IChmbjogRnVuY3Rpb24pOiB2b2lkID0+IHtcclxuICAgIHRoaXMub2JzZXJ2ZXJzLmFkZE9ic2VydmVyKGZuKTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IENvbnRyb2xsZXI7IiwiaW1wb3J0IENvbnRyb2xsZXIgZnJvbSBcIi4vY29udHJvbGxlci50c1wiO1xyXG5cclxuKGZ1bmN0aW9uKCQpIHtcclxuICBjb25zdCBjb25maWcgPSB7XHJcbiAgICBtaW5WYWx1ZTogMCxcclxuICAgIG1heFZhbHVlOiAxMDAwLFxyXG4gICAgc3RlcDogMSxcclxuICAgIHJhbmdlOiBmYWxzZSxcclxuICAgIGlzVmVydGljYWw6IGZhbHNlLFxyXG4gICAgc2hvd0xhYmVsOiBmYWxzZSxcclxuICAgIGZsb2F0OiBmYWxzZSxcclxuICB9O1xyXG5cclxuICBjb25zdCBtZXRob2RzID0ge1xyXG4gICAgaW5pdDogZnVuY3Rpb24ob3B0KSB7XHJcbiAgICAgIGlmICghJCh0aGlzKS5kYXRhKFwic2xpZGVyXCIpKSB7XHJcbiAgICAgICAgY29uc3QgbmV3Q29uZmlnID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShjb25maWcpKTtcclxuICAgICAgICBjb25zdCBzbGlkZXIgPSBuZXcgQ29udHJvbGxlciguLi5PYmplY3QudmFsdWVzKCQuZXh0ZW5kKG5ld0NvbmZpZywgb3B0KSkpO1xyXG4gICAgICAgICQodGhpcykuZGF0YShcInNsaWRlclwiLCBzbGlkZXIpO1xyXG4gICAgICAgIHNsaWRlci5hcHBlbmQoJCh0aGlzKSk7XHJcbiAgICAgIH1cclxuICAgIH0sXHJcblxyXG4gICAgdXBkYXRlOiBmdW5jdGlvbihvcHQpIHtcclxuICAgICAgY29uc3Qgc2xpZGVyID0gJCh0aGlzKS5kYXRhKFwic2xpZGVyXCIpO1xyXG4gICAgICBzbGlkZXIudXBkYXRlKG9wdCk7XHJcbiAgICB9LFxyXG5cclxuICAgIGdldENvbmZpZzogZnVuY3Rpb24oKSB7XHJcbiAgICAgIGNvbnN0IHNsaWRlciA9ICQodGhpcykuZGF0YShcInNsaWRlclwiKTtcclxuICAgICAgcmV0dXJuIHNsaWRlci5nZXRDb25maWcoKTtcclxuICAgIH0sXHJcblxyXG4gICAgc2V0VmFsdWVzOiBmdW5jdGlvbihvcHQpIHtcclxuICAgICAgY29uc3Qgc2xpZGVyID0gJCh0aGlzKS5kYXRhKFwic2xpZGVyXCIpO1xyXG4gICAgICBzbGlkZXIuc2V0VmFsdWVzKG9wdC5jdXJNaW5WYWx1ZSwgb3B0LmN1ck1heFZhbHVlKTtcclxuICAgIH0sXHJcblxyXG4gICAgaW5wdXRzQXR0YWNoOiBmdW5jdGlvbihvcHQpIHtcclxuICAgICAgY29uc3Qgc2xpZGVyID0gJCh0aGlzKS5kYXRhKFwic2xpZGVyXCIpO1xyXG4gICAgICBzbGlkZXIuYWRkT2JzZXJ2ZXIoKCkgPT4ge1xyXG4gICAgICAgIG9wdC5taW5WYWx1ZUluLnZhbChzbGlkZXIuZ2V0VmFsdWVzKClbMF0pO1xyXG4gICAgICAgIG9wdC5tYXhWYWx1ZUluLnZhbChzbGlkZXIuZ2V0VmFsdWVzKClbMV0pO1xyXG4gICAgICB9KVxyXG4gICAgfSxcclxuICB9XHJcbiAgXHJcbiAgJC5mbi5vbWZnc2xpZGVyID0gZnVuY3Rpb24obWV0aG9kKSB7XHJcbiAgICBpZiAobWV0aG9kc1ttZXRob2RdKSB7XHJcbiAgICAgIHJldHVybiBtZXRob2RzW21ldGhvZF0uYXBwbHkodGhpcywgQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKSk7XHJcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBtZXRob2QgPT09ICdvYmplY3QnIHx8ICFtZXRob2QpIHtcclxuICAgICAgcmV0dXJuIG1ldGhvZHMuaW5pdC5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgJC5lcnJvcign0JzQtdGC0L7QtCBcIicgKyAgbWV0aG9kICsgJ1wiINC90LUg0L3QsNC50LTQtdC9INCyINC/0LvQsNCz0LjQvdC1IGpRdWVyeS5teVNpbXBsZVBsdWdpbicpO1xyXG4gICAgfVxyXG4gIH07XHJcbn0pKGpRdWVyeSk7Il0sInNvdXJjZVJvb3QiOiIifQ==