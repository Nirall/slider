!function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=19)}([function(e,t,n){"use strict";n.r(t);var r=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var s=arguments[t],a=0,o=s.length;a<o;a++,i++)r[i]=s[a];return r},i=function(){function e(){this.observers=[]}return e.prototype.addObserver=function(e){if("function"!=typeof e)throw new Error("observer must be a function");this.observers.forEach((function(t){if(t===e)throw new Error("observer already in the list")})),this.observers.push(e)},e.prototype.removeObserver=function(e){for(var t=0;t<this.observers.length;t+=1){if(this.observers[t]===e)return void this.observers.splice(t,1)}throw new Error("could not find observer in list of observers")},e.prototype.notifyObservers=function(){r(this.observers).map((function(e){return e()}))},e.prototype.notifyObserversData=function(e){r(this.observers).map((function(t){return t(e)}))},e}();t.default=i},function(e,t,n){"use strict";n.r(t),t.default=function(e){var t=document.createElement("div");return t.ondragstart=function(){return!1},t.classList.add(e),t}},function(e,t,n){"use strict";n.r(t),n.d(t,"defaultParameters",(function(){return r}));var r={minValue:0,maxValue:1e3,step:1,isRange:!1,isVertical:!1,showLabel:!1,isFloat:!1}},function(e,t,n){"use strict";n.r(t);var r=function(){function e(){}return e.parsing=function(e){if("number"==typeof e)return e;if("string"==typeof e){if(/^-?\d+[.,]\d+$/.test(e))return parseFloat(e);if(/^-?\d+$/.test(e))return parseInt(e,10)}return null},e}();t.default=r},function(e,t,n){"use strict";n.r(t);var r=n(9),i=n(10),s=n(0),a=function(e,t){var n=this;this.getPosition=function(){return n.knob.getPosition()},this.setPosition=function(e,t){n.tooltip.setPosition(e+n.knob.getWidth()/2,t),n.knob.setPosition(e)},this.init=function(e){n.knob.init(e),n.tooltip.init(e)},this.getWidth=function(){return n.knob.getWidth()},this.hideRunner=function(){n.knob.elem.style.display="none",n.tooltip.elem.style.display="none"},this.hideLabel=function(){n.tooltip.elem.style.display="none"},this.showLabel=function(){n.tooltip.elem.style.display="block"},this.showRunner=function(){n.knob.elem.style.display="block"},this.appendToNode=function(e){[n.knob.elem,n.tooltip.elem].forEach((function(t){e.appendChild(t),t.onmousedown=n.handleRunnerMouseDown}))},this.handleRunnerMouseDown=function(e){e.preventDefault(),document.addEventListener("mousemove",n.handleRunnerMouseMove),document.addEventListener("mouseup",n.handleRunnerMouseUp)},this.handleRunnerMouseMove=function(e){n.observers.notifyObserversData({event:e,runner:n})},this.handleRunnerMouseUp=function(){document.removeEventListener("mouseup",n.handleRunnerMouseUp),document.removeEventListener("mousemove",n.handleRunnerMouseMove)},this.isVertical=e,this.knob=new r.default(e),this.tooltip=new i.default(e),this.observers=new s.default,this.observers.addObserver(t)};t.default=a},function(e,t,n){"use strict";n.r(t);var r=n(2),i=n(6),s=n(14),a=n(0),o=n(3),u=function(e){var t=this;void 0===e&&(e=r.defaultParameters),this.appendToNode=function(e){t.view.appendToNode(e.get(0)),t.view.init()},this.updateConfig=function(e){var n=e;Object.keys(e).forEach((function(r){"step"===r?n.step=t.checkStep(e.step):"maxValue"===r?n.maxValue=t.checkMaxValue(e.maxValue):"minValue"===r&&(n.minValue=t.checkMinValue(e.minValue))})),t.view.parameters=Object.assign(t.view.parameters,n),t.view.init()},this.getValues=function(){return t.model.currentValues},this.setValues=function(e,n){(e||0===e)&&t.model.setCurrentMinValue(e),(n||0===n)&&t.model.setCurrentMaxValue(n)},this.getConfig=function(){return t.view.parameters},this.addObserver=function(e){t.observers.addObserver(e)},this.checkStep=function(e){var n=Math.abs(o.default.parsing(e));return t.isStepValueWrong(n)?t.view.parameters.step:(n%1!=0?t.view.parameters.isFloat=!0:t.isOthersValuesFloat("step")||(t.view.parameters.isFloat=!1),n)},this.isStepValueWrong=function(e){var n=e>(t.view.parameters.maxValue-t.view.parameters.minValue)/2;return null===e||0===e||n},this.isOthersValuesFloat=function(e){switch(e){case"step":return t.view.parameters.maxValue%1!=0||t.view.parameters.minValue%1!=0;case"maxValue":return t.view.parameters.step%1!=0||t.view.parameters.minValue%1!=0;case"minValue":return t.view.parameters.step%1!=0||t.view.parameters.maxValue%1!=0;default:return!1}},this.checkMaxValue=function(e){var n=o.default.parsing(e);return t.isMaxValueWrong(n)?t.view.parameters.maxValue:(n%1!=0?t.view.parameters.isFloat=!0:t.isOthersValuesFloat("maxValue")||(t.view.parameters.isFloat=!1),n)},this.isMaxValueWrong=function(e){return null===e||e<=t.view.parameters.minValue},this.checkMinValue=function(e){var n=o.default.parsing(e);return t.isMinValueWrong(n)?t.view.parameters.minValue:(n%1!=0?t.view.parameters.isFloat=!0:t.isOthersValuesFloat("minValue")||(t.view.parameters.isFloat=!1),n)},this.isMinValueWrong=function(e){return null===e||e>=t.view.parameters.maxValue},this.addViewObserver=function(){t.view.observers.addObserver((function(){t.model.currentValues=t.view.currentValues,t.observers.notifyObservers()}))},this.addModelObserver=function(){t.model.observers.addObserver((function(){t.view.currentValues=t.model.currentValues,t.view.init()}))},this.view=new i.default(e),this.model=new s.default({currentMinValue:e.minValue,currentMaxValue:e.maxValue}),this.observers=new a.default,this.addViewObserver(),this.addModelObserver()};t.default=u},function(e,t,n){"use strict";n.r(t);var r=n(2),i=n(0),s=n(7),a=function(e){var t=this;void 0===e&&(e=r.defaultParameters),this.init=function(){t.track.init(t.parameters),t.track.renewRunners(t.currentValues)},this.handleTrackValueChanging=function(e){"minValue"===e.typeOfValue?t.currentValues.currentMinValue=e.value:"maxValue"===e.typeOfValue&&(t.currentValues.currentMaxValue=e.value),t.observers.notifyObservers()},this.appendToNode=function(e){t.track.appendToNode(e)},this.currentValues={currentMinValue:e.minValue,currentMaxValue:e.maxValue},this.observers=new i.default,this.parameters=e,this.track=new s.default(this.parameters),this.track.observers.addObserver(this.handleTrackValueChanging)};t.default=a},function(e,t,n){"use strict";n.r(t);var r=n(8),i=n(4),s=n(11),a=n(13),o=n(0),u=function(){function e(e){var t=this;this.init=function(e){t.parameters=e,t.bar.init(t.parameters.isVertical),t.progressBar.init(t.parameters.isVertical),t.runnerAdditional.init(t.parameters.isVertical),t.runnerMain.init(t.parameters.isVertical),t.scale.init(t.parameters),t.runnerAdditional.hideRunner(),t.parameters.showLabel?(t.runnerAdditional.showLabel(),t.runnerMain.showLabel()):(t.runnerAdditional.hideLabel(),t.runnerMain.hideLabel()),t.parameters.isRange?t.runnerAdditional.showRunner():t.runnerAdditional.hideRunner(),t.runnerAdditional.setPosition(-t.runnerAdditional.getWidth()/2,t.parameters.minValue),t.runnerMain.setPosition(t.bar.getDimension()-t.runnerMain.getWidth()/2,t.parameters.maxValue)},this.appendToNode=function(e){e.appendChild(t.bar.elem).appendChild(t.progressBar.elem),t.bar.elem.onclick=t.handleBarClick,t.runnerMain.appendToNode(e),t.runnerAdditional.appendToNode(e),t.scale.marks.forEach((function(t){e.appendChild(t.elem)})),t.scale.moveMarks()},this.convertOffsetToValue=function(e){return(e-t.parameters.minValue)*t.bar.getDimension()/(t.parameters.maxValue-t.parameters.minValue)-t.runnerMain.getWidth()/2},this.getMainRunnerOffset=function(){var e=t.runnerMain.getPosition()-t.bar.getPosition()+t.runnerMain.getWidth()/2;return e<0?0:e},this.getAdditionalRunnerOffset=function(){return t.parameters.isRange?t.runnerAdditional.getPosition()-t.bar.getPosition()+t.runnerMain.getWidth()/2:0},this.handleRunnerMove=function(e){var n=e.event,r=e.runner;t.moveRunner(t.processRunnerMouseEvent(n,r))},this.moveRunner=function(e){e.runner.setPosition(e.offset,e.value),e.runner===t.runnerAdditional&&t.observers.notifyObserversData({typeOfValue:"minValue",value:e.value}),e.runner===t.runnerMain&&t.observers.notifyObserversData({typeOfValue:"maxValue",value:e.value}),t.updateProgressBar()},this.processRunnerMouseEvent=function(e,n){var r=(t.parameters.isVertical?e.clientY:e.clientX)-t.bar.getPosition()-t.runnerAdditional.getWidth()/2;return t.processRunnerOffset(r,n)},this.processRunnerOffset=function(e,n){var r,i;return i=t.checkRunnerOffset(e,n),{runner:n,offset:i=(r=t.roundOffsetRunner(i))[0],value:r[1]}},this.checkRunnerOffset=function(e,n){var r=t.parameters.step*t.bar.getDimension()/(t.parameters.maxValue-t.parameters.minValue),i=r/1.5>t.runnerMain.getWidth()?r/1.5:t.runnerMain.getWidth(),s=e;return n===t.runnerAdditional?e>t.runnerMain.getPosition()-t.bar.getPosition()-i&&(s=t.runnerMain.getPosition()-t.bar.getPosition()-i):n===t.runnerMain&&e<t.runnerAdditional.getPosition()-t.bar.getPosition()+i&&(s=t.runnerAdditional.getPosition()-t.bar.getPosition()+i),s},this.roundOffsetRunner=function(e){var n=t.parameters.minValue+(e+t.runnerMain.getWidth()/2)*(t.parameters.maxValue-t.parameters.minValue)/t.bar.getDimension(),r=t.round(n,t.parameters.step);t.parameters.isFloat&&(r=parseFloat(r.toFixed(2)));var i=t.convertOffsetToValue(r);return i<-t.runnerMain.getWidth()/2&&(i=-t.runnerMain.getWidth()/2,r=t.parameters.minValue),i>t.bar.getDimension()-t.runnerMain.getWidth()/2&&(i=t.bar.getDimension()-t.runnerMain.getWidth()/2,r=t.parameters.maxValue),[i,r]},this.round=function(e,n){var r=Math.trunc(e/n),i=+(e-r*n).toFixed(2);return e<0?Math.abs(i)<n/2?r*n:(r-1)*n:e<=t.parameters.minValue?t.parameters.minValue:e>=t.parameters.maxValue?t.parameters.maxValue:i<n/2?r*n:(r+1)*n},this.handleScaleClick=function(e){var n,r=t.convertOffsetToValue(e);n=t.parameters.isRange?t.checkRunnerCloser(r):t.runnerMain,t.moveRunner(t.processRunnerOffset(r,n))},this.checkRunnerCloser=function(e){return Math.abs(e-t.getMainRunnerOffset())<Math.abs(e-t.getAdditionalRunnerOffset())?t.runnerMain:t.runnerAdditional},this.handleBarClick=function(e){var n=(t.parameters.isVertical?e.clientY:e.clientX)-t.bar.getPosition()-t.runnerMain.getWidth()/2;t.moveRunner(t.processRunnerOffset(n,t.checkRunnerCloser(n)))},this.updateProgressBar=function(){t.progressBar.init(t.parameters.isVertical),t.progressBar.setPosition(t.getAdditionalRunnerOffset()),t.progressBar.setDimension(t.getMainRunnerOffset()-t.getAdditionalRunnerOffset())},this.parameters=e,this.bar=new r.default(this.parameters.isVertical),this.progressBar=new a.default(this.parameters.isVertical),this.scale=new s.default(this.parameters,this.handleScaleClick),this.runnerAdditional=new i.default(this.parameters.isVertical,this.handleRunnerMove),this.runnerMain=new i.default(this.parameters.isVertical,this.handleRunnerMove),this.observers=new o.default}return e.prototype.renewRunners=function(e){this.moveRunner(this.processRunnerOffset(this.convertOffsetToValue(e.currentMaxValue),this.runnerMain)),this.moveRunner(this.processRunnerOffset(this.convertOffsetToValue(e.currentMinValue),this.runnerAdditional))},e}();t.default=u},function(e,t,n){"use strict";n.r(t);var r=n(1),i=function(e){var t=this;this.getPosition=function(){return t.isVertical?t.elem.getBoundingClientRect().top:t.elem.getBoundingClientRect().left},this.getDimension=function(){return t.isVertical?t.elem.getBoundingClientRect().height:t.elem.getBoundingClientRect().width},this.init=function(e){t.isVertical=e,t.isVertical?t.elem.classList.add("slider__bar_position_vertical"):t.elem.classList.remove("slider__bar_position_vertical")},this.elem=Object(r.default)("slider__bar"),this.isVertical=e};t.default=i},function(e,t,n){"use strict";n.r(t);var r=n(1),i=function(e){var t=this;this.getWidth=function(){return t.elem.getBoundingClientRect().width},this.getPosition=function(){return t.isVertical?t.elem.getBoundingClientRect().top:t.elem.getBoundingClientRect().left},this.setPosition=function(e){t.isVertical?(t.elem.style.left="50%",t.elem.style.top=e+"px"):(t.elem.style.top="50%",t.elem.style.left=e+"px")},this.init=function(e){t.isVertical=e,t.isVertical?t.elem.classList.add("slider__button_position_vertical"):t.elem.classList.remove("slider__button_position_vertical")},this.elem=Object(r.default)("slider__button"),this.isVertical=e};t.default=i},function(e,t,n){"use strict";n.r(t);var r=n(1),i=function(e){var t=this;this.getPosition=function(){return t.isVertical?t.elem.getBoundingClientRect().top:t.elem.getBoundingClientRect().left},this.setPosition=function(e,n){t.elem.innerHTML=n+"",t.isVertical?(t.elem.style.left="50%",t.elem.style.top=e-t.getDimension()/2+"px"):(t.elem.style.top="50%",t.elem.style.left=e-t.getDimension()/2+"px")},this.getDimension=function(){return t.isVertical?t.elem.getBoundingClientRect().height:t.elem.getBoundingClientRect().width},this.init=function(e){t.isVertical=e,t.isVertical?t.elem.classList.add("slider__button-label_position_vertical"):t.elem.classList.remove("slider__button-label_position_vertical")},this.elem=Object(r.default)("slider__button-label"),this.isVertical=e};t.default=i},function(e,t,n){"use strict";n.r(t);var r=n(12),i=n(0),s=function(e,t){var n=this;this.init=function(e){n.parameters=e,n.moveMarks()},this.moveMarks=function(){n.marks.forEach((function(e,t){if(e.update(n.parameters.isVertical),0===t)e.setPosition(0,n.parameters.minValue);else if(t===n.marks.length-1)e.setPosition(100,n.parameters.maxValue);else{var r=n.round(n.parameters.minValue+(n.parameters.maxValue-n.parameters.minValue)*t/(n.marks.length-1));n.parameters.isFloat&&(r=parseFloat(r.toFixed(2)));var i=(r-n.parameters.minValue)/(n.parameters.maxValue-n.parameters.minValue);e.setPosition(100*i,r)}}))},this.handleScaleClick=function(e){n.observers.notifyObserversData(e)},this.createMarks=function(){for(var e=0;e<5;e+=1){var t=new r.default(n.parameters.isVertical,n.handleScaleClick);n.marks.push(t)}},this.round=function(e){var t=Math.trunc(e/n.parameters.step),r=+(e-t*n.parameters.step).toFixed(2);return e<0?Math.abs(r)<n.parameters.step/2?t*n.parameters.step:(t-1)*n.parameters.step:r<n.parameters.step/2?t*n.parameters.step:(t+1)*n.parameters.step},this.marks=[],this.parameters=e,this.createMarks(),this.init(e),this.observers=new i.default,this.observers.addObserver(t)};t.default=s},function(e,t,n){"use strict";n.r(t);var r=n(1),i=n(0),s=function(e,t){var n=this;this.getPosition=function(){return n.isVertical?n.elem.getBoundingClientRect().top:n.elem.getBoundingClientRect().left},this.setPosition=function(e,t){n.elem.innerHTML=t+"",n.value=t,n.isVertical?(n.elem.style.left="50%",n.elem.style.top=e+"%",n.elem.style.marginTop=-n.getDimension()/2+"px",n.elem.style.marginLeft="-45px"):(n.elem.style.top="50%",n.elem.style.left=e+"%",n.elem.style.marginLeft=-n.getDimension()/2+"px",n.elem.style.marginTop="15px")},this.getDimension=function(){return n.isVertical?n.elem.getBoundingClientRect().height:n.elem.getBoundingClientRect().width},this.init=function(e){n.elem.onclick=n.handleMarkClick,n.observers.addObserver(e)},this.update=function(e){n.isVertical=e,n.isVertical?n.elem.classList.add("slider__mark_position_vertical"):n.elem.classList.remove("slider__mark_position_vertical")},this.handleMarkClick=function(){n.observers.notifyObserversData(n.value)},this.elem=Object(r.default)("slider__mark"),this.isVertical=e,this.observers=new i.default,this.init(t)};t.default=s},function(e,t,n){"use strict";n.r(t);var r=n(1),i=function(e){var t=this;this.setPosition=function(e){t.isVertical?(t.elem.style.left="0",t.elem.style.width="100%",t.elem.style.top=e+"px"):(t.elem.style.top="0",t.elem.style.height="100%",t.elem.style.left=e+"px")},this.setDimension=function(e){t.isVertical?t.elem.style.height=e+"px":t.elem.style.width=e+"px"},this.init=function(e){t.isVertical=e},this.elem=Object(r.default)("slider__progress-bar"),this.isVertical=e};t.default=i},function(e,t,n){"use strict";n.r(t);var r=n(0),i=function(){function e(e){this.currentValues=e,this.observers=new r.default}return e.prototype.setCurrentMinValue=function(e){this.currentValues.currentMinValue!==e&&(this.currentValues.currentMinValue=e,this.observers.notifyObservers())},e.prototype.setCurrentMaxValue=function(e){this.currentValues.currentMaxValue!==e&&(this.currentValues.currentMaxValue=e,this.observers.notifyObservers())},e}();t.default=i},function(e,t,n){var r={"./Controller/Controller.ts":5,"./Controller/blocks/parsingDigits/ParsingDigits.ts":3,"./Model/Model.ts":14,"./View/View.ts":6,"./View/blocks/Bar/Bar.ts":8,"./View/blocks/Knob/Knob.ts":9,"./View/blocks/ProgressBar/ProgressBar.ts":13,"./View/blocks/Runner/Runner.ts":4,"./View/blocks/Scale/Mark/Mark.ts":12,"./View/blocks/Scale/Scale.ts":11,"./View/blocks/Tooltip/Tooltip.ts":10,"./View/blocks/Track/Track.ts":7,"./View/blocks/createElem/createElem.ts":1,"./makeObservableObject/MakeObservableObject.ts":0,"./slider.ts":16,"./style.scss":17,"./types.ts":2};function i(e){var t=s(e);return n(t)}function s(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}i.keys=function(){return Object.keys(r)},i.resolve=s,e.exports=i,i.id=15},function(e,t,n){"use strict";n.r(t);var r,i,s,a=n(5),o=function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};r=jQuery,i={minValue:0,maxValue:1e3,step:1,isRange:!1,isVertical:!1,showLabel:!1,isFloat:!1},s={init:function(e){if(!r(this).data("slider")){var t=o({},i),n=new a.default(r.extend(t,e));r(this).data("slider",n),n.appendToNode(r(this))}},update:function(e){r(this).data("slider").updateConfig(e)},getConfig:function(){return r(this).data("slider").getConfig()},setValues:function(e){r(this).data("slider").setValues(e.currentMinValue,e.currentMaxValue)},inputsAttach:function(e){var t=r(this).data("slider");t.addObserver((function(){e.minValueInput.val(t.getValues().currentMinValue),e.maxValueInput.val(t.getValues().currentMaxValue),e.maxValue.val(t.getConfig().maxValue),e.minValue.val(t.getConfig().minValue),e.step.val(t.getConfig().step)}))}},r.fn.omfgslider=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return s[e]?s[e].apply(this,t):"object"!=typeof e&&e?void r.error("Метод "+e+" не найден в плагине jQuery.omfgslider"):s.init.apply(this,arguments)}},function(e,t,n){},,function(e,t,n){"use strict";n.r(t);var r;n.p;(r=n(15)).keys().forEach(r)}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL3BsdWdpbi9tYWtlT2JzZXJ2YWJsZU9iamVjdC9NYWtlT2JzZXJ2YWJsZU9iamVjdC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvcGx1Z2luL1ZpZXcvYmxvY2tzL2NyZWF0ZUVsZW0vY3JlYXRlRWxlbS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvcGx1Z2luL3R5cGVzLnRzIiwid2VicGFjazovLy8uL3NyYy9wbHVnaW4vQ29udHJvbGxlci9ibG9ja3MvcGFyc2luZ0RpZ2l0cy9QYXJzaW5nRGlnaXRzLnRzIiwid2VicGFjazovLy8uL3NyYy9wbHVnaW4vVmlldy9ibG9ja3MvUnVubmVyL1J1bm5lci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvcGx1Z2luL0NvbnRyb2xsZXIvQ29udHJvbGxlci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvcGx1Z2luL1ZpZXcvVmlldy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvcGx1Z2luL1ZpZXcvYmxvY2tzL1RyYWNrL1RyYWNrLnRzIiwid2VicGFjazovLy8uL3NyYy9wbHVnaW4vVmlldy9ibG9ja3MvQmFyL0Jhci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvcGx1Z2luL1ZpZXcvYmxvY2tzL0tub2IvS25vYi50cyIsIndlYnBhY2s6Ly8vLi9zcmMvcGx1Z2luL1ZpZXcvYmxvY2tzL1Rvb2x0aXAvVG9vbHRpcC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvcGx1Z2luL1ZpZXcvYmxvY2tzL1NjYWxlL1NjYWxlLnRzIiwid2VicGFjazovLy8uL3NyYy9wbHVnaW4vVmlldy9ibG9ja3MvU2NhbGUvTWFyay9NYXJrLnRzIiwid2VicGFjazovLy8uL3NyYy9wbHVnaW4vVmlldy9ibG9ja3MvUHJvZ3Jlc3NCYXIvUHJvZ3Jlc3NCYXIudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3BsdWdpbi9Nb2RlbC9Nb2RlbC50cyIsIndlYnBhY2s6Ly8vXFwuZClcXC4oanN8dHN8c2NzcykkLyIsIndlYnBhY2s6Ly8vLi9zcmMvcGx1Z2luL3NsaWRlci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZGVtby1wYWdlL2luZGV4Lmh0bWwiLCJ3ZWJwYWNrOi8vLy4vc3JjL2luZGV4LnRzIl0sIm5hbWVzIjpbImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJleHBvcnRzIiwibW9kdWxlIiwiaSIsImwiLCJtb2R1bGVzIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJ0IiwibW9kZSIsIl9fZXNNb2R1bGUiLCJucyIsImNyZWF0ZSIsImtleSIsImJpbmQiLCJuIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwidGhpcyIsIm9ic2VydmVycyIsImFkZE9ic2VydmVyIiwiZm4iLCJFcnJvciIsImZvckVhY2giLCJvYnNlcnZlciIsInB1c2giLCJyZW1vdmVPYnNlcnZlciIsImxlbmd0aCIsInNwbGljZSIsIm5vdGlmeU9ic2VydmVycyIsIm1hcCIsIm5vdGlmeU9ic2VydmVyc0RhdGEiLCJkYXRhIiwiY2xhc3NOYW1lIiwiZWxlbSIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsIm9uZHJhZ3N0YXJ0IiwiY2xhc3NMaXN0IiwiYWRkIiwiZGVmYXVsdFBhcmFtZXRlcnMiLCJtaW5WYWx1ZSIsIm1heFZhbHVlIiwic3RlcCIsImlzUmFuZ2UiLCJpc1ZlcnRpY2FsIiwic2hvd0xhYmVsIiwiaXNGbG9hdCIsInBhcnNpbmciLCJpdGVtIiwidGVzdCIsInBhcnNlRmxvYXQiLCJwYXJzZUludCIsIm1vdmVPYnNlcnZlciIsImdldFBvc2l0aW9uIiwia25vYiIsInNldFBvc2l0aW9uIiwib2Zmc2V0IiwidG9vbHRpcCIsImdldFdpZHRoIiwiaW5pdCIsImhpZGVSdW5uZXIiLCJzdHlsZSIsImRpc3BsYXkiLCJoaWRlTGFiZWwiLCJzaG93UnVubmVyIiwiYXBwZW5kVG9Ob2RlIiwiZW50cnkiLCJhcHBlbmRDaGlsZCIsIm9ubW91c2Vkb3duIiwiaGFuZGxlUnVubmVyTW91c2VEb3duIiwiZXZlbnQiLCJwcmV2ZW50RGVmYXVsdCIsImFkZEV2ZW50TGlzdGVuZXIiLCJoYW5kbGVSdW5uZXJNb3VzZU1vdmUiLCJoYW5kbGVSdW5uZXJNb3VzZVVwIiwicnVubmVyIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsInBhcmFtZXRlcnMiLCJ2aWV3IiwidXBkYXRlQ29uZmlnIiwicGFyYW1ldGVyc1NuYXBzaG90Iiwia2V5cyIsImNoZWNrU3RlcCIsImNoZWNrTWF4VmFsdWUiLCJjaGVja01pblZhbHVlIiwiYXNzaWduIiwiZ2V0VmFsdWVzIiwibW9kZWwiLCJjdXJyZW50VmFsdWVzIiwic2V0VmFsdWVzIiwiY3VycmVudE1pblZhbHVlIiwiY3VycmVudE1heFZhbHVlIiwic2V0Q3VycmVudE1pblZhbHVlIiwic2V0Q3VycmVudE1heFZhbHVlIiwiZ2V0Q29uZmlnIiwic3RlcENoZWNrZWQiLCJNYXRoIiwiYWJzIiwiaXNTdGVwVmFsdWVXcm9uZyIsImlzT3RoZXJzVmFsdWVzRmxvYXQiLCJpc1N0ZXBNb3JlVGhhbkhhbGYiLCJwYXJhbWV0ZXIiLCJtYXhWYWx1ZUNoZWNrZWQiLCJpc01heFZhbHVlV3JvbmciLCJtaW5WYWx1ZUNoZWNrZWQiLCJpc01pblZhbHVlV3JvbmciLCJhZGRWaWV3T2JzZXJ2ZXIiLCJhZGRNb2RlbE9ic2VydmVyIiwidHJhY2siLCJyZW5ld1J1bm5lcnMiLCJoYW5kbGVUcmFja1ZhbHVlQ2hhbmdpbmciLCJ0eXBlT2ZWYWx1ZSIsImJhciIsInByb2dyZXNzQmFyIiwicnVubmVyQWRkaXRpb25hbCIsInJ1bm5lck1haW4iLCJzY2FsZSIsImdldERpbWVuc2lvbiIsIm9uY2xpY2siLCJoYW5kbGVCYXJDbGljayIsIm1hcmtzIiwibWFyayIsIm1vdmVNYXJrcyIsImNvbnZlcnRPZmZzZXRUb1ZhbHVlIiwiZ2V0TWFpblJ1bm5lck9mZnNldCIsImdldEFkZGl0aW9uYWxSdW5uZXJPZmZzZXQiLCJoYW5kbGVSdW5uZXJNb3ZlIiwibW92ZVJ1bm5lciIsInByb2Nlc3NSdW5uZXJNb3VzZUV2ZW50Iiwib2JqIiwidXBkYXRlUHJvZ3Jlc3NCYXIiLCJldmVudE1tIiwiY2xpZW50WSIsImNsaWVudFgiLCJwcm9jZXNzUnVubmVyT2Zmc2V0Iiwicm91bmRPZmZzZXQiLCJjaGVja1J1bm5lck9mZnNldCIsInJvdW5kT2Zmc2V0UnVubmVyIiwic3RlcFdpZHRoIiwibWluT2Zmc2V0IiwibmV3T2Zmc2V0IiwiY3VycmVudE9mZnNldCIsImN1cnJlbnRWYWx1ZSIsInJvdW5kVmFsdWUiLCJyb3VuZCIsInRvRml4ZWQiLCJ3aG9sZSIsInRydW5jIiwicmVtaW5kZXIiLCJoYW5kbGVTY2FsZUNsaWNrIiwiY2hlY2tSdW5uZXJDbG9zZXIiLCJzZXREaW1lbnNpb24iLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJ0b3AiLCJsZWZ0IiwiaGVpZ2h0Iiwid2lkdGgiLCJyZW1vdmUiLCJpbm5lckhUTUwiLCJvcHRpb25zIiwiaW5kZXgiLCJ1cGRhdGUiLCJjcmVhdGVNYXJrcyIsIm1hcmdpblRvcCIsIm1hcmdpbkxlZnQiLCJoYW5kbGVNYXJrQ2xpY2siLCJkaW1lbnNpb24iLCJ3ZWJwYWNrQ29udGV4dCIsInJlcSIsImlkIiwid2VicGFja0NvbnRleHRSZXNvbHZlIiwiZSIsImNvZGUiLCJyZXNvbHZlIiwiJCIsImNvbmZpZyIsIm1ldGhvZHMiLCJqUXVlcnkiLCJvcHQiLCJuZXdDb25maWciLCJzbGlkZXIiLCJleHRlbmQiLCJpbnB1dHNBdHRhY2giLCJtaW5WYWx1ZUlucHV0IiwidmFsIiwibWF4VmFsdWVJbnB1dCIsIm9tZmdzbGlkZXIiLCJtZXRob2QiLCJhcHBseSIsImFyZ3MiLCJlcnJvciIsImFyZ3VtZW50cyJdLCJtYXBwaW5ncyI6ImFBQ0Us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QUN6Q3dGLEVBQUlPLGNBQWNELElBQUlKLEVBQU85RixZQUFZSyxpQkFDekN1RixFQUFJekksU0FBUytJLElBQUlKLEVBQU90RixZQUFZckQsVUFDcEN5SSxFQUFJMUksU0FBU2dKLElBQUlKLEVBQU90RixZQUFZdEQsVUFDcEMwSSxFQUFJeEksS0FBSzhJLElBQUlKLEVBQU90RixZQUFZcEQsV0FLdENvSSxFQUFFMUosR0FBR3NLLFdBQWEsU0FBdUJDLEcsSUFBZ0Isd0RBQ3ZELE9BQUlYLEVBQVFXLEdBQ0hYLEVBQVFXLEdBQVFDLE1BQU0zSyxLQUFNNEssR0FDYixpQkFBWEYsR0FBd0JBLE9BR3JDYixFQUFFZ0IsTUFBTSxTQUFTSCxFQUFNLDBDQUZkWCxFQUFRckgsS0FBS2lJLE1BQU0zSyxLQUFNOEssYSx1REN6RHZCLElDRUloTSxFREZKLEtDRUlBLEVBSVQsT0FITmtGLE9BQU8zRCxRQUFRdkIiLCJmaWxlIjoiYnVuZGxlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuIFx0XHR9XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3RcbiBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3RcbiBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbiBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbiBcdFx0cmV0dXJuIG5zO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDE5KTtcbiIsImNsYXNzIE1ha2VPYnNlcnZhYmxlT2JqZWN0IHtcclxuICBvYnNlcnZlcnM6IEFycmF5PEZ1bmN0aW9uPjtcclxuXHJcbiAgY29uc3RydWN0b3IoKSB7XHJcbiAgICB0aGlzLm9ic2VydmVycyA9IFtdO1xyXG4gIH1cclxuXHJcbiAgYWRkT2JzZXJ2ZXIoZm46IEZ1bmN0aW9uKTogdm9pZCB7XHJcbiAgICBpZiAodHlwZW9mIGZuICE9PSAnZnVuY3Rpb24nKSB7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcignb2JzZXJ2ZXIgbXVzdCBiZSBhIGZ1bmN0aW9uJyk7XHJcbiAgICB9XHJcbiAgICB0aGlzLm9ic2VydmVycy5mb3JFYWNoKChvYnNlcnZlcikgPT4ge1xyXG4gICAgICBpZiAob2JzZXJ2ZXIgPT09IGZuKSB7XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdvYnNlcnZlciBhbHJlYWR5IGluIHRoZSBsaXN0Jyk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gICAgdGhpcy5vYnNlcnZlcnMucHVzaChmbik7XHJcbiAgfVxyXG5cclxuICByZW1vdmVPYnNlcnZlcihmbjogRnVuY3Rpb24pOiB2b2lkIHtcclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5vYnNlcnZlcnMubGVuZ3RoOyBpICs9IDEpIHtcclxuICAgICAgY29uc3Qgb2JzZXJ2ZXIgPSB0aGlzLm9ic2VydmVyc1tpXTtcclxuICAgICAgaWYgKG9ic2VydmVyID09PSBmbikge1xyXG4gICAgICAgIHRoaXMub2JzZXJ2ZXJzLnNwbGljZShpLCAxKTtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIHRocm93IG5ldyBFcnJvcignY291bGQgbm90IGZpbmQgb2JzZXJ2ZXIgaW4gbGlzdCBvZiBvYnNlcnZlcnMnKTtcclxuICB9XHJcblxyXG4gIG5vdGlmeU9ic2VydmVycygpOiB2b2lkIHtcclxuICAgIGNvbnN0IG9ic2VydmVyc1NuYXBzaG90ID0gWy4uLnRoaXMub2JzZXJ2ZXJzXTtcclxuICAgIG9ic2VydmVyc1NuYXBzaG90Lm1hcCgob2JzZXJ2ZXIpID0+IG9ic2VydmVyKCkpO1xyXG4gIH1cclxuXHJcbiAgbm90aWZ5T2JzZXJ2ZXJzRGF0YShkYXRhOiBhbnkpOiB2b2lkIHtcclxuICAgIGNvbnN0IG9ic2VydmVyc1NuYXBzaG90ID0gWy4uLnRoaXMub2JzZXJ2ZXJzXTtcclxuICAgIG9ic2VydmVyc1NuYXBzaG90Lm1hcCgob2JzZXJ2ZXIpID0+IG9ic2VydmVyKGRhdGEpKTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IE1ha2VPYnNlcnZhYmxlT2JqZWN0O1xyXG4iLCJmdW5jdGlvbiBjcmVhdGVFbGVtKGNsYXNzTmFtZTogc3RyaW5nKSA6SFRNTEVsZW1lbnQge1xyXG4gIGNvbnN0IGVsZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICBlbGVtLm9uZHJhZ3N0YXJ0ID0gKCkgPT4gZmFsc2U7XHJcbiAgZWxlbS5jbGFzc0xpc3QuYWRkKGNsYXNzTmFtZSk7XHJcbiAgcmV0dXJuIGVsZW07XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNyZWF0ZUVsZW07XHJcbiIsImltcG9ydCBSdW5uZXIgZnJvbSAnLi9WaWV3L2Jsb2Nrcy9SdW5uZXIvUnVubmVyJztcclxuXHJcbmV4cG9ydCB0eXBlIEZ1bmN0aW9uQ2FsbGJhY2tWb2lkID0gKCkgPT4gdm9pZDtcclxuXHJcbmV4cG9ydCB0eXBlIEZ1bmN0aW9uQ2FsbGJhY2tEYXRhID0gKGFyZzogYW55KSA9PiB2b2lkO1xyXG5cclxuZXhwb3J0IHR5cGUgUnVubmVyTW92ZURhdGEgPSB7XHJcbiAgcnVubmVyOiBSdW5uZXIsXHJcbiAgb2Zmc2V0OiBudW1iZXIsXHJcbiAgdmFsdWU6IG51bWJlcixcclxufVxyXG5cclxuZXhwb3J0IHR5cGUgQ3VycmVudFZhbHVlcyA9IHtcclxuICBjdXJyZW50TWluVmFsdWU6IG51bWJlcixcclxuICBjdXJyZW50TWF4VmFsdWU6IG51bWJlcixcclxufVxyXG5cclxuZXhwb3J0IHR5cGUgQ3VycmVudFZhbHVlQ2hhbmdpbmdEYXRhID0ge1xyXG4gIHR5cGVPZlZhbHVlOiBzdHJpbmcsXHJcbiAgdmFsdWU6IG51bWJlcixcclxufVxyXG5cclxuZXhwb3J0IHR5cGUgUnVubmVyT2JzZXJ2ZXJEYXRhID0ge1xyXG4gIGV2ZW50OiBNb3VzZUV2ZW50LFxyXG4gIHJ1bm5lcjogUnVubmVyLFxyXG59XHJcblxyXG5leHBvcnQgdHlwZSBQYXJhbWV0ZXJzID0ge1xyXG4gIG1pblZhbHVlOiBudW1iZXIsXHJcbiAgbWF4VmFsdWU6IG51bWJlcixcclxuICBzdGVwOiBudW1iZXIsXHJcbiAgaXNSYW5nZTogYm9vbGVhbixcclxuICBpc1ZlcnRpY2FsOiBib29sZWFuLFxyXG4gIHNob3dMYWJlbDogYm9vbGVhbixcclxuICBpc0Zsb2F0OiBib29sZWFuXHJcbn1cclxuXHJcbmV4cG9ydCB0eXBlIFJhd1BhcmFtZXRlcnMgPSB7XHJcbiAgbWluVmFsdWU6IHN0cmluZ3xudW1iZXIsXHJcbiAgbWF4VmFsdWU6IHN0cmluZ3xudW1iZXIsXHJcbiAgc3RlcDogc3RyaW5nfG51bWJlcixcclxuICBpc1JhbmdlOiBib29sZWFuLFxyXG4gIGlzVmVydGljYWw6IGJvb2xlYW4sXHJcbiAgc2hvd0xhYmVsOiBib29sZWFuLFxyXG4gIGlzRmxvYXQ6IGJvb2xlYW5cclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IGRlZmF1bHRQYXJhbWV0ZXJzID0ge1xyXG4gIG1pblZhbHVlOiAwLFxyXG4gIG1heFZhbHVlOiAxMDAwLFxyXG4gIHN0ZXA6IDEsXHJcbiAgaXNSYW5nZTogZmFsc2UsXHJcbiAgaXNWZXJ0aWNhbDogZmFsc2UsXHJcbiAgc2hvd0xhYmVsOiBmYWxzZSxcclxuICBpc0Zsb2F0OiBmYWxzZVxyXG59O1xyXG4iLCJjbGFzcyBQYXJzaW5nRGlnaXRzIHtcclxuICBzdGF0aWMgcGFyc2luZyA9IChpdGVtOiBzdHJpbmd8bnVtYmVyKTogbnVtYmVyfG51bGwgPT4ge1xyXG4gICAgaWYgKHR5cGVvZiBpdGVtID09PSAnbnVtYmVyJykge1xyXG4gICAgICByZXR1cm4gaXRlbTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAodHlwZW9mIGl0ZW0gPT09ICdzdHJpbmcnKSB7XHJcbiAgICAgIGlmICgvXi0/XFxkK1suLF1cXGQrJC8udGVzdChpdGVtKSkge1xyXG4gICAgICAgIHJldHVybiBwYXJzZUZsb2F0KGl0ZW0pO1xyXG4gICAgICB9IGlmICgvXi0/XFxkKyQvLnRlc3QoaXRlbSkpIHtcclxuICAgICAgICByZXR1cm4gcGFyc2VJbnQoaXRlbSwgMTApO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIG51bGw7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBQYXJzaW5nRGlnaXRzO1xyXG4iLCJpbXBvcnQgKiBhcyB0eXBlcyBmcm9tICcuLi8uLi8uLi90eXBlcyc7XHJcbmltcG9ydCBLbm9iIGZyb20gJy4uL0tub2IvS25vYic7XHJcbmltcG9ydCBUb29sdGlwIGZyb20gJy4uL1Rvb2x0aXAvVG9vbHRpcCc7XHJcbmltcG9ydCBNYWtlT2JzZXJ2YWJsZU9iamVjdCBmcm9tICcuLi8uLi8uLi9tYWtlT2JzZXJ2YWJsZU9iamVjdC9NYWtlT2JzZXJ2YWJsZU9iamVjdCc7XHJcblxyXG5jbGFzcyBSdW5uZXIge1xyXG4gIGtub2I6IEtub2I7XHJcblxyXG4gIHRvb2x0aXA6IFRvb2x0aXA7XHJcblxyXG4gIGlzVmVydGljYWw6IGJvb2xlYW47XHJcblxyXG4gIG9ic2VydmVyczogTWFrZU9ic2VydmFibGVPYmplY3Q7XHJcblxyXG4gIGNvbnN0cnVjdG9yKGlzVmVydGljYWw6IGJvb2xlYW4sIG1vdmVPYnNlcnZlcjogdHlwZXMuRnVuY3Rpb25DYWxsYmFja0RhdGEpIHtcclxuICAgIHRoaXMuaXNWZXJ0aWNhbCA9IGlzVmVydGljYWw7XHJcbiAgICB0aGlzLmtub2IgPSBuZXcgS25vYihpc1ZlcnRpY2FsKTtcclxuICAgIHRoaXMudG9vbHRpcCA9IG5ldyBUb29sdGlwKGlzVmVydGljYWwpO1xyXG4gICAgdGhpcy5vYnNlcnZlcnMgPSBuZXcgTWFrZU9ic2VydmFibGVPYmplY3QoKTtcclxuICAgIHRoaXMub2JzZXJ2ZXJzLmFkZE9ic2VydmVyKG1vdmVPYnNlcnZlcik7XHJcbiAgfVxyXG5cclxuICBnZXRQb3NpdGlvbiA9ICgpOiBudW1iZXIgPT4ge1xyXG4gICAgcmV0dXJuIHRoaXMua25vYi5nZXRQb3NpdGlvbigpO1xyXG4gIH1cclxuXHJcbiAgc2V0UG9zaXRpb24gPSAob2Zmc2V0OiBudW1iZXIsIHZhbHVlOiBudW1iZXIpOiB2b2lkID0+IHtcclxuICAgIHRoaXMudG9vbHRpcC5zZXRQb3NpdGlvbihvZmZzZXQgKyB0aGlzLmtub2IuZ2V0V2lkdGgoKSAvIDIsIHZhbHVlKTtcclxuICAgIHRoaXMua25vYi5zZXRQb3NpdGlvbihvZmZzZXQpO1xyXG4gIH1cclxuXHJcbiAgaW5pdCA9IChpc1ZlcnRpY2FsOiBib29sZWFuKTogdm9pZCA9PiB7XHJcbiAgICB0aGlzLmtub2IuaW5pdChpc1ZlcnRpY2FsKTtcclxuICAgIHRoaXMudG9vbHRpcC5pbml0KGlzVmVydGljYWwpO1xyXG4gIH1cclxuXHJcbiAgZ2V0V2lkdGggPSAoKTogbnVtYmVyID0+IHtcclxuICAgIHJldHVybiB0aGlzLmtub2IuZ2V0V2lkdGgoKTtcclxuICB9XHJcblxyXG4gIGhpZGVSdW5uZXIgPSAoKTogdm9pZCA9PiB7XHJcbiAgICB0aGlzLmtub2IuZWxlbS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xyXG4gICAgdGhpcy50b29sdGlwLmVsZW0uc3R5bGUuZGlzcGxheSA9ICdub25lJztcclxuICB9XHJcblxyXG4gIGhpZGVMYWJlbCA9ICgpOiB2b2lkID0+IHtcclxuICAgIHRoaXMudG9vbHRpcC5lbGVtLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XHJcbiAgfVxyXG5cclxuICBzaG93TGFiZWwgPSAoKTogdm9pZCA9PiB7XHJcbiAgICB0aGlzLnRvb2x0aXAuZWxlbS5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcclxuICB9XHJcblxyXG4gIHNob3dSdW5uZXIgPSAoKTogdm9pZCA9PiB7XHJcbiAgICB0aGlzLmtub2IuZWxlbS5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcclxuICB9XHJcblxyXG4gIGFwcGVuZFRvTm9kZSA9IChlbnRyeTogSFRNTEVsZW1lbnQpOiB2b2lkID0+IHtcclxuICAgIFt0aGlzLmtub2IuZWxlbSwgdGhpcy50b29sdGlwLmVsZW1dLmZvckVhY2goKGVsZW0pID0+IHtcclxuICAgICAgZW50cnkuYXBwZW5kQ2hpbGQoZWxlbSk7XHJcbiAgICAgIGVsZW0ub25tb3VzZWRvd24gPSB0aGlzLmhhbmRsZVJ1bm5lck1vdXNlRG93bjsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1wYXJhbS1yZWFzc2lnblxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGhhbmRsZVJ1bm5lck1vdXNlRG93biA9IChldmVudDogTW91c2VFdmVudCk6IHZvaWQgPT4ge1xyXG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIHRoaXMuaGFuZGxlUnVubmVyTW91c2VNb3ZlKTtcclxuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCB0aGlzLmhhbmRsZVJ1bm5lck1vdXNlVXApO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBoYW5kbGVSdW5uZXJNb3VzZU1vdmUgPSAoZXZlbnQ6IE1vdXNlRXZlbnQpOiB2b2lkID0+IHtcclxuICAgIHRoaXMub2JzZXJ2ZXJzLm5vdGlmeU9ic2VydmVyc0RhdGEoeyBldmVudDogZXZlbnQsIHJ1bm5lcjogdGhpcyB9KTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgaGFuZGxlUnVubmVyTW91c2VVcCA9ICgpOiB2b2lkID0+IHtcclxuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCB0aGlzLmhhbmRsZVJ1bm5lck1vdXNlVXApO1xyXG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgdGhpcy5oYW5kbGVSdW5uZXJNb3VzZU1vdmUpO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgUnVubmVyO1xyXG4iLCJpbXBvcnQgKiBhcyB0eXBlcyBmcm9tICcuLi90eXBlcyc7XHJcbmltcG9ydCBWaWV3IGZyb20gJy4uL1ZpZXcvVmlldyc7XHJcbmltcG9ydCBNb2RlbCBmcm9tICcuLi9Nb2RlbC9Nb2RlbCc7XHJcbmltcG9ydCBNYWtlT2JzZXJ2YWJsZU9iamVjdCBmcm9tICcuLi9tYWtlT2JzZXJ2YWJsZU9iamVjdC9NYWtlT2JzZXJ2YWJsZU9iamVjdCc7XHJcbmltcG9ydCBQYXJzaW5nRGlnaXRzIGZyb20gJy4vYmxvY2tzL3BhcnNpbmdEaWdpdHMvUGFyc2luZ0RpZ2l0cyc7XHJcblxyXG5jbGFzcyBDb250cm9sbGVyIHtcclxuICB2aWV3OiBWaWV3O1xyXG5cclxuICBtb2RlbDogTW9kZWw7XHJcblxyXG4gIG9ic2VydmVyczogTWFrZU9ic2VydmFibGVPYmplY3Q7XHJcblxyXG4gIGNvbnN0cnVjdG9yKHBhcmFtZXRlcnMgPSB0eXBlcy5kZWZhdWx0UGFyYW1ldGVycykge1xyXG4gICAgdGhpcy52aWV3ID0gbmV3IFZpZXcocGFyYW1ldGVycyk7XHJcbiAgICB0aGlzLm1vZGVsID0gbmV3IE1vZGVsKHtcclxuICAgICAgY3VycmVudE1pblZhbHVlOiBwYXJhbWV0ZXJzLm1pblZhbHVlLFxyXG4gICAgICBjdXJyZW50TWF4VmFsdWU6IHBhcmFtZXRlcnMubWF4VmFsdWVcclxuICAgIH0pO1xyXG4gICAgdGhpcy5vYnNlcnZlcnMgPSBuZXcgTWFrZU9ic2VydmFibGVPYmplY3QoKTtcclxuICAgIHRoaXMuYWRkVmlld09ic2VydmVyKCk7XHJcbiAgICB0aGlzLmFkZE1vZGVsT2JzZXJ2ZXIoKTtcclxuICB9XHJcblxyXG4gIGFwcGVuZFRvTm9kZSA9IChlbnRyeTogSlF1ZXJ5KTogdm9pZCA9PiB7XHJcbiAgICB0aGlzLnZpZXcuYXBwZW5kVG9Ob2RlKGVudHJ5LmdldCgwKSk7XHJcbiAgICB0aGlzLnZpZXcuaW5pdCgpO1xyXG4gIH1cclxuXHJcbiAgdXBkYXRlQ29uZmlnID0gKHBhcmFtZXRlcnM6IHR5cGVzLlJhd1BhcmFtZXRlcnMpOiB2b2lkID0+IHtcclxuICAgIGNvbnN0IHBhcmFtZXRlcnNTbmFwc2hvdCA9IHBhcmFtZXRlcnM7XHJcbiAgICBPYmplY3Qua2V5cyhwYXJhbWV0ZXJzKS5mb3JFYWNoKChrZXkpID0+IHtcclxuICAgICAgaWYgKGtleSA9PT0gJ3N0ZXAnKSB7XHJcbiAgICAgICAgcGFyYW1ldGVyc1NuYXBzaG90LnN0ZXAgPSB0aGlzLmNoZWNrU3RlcChwYXJhbWV0ZXJzLnN0ZXAgYXMgc3RyaW5nKTtcclxuICAgICAgfSBlbHNlIGlmIChrZXkgPT09ICdtYXhWYWx1ZScpIHtcclxuICAgICAgICBwYXJhbWV0ZXJzU25hcHNob3QubWF4VmFsdWUgPSB0aGlzLmNoZWNrTWF4VmFsdWUocGFyYW1ldGVycy5tYXhWYWx1ZSBhcyBzdHJpbmcpO1xyXG4gICAgICB9IGVsc2UgaWYgKGtleSA9PT0gJ21pblZhbHVlJykge1xyXG4gICAgICAgIHBhcmFtZXRlcnNTbmFwc2hvdC5taW5WYWx1ZSA9IHRoaXMuY2hlY2tNaW5WYWx1ZShwYXJhbWV0ZXJzLm1pblZhbHVlIGFzIHN0cmluZyk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIHRoaXMudmlldy5wYXJhbWV0ZXJzID0gT2JqZWN0LmFzc2lnbih0aGlzLnZpZXcucGFyYW1ldGVycywgcGFyYW1ldGVyc1NuYXBzaG90KTtcclxuICAgIHRoaXMudmlldy5pbml0KCk7XHJcbiAgfVxyXG5cclxuICBnZXRWYWx1ZXMgPSAoKTogdHlwZXMuQ3VycmVudFZhbHVlcyA9PiB7XHJcbiAgICByZXR1cm4gdGhpcy5tb2RlbC5jdXJyZW50VmFsdWVzO1xyXG4gIH1cclxuXHJcbiAgc2V0VmFsdWVzID0gKGN1cnJlbnRNaW5WYWx1ZTogbnVtYmVyLCBjdXJyZW50TWF4VmFsdWU6IG51bWJlcik6IHZvaWQgPT4ge1xyXG4gICAgaWYgKGN1cnJlbnRNaW5WYWx1ZSB8fCBjdXJyZW50TWluVmFsdWUgPT09IDApIHtcclxuICAgICAgdGhpcy5tb2RlbC5zZXRDdXJyZW50TWluVmFsdWUoY3VycmVudE1pblZhbHVlKTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoY3VycmVudE1heFZhbHVlIHx8IGN1cnJlbnRNYXhWYWx1ZSA9PT0gMCkge1xyXG4gICAgICB0aGlzLm1vZGVsLnNldEN1cnJlbnRNYXhWYWx1ZShjdXJyZW50TWF4VmFsdWUpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZ2V0Q29uZmlnID0gKCk6IHR5cGVzLlBhcmFtZXRlcnMgPT4ge1xyXG4gICAgcmV0dXJuIHRoaXMudmlldy5wYXJhbWV0ZXJzO1xyXG4gIH1cclxuXHJcbiAgYWRkT2JzZXJ2ZXIgPSAoZm46IHR5cGVzLkZ1bmN0aW9uQ2FsbGJhY2tWb2lkKTogdm9pZCA9PiB7XHJcbiAgICB0aGlzLm9ic2VydmVycy5hZGRPYnNlcnZlcihmbik7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGNoZWNrU3RlcCA9IChzdGVwOiBzdHJpbmcpOiBudW1iZXIgPT4ge1xyXG4gICAgY29uc3Qgc3RlcENoZWNrZWQgPSBNYXRoLmFicyhQYXJzaW5nRGlnaXRzLnBhcnNpbmcoc3RlcCkpO1xyXG5cclxuICAgIGlmICh0aGlzLmlzU3RlcFZhbHVlV3Jvbmcoc3RlcENoZWNrZWQpKSB7XHJcbiAgICAgIHJldHVybiB0aGlzLnZpZXcucGFyYW1ldGVycy5zdGVwO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChzdGVwQ2hlY2tlZCAlIDEgIT09IDApIHtcclxuICAgICAgdGhpcy52aWV3LnBhcmFtZXRlcnMuaXNGbG9hdCA9IHRydWU7XHJcbiAgICB9IGVsc2UgaWYgKCF0aGlzLmlzT3RoZXJzVmFsdWVzRmxvYXQoJ3N0ZXAnKSkge1xyXG4gICAgICB0aGlzLnZpZXcucGFyYW1ldGVycy5pc0Zsb2F0ID0gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHN0ZXBDaGVja2VkO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBpc1N0ZXBWYWx1ZVdyb25nID0gKHN0ZXBDaGVja2VkOiBudW1iZXIpOiBib29sZWFuID0+IHtcclxuICAgIGNvbnN0IGlzU3RlcE1vcmVUaGFuSGFsZiA9IHN0ZXBDaGVja2VkXHJcbiAgICAgID4gKHRoaXMudmlldy5wYXJhbWV0ZXJzLm1heFZhbHVlIC0gdGhpcy52aWV3LnBhcmFtZXRlcnMubWluVmFsdWUpIC8gMjtcclxuICAgIHJldHVybiAoc3RlcENoZWNrZWQgPT09IG51bGwgfHwgc3RlcENoZWNrZWQgPT09IDAgfHwgaXNTdGVwTW9yZVRoYW5IYWxmKTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgaXNPdGhlcnNWYWx1ZXNGbG9hdCA9IChwYXJhbWV0ZXI6IHN0cmluZyk6IGJvb2xlYW4gPT4ge1xyXG4gICAgc3dpdGNoIChwYXJhbWV0ZXIpIHtcclxuICAgICAgY2FzZSAnc3RlcCc6XHJcbiAgICAgICAgcmV0dXJuICh0aGlzLnZpZXcucGFyYW1ldGVycy5tYXhWYWx1ZSAlIDEgIT09IDAgfHwgdGhpcy52aWV3LnBhcmFtZXRlcnMubWluVmFsdWUgJSAxICE9PSAwKTtcclxuICAgICAgY2FzZSAnbWF4VmFsdWUnOlxyXG4gICAgICAgIHJldHVybiAodGhpcy52aWV3LnBhcmFtZXRlcnMuc3RlcCAlIDEgIT09IDAgfHwgdGhpcy52aWV3LnBhcmFtZXRlcnMubWluVmFsdWUgJSAxICE9PSAwKTtcclxuICAgICAgY2FzZSAnbWluVmFsdWUnOlxyXG4gICAgICAgIHJldHVybiAodGhpcy52aWV3LnBhcmFtZXRlcnMuc3RlcCAlIDEgIT09IDAgfHwgdGhpcy52aWV3LnBhcmFtZXRlcnMubWF4VmFsdWUgJSAxICE9PSAwKTtcclxuICAgICAgZGVmYXVsdDpcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGNoZWNrTWF4VmFsdWUgPSAobWF4VmFsdWU6IHN0cmluZyk6IG51bWJlciA9PiB7XHJcbiAgICBjb25zdCBtYXhWYWx1ZUNoZWNrZWQgPSBQYXJzaW5nRGlnaXRzLnBhcnNpbmcobWF4VmFsdWUpO1xyXG5cclxuICAgIGlmICh0aGlzLmlzTWF4VmFsdWVXcm9uZyhtYXhWYWx1ZUNoZWNrZWQpKSB7XHJcbiAgICAgIHJldHVybiB0aGlzLnZpZXcucGFyYW1ldGVycy5tYXhWYWx1ZTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAobWF4VmFsdWVDaGVja2VkICUgMSAhPT0gMCkge1xyXG4gICAgICB0aGlzLnZpZXcucGFyYW1ldGVycy5pc0Zsb2F0ID0gdHJ1ZTtcclxuICAgIH0gZWxzZSBpZiAoIXRoaXMuaXNPdGhlcnNWYWx1ZXNGbG9hdCgnbWF4VmFsdWUnKSkge1xyXG4gICAgICB0aGlzLnZpZXcucGFyYW1ldGVycy5pc0Zsb2F0ID0gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIG1heFZhbHVlQ2hlY2tlZDtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgaXNNYXhWYWx1ZVdyb25nID0gKG1heFZhbHVlQ2hlY2tlZDogbnVtYmVyKTogYm9vbGVhbiA9PiB7XHJcbiAgICByZXR1cm4gKG1heFZhbHVlQ2hlY2tlZCA9PT0gbnVsbCB8fCBtYXhWYWx1ZUNoZWNrZWQgPD0gdGhpcy52aWV3LnBhcmFtZXRlcnMubWluVmFsdWUpO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBjaGVja01pblZhbHVlID0gKG1pblZhbHVlOiBzdHJpbmcpOiBudW1iZXIgPT4ge1xyXG4gICAgY29uc3QgbWluVmFsdWVDaGVja2VkID0gUGFyc2luZ0RpZ2l0cy5wYXJzaW5nKG1pblZhbHVlKTtcclxuXHJcbiAgICBpZiAodGhpcy5pc01pblZhbHVlV3JvbmcobWluVmFsdWVDaGVja2VkKSkge1xyXG4gICAgICByZXR1cm4gdGhpcy52aWV3LnBhcmFtZXRlcnMubWluVmFsdWU7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKG1pblZhbHVlQ2hlY2tlZCAlIDEgIT09IDApIHtcclxuICAgICAgdGhpcy52aWV3LnBhcmFtZXRlcnMuaXNGbG9hdCA9IHRydWU7XHJcbiAgICB9IGVsc2UgaWYgKCF0aGlzLmlzT3RoZXJzVmFsdWVzRmxvYXQoJ21pblZhbHVlJykpIHtcclxuICAgICAgdGhpcy52aWV3LnBhcmFtZXRlcnMuaXNGbG9hdCA9IGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBtaW5WYWx1ZUNoZWNrZWQ7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGlzTWluVmFsdWVXcm9uZyA9IChtaW5WYWx1ZUNoZWNrZWQ6IG51bWJlcik6IGJvb2xlYW4gPT4ge1xyXG4gICAgcmV0dXJuIChtaW5WYWx1ZUNoZWNrZWQgPT09IG51bGwgfHwgbWluVmFsdWVDaGVja2VkID49IHRoaXMudmlldy5wYXJhbWV0ZXJzLm1heFZhbHVlKTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgYWRkVmlld09ic2VydmVyID0gKCk6IHZvaWQgPT4ge1xyXG4gICAgdGhpcy52aWV3Lm9ic2VydmVycy5hZGRPYnNlcnZlcigoKSA9PiB7XHJcbiAgICAgIHRoaXMubW9kZWwuY3VycmVudFZhbHVlcyA9IHRoaXMudmlldy5jdXJyZW50VmFsdWVzO1xyXG4gICAgICB0aGlzLm9ic2VydmVycy5ub3RpZnlPYnNlcnZlcnMoKTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBhZGRNb2RlbE9ic2VydmVyID0gKCk6IHZvaWQgPT4ge1xyXG4gICAgdGhpcy5tb2RlbC5vYnNlcnZlcnMuYWRkT2JzZXJ2ZXIoKCkgPT4ge1xyXG4gICAgICB0aGlzLnZpZXcuY3VycmVudFZhbHVlcyA9IHRoaXMubW9kZWwuY3VycmVudFZhbHVlcztcclxuICAgICAgdGhpcy52aWV3LmluaXQoKTtcclxuICAgIH0pO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgQ29udHJvbGxlcjtcclxuIiwiaW1wb3J0ICogYXMgdHlwZXMgZnJvbSAnLi4vdHlwZXMnO1xyXG5pbXBvcnQgTWFrZU9ic2VydmFibGVPYmplY3QgZnJvbSAnLi4vbWFrZU9ic2VydmFibGVPYmplY3QvTWFrZU9ic2VydmFibGVPYmplY3QnO1xyXG5pbXBvcnQgVHJhY2sgZnJvbSAnLi9ibG9ja3MvVHJhY2svVHJhY2snO1xyXG5cclxuY2xhc3MgVmlldyB7XHJcbiAgcGFyYW1ldGVyczogdHlwZXMuUGFyYW1ldGVycztcclxuXHJcbiAgY3VycmVudFZhbHVlczogdHlwZXMuQ3VycmVudFZhbHVlcztcclxuXHJcbiAgb2JzZXJ2ZXJzOiBNYWtlT2JzZXJ2YWJsZU9iamVjdDtcclxuXHJcbiAgdHJhY2s6IFRyYWNrO1xyXG5cclxuICBjb25zdHJ1Y3RvcihwYXJhbWV0ZXJzID0gdHlwZXMuZGVmYXVsdFBhcmFtZXRlcnMpIHtcclxuICAgIHRoaXMuY3VycmVudFZhbHVlcyA9IHtcclxuICAgICAgY3VycmVudE1pblZhbHVlOiBwYXJhbWV0ZXJzLm1pblZhbHVlLFxyXG4gICAgICBjdXJyZW50TWF4VmFsdWU6IHBhcmFtZXRlcnMubWF4VmFsdWVcclxuICAgIH07XHJcblxyXG4gICAgdGhpcy5vYnNlcnZlcnMgPSBuZXcgTWFrZU9ic2VydmFibGVPYmplY3QoKTtcclxuICAgIHRoaXMucGFyYW1ldGVycyA9IHBhcmFtZXRlcnM7XHJcbiAgICB0aGlzLnRyYWNrID0gbmV3IFRyYWNrKHRoaXMucGFyYW1ldGVycyk7XHJcbiAgICB0aGlzLnRyYWNrLm9ic2VydmVycy5hZGRPYnNlcnZlcih0aGlzLmhhbmRsZVRyYWNrVmFsdWVDaGFuZ2luZyk7XHJcbiAgfVxyXG5cclxuICBpbml0ID0gKCk6IHZvaWQgPT4ge1xyXG4gICAgdGhpcy50cmFjay5pbml0KHRoaXMucGFyYW1ldGVycyk7XHJcbiAgICB0aGlzLnRyYWNrLnJlbmV3UnVubmVycyh0aGlzLmN1cnJlbnRWYWx1ZXMpO1xyXG4gIH1cclxuXHJcbiAgaGFuZGxlVHJhY2tWYWx1ZUNoYW5naW5nID0gKGRhdGE6IHR5cGVzLkN1cnJlbnRWYWx1ZUNoYW5naW5nRGF0YSk6IHZvaWQgPT4ge1xyXG4gICAgaWYgKGRhdGEudHlwZU9mVmFsdWUgPT09ICdtaW5WYWx1ZScpIHtcclxuICAgICAgdGhpcy5jdXJyZW50VmFsdWVzLmN1cnJlbnRNaW5WYWx1ZSA9IGRhdGEudmFsdWU7XHJcbiAgICB9IGVsc2UgaWYgKGRhdGEudHlwZU9mVmFsdWUgPT09ICdtYXhWYWx1ZScpIHtcclxuICAgICAgdGhpcy5jdXJyZW50VmFsdWVzLmN1cnJlbnRNYXhWYWx1ZSA9IGRhdGEudmFsdWU7XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5vYnNlcnZlcnMubm90aWZ5T2JzZXJ2ZXJzKCk7XHJcbiAgfVxyXG5cclxuICBhcHBlbmRUb05vZGUgPSAoZW50cnk6IEhUTUxFbGVtZW50KTogdm9pZCA9PiB7XHJcbiAgICB0aGlzLnRyYWNrLmFwcGVuZFRvTm9kZShlbnRyeSk7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBWaWV3O1xyXG4iLCJpbXBvcnQgKiBhcyB0eXBlcyBmcm9tICcuLi8uLi8uLi90eXBlcyc7XHJcbmltcG9ydCBCYXIgZnJvbSAnLi4vQmFyL0Jhcic7XHJcbmltcG9ydCBSdW5uZXIgZnJvbSAnLi4vUnVubmVyL1J1bm5lcic7XHJcbmltcG9ydCBTY2FsZSBmcm9tICcuLi9TY2FsZS9TY2FsZSc7XHJcbmltcG9ydCBQcm9ncmVzc0JhciBmcm9tICcuLi9Qcm9ncmVzc0Jhci9Qcm9ncmVzc0Jhcic7XHJcbmltcG9ydCBNYWtlT2JzZXJ2YWJsZU9iamVjdCBmcm9tICcuLi8uLi8uLi9tYWtlT2JzZXJ2YWJsZU9iamVjdC9NYWtlT2JzZXJ2YWJsZU9iamVjdCc7XHJcblxyXG5jbGFzcyBUcmFjayB7XHJcbiAgcGFyYW1ldGVyczogdHlwZXMuUGFyYW1ldGVycztcclxuXHJcbiAgcnVubmVyTWFpbjogUnVubmVyO1xyXG5cclxuICBydW5uZXJBZGRpdGlvbmFsOiBSdW5uZXI7XHJcblxyXG4gIHByb2dyZXNzQmFyOiBQcm9ncmVzc0JhcjtcclxuXHJcbiAgYmFyOiBCYXI7XHJcblxyXG4gIHNjYWxlOiBTY2FsZTtcclxuXHJcbiAgb2JzZXJ2ZXJzOiBNYWtlT2JzZXJ2YWJsZU9iamVjdDtcclxuXHJcbiAgY29uc3RydWN0b3IocGFyYW1ldGVyczogdHlwZXMuUGFyYW1ldGVycykge1xyXG4gICAgdGhpcy5wYXJhbWV0ZXJzID0gcGFyYW1ldGVycztcclxuICAgIHRoaXMuYmFyID0gbmV3IEJhcih0aGlzLnBhcmFtZXRlcnMuaXNWZXJ0aWNhbCk7XHJcbiAgICB0aGlzLnByb2dyZXNzQmFyID0gbmV3IFByb2dyZXNzQmFyKHRoaXMucGFyYW1ldGVycy5pc1ZlcnRpY2FsKTtcclxuICAgIHRoaXMuc2NhbGUgPSBuZXcgU2NhbGUodGhpcy5wYXJhbWV0ZXJzLCB0aGlzLmhhbmRsZVNjYWxlQ2xpY2spO1xyXG4gICAgdGhpcy5ydW5uZXJBZGRpdGlvbmFsID0gbmV3IFJ1bm5lcih0aGlzLnBhcmFtZXRlcnMuaXNWZXJ0aWNhbCwgdGhpcy5oYW5kbGVSdW5uZXJNb3ZlKTtcclxuICAgIHRoaXMucnVubmVyTWFpbiA9IG5ldyBSdW5uZXIodGhpcy5wYXJhbWV0ZXJzLmlzVmVydGljYWwsIHRoaXMuaGFuZGxlUnVubmVyTW92ZSk7XHJcbiAgICB0aGlzLm9ic2VydmVycyA9IG5ldyBNYWtlT2JzZXJ2YWJsZU9iamVjdCgpO1xyXG4gIH1cclxuXHJcbiAgaW5pdCA9IChwYXJhbWV0ZXJzOiB0eXBlcy5QYXJhbWV0ZXJzKTogdm9pZCA9PiB7XHJcbiAgICB0aGlzLnBhcmFtZXRlcnMgPSBwYXJhbWV0ZXJzO1xyXG4gICAgdGhpcy5iYXIuaW5pdCh0aGlzLnBhcmFtZXRlcnMuaXNWZXJ0aWNhbCk7XHJcbiAgICB0aGlzLnByb2dyZXNzQmFyLmluaXQodGhpcy5wYXJhbWV0ZXJzLmlzVmVydGljYWwpO1xyXG4gICAgdGhpcy5ydW5uZXJBZGRpdGlvbmFsLmluaXQodGhpcy5wYXJhbWV0ZXJzLmlzVmVydGljYWwpO1xyXG4gICAgdGhpcy5ydW5uZXJNYWluLmluaXQodGhpcy5wYXJhbWV0ZXJzLmlzVmVydGljYWwpO1xyXG4gICAgdGhpcy5zY2FsZS5pbml0KHRoaXMucGFyYW1ldGVycyk7XHJcbiAgICB0aGlzLnJ1bm5lckFkZGl0aW9uYWwuaGlkZVJ1bm5lcigpO1xyXG5cclxuICAgIGlmICh0aGlzLnBhcmFtZXRlcnMuc2hvd0xhYmVsKSB7XHJcbiAgICAgIHRoaXMucnVubmVyQWRkaXRpb25hbC5zaG93TGFiZWwoKTtcclxuICAgICAgdGhpcy5ydW5uZXJNYWluLnNob3dMYWJlbCgpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5ydW5uZXJBZGRpdGlvbmFsLmhpZGVMYWJlbCgpO1xyXG4gICAgICB0aGlzLnJ1bm5lck1haW4uaGlkZUxhYmVsKCk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHRoaXMucGFyYW1ldGVycy5pc1JhbmdlKSB7XHJcbiAgICAgIHRoaXMucnVubmVyQWRkaXRpb25hbC5zaG93UnVubmVyKCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLnJ1bm5lckFkZGl0aW9uYWwuaGlkZVJ1bm5lcigpO1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXMucnVubmVyQWRkaXRpb25hbC5zZXRQb3NpdGlvbihcclxuICAgICAgLXRoaXMucnVubmVyQWRkaXRpb25hbC5nZXRXaWR0aCgpIC8gMixcclxuICAgICAgdGhpcy5wYXJhbWV0ZXJzLm1pblZhbHVlXHJcbiAgICApO1xyXG4gICAgdGhpcy5ydW5uZXJNYWluLnNldFBvc2l0aW9uKFxyXG4gICAgICB0aGlzLmJhci5nZXREaW1lbnNpb24oKSAtIHRoaXMucnVubmVyTWFpbi5nZXRXaWR0aCgpIC8gMixcclxuICAgICAgdGhpcy5wYXJhbWV0ZXJzLm1heFZhbHVlXHJcbiAgICApO1xyXG4gIH1cclxuXHJcbiAgcmVuZXdSdW5uZXJzKGN1cnJlbnRWYWx1ZXM6IHR5cGVzLkN1cnJlbnRWYWx1ZXMpOiB2b2lkIHtcclxuICAgIHRoaXMubW92ZVJ1bm5lcihcclxuICAgICAgdGhpcy5wcm9jZXNzUnVubmVyT2Zmc2V0KFxyXG4gICAgICAgIHRoaXMuY29udmVydE9mZnNldFRvVmFsdWUoY3VycmVudFZhbHVlcy5jdXJyZW50TWF4VmFsdWUpLFxyXG4gICAgICAgIHRoaXMucnVubmVyTWFpblxyXG4gICAgICApXHJcbiAgICApO1xyXG4gICAgdGhpcy5tb3ZlUnVubmVyKFxyXG4gICAgICB0aGlzLnByb2Nlc3NSdW5uZXJPZmZzZXQoXHJcbiAgICAgICAgdGhpcy5jb252ZXJ0T2Zmc2V0VG9WYWx1ZShjdXJyZW50VmFsdWVzLmN1cnJlbnRNaW5WYWx1ZSksXHJcbiAgICAgICAgdGhpcy5ydW5uZXJBZGRpdGlvbmFsXHJcbiAgICAgIClcclxuICAgICk7XHJcbiAgfVxyXG5cclxuICBhcHBlbmRUb05vZGUgPSAoZW50cnk6IEhUTUxFbGVtZW50KTogdm9pZCA9PiB7XHJcbiAgICBlbnRyeS5hcHBlbmRDaGlsZCh0aGlzLmJhci5lbGVtKS5hcHBlbmRDaGlsZCh0aGlzLnByb2dyZXNzQmFyLmVsZW0pO1xyXG4gICAgdGhpcy5iYXIuZWxlbS5vbmNsaWNrID0gdGhpcy5oYW5kbGVCYXJDbGljaztcclxuICAgIHRoaXMucnVubmVyTWFpbi5hcHBlbmRUb05vZGUoZW50cnkpO1xyXG4gICAgdGhpcy5ydW5uZXJBZGRpdGlvbmFsLmFwcGVuZFRvTm9kZShlbnRyeSk7XHJcblxyXG4gICAgdGhpcy5zY2FsZS5tYXJrcy5mb3JFYWNoKChtYXJrKSA9PiB7XHJcbiAgICAgIGVudHJ5LmFwcGVuZENoaWxkKG1hcmsuZWxlbSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICB0aGlzLnNjYWxlLm1vdmVNYXJrcygpO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBjb252ZXJ0T2Zmc2V0VG9WYWx1ZSA9ICh2YWx1ZTogbnVtYmVyKTogbnVtYmVyID0+IHtcclxuICAgIHJldHVybiAoKCh2YWx1ZSAtIHRoaXMucGFyYW1ldGVycy5taW5WYWx1ZSkgKiB0aGlzLmJhci5nZXREaW1lbnNpb24oKSlcclxuICAgICAgLyAodGhpcy5wYXJhbWV0ZXJzLm1heFZhbHVlIC0gdGhpcy5wYXJhbWV0ZXJzLm1pblZhbHVlKVxyXG4gICAgICAtIHRoaXMucnVubmVyTWFpbi5nZXRXaWR0aCgpIC8gMik7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGdldE1haW5SdW5uZXJPZmZzZXQgPSAoKTogbnVtYmVyID0+IHtcclxuICAgIGNvbnN0IG9mZnNldCA9IHRoaXMucnVubmVyTWFpbi5nZXRQb3NpdGlvbigpIC0gdGhpcy5iYXIuZ2V0UG9zaXRpb24oKVxyXG4gICAgICArIHRoaXMucnVubmVyTWFpbi5nZXRXaWR0aCgpIC8gMjtcclxuICAgIHJldHVybiBvZmZzZXQgPCAwID8gMCA6IG9mZnNldDtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgZ2V0QWRkaXRpb25hbFJ1bm5lck9mZnNldCA9ICgpOiBudW1iZXIgPT4ge1xyXG4gICAgaWYgKHRoaXMucGFyYW1ldGVycy5pc1JhbmdlKSB7XHJcbiAgICAgIHJldHVybiB0aGlzLnJ1bm5lckFkZGl0aW9uYWwuZ2V0UG9zaXRpb24oKSAtIHRoaXMuYmFyLmdldFBvc2l0aW9uKClcclxuICAgICAgICArIHRoaXMucnVubmVyTWFpbi5nZXRXaWR0aCgpIC8gMjtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gMDtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgaGFuZGxlUnVubmVyTW92ZSA9ICh7IGV2ZW50LCBydW5uZXIgfTogdHlwZXMuUnVubmVyT2JzZXJ2ZXJEYXRhKTogdm9pZCA9PiB7XHJcbiAgICB0aGlzLm1vdmVSdW5uZXIodGhpcy5wcm9jZXNzUnVubmVyTW91c2VFdmVudChldmVudCwgcnVubmVyKSk7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIG1vdmVSdW5uZXIgPSAob2JqOiB0eXBlcy5SdW5uZXJNb3ZlRGF0YSk6IHZvaWQgPT4ge1xyXG4gICAgb2JqLnJ1bm5lci5zZXRQb3NpdGlvbihvYmoub2Zmc2V0LCBvYmoudmFsdWUpO1xyXG5cclxuICAgIGlmIChvYmoucnVubmVyID09PSB0aGlzLnJ1bm5lckFkZGl0aW9uYWwpIHtcclxuICAgICAgdGhpcy5vYnNlcnZlcnMubm90aWZ5T2JzZXJ2ZXJzRGF0YSh7IHR5cGVPZlZhbHVlOiAnbWluVmFsdWUnLCB2YWx1ZTogb2JqLnZhbHVlIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChvYmoucnVubmVyID09PSB0aGlzLnJ1bm5lck1haW4pIHtcclxuICAgICAgdGhpcy5vYnNlcnZlcnMubm90aWZ5T2JzZXJ2ZXJzRGF0YSh7IHR5cGVPZlZhbHVlOiAnbWF4VmFsdWUnLCB2YWx1ZTogb2JqLnZhbHVlIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXMudXBkYXRlUHJvZ3Jlc3NCYXIoKTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgcHJvY2Vzc1J1bm5lck1vdXNlRXZlbnQgPSAoZXZlbnRNbTogTW91c2VFdmVudCwgcnVubmVyOiBSdW5uZXIpOiB0eXBlcy5SdW5uZXJNb3ZlRGF0YSA9PiB7XHJcbiAgICBjb25zdCBjb29yZGluYXRlID0gdGhpcy5wYXJhbWV0ZXJzLmlzVmVydGljYWwgPyBldmVudE1tLmNsaWVudFkgOiBldmVudE1tLmNsaWVudFg7XHJcbiAgICBjb25zdCBvZmZzZXQgPSBjb29yZGluYXRlIC0gdGhpcy5iYXIuZ2V0UG9zaXRpb24oKSAtIHRoaXMucnVubmVyQWRkaXRpb25hbC5nZXRXaWR0aCgpIC8gMjtcclxuXHJcbiAgICByZXR1cm4gdGhpcy5wcm9jZXNzUnVubmVyT2Zmc2V0KG9mZnNldCwgcnVubmVyKTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgcHJvY2Vzc1J1bm5lck9mZnNldCA9IChvZmZzZXQ6IG51bWJlciwgcnVubmVyOiBSdW5uZXIpOiB0eXBlcy5SdW5uZXJNb3ZlRGF0YSA9PiB7XHJcbiAgICBsZXQgcm91bmRWYWx1ZSA9IDA7XHJcbiAgICBsZXQgcm91bmRPZmZzZXQ7XHJcbiAgICByb3VuZE9mZnNldCA9IHRoaXMuY2hlY2tSdW5uZXJPZmZzZXQob2Zmc2V0LCBydW5uZXIpO1xyXG4gICAgW3JvdW5kT2Zmc2V0LCByb3VuZFZhbHVlXSA9IHRoaXMucm91bmRPZmZzZXRSdW5uZXIocm91bmRPZmZzZXQpO1xyXG5cclxuICAgIHJldHVybiB7XHJcbiAgICAgIHJ1bm5lcjogcnVubmVyLFxyXG4gICAgICBvZmZzZXQ6IHJvdW5kT2Zmc2V0LFxyXG4gICAgICB2YWx1ZTogcm91bmRWYWx1ZVxyXG4gICAgfTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgY2hlY2tSdW5uZXJPZmZzZXQgPSAob2Zmc2V0OiBudW1iZXIsIHJ1bm5lcjogUnVubmVyKTogbnVtYmVyID0+IHtcclxuICAgIGNvbnN0IHN0ZXBXaWR0aCA9ICh0aGlzLnBhcmFtZXRlcnMuc3RlcCAqIHRoaXMuYmFyLmdldERpbWVuc2lvbigpKVxyXG4gICAgICAvICh0aGlzLnBhcmFtZXRlcnMubWF4VmFsdWUgLSB0aGlzLnBhcmFtZXRlcnMubWluVmFsdWUpO1xyXG4gICAgY29uc3QgbWluT2Zmc2V0ID0gc3RlcFdpZHRoIC8gMS41ID4gdGhpcy5ydW5uZXJNYWluLmdldFdpZHRoKClcclxuICAgICAgPyBzdGVwV2lkdGggLyAxLjVcclxuICAgICAgOiB0aGlzLnJ1bm5lck1haW4uZ2V0V2lkdGgoKTtcclxuICAgIGxldCBuZXdPZmZzZXQgPSBvZmZzZXQ7XHJcblxyXG4gICAgaWYgKHJ1bm5lciA9PT0gdGhpcy5ydW5uZXJBZGRpdGlvbmFsKSB7XHJcbiAgICAgIGlmIChvZmZzZXQgPiB0aGlzLnJ1bm5lck1haW4uZ2V0UG9zaXRpb24oKSAtIHRoaXMuYmFyLmdldFBvc2l0aW9uKCkgLSBtaW5PZmZzZXQpIHtcclxuICAgICAgICBuZXdPZmZzZXQgPSB0aGlzLnJ1bm5lck1haW4uZ2V0UG9zaXRpb24oKSAtIHRoaXMuYmFyLmdldFBvc2l0aW9uKCkgLSBtaW5PZmZzZXQ7XHJcbiAgICAgIH1cclxuICAgIH0gZWxzZSBpZiAocnVubmVyID09PSB0aGlzLnJ1bm5lck1haW4pIHtcclxuICAgICAgaWYgKG9mZnNldCA8IHRoaXMucnVubmVyQWRkaXRpb25hbC5nZXRQb3NpdGlvbigpIC0gdGhpcy5iYXIuZ2V0UG9zaXRpb24oKSArIG1pbk9mZnNldCkge1xyXG4gICAgICAgIG5ld09mZnNldCA9IHRoaXMucnVubmVyQWRkaXRpb25hbC5nZXRQb3NpdGlvbigpIC0gdGhpcy5iYXIuZ2V0UG9zaXRpb24oKSArIG1pbk9mZnNldDtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBuZXdPZmZzZXQ7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIHJvdW5kT2Zmc2V0UnVubmVyID0gKGN1cnJlbnRPZmZzZXQ6IG51bWJlcik6IFtudW1iZXIsIG51bWJlcl0gPT4ge1xyXG4gICAgY29uc3QgY3VycmVudFZhbHVlID0gdGhpcy5wYXJhbWV0ZXJzLm1pblZhbHVlXHJcbiAgICAgICsgKChjdXJyZW50T2Zmc2V0ICsgdGhpcy5ydW5uZXJNYWluLmdldFdpZHRoKCkgLyAyKVxyXG4gICAgICAqICh0aGlzLnBhcmFtZXRlcnMubWF4VmFsdWUgLSB0aGlzLnBhcmFtZXRlcnMubWluVmFsdWUpKVxyXG4gICAgICAvIHRoaXMuYmFyLmdldERpbWVuc2lvbigpO1xyXG4gICAgbGV0IHJvdW5kVmFsdWUgPSB0aGlzLnJvdW5kKGN1cnJlbnRWYWx1ZSwgdGhpcy5wYXJhbWV0ZXJzLnN0ZXApO1xyXG5cclxuICAgIGlmICh0aGlzLnBhcmFtZXRlcnMuaXNGbG9hdCkge1xyXG4gICAgICByb3VuZFZhbHVlID0gcGFyc2VGbG9hdChyb3VuZFZhbHVlLnRvRml4ZWQoMikpO1xyXG4gICAgfVxyXG5cclxuICAgIGxldCByb3VuZE9mZnNldCA9IHRoaXMuY29udmVydE9mZnNldFRvVmFsdWUocm91bmRWYWx1ZSk7XHJcblxyXG4gICAgaWYgKHJvdW5kT2Zmc2V0IDwgLXRoaXMucnVubmVyTWFpbi5nZXRXaWR0aCgpIC8gMikge1xyXG4gICAgICByb3VuZE9mZnNldCA9IC10aGlzLnJ1bm5lck1haW4uZ2V0V2lkdGgoKSAvIDI7XHJcbiAgICAgIHJvdW5kVmFsdWUgPSB0aGlzLnBhcmFtZXRlcnMubWluVmFsdWU7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHJvdW5kT2Zmc2V0ID4gdGhpcy5iYXIuZ2V0RGltZW5zaW9uKCkgLSB0aGlzLnJ1bm5lck1haW4uZ2V0V2lkdGgoKSAvIDIpIHtcclxuICAgICAgcm91bmRPZmZzZXQgPSB0aGlzLmJhci5nZXREaW1lbnNpb24oKSAtIHRoaXMucnVubmVyTWFpbi5nZXRXaWR0aCgpIC8gMjtcclxuICAgICAgcm91bmRWYWx1ZSA9IHRoaXMucGFyYW1ldGVycy5tYXhWYWx1ZTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gW3JvdW5kT2Zmc2V0LCByb3VuZFZhbHVlXTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgcm91bmQgPSAodmFsdWU6IG51bWJlciwgc3RlcDogbnVtYmVyKTogbnVtYmVyID0+IHtcclxuICAgIGNvbnN0IHdob2xlID0gTWF0aC50cnVuYyh2YWx1ZSAvIHN0ZXApO1xyXG4gICAgY29uc3QgcmVtaW5kZXIgPSArKHZhbHVlIC0gd2hvbGUgKiBzdGVwKS50b0ZpeGVkKDIpO1xyXG5cclxuICAgIGlmICh2YWx1ZSA8IDApIHtcclxuICAgICAgcmV0dXJuIE1hdGguYWJzKHJlbWluZGVyKSA8IHN0ZXAgLyAyID8gd2hvbGUgKiBzdGVwIDogKHdob2xlIC0gMSkgKiBzdGVwO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICh2YWx1ZSA8PSB0aGlzLnBhcmFtZXRlcnMubWluVmFsdWUpIHtcclxuICAgICAgcmV0dXJuIHRoaXMucGFyYW1ldGVycy5taW5WYWx1ZTtcclxuICAgIH0gaWYgKHZhbHVlID49IHRoaXMucGFyYW1ldGVycy5tYXhWYWx1ZSkge1xyXG4gICAgICByZXR1cm4gdGhpcy5wYXJhbWV0ZXJzLm1heFZhbHVlO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiByZW1pbmRlciA8IHN0ZXAgLyAyID8gd2hvbGUgKiBzdGVwIDogKHdob2xlICsgMSkgKiBzdGVwO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBoYW5kbGVTY2FsZUNsaWNrID0gKHZhbHVlOiBudW1iZXIpID0+IHtcclxuICAgIGNvbnN0IG9mZnNldCA9IHRoaXMuY29udmVydE9mZnNldFRvVmFsdWUodmFsdWUpO1xyXG4gICAgbGV0IHJ1bm5lcjtcclxuXHJcbiAgICBpZiAodGhpcy5wYXJhbWV0ZXJzLmlzUmFuZ2UpIHtcclxuICAgICAgcnVubmVyID0gdGhpcy5jaGVja1J1bm5lckNsb3NlcihvZmZzZXQpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgcnVubmVyID0gdGhpcy5ydW5uZXJNYWluO1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXMubW92ZVJ1bm5lcih0aGlzLnByb2Nlc3NSdW5uZXJPZmZzZXQob2Zmc2V0LCBydW5uZXIpKTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgY2hlY2tSdW5uZXJDbG9zZXIgPSAob2Zmc2V0OiBudW1iZXIpOiBSdW5uZXIgPT4ge1xyXG4gICAgaWYgKE1hdGguYWJzKG9mZnNldCAtIHRoaXMuZ2V0TWFpblJ1bm5lck9mZnNldCgpKVxyXG4gICAgICA8IE1hdGguYWJzKG9mZnNldCAtIHRoaXMuZ2V0QWRkaXRpb25hbFJ1bm5lck9mZnNldCgpKSkge1xyXG4gICAgICByZXR1cm4gdGhpcy5ydW5uZXJNYWluO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB0aGlzLnJ1bm5lckFkZGl0aW9uYWw7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGhhbmRsZUJhckNsaWNrID0gKGV2ZW50OiBNb3VzZUV2ZW50KTogdm9pZCA9PiB7XHJcbiAgICBjb25zdCBjb29yZGluYXRlID0gdGhpcy5wYXJhbWV0ZXJzLmlzVmVydGljYWwgPyBldmVudC5jbGllbnRZIDogZXZlbnQuY2xpZW50WDtcclxuICAgIGNvbnN0IG9mZnNldCA9IGNvb3JkaW5hdGUgLSB0aGlzLmJhci5nZXRQb3NpdGlvbigpIC0gdGhpcy5ydW5uZXJNYWluLmdldFdpZHRoKCkgLyAyO1xyXG5cclxuICAgIHRoaXMubW92ZVJ1bm5lcih0aGlzLnByb2Nlc3NSdW5uZXJPZmZzZXQob2Zmc2V0LCB0aGlzLmNoZWNrUnVubmVyQ2xvc2VyKG9mZnNldCkpKTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgdXBkYXRlUHJvZ3Jlc3NCYXIgPSAoKTogdm9pZCA9PiB7XHJcbiAgICB0aGlzLnByb2dyZXNzQmFyLmluaXQodGhpcy5wYXJhbWV0ZXJzLmlzVmVydGljYWwpO1xyXG4gICAgdGhpcy5wcm9ncmVzc0Jhci5zZXRQb3NpdGlvbih0aGlzLmdldEFkZGl0aW9uYWxSdW5uZXJPZmZzZXQoKSk7XHJcbiAgICB0aGlzLnByb2dyZXNzQmFyLnNldERpbWVuc2lvbih0aGlzLmdldE1haW5SdW5uZXJPZmZzZXQoKSAtIHRoaXMuZ2V0QWRkaXRpb25hbFJ1bm5lck9mZnNldCgpKTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IFRyYWNrO1xyXG4iLCJpbXBvcnQgY3JlYXRlRWxlbSBmcm9tICcuLi9jcmVhdGVFbGVtL2NyZWF0ZUVsZW0nO1xyXG5cclxuY2xhc3MgQmFyIHtcclxuICBlbGVtOiBIVE1MRWxlbWVudDtcclxuXHJcbiAgaXNWZXJ0aWNhbDogYm9vbGVhbjtcclxuXHJcbiAgY29uc3RydWN0b3IoaXNWZXJ0aWNhbDogYm9vbGVhbikge1xyXG4gICAgdGhpcy5lbGVtID0gY3JlYXRlRWxlbSgnc2xpZGVyX19iYXInKTtcclxuICAgIHRoaXMuaXNWZXJ0aWNhbCA9IGlzVmVydGljYWw7XHJcbiAgfVxyXG5cclxuICBnZXRQb3NpdGlvbiA9ICgpOiBudW1iZXIgPT4ge1xyXG4gICAgaWYgKHRoaXMuaXNWZXJ0aWNhbCkge1xyXG4gICAgICByZXR1cm4gdGhpcy5lbGVtLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnRvcDtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gdGhpcy5lbGVtLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmxlZnQ7XHJcbiAgfVxyXG5cclxuICBnZXREaW1lbnNpb24gPSAoKTogbnVtYmVyID0+IHtcclxuICAgIGlmICh0aGlzLmlzVmVydGljYWwpIHtcclxuICAgICAgcmV0dXJuIHRoaXMuZWxlbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5oZWlnaHQ7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHRoaXMuZWxlbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS53aWR0aDtcclxuICB9XHJcblxyXG4gIGluaXQgPSAoaXNWZXJ0aWNhbDogYm9vbGVhbik6IHZvaWQgPT4ge1xyXG4gICAgdGhpcy5pc1ZlcnRpY2FsID0gaXNWZXJ0aWNhbDtcclxuXHJcbiAgICBpZiAodGhpcy5pc1ZlcnRpY2FsKSB7XHJcbiAgICAgIHRoaXMuZWxlbS5jbGFzc0xpc3QuYWRkKCdzbGlkZXJfX2Jhcl9wb3NpdGlvbl92ZXJ0aWNhbCcpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5lbGVtLmNsYXNzTGlzdC5yZW1vdmUoJ3NsaWRlcl9fYmFyX3Bvc2l0aW9uX3ZlcnRpY2FsJyk7XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBCYXI7XHJcbiIsImltcG9ydCBjcmVhdGVFbGVtIGZyb20gJy4uL2NyZWF0ZUVsZW0vY3JlYXRlRWxlbSc7XHJcblxyXG5jbGFzcyBLbm9iIHtcclxuICBlbGVtOiBIVE1MRWxlbWVudDtcclxuXHJcbiAgaXNWZXJ0aWNhbDogYm9vbGVhbjtcclxuXHJcbiAgY29uc3RydWN0b3IoaXNWZXJ0aWNhbDogYm9vbGVhbikge1xyXG4gICAgdGhpcy5lbGVtID0gY3JlYXRlRWxlbSgnc2xpZGVyX19idXR0b24nKTtcclxuICAgIHRoaXMuaXNWZXJ0aWNhbCA9IGlzVmVydGljYWw7XHJcbiAgfVxyXG5cclxuICBnZXRXaWR0aCA9ICgpOiBudW1iZXIgPT4ge1xyXG4gICAgcmV0dXJuIHRoaXMuZWxlbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS53aWR0aDtcclxuICB9XHJcblxyXG4gIGdldFBvc2l0aW9uID0gKCk6IG51bWJlciA9PiB7XHJcbiAgICBpZiAodGhpcy5pc1ZlcnRpY2FsKSB7XHJcbiAgICAgIHJldHVybiB0aGlzLmVsZW0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkudG9wO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB0aGlzLmVsZW0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkubGVmdDtcclxuICB9XHJcblxyXG4gIHNldFBvc2l0aW9uID0gKG9mZnNldDogbnVtYmVyKTogdm9pZCA9PiB7XHJcbiAgICBpZiAodGhpcy5pc1ZlcnRpY2FsKSB7XHJcbiAgICAgIHRoaXMuZWxlbS5zdHlsZS5sZWZ0ID0gJzUwJSc7XHJcbiAgICAgIHRoaXMuZWxlbS5zdHlsZS50b3AgPSBvZmZzZXQgKyAncHgnO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5lbGVtLnN0eWxlLnRvcCA9ICc1MCUnO1xyXG4gICAgICB0aGlzLmVsZW0uc3R5bGUubGVmdCA9IG9mZnNldCArICdweCc7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBpbml0ID0gKGlzVmVydGljYWw6IGJvb2xlYW4pOiB2b2lkID0+IHtcclxuICAgIHRoaXMuaXNWZXJ0aWNhbCA9IGlzVmVydGljYWw7XHJcblxyXG4gICAgaWYgKHRoaXMuaXNWZXJ0aWNhbCkge1xyXG4gICAgICB0aGlzLmVsZW0uY2xhc3NMaXN0LmFkZCgnc2xpZGVyX19idXR0b25fcG9zaXRpb25fdmVydGljYWwnKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuZWxlbS5jbGFzc0xpc3QucmVtb3ZlKCdzbGlkZXJfX2J1dHRvbl9wb3NpdGlvbl92ZXJ0aWNhbCcpO1xyXG4gICAgfVxyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgS25vYjtcclxuIiwiaW1wb3J0IGNyZWF0ZUVsZW0gZnJvbSAnLi4vY3JlYXRlRWxlbS9jcmVhdGVFbGVtJztcclxuXHJcbmNsYXNzIFRvb2x0aXAge1xyXG4gIGVsZW06IEhUTUxFbGVtZW50O1xyXG5cclxuICBpc1ZlcnRpY2FsOiBib29sZWFuO1xyXG5cclxuICBjb25zdHJ1Y3Rvcihpc1ZlcnRpY2FsOiBib29sZWFuKSB7XHJcbiAgICB0aGlzLmVsZW0gPSBjcmVhdGVFbGVtKCdzbGlkZXJfX2J1dHRvbi1sYWJlbCcpO1xyXG4gICAgdGhpcy5pc1ZlcnRpY2FsID0gaXNWZXJ0aWNhbDtcclxuICB9XHJcblxyXG4gIGdldFBvc2l0aW9uID0gKCk6IG51bWJlciA9PiB7XHJcbiAgICBpZiAodGhpcy5pc1ZlcnRpY2FsKSB7XHJcbiAgICAgIHJldHVybiB0aGlzLmVsZW0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkudG9wO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB0aGlzLmVsZW0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkubGVmdDtcclxuICB9XHJcblxyXG4gIHNldFBvc2l0aW9uID0gKG9mZnNldDogbnVtYmVyLCB2YWx1ZTogbnVtYmVyKTogdm9pZCA9PiB7XHJcbiAgICB0aGlzLmVsZW0uaW5uZXJIVE1MID0gdmFsdWUgKyAnJztcclxuXHJcbiAgICBpZiAodGhpcy5pc1ZlcnRpY2FsKSB7XHJcbiAgICAgIHRoaXMuZWxlbS5zdHlsZS5sZWZ0ID0gJzUwJSc7XHJcbiAgICAgIHRoaXMuZWxlbS5zdHlsZS50b3AgPSBvZmZzZXQgLSB0aGlzLmdldERpbWVuc2lvbigpIC8gMiArICdweCc7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLmVsZW0uc3R5bGUudG9wID0gJzUwJSc7XHJcbiAgICAgIHRoaXMuZWxlbS5zdHlsZS5sZWZ0ID0gb2Zmc2V0IC0gdGhpcy5nZXREaW1lbnNpb24oKSAvIDIgKyAncHgnO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZ2V0RGltZW5zaW9uID0gKCk6IG51bWJlciA9PiB7XHJcbiAgICBpZiAodGhpcy5pc1ZlcnRpY2FsKSB7XHJcbiAgICAgIHJldHVybiB0aGlzLmVsZW0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkuaGVpZ2h0O1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB0aGlzLmVsZW0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkud2lkdGg7XHJcbiAgfVxyXG5cclxuICBpbml0ID0gKGlzVmVydGljYWw6IGJvb2xlYW4pOiB2b2lkID0+IHtcclxuICAgIHRoaXMuaXNWZXJ0aWNhbCA9IGlzVmVydGljYWw7XHJcblxyXG4gICAgaWYgKHRoaXMuaXNWZXJ0aWNhbCkge1xyXG4gICAgICB0aGlzLmVsZW0uY2xhc3NMaXN0LmFkZCgnc2xpZGVyX19idXR0b24tbGFiZWxfcG9zaXRpb25fdmVydGljYWwnKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuZWxlbS5jbGFzc0xpc3QucmVtb3ZlKCdzbGlkZXJfX2J1dHRvbi1sYWJlbF9wb3NpdGlvbl92ZXJ0aWNhbCcpO1xyXG4gICAgfVxyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgVG9vbHRpcDtcclxuIiwiaW1wb3J0ICogYXMgdHlwZXMgZnJvbSAnLi4vLi4vLi4vdHlwZXMnO1xyXG5pbXBvcnQgTWFyayBmcm9tICcuL01hcmsvTWFyayc7XHJcbmltcG9ydCBNYWtlT2JzZXJ2YWJsZU9iamVjdCBmcm9tICcuLi8uLi8uLi9tYWtlT2JzZXJ2YWJsZU9iamVjdC9NYWtlT2JzZXJ2YWJsZU9iamVjdCc7XHJcblxyXG5jbGFzcyBTY2FsZSB7XHJcbiAgcGFyYW1ldGVyczogdHlwZXMuUGFyYW1ldGVycztcclxuXHJcbiAgbWFya3M6IEFycmF5PE1hcms+O1xyXG5cclxuICBvYnNlcnZlcnM6IE1ha2VPYnNlcnZhYmxlT2JqZWN0O1xyXG5cclxuICBjb25zdHJ1Y3RvcihwYXJhbWV0ZXJzOiB0eXBlcy5QYXJhbWV0ZXJzLCBvYnNlcnZlcjogdHlwZXMuRnVuY3Rpb25DYWxsYmFja0RhdGEpIHtcclxuICAgIHRoaXMubWFya3MgPSBbXTtcclxuICAgIHRoaXMucGFyYW1ldGVycyA9IHBhcmFtZXRlcnM7XHJcbiAgICB0aGlzLmNyZWF0ZU1hcmtzKCk7XHJcbiAgICB0aGlzLmluaXQocGFyYW1ldGVycyk7XHJcbiAgICB0aGlzLm9ic2VydmVycyA9IG5ldyBNYWtlT2JzZXJ2YWJsZU9iamVjdCgpO1xyXG4gICAgdGhpcy5vYnNlcnZlcnMuYWRkT2JzZXJ2ZXIob2JzZXJ2ZXIpO1xyXG4gIH1cclxuXHJcbiAgaW5pdCA9IChvcHRpb25zOiB0eXBlcy5QYXJhbWV0ZXJzKTogdm9pZCA9PiB7XHJcbiAgICB0aGlzLnBhcmFtZXRlcnMgPSBvcHRpb25zO1xyXG4gICAgdGhpcy5tb3ZlTWFya3MoKTtcclxuICB9XHJcblxyXG4gIG1vdmVNYXJrcyA9ICgpOiB2b2lkID0+IHtcclxuICAgIHRoaXMubWFya3MuZm9yRWFjaCgobWFyaywgaW5kZXgpID0+IHtcclxuICAgICAgbWFyay51cGRhdGUodGhpcy5wYXJhbWV0ZXJzLmlzVmVydGljYWwpO1xyXG4gICAgICBpZiAoaW5kZXggPT09IDApIHtcclxuICAgICAgICBtYXJrLnNldFBvc2l0aW9uKDAsIHRoaXMucGFyYW1ldGVycy5taW5WYWx1ZSk7XHJcbiAgICAgIH0gZWxzZSBpZiAoaW5kZXggPT09IHRoaXMubWFya3MubGVuZ3RoIC0gMSkge1xyXG4gICAgICAgIG1hcmsuc2V0UG9zaXRpb24oMTAwLCB0aGlzLnBhcmFtZXRlcnMubWF4VmFsdWUpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGxldCByb3VuZFZhbHVlID0gdGhpcy5yb3VuZCh0aGlzLnBhcmFtZXRlcnMubWluVmFsdWVcclxuICAgICAgICAgICsgKCh0aGlzLnBhcmFtZXRlcnMubWF4VmFsdWUgLSB0aGlzLnBhcmFtZXRlcnMubWluVmFsdWUpICogaW5kZXgpXHJcbiAgICAgICAgICAvICh0aGlzLm1hcmtzLmxlbmd0aCAtIDEpKTtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMucGFyYW1ldGVycy5pc0Zsb2F0KSB7XHJcbiAgICAgICAgICByb3VuZFZhbHVlID0gcGFyc2VGbG9hdChyb3VuZFZhbHVlLnRvRml4ZWQoMikpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3Qgb2Zmc2V0ID0gKHJvdW5kVmFsdWUgLSB0aGlzLnBhcmFtZXRlcnMubWluVmFsdWUpXHJcbiAgICAgICAgICAvICh0aGlzLnBhcmFtZXRlcnMubWF4VmFsdWUgLSB0aGlzLnBhcmFtZXRlcnMubWluVmFsdWUpO1xyXG4gICAgICAgIG1hcmsuc2V0UG9zaXRpb24ob2Zmc2V0ICogMTAwLCByb3VuZFZhbHVlKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGhhbmRsZVNjYWxlQ2xpY2sgPSAodmFsdWU6IG51bWJlcik6IHZvaWQgPT4ge1xyXG4gICAgdGhpcy5vYnNlcnZlcnMubm90aWZ5T2JzZXJ2ZXJzRGF0YSh2YWx1ZSk7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGNyZWF0ZU1hcmtzID0gKCk6IHZvaWQgPT4ge1xyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCA1OyBpICs9IDEpIHtcclxuICAgICAgY29uc3QgbWFyayA9IG5ldyBNYXJrKHRoaXMucGFyYW1ldGVycy5pc1ZlcnRpY2FsLCB0aGlzLmhhbmRsZVNjYWxlQ2xpY2spO1xyXG4gICAgICB0aGlzLm1hcmtzLnB1c2gobWFyayk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIHJvdW5kID0gKHZhbHVlOiBudW1iZXIpOiBudW1iZXIgPT4ge1xyXG4gICAgY29uc3Qgd2hvbGUgPSBNYXRoLnRydW5jKHZhbHVlIC8gdGhpcy5wYXJhbWV0ZXJzLnN0ZXApO1xyXG5cclxuICAgIGNvbnN0IHJlbWluZGVyID0gKyh2YWx1ZSAtIHdob2xlICogdGhpcy5wYXJhbWV0ZXJzLnN0ZXApLnRvRml4ZWQoMik7XHJcbiAgICBpZiAodmFsdWUgPCAwKSB7XHJcbiAgICAgIHJldHVybiBNYXRoLmFicyhyZW1pbmRlcikgPCB0aGlzLnBhcmFtZXRlcnMuc3RlcCAvIDJcclxuICAgICAgICA/IHdob2xlICogdGhpcy5wYXJhbWV0ZXJzLnN0ZXBcclxuICAgICAgICA6ICh3aG9sZSAtIDEpICogdGhpcy5wYXJhbWV0ZXJzLnN0ZXA7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHJlbWluZGVyIDwgdGhpcy5wYXJhbWV0ZXJzLnN0ZXAgLyAyXHJcbiAgICAgID8gd2hvbGUgKiB0aGlzLnBhcmFtZXRlcnMuc3RlcFxyXG4gICAgICA6ICh3aG9sZSArIDEpICogdGhpcy5wYXJhbWV0ZXJzLnN0ZXA7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBTY2FsZTtcclxuIiwiaW1wb3J0ICogYXMgdHlwZXMgZnJvbSAnLi4vLi4vLi4vLi4vdHlwZXMnO1xyXG5pbXBvcnQgY3JlYXRlRWxlbSBmcm9tICcuLi8uLi9jcmVhdGVFbGVtL2NyZWF0ZUVsZW0nO1xyXG5pbXBvcnQgTWFrZU9ic2VydmFibGVPYmplY3QgZnJvbSAnLi4vLi4vLi4vLi4vbWFrZU9ic2VydmFibGVPYmplY3QvTWFrZU9ic2VydmFibGVPYmplY3QnO1xyXG5cclxuY2xhc3MgTWFyayB7XHJcbiAgZWxlbTogSFRNTEVsZW1lbnQ7XHJcblxyXG4gIGlzVmVydGljYWw6IGJvb2xlYW47XHJcblxyXG4gIHZhbHVlOiBudW1iZXI7XHJcblxyXG4gIG9ic2VydmVyczogTWFrZU9ic2VydmFibGVPYmplY3Q7XHJcblxyXG4gIGNvbnN0cnVjdG9yKGlzVmVydGljYWw6IGJvb2xlYW4sIG9ic2VydmVyOiB0eXBlcy5GdW5jdGlvbkNhbGxiYWNrRGF0YSkge1xyXG4gICAgdGhpcy5lbGVtID0gY3JlYXRlRWxlbSgnc2xpZGVyX19tYXJrJyk7XHJcbiAgICB0aGlzLmlzVmVydGljYWwgPSBpc1ZlcnRpY2FsO1xyXG4gICAgdGhpcy5vYnNlcnZlcnMgPSBuZXcgTWFrZU9ic2VydmFibGVPYmplY3QoKTtcclxuICAgIHRoaXMuaW5pdChvYnNlcnZlcik7XHJcbiAgfVxyXG5cclxuICBnZXRQb3NpdGlvbiA9ICgpOiBudW1iZXIgPT4ge1xyXG4gICAgaWYgKHRoaXMuaXNWZXJ0aWNhbCkge1xyXG4gICAgICByZXR1cm4gdGhpcy5lbGVtLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnRvcDtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gdGhpcy5lbGVtLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmxlZnQ7XHJcbiAgfVxyXG5cclxuICBzZXRQb3NpdGlvbiA9IChvZmZzZXQ6IG51bWJlciwgdmFsdWU6IG51bWJlcik6IHZvaWQgPT4ge1xyXG4gICAgdGhpcy5lbGVtLmlubmVySFRNTCA9IHZhbHVlICsgJyc7XHJcbiAgICB0aGlzLnZhbHVlID0gdmFsdWU7XHJcblxyXG4gICAgaWYgKHRoaXMuaXNWZXJ0aWNhbCkge1xyXG4gICAgICB0aGlzLmVsZW0uc3R5bGUubGVmdCA9ICc1MCUnO1xyXG4gICAgICB0aGlzLmVsZW0uc3R5bGUudG9wID0gb2Zmc2V0ICsgJyUnO1xyXG4gICAgICB0aGlzLmVsZW0uc3R5bGUubWFyZ2luVG9wID0gLXRoaXMuZ2V0RGltZW5zaW9uKCkgLyAyICsgJ3B4JztcclxuICAgICAgdGhpcy5lbGVtLnN0eWxlLm1hcmdpbkxlZnQgPSAnLTQ1cHgnO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5lbGVtLnN0eWxlLnRvcCA9ICc1MCUnO1xyXG4gICAgICB0aGlzLmVsZW0uc3R5bGUubGVmdCA9IG9mZnNldCArICclJztcclxuICAgICAgdGhpcy5lbGVtLnN0eWxlLm1hcmdpbkxlZnQgPSAtdGhpcy5nZXREaW1lbnNpb24oKSAvIDIgKyAncHgnO1xyXG4gICAgICB0aGlzLmVsZW0uc3R5bGUubWFyZ2luVG9wID0gJzE1cHgnO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZ2V0RGltZW5zaW9uID0gKCk6IG51bWJlciA9PiB7XHJcbiAgICBpZiAodGhpcy5pc1ZlcnRpY2FsKSB7XHJcbiAgICAgIHJldHVybiB0aGlzLmVsZW0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkuaGVpZ2h0O1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB0aGlzLmVsZW0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkud2lkdGg7XHJcbiAgfVxyXG5cclxuICBpbml0ID0gKG9ic2VydmVyOiB0eXBlcy5GdW5jdGlvbkNhbGxiYWNrRGF0YSk6IHZvaWQgPT4ge1xyXG4gICAgdGhpcy5lbGVtLm9uY2xpY2sgPSB0aGlzLmhhbmRsZU1hcmtDbGljaztcclxuICAgIHRoaXMub2JzZXJ2ZXJzLmFkZE9ic2VydmVyKG9ic2VydmVyKTtcclxuICB9XHJcblxyXG4gIHVwZGF0ZSA9IChpc1ZlcnRpY2FsOiBib29sZWFuKTogdm9pZCA9PiB7XHJcbiAgICB0aGlzLmlzVmVydGljYWwgPSBpc1ZlcnRpY2FsO1xyXG5cclxuICAgIGlmICh0aGlzLmlzVmVydGljYWwpIHtcclxuICAgICAgdGhpcy5lbGVtLmNsYXNzTGlzdC5hZGQoJ3NsaWRlcl9fbWFya19wb3NpdGlvbl92ZXJ0aWNhbCcpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5lbGVtLmNsYXNzTGlzdC5yZW1vdmUoJ3NsaWRlcl9fbWFya19wb3NpdGlvbl92ZXJ0aWNhbCcpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBoYW5kbGVNYXJrQ2xpY2sgPSAoKTogdm9pZCA9PiB7XHJcbiAgICB0aGlzLm9ic2VydmVycy5ub3RpZnlPYnNlcnZlcnNEYXRhKHRoaXMudmFsdWUpO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgTWFyaztcclxuIiwiaW1wb3J0IGNyZWF0ZUVsZW0gZnJvbSAnLi4vY3JlYXRlRWxlbS9jcmVhdGVFbGVtJztcclxuXHJcbmNsYXNzIFByb2dyZXNzQmFyIHtcclxuICBlbGVtOiBIVE1MRWxlbWVudDtcclxuXHJcbiAgaXNWZXJ0aWNhbDogYm9vbGVhbjtcclxuXHJcbiAgY29uc3RydWN0b3IoaXNWZXJ0aWNhbDogYm9vbGVhbikge1xyXG4gICAgdGhpcy5lbGVtID0gY3JlYXRlRWxlbSgnc2xpZGVyX19wcm9ncmVzcy1iYXInKTtcclxuICAgIHRoaXMuaXNWZXJ0aWNhbCA9IGlzVmVydGljYWw7XHJcbiAgfVxyXG5cclxuICBzZXRQb3NpdGlvbiA9IChvZmZzZXQ6IG51bWJlcik6IHZvaWQgPT4ge1xyXG4gICAgaWYgKHRoaXMuaXNWZXJ0aWNhbCkge1xyXG4gICAgICB0aGlzLmVsZW0uc3R5bGUubGVmdCA9ICcwJztcclxuICAgICAgdGhpcy5lbGVtLnN0eWxlLndpZHRoID0gJzEwMCUnO1xyXG4gICAgICB0aGlzLmVsZW0uc3R5bGUudG9wID0gb2Zmc2V0ICsgJ3B4JztcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuZWxlbS5zdHlsZS50b3AgPSAnMCc7XHJcbiAgICAgIHRoaXMuZWxlbS5zdHlsZS5oZWlnaHQgPSAnMTAwJSc7XHJcbiAgICAgIHRoaXMuZWxlbS5zdHlsZS5sZWZ0ID0gb2Zmc2V0ICsgJ3B4JztcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHNldERpbWVuc2lvbiA9IChkaW1lbnNpb246IG51bWJlcik6IHZvaWQgPT4ge1xyXG4gICAgaWYgKHRoaXMuaXNWZXJ0aWNhbCkge1xyXG4gICAgICB0aGlzLmVsZW0uc3R5bGUuaGVpZ2h0ID0gZGltZW5zaW9uICsgJ3B4JztcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuZWxlbS5zdHlsZS53aWR0aCA9IGRpbWVuc2lvbiArICdweCc7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBpbml0ID0gKGlzVmVydGljYWw6IGJvb2xlYW4pOiB2b2lkID0+IHtcclxuICAgIHRoaXMuaXNWZXJ0aWNhbCA9IGlzVmVydGljYWw7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBQcm9ncmVzc0JhcjtcclxuIiwiaW1wb3J0ICogYXMgdHlwZXMgZnJvbSAnLi4vdHlwZXMnO1xyXG5pbXBvcnQgTWFrZU9ic2VydmFibGVPYmplY3QgZnJvbSAnLi4vbWFrZU9ic2VydmFibGVPYmplY3QvTWFrZU9ic2VydmFibGVPYmplY3QnO1xyXG5cclxuY2xhc3MgTW9kZWwge1xyXG4gIGN1cnJlbnRWYWx1ZXM6IHR5cGVzLkN1cnJlbnRWYWx1ZXM7XHJcblxyXG4gIG9ic2VydmVyczogTWFrZU9ic2VydmFibGVPYmplY3Q7XHJcblxyXG4gIGNvbnN0cnVjdG9yKGN1cnJlbnRWYWx1ZXM6IHR5cGVzLkN1cnJlbnRWYWx1ZXMpIHtcclxuICAgIHRoaXMuY3VycmVudFZhbHVlcyA9IGN1cnJlbnRWYWx1ZXM7XHJcbiAgICB0aGlzLm9ic2VydmVycyA9IG5ldyBNYWtlT2JzZXJ2YWJsZU9iamVjdCgpO1xyXG4gIH1cclxuXHJcbiAgc2V0Q3VycmVudE1pblZhbHVlKGRhdGE6IG51bWJlcik6IHZvaWQge1xyXG4gICAgaWYgKHRoaXMuY3VycmVudFZhbHVlcy5jdXJyZW50TWluVmFsdWUgIT09IGRhdGEpIHtcclxuICAgICAgdGhpcy5jdXJyZW50VmFsdWVzLmN1cnJlbnRNaW5WYWx1ZSA9IGRhdGE7XHJcbiAgICAgIHRoaXMub2JzZXJ2ZXJzLm5vdGlmeU9ic2VydmVycygpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgc2V0Q3VycmVudE1heFZhbHVlKGRhdGE6IG51bWJlcik6IHZvaWQge1xyXG4gICAgaWYgKHRoaXMuY3VycmVudFZhbHVlcy5jdXJyZW50TWF4VmFsdWUgIT09IGRhdGEpIHtcclxuICAgICAgdGhpcy5jdXJyZW50VmFsdWVzLmN1cnJlbnRNYXhWYWx1ZSA9IGRhdGE7XHJcbiAgICAgIHRoaXMub2JzZXJ2ZXJzLm5vdGlmeU9ic2VydmVycygpO1xyXG4gICAgfVxyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgTW9kZWw7XHJcbiIsInZhciBtYXAgPSB7XG5cdFwiLi9Db250cm9sbGVyL0NvbnRyb2xsZXIudHNcIjogNSxcblx0XCIuL0NvbnRyb2xsZXIvYmxvY2tzL3BhcnNpbmdEaWdpdHMvUGFyc2luZ0RpZ2l0cy50c1wiOiAzLFxuXHRcIi4vTW9kZWwvTW9kZWwudHNcIjogMTQsXG5cdFwiLi9WaWV3L1ZpZXcudHNcIjogNixcblx0XCIuL1ZpZXcvYmxvY2tzL0Jhci9CYXIudHNcIjogOCxcblx0XCIuL1ZpZXcvYmxvY2tzL0tub2IvS25vYi50c1wiOiA5LFxuXHRcIi4vVmlldy9ibG9ja3MvUHJvZ3Jlc3NCYXIvUHJvZ3Jlc3NCYXIudHNcIjogMTMsXG5cdFwiLi9WaWV3L2Jsb2Nrcy9SdW5uZXIvUnVubmVyLnRzXCI6IDQsXG5cdFwiLi9WaWV3L2Jsb2Nrcy9TY2FsZS9NYXJrL01hcmsudHNcIjogMTIsXG5cdFwiLi9WaWV3L2Jsb2Nrcy9TY2FsZS9TY2FsZS50c1wiOiAxMSxcblx0XCIuL1ZpZXcvYmxvY2tzL1Rvb2x0aXAvVG9vbHRpcC50c1wiOiAxMCxcblx0XCIuL1ZpZXcvYmxvY2tzL1RyYWNrL1RyYWNrLnRzXCI6IDcsXG5cdFwiLi9WaWV3L2Jsb2Nrcy9jcmVhdGVFbGVtL2NyZWF0ZUVsZW0udHNcIjogMSxcblx0XCIuL21ha2VPYnNlcnZhYmxlT2JqZWN0L01ha2VPYnNlcnZhYmxlT2JqZWN0LnRzXCI6IDAsXG5cdFwiLi9zbGlkZXIudHNcIjogMTYsXG5cdFwiLi9zdHlsZS5zY3NzXCI6IDE3LFxuXHRcIi4vdHlwZXMudHNcIjogMlxufTtcblxuXG5mdW5jdGlvbiB3ZWJwYWNrQ29udGV4dChyZXEpIHtcblx0dmFyIGlkID0gd2VicGFja0NvbnRleHRSZXNvbHZlKHJlcSk7XG5cdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKGlkKTtcbn1cbmZ1bmN0aW9uIHdlYnBhY2tDb250ZXh0UmVzb2x2ZShyZXEpIHtcblx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhtYXAsIHJlcSkpIHtcblx0XHR2YXIgZSA9IG5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIgKyByZXEgKyBcIidcIik7XG5cdFx0ZS5jb2RlID0gJ01PRFVMRV9OT1RfRk9VTkQnO1xuXHRcdHRocm93IGU7XG5cdH1cblx0cmV0dXJuIG1hcFtyZXFdO1xufVxud2VicGFja0NvbnRleHQua2V5cyA9IGZ1bmN0aW9uIHdlYnBhY2tDb250ZXh0S2V5cygpIHtcblx0cmV0dXJuIE9iamVjdC5rZXlzKG1hcCk7XG59O1xud2VicGFja0NvbnRleHQucmVzb2x2ZSA9IHdlYnBhY2tDb250ZXh0UmVzb2x2ZTtcbm1vZHVsZS5leHBvcnRzID0gd2VicGFja0NvbnRleHQ7XG53ZWJwYWNrQ29udGV4dC5pZCA9IDE1OyIsIi8qIGdsb2JhbCBqUXVlcnkgKi9cclxuaW1wb3J0ICogYXMgdHlwZXMgZnJvbSAnLi90eXBlcyc7XHJcbmltcG9ydCBDb250cm9sbGVyIGZyb20gJy4vQ29udHJvbGxlci9Db250cm9sbGVyJztcclxuXHJcbihmdW5jdGlvbiBwbHVnaW5XcmFwcGVyKCQpIHtcclxuICBjb25zdCBjb25maWcgPSB7XHJcbiAgICBtaW5WYWx1ZTogMCxcclxuICAgIG1heFZhbHVlOiAxMDAwLFxyXG4gICAgc3RlcDogMSxcclxuICAgIGlzUmFuZ2U6IGZhbHNlLFxyXG4gICAgaXNWZXJ0aWNhbDogZmFsc2UsXHJcbiAgICBzaG93TGFiZWw6IGZhbHNlLFxyXG4gICAgaXNGbG9hdDogZmFsc2VcclxuICB9O1xyXG5cclxuICBjb25zdCBtZXRob2RzOiBNZXRob2RzID0ge1xyXG4gICAgaW5pdDogZnVuY3Rpb24gaW5pdChvcHQ6IHR5cGVzLlBhcmFtZXRlcnMpIHtcclxuICAgICAgaWYgKCEkKHRoaXMpLmRhdGEoJ3NsaWRlcicpKSB7XHJcbiAgICAgICAgY29uc3QgbmV3Q29uZmlnID0geyAuLi5jb25maWcgfTtcclxuICAgICAgICBjb25zdCBzbGlkZXIgPSBuZXcgQ29udHJvbGxlcigkLmV4dGVuZChuZXdDb25maWcsIG9wdCkpO1xyXG4gICAgICAgICQodGhpcykuZGF0YSgnc2xpZGVyJywgc2xpZGVyKTtcclxuXHJcbiAgICAgICAgc2xpZGVyLmFwcGVuZFRvTm9kZSgkKHRoaXMpKTtcclxuICAgICAgfVxyXG4gICAgfSxcclxuXHJcbiAgICB1cGRhdGU6IGZ1bmN0aW9uIHVwZGF0ZShvcHQ6IHR5cGVzLlBhcmFtZXRlcnMpIHtcclxuICAgICAgY29uc3Qgc2xpZGVyID0gJCh0aGlzKS5kYXRhKCdzbGlkZXInKTtcclxuICAgICAgc2xpZGVyLnVwZGF0ZUNvbmZpZyhvcHQpO1xyXG4gICAgfSxcclxuXHJcbiAgICBnZXRDb25maWc6IGZ1bmN0aW9uIGdldENvbmZpZygpIHtcclxuICAgICAgY29uc3Qgc2xpZGVyID0gJCh0aGlzKS5kYXRhKCdzbGlkZXInKTtcclxuICAgICAgcmV0dXJuIHNsaWRlci5nZXRDb25maWcoKTtcclxuICAgIH0sXHJcblxyXG4gICAgc2V0VmFsdWVzOiBmdW5jdGlvbiBzZXRWYWx1ZXMob3B0OiB0eXBlcy5DdXJyZW50VmFsdWVzKSB7XHJcbiAgICAgIGNvbnN0IHNsaWRlciA9ICQodGhpcykuZGF0YSgnc2xpZGVyJyk7XHJcbiAgICAgIHNsaWRlci5zZXRWYWx1ZXMob3B0LmN1cnJlbnRNaW5WYWx1ZSwgb3B0LmN1cnJlbnRNYXhWYWx1ZSk7XHJcbiAgICB9LFxyXG5cclxuICAgIGlucHV0c0F0dGFjaDogZnVuY3Rpb24gaW5wdXRzQXR0YWNoKG9wdDogSW5wdXRzT2JqZWN0KSB7XHJcbiAgICAgIGNvbnN0IHNsaWRlciA9ICQodGhpcykuZGF0YSgnc2xpZGVyJyk7XHJcbiAgICAgIHNsaWRlci5hZGRPYnNlcnZlcigoKSA9PiB7XHJcbiAgICAgICAgb3B0Lm1pblZhbHVlSW5wdXQudmFsKHNsaWRlci5nZXRWYWx1ZXMoKS5jdXJyZW50TWluVmFsdWUpO1xyXG4gICAgICAgIG9wdC5tYXhWYWx1ZUlucHV0LnZhbChzbGlkZXIuZ2V0VmFsdWVzKCkuY3VycmVudE1heFZhbHVlKTtcclxuICAgICAgICBvcHQubWF4VmFsdWUudmFsKHNsaWRlci5nZXRDb25maWcoKS5tYXhWYWx1ZSk7XHJcbiAgICAgICAgb3B0Lm1pblZhbHVlLnZhbChzbGlkZXIuZ2V0Q29uZmlnKCkubWluVmFsdWUpO1xyXG4gICAgICAgIG9wdC5zdGVwLnZhbChzbGlkZXIuZ2V0Q29uZmlnKCkuc3RlcCk7XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gICQuZm4ub21mZ3NsaWRlciA9IGZ1bmN0aW9uIHByb2Nlc3NNZXRob2QobWV0aG9kOiBzdHJpbmcsIC4uLmFyZ3M6IGFueSkge1xyXG4gICAgaWYgKG1ldGhvZHNbbWV0aG9kXSkge1xyXG4gICAgICByZXR1cm4gbWV0aG9kc1ttZXRob2RdLmFwcGx5KHRoaXMsIGFyZ3MpO1xyXG4gICAgfSBpZiAodHlwZW9mIG1ldGhvZCA9PT0gJ29iamVjdCcgfHwgIW1ldGhvZCkge1xyXG4gICAgICByZXR1cm4gbWV0aG9kcy5pbml0LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XHJcbiAgICB9XHJcbiAgICAkLmVycm9yKGDQnNC10YLQvtC0ICR7bWV0aG9kfSDQvdC1INC90LDQudC00LXQvSDQsiDQv9C70LDQs9C40L3QtSBqUXVlcnkub21mZ3NsaWRlcmApO1xyXG4gIH07XHJcbn0oalF1ZXJ5KSk7XHJcbiIsImV4cG9ydCBkZWZhdWx0IF9fd2VicGFja19wdWJsaWNfcGF0aF9fICsgXCJpbmRleC5odG1sXCI7IiwiaW1wb3J0ICcuL2RlbW8tcGFnZS9pbmRleC5odG1sJztcclxuXHJcbmZ1bmN0aW9uIGltcG9ydEFsbChyOiBfX1dlYnBhY2tNb2R1bGVBcGkuUmVxdWlyZUNvbnRleHQpIHtcclxuICByLmtleXMoKS5mb3JFYWNoKHIpO1xyXG59XHJcblxyXG5pbXBvcnRBbGwocmVxdWlyZS5jb250ZXh0KCcuL3BsdWdpbicsIHRydWUsIC8oPzwhXFwuZClcXC4oanN8dHN8c2NzcykkL2kpKTtcclxuIl0sInNvdXJjZVJvb3QiOiIifQ==