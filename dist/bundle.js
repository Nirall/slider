!function(e){var t={};function i(n){if(t[n])return t[n].exports;var l=t[n]={i:n,l:!1,exports:{}};return e[n].call(l.exports,l,l.exports,i),l.l=!0,l.exports}i.m=e,i.c=t,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var l in e)i.d(n,l,function(t){return e[t]}.bind(null,l));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=1)}([function(e,t,i){},function(e,t,i){"use strict";i.r(t);i.p,i(0);var n=function(){for(var e=0,t=0,i=arguments.length;t<i;t++)e+=arguments[t].length;var n=Array(e),l=0;for(t=0;t<i;t++)for(var a=arguments[t],o=0,s=a.length;o<s;o++,l++)n[l]=a[o];return n},l=function(){function e(){this.observers=[]}return e.prototype.addObserver=function(e){if("function"!=typeof e)throw new Error("observer must be a function");this.observers.map((function(t){if(t===e)throw new Error("observer already in the list")})),this.observers.push(e)},e.prototype.removeObserver=function(e){for(var t=0;t<this.observers.length;t++){if(this.observers[t]===e)return void this.observers.splice(t,1)}throw new Error("could not find observer in list of observers")},e.prototype.notifyObservers=function(){n(this.observers).map((function(e){return e()}))},e}();var a=function(e){var t=document.createElement("div");return t.ondragstart=function(){return!1},t.classList.add(e),t},o=function(){function e(){this.elem=a("slider__scale")}return e.prototype.getLeft=function(){return this.elem.getBoundingClientRect().left},e.prototype.getWidth=function(){return this.elem.getBoundingClientRect().width},e.prototype.getHeight=function(){return this.elem.getBoundingClientRect().height},e.prototype.getTop=function(){return this.elem.getBoundingClientRect().top},e}(),s=function(){function e(){this.gradElem=a("slider__graduation"),this.mark1=a("slider__graduation-mark"),this.mark2=a("slider__graduation-mark"),this.mark3=a("slider__graduation-mark"),this.mark4=a("slider__graduation-mark"),this.gradElem.appendChild(this.mark1),this.gradElem.appendChild(this.mark2),this.gradElem.appendChild(this.mark3),this.gradElem.appendChild(this.mark4),this.init=this.init.bind(this)}return e.prototype.init=function(e,t,i,n){void 0===n&&(n=!1),this.mark1.innerHTML=e+"",this.mark4.innerHTML=t+"",n?(this.mark2.innerHTML=(e+(t-e)/3).toFixed(2),this.mark3.innerHTML=(e+2*(t-e)/3).toFixed(2)):(this.mark2.innerHTML=e+Math.round((t-e)/3)+"",this.mark3.innerHTML=e+Math.round(2*(t-e)/3)+""),i?(this.mark1.style.marginTop="-9px",this.mark1.style.marginLeft="0",this.mark4.style.marginBottom="-9px",this.mark4.style.marginRight="0"):(this.mark1.style.marginLeft="-15px",this.mark1.style.marginTop="0",this.mark4.style.marginRight="-15px",this.mark4.style.marginBottom="0")},e}(),u=function(){function e(){this.elem=a("slider__button")}return e.prototype.getLeft=function(){return this.elem.getBoundingClientRect().left},e.prototype.getWidth=function(){return this.elem.getBoundingClientRect().width},e.prototype.getTop=function(){return this.elem.getBoundingClientRect().top},e}(),r=function(){function e(){this.elem=a("slider__button-label")}return e.prototype.getWidth=function(){return this.elem.getBoundingClientRect().width},e.prototype.getHeight=function(){return this.elem.getBoundingClientRect().height},e}(),c=function(){this.elem=a("slider__scale-filling")},d=function(e,t,i,n,a,d,g){var h=this;void 0===e&&(e=0),void 0===t&&(t=1e3),void 0===i&&(i=1),void 0===n&&(n=!1),void 0===a&&(a=!1),void 0===d&&(d=!1),void 0===g&&(g=!1),this.getStart=function(){return h.isRange?h.isVertical?h.button1.getTop()-h.scale.getTop()+h.button1.getWidth()/2:h.button1.getLeft()-h.scale.getLeft()+h.button1.getWidth()/2:0},this.getEnd=function(){return h.isVertical?h.button2.getTop()-h.scale.getTop()+h.button2.getWidth()/2:h.button2.getLeft()-h.scale.getLeft()+h.button2.getWidth()/2},this.updateElems=function(){h.isVertical?(h.scaleFilling.elem.style.top=h.getStart()+"px",h.scaleFilling.elem.style.left="0",h.scaleFilling.elem.style.height=h.getEnd()-h.getStart()+"px",h.scaleFilling.elem.style.width="100%"):(h.scaleFilling.elem.style.left=h.getStart()+"px",h.scaleFilling.elem.style.top="0",h.scaleFilling.elem.style.width=h.getEnd()-h.getStart()+"px",h.scaleFilling.elem.style.height="100%"),h.isRange||(h.curMinValue=h.minValue),h.observers.notifyObservers()},this.round=function(e,t){var i=Math.floor(e/t),n=e%t;return e<0?Math.abs(n)>t/2?i*t:(i+1)*t:n<t/2?i*t:(i+1)*t},this.roundOffsetButt=function(e){var t;t=h.isVertical?h.scale.getHeight():h.scale.getWidth();var i=h.minValue+(e+h.button2.getWidth()/2)*(h.maxValue-h.minValue)/t,n=h.round(i,h.step);return h.isFloat&&(n=parseFloat(n.toFixed(2))),n<h.minValue?n=h.minValue:n>h.maxValue&&(n=h.maxValue),[(n-h.minValue)*t/(h.maxValue-h.minValue)-h.button2.getWidth()/2,n]},this.offsetValueConv=function(e){return h.isVertical?(e-h.minValue)/(h.maxValue-h.minValue)*h.scale.getHeight()-h.button2.getWidth()/2:(e-h.minValue)/(h.maxValue-h.minValue)*h.scale.getWidth()-h.button2.getWidth()/2},this.butt1Move=function(e,t){h.isVertical?(h.button1.elem.style.top=e+"px",h.label1.elem.style.top=e-h.label1.getHeight()/2+h.button1.getWidth()/2+"px"):(h.button1.elem.style.left=e+"px",h.label1.elem.style.left=e-h.label1.getWidth()/2+h.button1.getWidth()/2+"px"),t<h.minValue&&(t=h.minValue),h.label1.elem.innerHTML=t+"",h.curMinValue=t,h.updateElems()},this.butt1OffsetCheck=function(e){var t;if(h.isVertical){var i=h.step*h.scale.getHeight()/(h.maxValue-h.minValue);e<-h.button2.getWidth()/2&&(e=-h.button2.getWidth()/2,t=h.minValue),i/1.5>h.button2.getWidth()?e>h.button2.getTop()-h.scale.getTop()-i/1.5&&(e=h.button2.getTop()-h.scale.getTop()-i/1.5):e>h.button2.getTop()-h.scale.getTop()-h.button2.getWidth()&&(e=h.button2.getTop()-h.scale.getTop()-h.button2.getWidth())}else i=h.step*h.scale.getWidth()/(h.maxValue-h.minValue),e<-h.button1.getWidth()/2&&(e=-h.button1.getWidth()/2,t=h.minValue),i/1.5>h.button1.getWidth()?e>h.button2.getLeft()-h.scale.getLeft()-i/1.5&&(e=h.button2.getLeft()-h.scale.getLeft()-i/1.5):e>h.button2.getLeft()-h.scale.getLeft()-h.button2.getWidth()&&(e=h.button2.getLeft()-h.scale.getLeft()-h.button2.getWidth());return[e,t]},this.onMouseMove1=function(e){var t,i,n,l,a;n=h.isVertical?e.clientY-h.scale.getTop()-h.button1.getWidth()/2:e.clientX-h.scale.getLeft()-h.button1.getWidth()/2,a=(t=h.butt1OffsetCheck(n))[0],(l=t[1])||(a=(i=h.roundOffsetButt(a))[0],l=i[1]),h.butt1Move(a,l)},this.onMouseUp1=function(e){document.removeEventListener("mouseup",h.onMouseUp1),document.removeEventListener("mousemove",h.onMouseMove1)},this.butt2Move=function(e,t){h.isVertical?(h.button2.elem.style.top=e+"px",h.label2.elem.style.top=e-h.label2.getHeight()/2+h.button2.getWidth()/2+"px"):(h.button2.elem.style.left=e+"px",h.label2.elem.style.left=e-h.label2.getWidth()/2+h.button2.getWidth()/2+"px"),t<h.minValue?t=h.minValue:t>h.maxValue&&(t=h.maxValue),h.label2.elem.innerHTML=t+"",h.curMaxValue=t,h.updateElems()},this.butt2OffsetCheck=function(e){var t;if(h.isRange||e<-h.button2.getWidth()/2&&(e=-h.button2.getWidth()/2,t=h.minValue),h.isVertical){var i=h.step*h.scale.getHeight()/(h.maxValue-h.minValue);e>h.scale.getHeight()-h.button2.getWidth()/2&&(e=h.scale.getHeight()-h.button2.getWidth()/2,t=h.maxValue),i/1.5>h.button2.getWidth()?e<h.button1.getTop()-h.scale.getTop()+i/1.5&&(e=h.button1.getTop()-h.scale.getTop()+i/1.5):e<h.button1.getTop()-h.scale.getTop()+h.button2.getWidth()&&(e=h.button1.getTop()-h.scale.getTop()+h.button2.getWidth())}else i=h.step*h.scale.getWidth()/(h.maxValue-h.minValue),e>h.scale.getWidth()-h.button2.getWidth()/2&&(e=h.scale.getWidth()-h.button2.getWidth()/2,t=h.maxValue),i/1.5>h.button2.getWidth()?e<h.button1.getLeft()-h.scale.getLeft()+i/1.5&&(e=h.button1.getLeft()-h.scale.getLeft()+i/1.5):e<h.button1.getLeft()-h.scale.getLeft()+h.button2.getWidth()&&(e=h.button1.getLeft()-h.scale.getLeft()+h.button2.getWidth());return[e,t]},this.onMouseMove2=function(e){var t,i,n,l,a;n=h.isVertical?e.clientY-h.scale.getTop()-h.button2.getWidth()/2:e.clientX-h.scale.getLeft()-h.button2.getWidth()/2,a=(t=h.butt2OffsetCheck(n))[0],(l=t[1])||(a=(i=h.roundOffsetButt(a))[0],l=i[1]),h.butt2Move(a,l)},this.onMouseUp2=function(e){document.removeEventListener("mouseup",h.onMouseUp2),document.removeEventListener("mousemove",h.onMouseMove2)},this.scaleOnclick=function(e){h.isRange&&(h.isVertical?Math.abs(e.clientY-h.button1.getTop()-h.button1.getWidth()/2)<Math.abs(e.clientY-h.button2.getTop()-h.button2.getWidth()/2):Math.abs(e.clientX-h.button1.getLeft()-h.button1.getWidth()/2)<Math.abs(e.clientX-h.button2.getLeft()-h.button2.getWidth()/2))?h.onMouseMove1(e):h.onMouseMove2(e)},this.interMarkHandler=function(e){var t,i,n,l;if(h.isVertical){var a=(e-h.minValue)/(h.maxValue-h.minValue)*h.scale.getHeight();n=(t=h.roundOffsetButt(a-h.button2.getWidth()/2))[0],l=t[1],h.isRange&&Math.abs(a+h.scale.getTop()-h.button1.getTop()-h.button2.getWidth()/2)<Math.abs(a+h.scale.getTop()-h.button2.getTop()-h.button2.getWidth()/2)?h.butt1Move(n,l):h.butt2Move(n,l)}else a=(e-h.minValue)/(h.maxValue-h.minValue)*h.scale.getWidth(),n=(i=h.roundOffsetButt(a-h.button2.getWidth()/2))[0],l=i[1],h.isRange&&Math.abs(a+h.scale.getLeft()-h.button1.getLeft()-h.button2.getWidth()/2)<Math.abs(a+h.scale.getLeft()-h.button2.getLeft()-h.button2.getWidth()/2)?h.butt1Move(n,l):h.butt2Move(n,l)},this.mark1Onclick=function(e){var t=-h.button2.getWidth()/2,i=h.minValue;h.isRange?h.butt1Move(t,i):h.butt2Move(t,i)},this.mark4Onclick=function(e){if(h.isVertical){var t=h.scale.getHeight()-h.button2.getWidth()/2,i=h.maxValue;h.butt2Move(t,i)}else t=h.scale.getWidth()-h.button2.getWidth()/2,i=h.maxValue,h.butt2Move(t,i)},this.mark2Onclick=function(e){var t=h.isFloat?parseFloat(h.graduation.mark2.innerHTML):parseInt(h.graduation.mark2.innerHTML);h.interMarkHandler(t)},this.mark3Onclick=function(e){var t=h.isFloat?parseFloat(h.graduation.mark3.innerHTML):parseInt(h.graduation.mark3.innerHTML);h.interMarkHandler(t)},this.checkValues=function(){"number"!=typeof h.maxValue&&console.error("Maxvalue should be a number"),"number"!=typeof h.minValue&&console.error("Maxvalue should be a number"),"number"!=typeof h.step&&console.error("Step should be a number"),"boolean"!=typeof h.isRange&&console.error("isRange should be a boolean"),"boolean"!=typeof h.isVertical&&console.error("isVertical should be a boolean"),"boolean"!=typeof h.showLabel&&console.error("ShowLabel should be a boolean"),h.step>h.maxValue-h.minValue&&(h.step=h.maxValue-h.minValue,console.error("Step is setted to the max"))},this.init=function(){h.button1.elem.style.display="none",h.label1.elem.style.display="none",h.graduation.init(h.minValue,h.maxValue,h.isVertical,h.isFloat),h.checkValues(),h.showLabel?(h.label1.elem.style.display="block",h.label2.elem.style.display="block"):(h.label1.elem.style.display="none",h.label2.elem.style.display="none"),h.isRange?h.button1.elem.style.display="block":(h.button1.elem.style.display="none",h.label1.elem.style.display="none"),h.isVertical?(h.scale.elem.classList.add("slider__scale_vertical"),h.scaleFilling.elem.classList.add("slider__scale-filling_vertical"),h.graduation.gradElem.classList.add("slider__graduation_vertical"),h.graduation.gradElem.style.height=h.scale.getHeight()+"px",h.button1.elem.classList.add("slider__button_vertical"),h.button2.elem.classList.add("slider__button_vertical"),h.label1.elem.classList.add("slider__button-label_vertical"),h.label2.elem.classList.add("slider__button-label_vertical"),h.button1.elem.style.top=-h.button1.getWidth()/2+"px",h.button1.elem.style.left="50%",h.button2.elem.style.top=h.scale.getHeight()-h.button2.getWidth()/2+"px",h.button2.elem.style.left="50%",h.label1.elem.innerHTML=h.minValue+"",h.label2.elem.innerHTML=h.maxValue+"",h.label1.elem.style.top=h.getStart()-h.label1.getHeight()/2+"px",h.label1.elem.style.left="50%",h.label2.elem.style.top=h.getEnd()-h.label2.getHeight()/2+"px",h.label2.elem.style.left="50%"):(h.scale.elem.classList.remove("slider__scale_vertical"),h.scaleFilling.elem.classList.remove("slider__scale-filling_vertical"),h.graduation.gradElem.classList.remove("slider__graduation_vertical"),h.graduation.gradElem.style.height="20px",h.button1.elem.classList.remove("slider__button_vertical"),h.button2.elem.classList.remove("slider__button_vertical"),h.label1.elem.classList.remove("slider__button-label_vertical"),h.label2.elem.classList.remove("slider__button-label_vertical"),h.button1.elem.style.left=-h.button1.getWidth()/2+"px",h.button1.elem.style.top="50%",h.button2.elem.style.left=h.scale.getWidth()-h.button2.getWidth()/2+"px",h.button2.elem.style.top="50%",h.label1.elem.innerHTML=h.minValue+"",h.label2.elem.innerHTML=h.maxValue+"",h.label1.elem.style.left=h.getStart()-h.label1.getWidth()/2+"px",h.label1.elem.style.top="50%",h.label2.elem.style.left=h.getEnd()-h.label2.getWidth()/2+"px",h.label2.elem.style.top="50%"),h.updateElems()},this.append=function(e){e.appendChild(h.scale.elem).appendChild(h.scaleFilling.elem),e.appendChild(h.button1.elem),e.appendChild(h.label1.elem),e.appendChild(h.graduation.gradElem),e.appendChild(h.button2.elem),e.appendChild(h.label2.elem),h.scale.elem.onclick=h.scaleOnclick,h.graduation.mark1.onclick=h.mark1Onclick,h.graduation.mark2.onclick=h.mark2Onclick,h.graduation.mark3.onclick=h.mark3Onclick,h.graduation.mark4.onclick=h.mark4Onclick,h.button1.elem.onmousedown=function(e){e.preventDefault(),document.addEventListener("mousemove",h.onMouseMove1),document.addEventListener("mouseup",h.onMouseUp1)},h.button2.elem.onmousedown=function(e){e.preventDefault(),document.addEventListener("mousemove",h.onMouseMove2),document.addEventListener("mouseup",h.onMouseUp2)}},this.scale=new o,this.button1=new u,this.button2=new u,this.label1=new r,this.label2=new r,this.scaleFilling=new c,this.graduation=new s,this.minValue=e,this.maxValue=t,this.curMinValue=e,this.curMaxValue=t,this.step=i,this.isRange=n,this.isVertical=a,this.showLabel=d,this.isFloat=g,this.observers=new l,this.checkValues()},g=function(){function e(e,t){void 0===e&&(e=0),void 0===t&&(t=1e3),this.curMinValue=e,this.curMaxValue=t,this.observers=new l}return e.prototype.setCurMinValue=function(e){this.curMinValue!=e&&(this.curMinValue=e,this.observers.notifyObservers())},e.prototype.setCurMaxValue=function(e){this.curMaxValue!=e&&(this.curMaxValue=e,this.observers.notifyObservers())},e}(),h=function(e,t,i,n,a,o,s){var u=this;void 0===e&&(e=0),void 0===t&&(t=1e3),void 0===i&&(i=1),void 0===n&&(n=!1),void 0===a&&(a=!1),void 0===o&&(o=!1),void 0===s&&(s=!1),this.append=function(e){u.view.append(e.get(0)),u.view.init()},this.update=function(e){Object.keys(e).map((function(t){void 0!==u.view[t]&&(u.view[t]=e[t])})),u.view.init(),u.view.butt1Move(u.view.butt1OffsetCheck(u.view.offsetValueConv(u.model.curMinValue))[0],u.model.curMinValue),u.view.butt2Move(u.view.butt2OffsetCheck(u.view.offsetValueConv(u.model.curMaxValue))[0],u.model.curMaxValue)},this.getValues=function(){return[u.model.curMinValue,u.model.curMaxValue]},this.setValues=function(e,t){e&&u.model.setCurMinValue(e),t&&u.model.setCurMaxValue(t)},this.getConfig=function(){return{minValue:u.view.minValue,maxValue:u.view.maxValue,step:u.view.step,isRange:u.view.isRange,isVertical:u.view.isVertical,showLabel:u.view.showLabel,isFloat:u.view.isFloat}},this.addObserver=function(e){u.observers.addObserver(e)},this.view=new d(e,t,i,n,a,o,s),this.model=new g(e,t),this.observers=new l,this.view.observers.addObserver((function(){u.model.curMinValue=u.view.curMinValue,u.model.curMaxValue=u.view.curMaxValue,u.observers.notifyObservers()})),this.model.observers.addObserver((function(){var e=u.model.curMinValue,t=u.model.curMaxValue;u.view.butt1Move(u.view.offsetValueConv(e),e),u.view.butt2Move(u.view.offsetValueConv(t),t),u.observers.notifyObservers()}))};!function(e){const t={minValue:0,maxValue:1e3,step:1,isRange:!1,isVertical:!1,showLabel:!1,isFloat:!1},i={init:function(i){if(!e(this).data("slider")){const n=JSON.parse(JSON.stringify(t)),l=new h(...Object.values(e.extend(n,i)));e(this).data("slider",l),l.append(e(this))}},update:function(t){e(this).data("slider").update(t)},getConfig:function(){return e(this).data("slider").getConfig()},setValues:function(t){e(this).data("slider").setValues(t.curMinValue,t.curMaxValue)},inputsAttach:function(t){const i=e(this).data("slider");i.addObserver(()=>{t.minValueIn.val(i.getValues()[0]),t.maxValueIn.val(i.getValues()[1])})}};e.fn.omfgslider=function(t){return i[t]?i[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?void e.error('Метод "'+t+'" не найден в плагине jQuery.mySimplePlugin'):i.init.apply(this,arguments)}}(jQuery)}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL2luZGV4Lmh0bWwiLCJ3ZWJwYWNrOi8vLy4vc3JjL2Fzc2V0cy9NYWtlT2JzZXJ2YWJsZU9iamVjdC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvYXNzZXRzL2NyZWF0ZUVsZW0udHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2Fzc2V0cy9TY2FsZS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvYXNzZXRzL0dyYWR1YXRpb24udHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2Fzc2V0cy9CdXR0b24udHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2Fzc2V0cy9MYWJlbC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvYXNzZXRzL1NjYWxlRmlsbGluZy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvdmlldy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvbW9kZWwudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbnRyb2xsZXIudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL21haW4uanMiXSwibmFtZXMiOlsiaW5zdGFsbGVkTW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJpIiwibCIsIm1vZHVsZXMiLCJjYWxsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJ2YWx1ZSIsInQiLCJtb2RlIiwiX19lc01vZHVsZSIsIm5zIiwiY3JlYXRlIiwia2V5IiwiYmluZCIsIm4iLCJvYmplY3QiLCJwcm9wZXJ0eSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwicCIsInMiLCJ0aGlzIiwib2JzZXJ2ZXJzIiwiYWRkT2JzZXJ2ZXIiLCJmbiIsIkVycm9yIiwibWFwIiwib2JzZXJ2ZXIiLCJwdXNoIiwicmVtb3ZlT2JzZXJ2ZXIiLCJsZW5ndGgiLCJzcGxpY2UiLCJub3RpZnlPYnNlcnZlcnMiLCJjbGFzc05hbWUiLCJlbGVtIiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50Iiwib25kcmFnc3RhcnQiLCJjbGFzc0xpc3QiLCJhZGQiLCJnZXRMZWZ0IiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwibGVmdCIsImdldFdpZHRoIiwid2lkdGgiLCJnZXRIZWlnaHQiLCJoZWlnaHQiLCJnZXRUb3AiLCJ0b3AiLCJncmFkRWxlbSIsIm1hcmsxIiwibWFyazIiLCJtYXJrMyIsIm1hcms0IiwiYXBwZW5kQ2hpbGQiLCJpbml0IiwibWluVmFsdWUiLCJtYXhWYWx1ZSIsImlzVmVydGljYWwiLCJpc0Zsb2F0IiwiaW5uZXJIVE1MIiwidG9GaXhlZCIsIk1hdGgiLCJyb3VuZCIsInN0eWxlIiwibWFyZ2luVG9wIiwibWFyZ2luTGVmdCIsIm1hcmdpbkJvdHRvbSIsIm1hcmdpblJpZ2h0Iiwic3RlcCIsImlzUmFuZ2UiLCJzaG93TGFiZWwiLCJnZXRTdGFydCIsImJ1dHRvbjEiLCJzY2FsZSIsImdldEVuZCIsImJ1dHRvbjIiLCJ1cGRhdGVFbGVtcyIsInNjYWxlRmlsbGluZyIsImN1ck1pblZhbHVlIiwidmFsIiwid2hvbGUiLCJmbG9vciIsInJlbWluZGVyIiwiYWJzIiwicm91bmRPZmZzZXRCdXR0IiwiY3Vyck9mZnNldCIsInNjYWxlTWVzc3VyZSIsImN1cnJWYWx1ZSIsInJvdW5kVmFsdWUiLCJwYXJzZUZsb2F0Iiwib2Zmc2V0VmFsdWVDb252IiwiYnV0dDFNb3ZlIiwicm91bmRPZmZzZXQiLCJsYWJlbDEiLCJidXR0MU9mZnNldENoZWNrIiwibmV3T2Zmc2V0Iiwic3RlcFdpZHRoIiwib25Nb3VzZU1vdmUxIiwiZXZlbnRNbSIsImNsaWVudFkiLCJjbGllbnRYIiwib25Nb3VzZVVwMSIsImV2ZW50TXUiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiYnV0dDJNb3ZlIiwibGFiZWwyIiwiY3VyTWF4VmFsdWUiLCJidXR0Mk9mZnNldENoZWNrIiwib25Nb3VzZU1vdmUyIiwib25Nb3VzZVVwMiIsInNjYWxlT25jbGljayIsImV2ZW50IiwiaW50ZXJNYXJrSGFuZGxlciIsIm1hcmtYIiwibWFyazFPbmNsaWNrIiwibWFyazRPbmNsaWNrIiwibWFyazJPbmNsaWNrIiwiZ3JhZHVhdGlvbiIsInBhcnNlSW50IiwibWFyazNPbmNsaWNrIiwiY2hlY2tWYWx1ZXMiLCJjb25zb2xlIiwiZXJyb3IiLCJkaXNwbGF5IiwicmVtb3ZlIiwiYXBwZW5kIiwiZW50cnkiLCJvbmNsaWNrIiwib25tb3VzZWRvd24iLCJldmVudE1kIiwicHJldmVudERlZmF1bHQiLCJhZGRFdmVudExpc3RlbmVyIiwic2V0Q3VyTWluVmFsdWUiLCJkYXRhIiwic2V0Q3VyTWF4VmFsdWUiLCJ2aWV3IiwidXBkYXRlIiwiYXJncyIsImtleXMiLCJpdGVtIiwidW5kZWZpbmVkIiwibW9kZWwiLCJnZXRWYWx1ZXMiLCJzZXRWYWx1ZXMiLCJnZXRDb25maWciLCIkIiwiY29uZmlnIiwibWV0aG9kcyIsIm9wdCIsIm5ld0NvbmZpZyIsIkpTT04iLCJwYXJzZSIsInN0cmluZ2lmeSIsInNsaWRlciIsInZhbHVlcyIsImV4dGVuZCIsImlucHV0c0F0dGFjaCIsIm1pblZhbHVlSW4iLCJtYXhWYWx1ZUluIiwib21mZ3NsaWRlciIsIm1ldGhvZCIsImFwcGx5IiwiQXJyYXkiLCJzbGljZSIsImFyZ3VtZW50cyIsImpRdWVyeSJdLCJtYXBwaW5ncyI6ImFBQ0UsSUFBSUEsRUFBbUIsR0FHdkIsU0FBU0MsRUFBb0JDLEdBRzVCLEdBQUdGLEVBQWlCRSxHQUNuQixPQUFPRixFQUFpQkUsR0FBVUMsUUFHbkMsSUFBSUMsRUFBU0osRUFBaUJFLEdBQVksQ0FDekNHLEVBQUdILEVBQ0hJLEdBQUcsRUFDSEgsUUFBUyxJQVVWLE9BTkFJLEVBQVFMLEdBQVVNLEtBQUtKLEVBQU9ELFFBQVNDLEVBQVFBLEVBQU9ELFFBQVNGLEdBRy9ERyxFQUFPRSxHQUFJLEVBR0pGLEVBQU9ELFFBS2ZGLEVBQW9CUSxFQUFJRixF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RVUsT0FBT04sRUFBV0QsS0FDbkVILEVBQUU3SCxNQUFNaUgsS0FBSyxTQUFVb0IsR0FDdkJBLEVBQU81QixPQUFPb0IsRUFBRTdILFNBSXBCb0gsT0FBUSxTQUFTWSxHQUNBSCxFQUFFN0gsTUFBTWlILEtBQUssVUFDckJHLE9BQU9ZLElBR2hCSixVQUFXLFdBRVQsT0FEZUMsRUFBRTdILE1BQU1pSCxLQUFLLFVBQ2RXLGFBR2hCRCxVQUFXLFNBQVNLLEdBQ0hILEVBQUU3SCxNQUFNaUgsS0FBSyxVQUNyQlUsVUFBVUssRUFBSXRFLFlBQWFzRSxFQUFJMUMsY0FHeENrRCxhQUFjLFNBQVNSLEdBQ3JCLE1BQU1LLEVBQVNSLEVBQUU3SCxNQUFNaUgsS0FBSyxVQUM1Qm9CLEVBQU9uSSxZQUFZLEtBQ2pCOEgsRUFBSVMsV0FBVzlFLElBQUkwRSxFQUFPWCxZQUFZLElBQ3RDTSxFQUFJVSxXQUFXL0UsSUFBSTBFLEVBQU9YLFlBQVksUUFLNUNHLEVBQUUxSCxHQUFHd0ksV0FBYSxTQUFTQyxHQUN6QixPQUFJYixFQUFRYSxHQUNIYixFQUFRYSxHQUFRQyxNQUFNN0ksS0FBTThJLE1BQU1sSixVQUFVbUosTUFBTTVLLEtBQUs2SyxVQUFXLElBQzlDLGlCQUFYSixHQUF3QkEsT0FHeENmLEVBQUV2QixNQUFNLFVBQWFzQyxFQUFTLCtDQUZ2QmIsRUFBUTdGLEtBQUsyRyxNQUFNN0ksS0FBTWdKLFlBakR0QyxDQXNER0MiLCJmaWxlIjoiYnVuZGxlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuIFx0XHR9XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3RcbiBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3RcbiBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbiBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbiBcdFx0cmV0dXJuIG5zO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDEpO1xuIiwiZXhwb3J0IGRlZmF1bHQgX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcImluZGV4Lmh0bWxcIjsiLCJjbGFzcyBNYWtlT2JzZXJ2YWJsZU9iamVjdCB7XHJcbiAgb2JzZXJ2ZXJzOiBBcnJheTxGdW5jdGlvbj47XHJcbiAgXHJcbiAgY29uc3RydWN0b3IoKSB7XHJcbiAgICB0aGlzLm9ic2VydmVycyA9IFtdO1xyXG4gIH1cclxuXHJcbiAgYWRkT2JzZXJ2ZXIgKGZuOiBGdW5jdGlvbik6IHZvaWQge1xyXG4gICAgaWYgKHR5cGVvZiBmbiAhPT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ29ic2VydmVyIG11c3QgYmUgYSBmdW5jdGlvbicpO1xyXG4gICAgfVxyXG4gICAgdGhpcy5vYnNlcnZlcnMubWFwKChvYnNlcnZlcikgPT4ge1xyXG4gICAgICBpZiAob2JzZXJ2ZXIgPT09IGZuKSB7XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdvYnNlcnZlciBhbHJlYWR5IGluIHRoZSBsaXN0Jyk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gICAgdGhpcy5vYnNlcnZlcnMucHVzaChmbik7XHJcbiAgfVxyXG5cclxuICByZW1vdmVPYnNlcnZlciAoZm46IEZ1bmN0aW9uKTogdm9pZCB7XHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMub2JzZXJ2ZXJzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgIGNvbnN0IG9ic2VydmVyID0gdGhpcy5vYnNlcnZlcnNbaV07XHJcbiAgICAgIGlmIChvYnNlcnZlciA9PT0gZm4pIHtcclxuICAgICAgICB0aGlzLm9ic2VydmVycy5zcGxpY2UoaSwgMSk7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ2NvdWxkIG5vdCBmaW5kIG9ic2VydmVyIGluIGxpc3Qgb2Ygb2JzZXJ2ZXJzJyk7XHJcbiAgfVxyXG4gIFxyXG4gIG5vdGlmeU9ic2VydmVycyAoKTogdm9pZCB7XHJcbiAgICBjb25zdCBvYnNlcnZlcnNTbmFwc2hvdCA9IFsuLi50aGlzLm9ic2VydmVyc107XHJcbiAgICBvYnNlcnZlcnNTbmFwc2hvdC5tYXAoKG9ic2VydmVyKSA9PiBvYnNlcnZlcigpKTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IE1ha2VPYnNlcnZhYmxlT2JqZWN0OyIsIi8vIEVsZW1lbnRzIGZhY3RvcnlcclxuZnVuY3Rpb24gY3JlYXRlRWxlbShjbGFzc05hbWU6IHN0cmluZykgOkhUTUxFbGVtZW50IHtcclxuICBjb25zdCBlbGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcclxuICBlbGVtLm9uZHJhZ3N0YXJ0ID0gKCkgPT4gZmFsc2U7XHJcbiAgZWxlbS5jbGFzc0xpc3QuYWRkKGNsYXNzTmFtZSk7XHJcbiAgcmV0dXJuIGVsZW07XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNyZWF0ZUVsZW07IiwiaW1wb3J0IGNyZWF0ZUVsZW0gZnJvbSBcIi4vY3JlYXRlRWxlbVwiO1xyXG5cclxuY2xhc3MgU2NhbGUge1xyXG4gIGVsZW06IEhUTUxFbGVtZW50O1xyXG5cclxuICBjb25zdHJ1Y3RvcigpIHt0aGlzLmVsZW0gPSBjcmVhdGVFbGVtKFwic2xpZGVyX19zY2FsZVwiKTtcclxuICB9XHJcblxyXG4gIGdldExlZnQoKTogbnVtYmVyIHtcclxuICAgIHJldHVybiB0aGlzLmVsZW0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkubGVmdDtcclxuICB9XHJcblxyXG4gIGdldFdpZHRoKCk6IG51bWJlciB7XHJcbiAgICByZXR1cm4gdGhpcy5lbGVtLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLndpZHRoO1xyXG4gIH1cclxuXHJcbiAgZ2V0SGVpZ2h0KCk6IG51bWJlciB7XHJcbiAgICByZXR1cm4gdGhpcy5lbGVtLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmhlaWdodDtcclxuICB9XHJcbiAgXHJcbiAgZ2V0VG9wKCk6IG51bWJlciB7XHJcbiAgICByZXR1cm4gdGhpcy5lbGVtLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnRvcDtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IFNjYWxlO1xyXG4iLCJpbXBvcnQgY3JlYXRlRWxlbSBmcm9tIFwiLi9jcmVhdGVFbGVtXCI7XHJcblxyXG5jbGFzcyBHcmFkdWF0aW9uIHtcclxuICBncmFkRWxlbTogSFRNTEVsZW1lbnQ7XHJcbiAgbWFyazE6IEhUTUxFbGVtZW50O1xyXG4gIG1hcmsyOiBIVE1MRWxlbWVudDtcclxuICBtYXJrMzogSFRNTEVsZW1lbnQ7XHJcbiAgbWFyazQ6IEhUTUxFbGVtZW50O1xyXG5cclxuICBjb25zdHJ1Y3RvcigpIHtcclxuICAgIHRoaXMuZ3JhZEVsZW0gPSBjcmVhdGVFbGVtKFwic2xpZGVyX19ncmFkdWF0aW9uXCIpO1xyXG4gICAgdGhpcy5tYXJrMSA9IGNyZWF0ZUVsZW0oXCJzbGlkZXJfX2dyYWR1YXRpb24tbWFya1wiKTtcclxuICAgIHRoaXMubWFyazIgPSBjcmVhdGVFbGVtKFwic2xpZGVyX19ncmFkdWF0aW9uLW1hcmtcIik7XHJcbiAgICB0aGlzLm1hcmszID0gY3JlYXRlRWxlbShcInNsaWRlcl9fZ3JhZHVhdGlvbi1tYXJrXCIpO1xyXG4gICAgdGhpcy5tYXJrNCA9IGNyZWF0ZUVsZW0oXCJzbGlkZXJfX2dyYWR1YXRpb24tbWFya1wiKTtcclxuICAgIHRoaXMuZ3JhZEVsZW0uYXBwZW5kQ2hpbGQodGhpcy5tYXJrMSk7XHJcbiAgICB0aGlzLmdyYWRFbGVtLmFwcGVuZENoaWxkKHRoaXMubWFyazIpO1xyXG4gICAgdGhpcy5ncmFkRWxlbS5hcHBlbmRDaGlsZCh0aGlzLm1hcmszKTtcclxuICAgIHRoaXMuZ3JhZEVsZW0uYXBwZW5kQ2hpbGQodGhpcy5tYXJrNCk7XHJcbiAgICB0aGlzLmluaXQgPSB0aGlzLmluaXQuYmluZCh0aGlzKTtcclxuICB9XHJcblxyXG4gIGluaXQobWluVmFsdWU6IG51bWJlciwgbWF4VmFsdWU6IG51bWJlciwgaXNWZXJ0aWNhbDogYm9vbGVhbiwgaXNGbG9hdCA9IGZhbHNlKTogdm9pZCB7XHJcbiAgICB0aGlzLm1hcmsxLmlubmVySFRNTCA9IG1pblZhbHVlICsgXCJcIjtcclxuICAgIHRoaXMubWFyazQuaW5uZXJIVE1MID0gbWF4VmFsdWUgKyBcIlwiO1xyXG5cclxuICAgIGlmIChpc0Zsb2F0KSB7XHJcbiAgICAgIHRoaXMubWFyazIuaW5uZXJIVE1MID0gKG1pblZhbHVlICsgKG1heFZhbHVlIC0gbWluVmFsdWUpLzMpLnRvRml4ZWQoMik7XHJcbiAgICAgIHRoaXMubWFyazMuaW5uZXJIVE1MID0gKG1pblZhbHVlICsgKG1heFZhbHVlIC0gbWluVmFsdWUpKjIvMykudG9GaXhlZCgyKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMubWFyazIuaW5uZXJIVE1MID0gbWluVmFsdWUgKyBNYXRoLnJvdW5kKChtYXhWYWx1ZSAtIG1pblZhbHVlKS8zKSArIFwiXCI7XHJcbiAgICAgIHRoaXMubWFyazMuaW5uZXJIVE1MID0gbWluVmFsdWUgKyBNYXRoLnJvdW5kKChtYXhWYWx1ZSAtIG1pblZhbHVlKSoyLzMpICsgXCJcIjtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoIWlzVmVydGljYWwpIHtcclxuICAgICAgdGhpcy5tYXJrMS5zdHlsZS5tYXJnaW5MZWZ0ID0gLTE1ICsgXCJweFwiO1xyXG4gICAgICB0aGlzLm1hcmsxLnN0eWxlLm1hcmdpblRvcCA9IFwiMFwiO1xyXG4gICAgICB0aGlzLm1hcms0LnN0eWxlLm1hcmdpblJpZ2h0ID0gLTE1ICsgXCJweFwiO1xyXG4gICAgICB0aGlzLm1hcms0LnN0eWxlLm1hcmdpbkJvdHRvbSA9IFwiMFwiO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5tYXJrMS5zdHlsZS5tYXJnaW5Ub3AgPSAtOSAgKyBcInB4XCI7XHJcbiAgICAgIHRoaXMubWFyazEuc3R5bGUubWFyZ2luTGVmdCA9IFwiMFwiO1xyXG4gICAgICB0aGlzLm1hcms0LnN0eWxlLm1hcmdpbkJvdHRvbSA9IC05ICsgXCJweFwiO1xyXG4gICAgICB0aGlzLm1hcms0LnN0eWxlLm1hcmdpblJpZ2h0ID0gXCIwXCI7XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBHcmFkdWF0aW9uOyIsImltcG9ydCBjcmVhdGVFbGVtIGZyb20gXCIuL2NyZWF0ZUVsZW1cIjtcclxuXHJcbmNsYXNzIEJ1dHRvbiB7XHJcbiAgZWxlbTogSFRNTEVsZW1lbnQ7XHJcblxyXG4gIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgdGhpcy5lbGVtID0gY3JlYXRlRWxlbShcInNsaWRlcl9fYnV0dG9uXCIpO1xyXG4gIH1cclxuXHJcbiAgZ2V0TGVmdCgpOiBudW1iZXIge1xyXG4gICAgcmV0dXJuIHRoaXMuZWxlbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5sZWZ0O1xyXG4gIH1cclxuXHJcbiAgZ2V0V2lkdGgoKTogbnVtYmVyIHtcclxuICAgIHJldHVybiB0aGlzLmVsZW0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkud2lkdGg7XHJcbiAgfVxyXG5cclxuICBnZXRUb3AoKTogbnVtYmVyIHtcclxuICAgIHJldHVybiB0aGlzLmVsZW0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkudG9wO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgQnV0dG9uOyIsImltcG9ydCBjcmVhdGVFbGVtIGZyb20gXCIuL2NyZWF0ZUVsZW1cIjtcclxuXHJcbmNsYXNzIExhYmVsIHtcclxuICBlbGVtOiBIVE1MRWxlbWVudDtcclxuXHJcbiAgY29uc3RydWN0b3IoKSB7XHJcbiAgICB0aGlzLmVsZW0gPSBjcmVhdGVFbGVtKFwic2xpZGVyX19idXR0b24tbGFiZWxcIik7XHJcbiAgfVxyXG5cclxuICBnZXRXaWR0aCgpOiBudW1iZXIge1xyXG4gICAgcmV0dXJuIHRoaXMuZWxlbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS53aWR0aDtcclxuICB9XHJcbiAgXHJcbiAgZ2V0SGVpZ2h0KCk6IG51bWJlciB7XHJcbiAgICByZXR1cm4gdGhpcy5lbGVtLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmhlaWdodDtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IExhYmVsOyIsImltcG9ydCBjcmVhdGVFbGVtIGZyb20gXCIuL2NyZWF0ZUVsZW1cIjtcclxuXHJcbmNsYXNzIFNjYWxlRmlsbGluZyB7XHJcbiAgZWxlbTogSFRNTEVsZW1lbnQ7XHJcbiAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgIHRoaXMuZWxlbSA9IGNyZWF0ZUVsZW0oXCJzbGlkZXJfX3NjYWxlLWZpbGxpbmdcIik7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBTY2FsZUZpbGxpbmc7XHJcbiIsImltcG9ydCBNYWtlT2JzZXJ2YWJsZU9iamVjdCBmcm9tIFwiLi9hc3NldHMvTWFrZU9ic2VydmFibGVPYmplY3RcIjtcclxuaW1wb3J0IGNyZWF0ZUVsZW0gZnJvbSBcIi4vYXNzZXRzL2NyZWF0ZUVsZW1cIjtcclxuaW1wb3J0IFNjYWxlIGZyb20gXCIuL2Fzc2V0cy9TY2FsZVwiO1xyXG5pbXBvcnQgR3JhZHVhdGlvbiBmcm9tIFwiLi9hc3NldHMvR3JhZHVhdGlvblwiO1xyXG5pbXBvcnQgQnV0dG9uIGZyb20gXCIuL2Fzc2V0cy9CdXR0b25cIjtcclxuaW1wb3J0IExhYmVsIGZyb20gXCIuL2Fzc2V0cy9MYWJlbFwiO1xyXG5pbXBvcnQgU2NhbGVGaWxsaW5nIGZyb20gXCIuL2Fzc2V0cy9TY2FsZUZpbGxpbmdcIjtcclxuXHJcbmNsYXNzIFZpZXcge1xyXG4gIFtpbmRleDogc3RyaW5nXTogbnVtYmVyfGJvb2xlYW58U2NhbGV8R3JhZHVhdGlvbnxTY2FsZUZpbGxpbmd8QnV0dG9ufExhYmVsfE1ha2VPYnNlcnZhYmxlT2JqZWN0fEZ1bmN0aW9uO1xyXG4gIHNjYWxlOiBTY2FsZTtcclxuICBncmFkdWF0aW9uOiBHcmFkdWF0aW9uO1xyXG4gIHNjYWxlRmlsbGluZzogU2NhbGVGaWxsaW5nO1xyXG4gIGJ1dHRvbjE6IEJ1dHRvbjtcclxuICBidXR0b24yOiBCdXR0b247XHJcbiAgbGFiZWwxOiBMYWJlbDtcclxuICBsYWJlbDI6IExhYmVsO1xyXG4gIGlzUmFuZ2U6IGJvb2xlYW47XHJcbiAgaXNWZXJ0aWNhbDogYm9vbGVhbjtcclxuICBzaG93TGFiZWw6IGJvb2xlYW47XHJcbiAgbWluVmFsdWU6IG51bWJlcjtcclxuICBtYXhWYWx1ZTogbnVtYmVyO1xyXG4gIGN1ck1pblZhbHVlOiBudW1iZXI7XHJcbiAgY3VyTWF4VmFsdWU6IG51bWJlcjtcclxuICBzdGVwOiBudW1iZXI7XHJcbiAgaXNGbG9hdDogYm9vbGVhbjtcclxuICBvYnNlcnZlcnM6IE1ha2VPYnNlcnZhYmxlT2JqZWN0O1xyXG4gICAgXHJcbiAgY29uc3RydWN0b3IobWluVmFsdWUgPSAwLCBtYXhWYWx1ZSA9IDEwMDAsIHN0ZXAgPSAxLCBpc1JhbmdlID0gZmFsc2UsIGlzVmVydGljYWwgPSBmYWxzZSwgc2hvd0xhYmVsID0gZmFsc2UsIGlzRmxvYXQgPSBmYWxzZSkge1xyXG4gICAgdGhpcy5zY2FsZSA9IG5ldyBTY2FsZSgpO1xyXG4gICAgdGhpcy5idXR0b24xID0gbmV3IEJ1dHRvbigpO1xyXG4gICAgdGhpcy5idXR0b24yID0gbmV3IEJ1dHRvbigpO1xyXG4gICAgdGhpcy5sYWJlbDEgPSBuZXcgTGFiZWwoKTtcclxuICAgIHRoaXMubGFiZWwyID0gbmV3IExhYmVsKCk7XHJcbiAgICB0aGlzLnNjYWxlRmlsbGluZyA9IG5ldyBTY2FsZUZpbGxpbmcoKTtcclxuICAgIHRoaXMuZ3JhZHVhdGlvbiA9IG5ldyBHcmFkdWF0aW9uKCk7XHJcbiAgICB0aGlzLm1pblZhbHVlID0gbWluVmFsdWU7XHJcbiAgICB0aGlzLm1heFZhbHVlID0gbWF4VmFsdWU7XHJcbiAgICB0aGlzLmN1ck1pblZhbHVlID0gbWluVmFsdWU7XHJcbiAgICB0aGlzLmN1ck1heFZhbHVlID0gbWF4VmFsdWU7XHJcbiAgICB0aGlzLnN0ZXAgPSBzdGVwO1xyXG4gICAgdGhpcy5pc1JhbmdlID0gaXNSYW5nZTtcclxuICAgIHRoaXMuaXNWZXJ0aWNhbCA9IGlzVmVydGljYWw7XHJcbiAgICB0aGlzLnNob3dMYWJlbCA9IHNob3dMYWJlbDtcclxuICAgIHRoaXMuaXNGbG9hdCA9IGlzRmxvYXQ7XHJcbiAgICB0aGlzLm9ic2VydmVycyA9IG5ldyBNYWtlT2JzZXJ2YWJsZU9iamVjdCgpXHJcbiAgICB0aGlzLmNoZWNrVmFsdWVzKCk7XHJcbiAgfVxyXG5cclxuICBnZXRTdGFydCA9ICgpOiBudW1iZXIgPT4ge1xyXG4gICAgaWYgKHRoaXMuaXNSYW5nZSkge1xyXG4gICAgICBpZiAodGhpcy5pc1ZlcnRpY2FsKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuYnV0dG9uMS5nZXRUb3AoKSAtIHRoaXMuc2NhbGUuZ2V0VG9wKCkgKyB0aGlzLmJ1dHRvbjEuZ2V0V2lkdGgoKS8yO1xyXG4gICAgICB9IFxyXG4gICAgICAgICAgXHJcbiAgICAgIHJldHVybiB0aGlzLmJ1dHRvbjEuZ2V0TGVmdCgpIC0gdGhpcy5zY2FsZS5nZXRMZWZ0KCkgKyB0aGlzLmJ1dHRvbjEuZ2V0V2lkdGgoKS8yO1xyXG4gICAgfSBcclxuICAgICAgICBcclxuICAgIHJldHVybiAwO1xyXG4gIH1cclxuXHJcbiAgZ2V0RW5kID0gKCk6IG51bWJlciA9PiB7XHJcbiAgICBpZiAodGhpcy5pc1ZlcnRpY2FsKSB7XHJcbiAgICAgIHJldHVybiB0aGlzLmJ1dHRvbjIuZ2V0VG9wKCkgLSB0aGlzLnNjYWxlLmdldFRvcCgpICsgdGhpcy5idXR0b24yLmdldFdpZHRoKCkvMjtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gdGhpcy5idXR0b24yLmdldExlZnQoKSAtIHRoaXMuc2NhbGUuZ2V0TGVmdCgpICsgdGhpcy5idXR0b24yLmdldFdpZHRoKCkvMjtcclxuICB9XHJcblxyXG4gIHVwZGF0ZUVsZW1zID0gKCk6IHZvaWQgPT4ge1xyXG4gICAgaWYgKHRoaXMuaXNWZXJ0aWNhbCkge1xyXG4gICAgICB0aGlzLnNjYWxlRmlsbGluZy5lbGVtLnN0eWxlLnRvcCA9IHRoaXMuZ2V0U3RhcnQoKSArIFwicHhcIjtcclxuICAgICAgdGhpcy5zY2FsZUZpbGxpbmcuZWxlbS5zdHlsZS5sZWZ0ID0gXCIwXCI7XHJcbiAgICAgIHRoaXMuc2NhbGVGaWxsaW5nLmVsZW0uc3R5bGUuaGVpZ2h0ID0gdGhpcy5nZXRFbmQoKSAtIHRoaXMuZ2V0U3RhcnQoKSArIFwicHhcIjtcclxuICAgICAgdGhpcy5zY2FsZUZpbGxpbmcuZWxlbS5zdHlsZS53aWR0aCA9IFwiMTAwJVwiO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5zY2FsZUZpbGxpbmcuZWxlbS5zdHlsZS5sZWZ0ID0gdGhpcy5nZXRTdGFydCgpICsgXCJweFwiO1xyXG4gICAgICB0aGlzLnNjYWxlRmlsbGluZy5lbGVtLnN0eWxlLnRvcCA9IFwiMFwiO1xyXG4gICAgICB0aGlzLnNjYWxlRmlsbGluZy5lbGVtLnN0eWxlLndpZHRoID0gdGhpcy5nZXRFbmQoKSAtIHRoaXMuZ2V0U3RhcnQoKSArIFwicHhcIjtcclxuICAgICAgdGhpcy5zY2FsZUZpbGxpbmcuZWxlbS5zdHlsZS5oZWlnaHQgPSBcIjEwMCVcIjtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoIXRoaXMuaXNSYW5nZSkge1xyXG4gICAgICB0aGlzLmN1ck1pblZhbHVlID0gdGhpcy5taW5WYWx1ZTtcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLm9ic2VydmVycy5ub3RpZnlPYnNlcnZlcnMoKTtcclxuICB9XHJcblxyXG4gIHJvdW5kID0gKHZhbDogbnVtYmVyLCBzdGVwOiBudW1iZXIpOiBudW1iZXIgPT4ge1xyXG4gICAgY29uc3Qgd2hvbGUgPSBNYXRoLmZsb29yKHZhbC9zdGVwKTtcclxuICAgIGNvbnN0IHJlbWluZGVyID0gdmFsICUgc3RlcDtcclxuXHJcbiAgICBpZiAodmFsIDwgMCkge1xyXG4gICAgICByZXR1cm4gTWF0aC5hYnMocmVtaW5kZXIpID4gc3RlcC8yID8gd2hvbGUqc3RlcCA6ICh3aG9sZSArIDEpKnN0ZXA7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gcmVtaW5kZXIgPCBzdGVwLzIgPyB3aG9sZSpzdGVwIDogKHdob2xlICsgMSkqc3RlcDtcclxuICB9XHJcblxyXG4gIHJvdW5kT2Zmc2V0QnV0dCA9IChjdXJyT2Zmc2V0OiBudW1iZXIpOiBBcnJheTxudW1iZXI+ID0+IHtcclxuICAgIGxldCBzY2FsZU1lc3N1cmU7XHJcbiAgICBpZih0aGlzLmlzVmVydGljYWwpIHtcclxuICAgICAgc2NhbGVNZXNzdXJlID0gdGhpcy5zY2FsZS5nZXRIZWlnaHQoKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHNjYWxlTWVzc3VyZSA9IHRoaXMuc2NhbGUuZ2V0V2lkdGgoKTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBjdXJyVmFsdWUgPSB0aGlzLm1pblZhbHVlICsgKGN1cnJPZmZzZXQgKyB0aGlzLmJ1dHRvbjIuZ2V0V2lkdGgoKS8yKSoodGhpcy5tYXhWYWx1ZSAtIHRoaXMubWluVmFsdWUpL3NjYWxlTWVzc3VyZTtcclxuICAgIGxldCByb3VuZFZhbHVlID0gdGhpcy5yb3VuZChjdXJyVmFsdWUsIHRoaXMuc3RlcCk7XHJcblxyXG4gICAgaWYgKHRoaXMuaXNGbG9hdCkge1xyXG4gICAgICByb3VuZFZhbHVlID0gcGFyc2VGbG9hdChyb3VuZFZhbHVlLnRvRml4ZWQoMikpO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBpZiAocm91bmRWYWx1ZSA8IHRoaXMubWluVmFsdWUpIHtcclxuICAgICAgcm91bmRWYWx1ZSA9IHRoaXMubWluVmFsdWU7XHJcbiAgICB9IGVsc2UgaWYgKHJvdW5kVmFsdWUgPiB0aGlzLm1heFZhbHVlKSB7XHJcbiAgICAgIHJvdW5kVmFsdWUgPSB0aGlzLm1heFZhbHVlO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBjb25zdCByb3VuZE9mZnNldCA9IChyb3VuZFZhbHVlIC0gdGhpcy5taW5WYWx1ZSkqc2NhbGVNZXNzdXJlLyh0aGlzLm1heFZhbHVlIC0gdGhpcy5taW5WYWx1ZSkgLSB0aGlzLmJ1dHRvbjIuZ2V0V2lkdGgoKS8yO1xyXG4gICAgcmV0dXJuIFtyb3VuZE9mZnNldCwgcm91bmRWYWx1ZV07XHJcbiAgfVxyXG5cclxuICBvZmZzZXRWYWx1ZUNvbnYgPSAodmFsdWU6IG51bWJlcik6IG51bWJlciA9PiB7XHJcbiAgICBpZiAodGhpcy5pc1ZlcnRpY2FsKSB7XHJcbiAgICAgIHJldHVybiAoKHZhbHVlIC0gdGhpcy5taW5WYWx1ZSkvKHRoaXMubWF4VmFsdWUgLSB0aGlzLm1pblZhbHVlKSp0aGlzLnNjYWxlLmdldEhlaWdodCgpIC0gdGhpcy5idXR0b24yLmdldFdpZHRoKCkvMik7XHJcbiAgICB9IFxyXG4gICAgICAgIFxyXG4gICAgcmV0dXJuICgodmFsdWUgLSB0aGlzLm1pblZhbHVlKS8odGhpcy5tYXhWYWx1ZSAtIHRoaXMubWluVmFsdWUpKnRoaXMuc2NhbGUuZ2V0V2lkdGgoKSAtIHRoaXMuYnV0dG9uMi5nZXRXaWR0aCgpLzIpO1xyXG4gIH1cclxuXHJcbiAgLy9CdXR0b24xICBIYW5kbGVycy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuICBidXR0MU1vdmUgPSAocm91bmRPZmZzZXQ6IG51bWJlciwgcm91bmRWYWx1ZTogbnVtYmVyKTogdm9pZCA9PiB7XHJcbiAgICBpZiAodGhpcy5pc1ZlcnRpY2FsKSB7XHJcbiAgICAgIHRoaXMuYnV0dG9uMS5lbGVtLnN0eWxlLnRvcCA9IHJvdW5kT2Zmc2V0ICsgXCJweFwiO1xyXG4gICAgICB0aGlzLmxhYmVsMS5lbGVtLnN0eWxlLnRvcCA9IHJvdW5kT2Zmc2V0IC0gdGhpcy5sYWJlbDEuZ2V0SGVpZ2h0KCkvMiArIHRoaXMuYnV0dG9uMS5nZXRXaWR0aCgpLzIgKyBcInB4XCI7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLmJ1dHRvbjEuZWxlbS5zdHlsZS5sZWZ0ID0gcm91bmRPZmZzZXQgKyBcInB4XCI7XHJcbiAgICAgIHRoaXMubGFiZWwxLmVsZW0uc3R5bGUubGVmdCA9IHJvdW5kT2Zmc2V0IC0gdGhpcy5sYWJlbDEuZ2V0V2lkdGgoKS8yICsgdGhpcy5idXR0b24xLmdldFdpZHRoKCkvMiArIFwicHhcIjtcclxuICAgIH1cclxuXHJcbiAgICBpZiAocm91bmRWYWx1ZSA8IHRoaXMubWluVmFsdWUpIHtcclxuICAgICAgcm91bmRWYWx1ZSA9IHRoaXMubWluVmFsdWU7XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5sYWJlbDEuZWxlbS5pbm5lckhUTUwgPSByb3VuZFZhbHVlICsgXCJcIjtcclxuICAgIHRoaXMuY3VyTWluVmFsdWUgPSByb3VuZFZhbHVlO1xyXG4gICAgdGhpcy51cGRhdGVFbGVtcygpO1xyXG4gIH1cclxuXHJcbiAgYnV0dDFPZmZzZXRDaGVjayA9IChuZXdPZmZzZXQ6IG51bWJlcik6IEFycmF5PG51bWJlcj4gPT4ge1xyXG4gICAgbGV0IHJvdW5kVmFsdWU7XHJcblxyXG4gICAgaWYgKHRoaXMuaXNWZXJ0aWNhbCkge1xyXG4gICAgICBjb25zdCBzdGVwV2lkdGggPSB0aGlzLnN0ZXAqdGhpcy5zY2FsZS5nZXRIZWlnaHQoKS8odGhpcy5tYXhWYWx1ZSAtIHRoaXMubWluVmFsdWUpO1xyXG4gICAgICBpZiAobmV3T2Zmc2V0IDwgLXRoaXMuYnV0dG9uMi5nZXRXaWR0aCgpLzIpIHtcclxuICAgICAgICBuZXdPZmZzZXQgPSAtdGhpcy5idXR0b24yLmdldFdpZHRoKCkvMjtcclxuICAgICAgICByb3VuZFZhbHVlID0gdGhpcy5taW5WYWx1ZTtcclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKHN0ZXBXaWR0aC8xLjUgPiB0aGlzLmJ1dHRvbjIuZ2V0V2lkdGgoKSkge1xyXG4gICAgICAgIGlmIChuZXdPZmZzZXQgPiB0aGlzLmJ1dHRvbjIuZ2V0VG9wKCkgLSB0aGlzLnNjYWxlLmdldFRvcCgpIC0gc3RlcFdpZHRoLzEuNSkge1xyXG4gICAgICAgICAgbmV3T2Zmc2V0ID0gdGhpcy5idXR0b24yLmdldFRvcCgpIC0gdGhpcy5zY2FsZS5nZXRUb3AoKSAtIHN0ZXBXaWR0aC8xLjU7XHJcbiAgICAgICAgfVxyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGlmIChuZXdPZmZzZXQgPiB0aGlzLmJ1dHRvbjIuZ2V0VG9wKCkgLSB0aGlzLnNjYWxlLmdldFRvcCgpIC0gdGhpcy5idXR0b24yLmdldFdpZHRoKCkpIHtcclxuICAgICAgICAgIG5ld09mZnNldCA9IHRoaXMuYnV0dG9uMi5nZXRUb3AoKSAtIHRoaXMuc2NhbGUuZ2V0VG9wKCkgLSB0aGlzLmJ1dHRvbjIuZ2V0V2lkdGgoKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGNvbnN0IHN0ZXBXaWR0aCA9IHRoaXMuc3RlcCp0aGlzLnNjYWxlLmdldFdpZHRoKCkvKHRoaXMubWF4VmFsdWUgLSB0aGlzLm1pblZhbHVlKTtcclxuICAgICAgaWYgKG5ld09mZnNldCA8IC10aGlzLmJ1dHRvbjEuZ2V0V2lkdGgoKS8yKSB7XHJcbiAgICAgICAgbmV3T2Zmc2V0ID0gLXRoaXMuYnV0dG9uMS5nZXRXaWR0aCgpLzI7XHJcbiAgICAgICAgcm91bmRWYWx1ZSA9IHRoaXMubWluVmFsdWU7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmIChzdGVwV2lkdGgvMS41ID4gdGhpcy5idXR0b24xLmdldFdpZHRoKCkpIHtcclxuICAgICAgICBpZiAobmV3T2Zmc2V0ID4gdGhpcy5idXR0b24yLmdldExlZnQoKSAtIHRoaXMuc2NhbGUuZ2V0TGVmdCgpIC0gc3RlcFdpZHRoLzEuNSkge1xyXG4gICAgICAgICAgbmV3T2Zmc2V0ID0gdGhpcy5idXR0b24yLmdldExlZnQoKSAtIHRoaXMuc2NhbGUuZ2V0TGVmdCgpIC0gc3RlcFdpZHRoLzEuNTtcclxuICAgICAgICB9XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgaWYgKG5ld09mZnNldCA+IHRoaXMuYnV0dG9uMi5nZXRMZWZ0KCkgLSB0aGlzLnNjYWxlLmdldExlZnQoKSAtIHRoaXMuYnV0dG9uMi5nZXRXaWR0aCgpKSB7XHJcbiAgICAgICAgICBuZXdPZmZzZXQgPSB0aGlzLmJ1dHRvbjIuZ2V0TGVmdCgpIC0gdGhpcy5zY2FsZS5nZXRMZWZ0KCkgLSB0aGlzLmJ1dHRvbjIuZ2V0V2lkdGgoKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gW25ld09mZnNldCwgcm91bmRWYWx1ZV07XHJcbiAgfVxyXG4gICAgXHJcbiAgb25Nb3VzZU1vdmUxID0gKGV2ZW50TW06IE1vdXNlRXZlbnQpOiB2b2lkID0+IHtcclxuICAgIGxldCBuZXdPZmZzZXQ7XHJcbiAgICBsZXQgcm91bmRWYWx1ZTtcclxuICAgIGxldCByb3VuZE9mZnNldDtcclxuICAgIGlmICh0aGlzLmlzVmVydGljYWwpIHtcclxuICAgICAgbmV3T2Zmc2V0ID0gZXZlbnRNbS5jbGllbnRZIC0gdGhpcy5zY2FsZS5nZXRUb3AoKSAtIHRoaXMuYnV0dG9uMS5nZXRXaWR0aCgpLzI7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBuZXdPZmZzZXQgPSBldmVudE1tLmNsaWVudFggLSB0aGlzLnNjYWxlLmdldExlZnQoKSAtIHRoaXMuYnV0dG9uMS5nZXRXaWR0aCgpLzI7XHJcbiAgICB9IFxyXG5cclxuICAgIFtyb3VuZE9mZnNldCwgcm91bmRWYWx1ZV0gPSB0aGlzLmJ1dHQxT2Zmc2V0Q2hlY2sobmV3T2Zmc2V0KTtcclxuICAgIGlmICghcm91bmRWYWx1ZSkge1xyXG4gICAgICAgIFtyb3VuZE9mZnNldCwgcm91bmRWYWx1ZV0gPSB0aGlzLnJvdW5kT2Zmc2V0QnV0dChyb3VuZE9mZnNldCk7XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5idXR0MU1vdmUocm91bmRPZmZzZXQsIHJvdW5kVmFsdWUpO1xyXG4gIH1cclxuXHJcbiAgb25Nb3VzZVVwMSA9IChldmVudE11OiBNb3VzZUV2ZW50KTogdm9pZCA9PiB7XHJcbiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwibW91c2V1cFwiLCB0aGlzLm9uTW91c2VVcDEpO1xyXG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1vdXNlbW92ZVwiLCB0aGlzLm9uTW91c2VNb3ZlMSk7XHJcbiAgfVxyXG5cclxuICAvL0J1dHRvbjIgIEhhbmRsZXJzLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4gIGJ1dHQyTW92ZSA9IChyb3VuZE9mZnNldDogbnVtYmVyLCByb3VuZFZhbHVlOiBudW1iZXIpOiB2b2lkID0+IHtcclxuICAgIGlmICh0aGlzLmlzVmVydGljYWwpIHtcclxuICAgICAgdGhpcy5idXR0b24yLmVsZW0uc3R5bGUudG9wID0gcm91bmRPZmZzZXQgKyBcInB4XCI7XHJcbiAgICAgIHRoaXMubGFiZWwyLmVsZW0uc3R5bGUudG9wID0gcm91bmRPZmZzZXQgLSB0aGlzLmxhYmVsMi5nZXRIZWlnaHQoKS8yICsgdGhpcy5idXR0b24yLmdldFdpZHRoKCkvMiArIFwicHhcIjtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuYnV0dG9uMi5lbGVtLnN0eWxlLmxlZnQgPSByb3VuZE9mZnNldCArIFwicHhcIjtcclxuICAgICAgdGhpcy5sYWJlbDIuZWxlbS5zdHlsZS5sZWZ0ID0gcm91bmRPZmZzZXQgLSB0aGlzLmxhYmVsMi5nZXRXaWR0aCgpLzIgKyB0aGlzLmJ1dHRvbjIuZ2V0V2lkdGgoKS8yICsgXCJweFwiO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChyb3VuZFZhbHVlIDwgdGhpcy5taW5WYWx1ZSkge1xyXG4gICAgICByb3VuZFZhbHVlID0gdGhpcy5taW5WYWx1ZTtcclxuICAgIH0gZWxzZSBpZiAocm91bmRWYWx1ZSA+IHRoaXMubWF4VmFsdWUpIHtcclxuICAgICAgcm91bmRWYWx1ZSA9IHRoaXMubWF4VmFsdWU7XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5sYWJlbDIuZWxlbS5pbm5lckhUTUwgPSByb3VuZFZhbHVlICsgXCJcIjtcclxuICAgIHRoaXMuY3VyTWF4VmFsdWUgPSByb3VuZFZhbHVlO1xyXG4gICAgdGhpcy51cGRhdGVFbGVtcygpOyBcclxuICB9XHJcblxyXG4gIGJ1dHQyT2Zmc2V0Q2hlY2sgPSAobmV3T2Zmc2V0OiBudW1iZXIpOiBBcnJheTxudW1iZXI+ID0+IHtcclxuICAgIGxldCByb3VuZFZhbHVlO1xyXG4gICAgaWYgKCF0aGlzLmlzUmFuZ2UpIHtcclxuICAgICAgaWYgKG5ld09mZnNldCA8IC10aGlzLmJ1dHRvbjIuZ2V0V2lkdGgoKS8yKSB7XHJcbiAgICAgICAgbmV3T2Zmc2V0ID0gLXRoaXMuYnV0dG9uMi5nZXRXaWR0aCgpLzI7XHJcbiAgICAgICAgcm91bmRWYWx1ZSA9IHRoaXMubWluVmFsdWU7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBpZiAodGhpcy5pc1ZlcnRpY2FsKSB7XHJcbiAgICAgIGNvbnN0IHN0ZXBXaWR0aCA9IHRoaXMuc3RlcCp0aGlzLnNjYWxlLmdldEhlaWdodCgpLyh0aGlzLm1heFZhbHVlIC0gdGhpcy5taW5WYWx1ZSk7XHJcbiAgICAgIGlmIChuZXdPZmZzZXQgPiB0aGlzLnNjYWxlLmdldEhlaWdodCgpIC0gdGhpcy5idXR0b24yLmdldFdpZHRoKCkvMikge1xyXG4gICAgICAgIG5ld09mZnNldCA9IHRoaXMuc2NhbGUuZ2V0SGVpZ2h0KCkgLSB0aGlzLmJ1dHRvbjIuZ2V0V2lkdGgoKS8yO1xyXG4gICAgICAgIHJvdW5kVmFsdWUgPSB0aGlzLm1heFZhbHVlO1xyXG4gICAgICB9XHJcbiAgICAgIFxyXG4gICAgICBpZiAoc3RlcFdpZHRoLzEuNSA+IHRoaXMuYnV0dG9uMi5nZXRXaWR0aCgpKSB7XHJcbiAgICAgICAgaWYgKG5ld09mZnNldCA8IHRoaXMuYnV0dG9uMS5nZXRUb3AoKSAtIHRoaXMuc2NhbGUuZ2V0VG9wKCkgKyBzdGVwV2lkdGgvMS41KSB7XHJcbiAgICAgICAgICBuZXdPZmZzZXQgPSB0aGlzLmJ1dHRvbjEuZ2V0VG9wKCkgLSB0aGlzLnNjYWxlLmdldFRvcCgpICsgc3RlcFdpZHRoLzEuNTtcclxuICAgICAgICB9XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgaWYgKG5ld09mZnNldCA8IHRoaXMuYnV0dG9uMS5nZXRUb3AoKSAtIHRoaXMuc2NhbGUuZ2V0VG9wKCkgKyB0aGlzLmJ1dHRvbjIuZ2V0V2lkdGgoKSkge1xyXG4gICAgICAgICAgbmV3T2Zmc2V0ID0gdGhpcy5idXR0b24xLmdldFRvcCgpIC0gdGhpcy5zY2FsZS5nZXRUb3AoKSArIHRoaXMuYnV0dG9uMi5nZXRXaWR0aCgpO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgY29uc3Qgc3RlcFdpZHRoID0gdGhpcy5zdGVwKnRoaXMuc2NhbGUuZ2V0V2lkdGgoKS8odGhpcy5tYXhWYWx1ZSAtIHRoaXMubWluVmFsdWUpO1xyXG5cclxuICAgICAgaWYgKG5ld09mZnNldCA+IHRoaXMuc2NhbGUuZ2V0V2lkdGgoKSAtIHRoaXMuYnV0dG9uMi5nZXRXaWR0aCgpLzIpIHtcclxuICAgICAgICBuZXdPZmZzZXQgPSB0aGlzLnNjYWxlLmdldFdpZHRoKCkgLSB0aGlzLmJ1dHRvbjIuZ2V0V2lkdGgoKS8yO1xyXG4gICAgICAgIHJvdW5kVmFsdWUgPSB0aGlzLm1heFZhbHVlO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAoc3RlcFdpZHRoLzEuNSA+IHRoaXMuYnV0dG9uMi5nZXRXaWR0aCgpKSB7XHJcbiAgICAgICAgaWYgKG5ld09mZnNldCA8IHRoaXMuYnV0dG9uMS5nZXRMZWZ0KCkgLSB0aGlzLnNjYWxlLmdldExlZnQoKSArIHN0ZXBXaWR0aC8xLjUpIHtcclxuICAgICAgICAgIG5ld09mZnNldCA9IHRoaXMuYnV0dG9uMS5nZXRMZWZ0KCkgLSB0aGlzLnNjYWxlLmdldExlZnQoKSArIHN0ZXBXaWR0aC8xLjU7XHJcbiAgICAgICAgfVxyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGlmIChuZXdPZmZzZXQgPCB0aGlzLmJ1dHRvbjEuZ2V0TGVmdCgpIC0gdGhpcy5zY2FsZS5nZXRMZWZ0KCkgKyB0aGlzLmJ1dHRvbjIuZ2V0V2lkdGgoKSkge1xyXG4gICAgICAgICAgbmV3T2Zmc2V0ID0gdGhpcy5idXR0b24xLmdldExlZnQoKSAtIHRoaXMuc2NhbGUuZ2V0TGVmdCgpICsgdGhpcy5idXR0b24yLmdldFdpZHRoKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIFtuZXdPZmZzZXQsIHJvdW5kVmFsdWVdO1xyXG4gIH1cclxuXHJcbiAgb25Nb3VzZU1vdmUyID0gKGV2ZW50TW06IE1vdXNlRXZlbnQpOiB2b2lkID0+IHtcclxuICAgIGxldCBuZXdPZmZzZXQ7XHJcbiAgICBsZXQgcm91bmRWYWx1ZTtcclxuICAgIGxldCByb3VuZE9mZnNldDtcclxuICAgIGlmICh0aGlzLmlzVmVydGljYWwpIHtcclxuICAgICAgbmV3T2Zmc2V0ID0gZXZlbnRNbS5jbGllbnRZIC0gdGhpcy5zY2FsZS5nZXRUb3AoKSAtIHRoaXMuYnV0dG9uMi5nZXRXaWR0aCgpLzI7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBuZXdPZmZzZXQgPSBldmVudE1tLmNsaWVudFggLSB0aGlzLnNjYWxlLmdldExlZnQoKSAtIHRoaXMuYnV0dG9uMi5nZXRXaWR0aCgpLzI7XHJcbiAgICB9XHJcblxyXG4gICAgW3JvdW5kT2Zmc2V0LCByb3VuZFZhbHVlXSA9IHRoaXMuYnV0dDJPZmZzZXRDaGVjayhuZXdPZmZzZXQpO1xyXG4gICAgaWYgKCFyb3VuZFZhbHVlKSB7XHJcbiAgICAgICAgW3JvdW5kT2Zmc2V0LCByb3VuZFZhbHVlXSA9IHRoaXMucm91bmRPZmZzZXRCdXR0KHJvdW5kT2Zmc2V0KTtcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLmJ1dHQyTW92ZShyb3VuZE9mZnNldCwgcm91bmRWYWx1ZSk7XHJcbiAgfVxyXG5cclxuICBvbk1vdXNlVXAyID0gKGV2ZW50TXU6IE1vdXNlRXZlbnQpOiB2b2lkID0+IHtcclxuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtb3VzZXVwXCIsIHRoaXMub25Nb3VzZVVwMik7XHJcbiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwibW91c2Vtb3ZlXCIsIHRoaXMub25Nb3VzZU1vdmUyKTtcclxuICB9XHJcbiAgICBcclxuICAvLyBTY2FsZSBFdmVudExpc3RlbmVycy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4gIHNjYWxlT25jbGljayA9IChldmVudDogTW91c2VFdmVudCk6IHZvaWQgPT4ge1xyXG4gICAgaWYodGhpcy5pc1JhbmdlKSB7XHJcbiAgICAgIGxldCBidXR0MUNsb3NlcjtcclxuICAgICAgaWYgKHRoaXMuaXNWZXJ0aWNhbCkge1xyXG4gICAgICAgIGJ1dHQxQ2xvc2VyID0gTWF0aC5hYnMoZXZlbnQuY2xpZW50WSAtIHRoaXMuYnV0dG9uMS5nZXRUb3AoKSAtIHRoaXMuYnV0dG9uMS5nZXRXaWR0aCgpLzIpIFxyXG4gICAgICAgIDwgTWF0aC5hYnMoZXZlbnQuY2xpZW50WSAtIHRoaXMuYnV0dG9uMi5nZXRUb3AoKSAtIHRoaXMuYnV0dG9uMi5nZXRXaWR0aCgpLzIpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGJ1dHQxQ2xvc2VyID0gTWF0aC5hYnMoZXZlbnQuY2xpZW50WCAtIHRoaXMuYnV0dG9uMS5nZXRMZWZ0KCkgLSB0aGlzLmJ1dHRvbjEuZ2V0V2lkdGgoKS8yKVxyXG4gICAgICAgIDwgTWF0aC5hYnMoZXZlbnQuY2xpZW50WCAtIHRoaXMuYnV0dG9uMi5nZXRMZWZ0KCkgLSB0aGlzLmJ1dHRvbjIuZ2V0V2lkdGgoKS8yKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKGJ1dHQxQ2xvc2VyKSB7XHJcbiAgICAgICAgdGhpcy5vbk1vdXNlTW92ZTEoZXZlbnQpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHRoaXMub25Nb3VzZU1vdmUyKGV2ZW50KTtcclxuICAgICAgfVxyXG5cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMub25Nb3VzZU1vdmUyKGV2ZW50KTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8vIEdyYWR1YXRpb24gRXZlbnRMaXN0ZW5lcnMtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbiAgaW50ZXJNYXJrSGFuZGxlciA9IChjdXJyVmFsdWU6IG51bWJlcik6IHZvaWQgPT4ge1xyXG4gICAgbGV0IHJvdW5kT2Zmc2V0O1xyXG4gICAgbGV0IHJvdW5kVmFsdWU7XHJcbiAgICBpZiAodGhpcy5pc1ZlcnRpY2FsKSB7XHJcbiAgICAgIGNvbnN0IG1hcmtYID0gKGN1cnJWYWx1ZSAtIHRoaXMubWluVmFsdWUpLyh0aGlzLm1heFZhbHVlIC0gdGhpcy5taW5WYWx1ZSkqdGhpcy5zY2FsZS5nZXRIZWlnaHQoKTtcclxuICAgICAgW3JvdW5kT2Zmc2V0LCByb3VuZFZhbHVlXSA9IHRoaXMucm91bmRPZmZzZXRCdXR0KG1hcmtYIC0gdGhpcy5idXR0b24yLmdldFdpZHRoKCkvMik7XHJcbiAgICAgIGlmICh0aGlzLmlzUmFuZ2UpIHtcclxuICAgICAgICBpZiAoTWF0aC5hYnMobWFya1ggKyB0aGlzLnNjYWxlLmdldFRvcCgpIC0gdGhpcy5idXR0b24xLmdldFRvcCgpIC0gdGhpcy5idXR0b24yLmdldFdpZHRoKCkvMilcclxuICAgICAgICAgIDwgTWF0aC5hYnMobWFya1ggKyB0aGlzLnNjYWxlLmdldFRvcCgpIC0gdGhpcy5idXR0b24yLmdldFRvcCgpIC0gdGhpcy5idXR0b24yLmdldFdpZHRoKCkvMikpIHtcclxuICAgICAgICAgIHRoaXMuYnV0dDFNb3ZlKHJvdW5kT2Zmc2V0LCByb3VuZFZhbHVlKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgdGhpcy5idXR0Mk1vdmUocm91bmRPZmZzZXQsIHJvdW5kVmFsdWUpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICB0aGlzLmJ1dHQyTW92ZShyb3VuZE9mZnNldCwgcm91bmRWYWx1ZSk7XHJcbiAgICAgIH1cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGNvbnN0IG1hcmtYID0gKGN1cnJWYWx1ZSAtIHRoaXMubWluVmFsdWUpLyh0aGlzLm1heFZhbHVlIC0gdGhpcy5taW5WYWx1ZSkqdGhpcy5zY2FsZS5nZXRXaWR0aCgpO1xyXG4gICAgICBbcm91bmRPZmZzZXQsIHJvdW5kVmFsdWVdID0gdGhpcy5yb3VuZE9mZnNldEJ1dHQobWFya1ggLSB0aGlzLmJ1dHRvbjIuZ2V0V2lkdGgoKS8yKTtcclxuICAgICAgaWYgKHRoaXMuaXNSYW5nZSkge1xyXG4gICAgICAgIGlmIChNYXRoLmFicyhtYXJrWCArIHRoaXMuc2NhbGUuZ2V0TGVmdCgpIC0gdGhpcy5idXR0b24xLmdldExlZnQoKSAtIHRoaXMuYnV0dG9uMi5nZXRXaWR0aCgpLzIpXHJcbiAgICAgICAgICA8IE1hdGguYWJzKG1hcmtYICsgdGhpcy5zY2FsZS5nZXRMZWZ0KCkgLSB0aGlzLmJ1dHRvbjIuZ2V0TGVmdCgpIC0gdGhpcy5idXR0b24yLmdldFdpZHRoKCkvMikpIHtcclxuICAgICAgICAgIHRoaXMuYnV0dDFNb3ZlKHJvdW5kT2Zmc2V0LCByb3VuZFZhbHVlKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgdGhpcy5idXR0Mk1vdmUocm91bmRPZmZzZXQsIHJvdW5kVmFsdWUpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICB0aGlzLmJ1dHQyTW92ZShyb3VuZE9mZnNldCwgcm91bmRWYWx1ZSk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIG1hcmsxT25jbGljayA9IChldmVudDogTW91c2VFdmVudCk6IHZvaWQgPT4ge1xyXG4gICAgY29uc3Qgcm91bmRPZmZzZXQgPSAtdGhpcy5idXR0b24yLmdldFdpZHRoKCkvMjtcclxuICAgIGNvbnN0IHJvdW5kVmFsdWUgPSB0aGlzLm1pblZhbHVlO1xyXG4gICAgaWYgKCF0aGlzLmlzUmFuZ2UpIHtcclxuICAgICAgdGhpcy5idXR0Mk1vdmUocm91bmRPZmZzZXQsIHJvdW5kVmFsdWUpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5idXR0MU1vdmUocm91bmRPZmZzZXQsIHJvdW5kVmFsdWUpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgbWFyazRPbmNsaWNrID0gKGV2ZW50OiBNb3VzZUV2ZW50KTogdm9pZCA9PiB7XHJcbiAgICBpZiAodGhpcy5pc1ZlcnRpY2FsKSB7XHJcbiAgICAgIGNvbnN0IHJvdW5kT2Zmc2V0ID0gdGhpcy5zY2FsZS5nZXRIZWlnaHQoKSAtIHRoaXMuYnV0dG9uMi5nZXRXaWR0aCgpLzI7XHJcbiAgICAgIGNvbnN0IHJvdW5kVmFsdWUgPSB0aGlzLm1heFZhbHVlO1xyXG4gICAgICB0aGlzLmJ1dHQyTW92ZShyb3VuZE9mZnNldCwgcm91bmRWYWx1ZSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBjb25zdCByb3VuZE9mZnNldCA9IHRoaXMuc2NhbGUuZ2V0V2lkdGgoKSAtIHRoaXMuYnV0dG9uMi5nZXRXaWR0aCgpLzI7XHJcbiAgICAgIGNvbnN0IHJvdW5kVmFsdWUgPSB0aGlzLm1heFZhbHVlO1xyXG4gICAgICB0aGlzLmJ1dHQyTW92ZShyb3VuZE9mZnNldCwgcm91bmRWYWx1ZSk7IFxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgbWFyazJPbmNsaWNrID0gKGV2ZW50OiBNb3VzZUV2ZW50KTogdm9pZCA9PiB7XHJcbiAgICBjb25zdCB2YWwgPSB0aGlzLmlzRmxvYXQgPyBwYXJzZUZsb2F0KHRoaXMuZ3JhZHVhdGlvbi5tYXJrMi5pbm5lckhUTUwpIDogcGFyc2VJbnQodGhpcy5ncmFkdWF0aW9uLm1hcmsyLmlubmVySFRNTCk7XHJcbiAgICB0aGlzLmludGVyTWFya0hhbmRsZXIodmFsKTtcclxuICB9XHJcblxyXG4gIG1hcmszT25jbGljayA9IChldmVudDogTW91c2VFdmVudCk6IHZvaWQgPT4ge1xyXG4gICAgY29uc3QgdmFsID0gdGhpcy5pc0Zsb2F0ID8gcGFyc2VGbG9hdCh0aGlzLmdyYWR1YXRpb24ubWFyazMuaW5uZXJIVE1MKSA6IHBhcnNlSW50KHRoaXMuZ3JhZHVhdGlvbi5tYXJrMy5pbm5lckhUTUwpO1xyXG4gICAgdGhpcy5pbnRlck1hcmtIYW5kbGVyKHZhbCk7XHJcbiAgfVxyXG5cclxuICBjaGVja1ZhbHVlcyA9ICgpOiB2b2lkID0+IHtcclxuICAgIGlmICh0eXBlb2YgdGhpcy5tYXhWYWx1ZSAhPT0gXCJudW1iZXJcIikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKFwiTWF4dmFsdWUgc2hvdWxkIGJlIGEgbnVtYmVyXCIpO1xyXG4gICAgfVxyXG4gICAgaWYgKHR5cGVvZiB0aGlzLm1pblZhbHVlICE9PSBcIm51bWJlclwiKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJNYXh2YWx1ZSBzaG91bGQgYmUgYSBudW1iZXJcIik7XHJcbiAgICB9XHJcbiAgICBpZiAodHlwZW9mIHRoaXMuc3RlcCAhPT0gXCJudW1iZXJcIikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKFwiU3RlcCBzaG91bGQgYmUgYSBudW1iZXJcIik7XHJcbiAgICB9XHJcbiAgICBpZiAodHlwZW9mIHRoaXMuaXNSYW5nZSAhPT0gXCJib29sZWFuXCIpIHtcclxuICAgICAgY29uc29sZS5lcnJvcihcImlzUmFuZ2Ugc2hvdWxkIGJlIGEgYm9vbGVhblwiKTtcclxuICAgIH1cclxuICAgIGlmICh0eXBlb2YgdGhpcy5pc1ZlcnRpY2FsICE9PSBcImJvb2xlYW5cIikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKFwiaXNWZXJ0aWNhbCBzaG91bGQgYmUgYSBib29sZWFuXCIpO1xyXG4gICAgfVxyXG4gICAgaWYgKHR5cGVvZiB0aGlzLnNob3dMYWJlbCAhPT0gXCJib29sZWFuXCIpIHtcclxuICAgICAgY29uc29sZS5lcnJvcihcIlNob3dMYWJlbCBzaG91bGQgYmUgYSBib29sZWFuXCIpO1xyXG4gICAgfVxyXG4gICAgaWYgKHRoaXMuc3RlcCA+IHRoaXMubWF4VmFsdWUgLSB0aGlzLm1pblZhbHVlKSB7XHJcbiAgICAgIHRoaXMuc3RlcCA9IHRoaXMubWF4VmFsdWUgLSB0aGlzLm1pblZhbHVlO1xyXG4gICAgICBjb25zb2xlLmVycm9yKFwiU3RlcCBpcyBzZXR0ZWQgdG8gdGhlIG1heFwiKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGluaXQgPSAoKTogdm9pZCA9PiB7XHJcbiAgICB0aGlzLmJ1dHRvbjEuZWxlbS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XHJcbiAgICB0aGlzLmxhYmVsMS5lbGVtLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcclxuICAgIHRoaXMuZ3JhZHVhdGlvbi5pbml0KHRoaXMubWluVmFsdWUsIHRoaXMubWF4VmFsdWUsIHRoaXMuaXNWZXJ0aWNhbCwgdGhpcy5pc0Zsb2F0KTtcclxuICAgIHRoaXMuY2hlY2tWYWx1ZXMoKTtcclxuICAgIGlmICh0aGlzLnNob3dMYWJlbCkge1xyXG4gICAgICB0aGlzLmxhYmVsMS5lbGVtLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XHJcbiAgICAgIHRoaXMubGFiZWwyLmVsZW0uc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMubGFiZWwxLmVsZW0uc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xyXG4gICAgICB0aGlzLmxhYmVsMi5lbGVtLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcclxuICAgIH1cclxuXHJcbiAgICBpZiAodGhpcy5pc1JhbmdlKSB7XHJcbiAgICAgIHRoaXMuYnV0dG9uMS5lbGVtLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLmJ1dHRvbjEuZWxlbS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XHJcbiAgICAgIHRoaXMubGFiZWwxLmVsZW0uc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICh0aGlzLmlzVmVydGljYWwpIHtcclxuICAgICAgdGhpcy5zY2FsZS5lbGVtLmNsYXNzTGlzdC5hZGQoXCJzbGlkZXJfX3NjYWxlX3ZlcnRpY2FsXCIpO1xyXG4gICAgICB0aGlzLnNjYWxlRmlsbGluZy5lbGVtLmNsYXNzTGlzdC5hZGQoXCJzbGlkZXJfX3NjYWxlLWZpbGxpbmdfdmVydGljYWxcIik7XHJcbiAgICAgIHRoaXMuZ3JhZHVhdGlvbi5ncmFkRWxlbS5jbGFzc0xpc3QuYWRkKFwic2xpZGVyX19ncmFkdWF0aW9uX3ZlcnRpY2FsXCIpO1xyXG4gICAgICB0aGlzLmdyYWR1YXRpb24uZ3JhZEVsZW0uc3R5bGUuaGVpZ2h0ID0gdGhpcy5zY2FsZS5nZXRIZWlnaHQoKSArXCJweFwiO1xyXG4gICAgICB0aGlzLmJ1dHRvbjEuZWxlbS5jbGFzc0xpc3QuYWRkKFwic2xpZGVyX19idXR0b25fdmVydGljYWxcIik7XHJcbiAgICAgIHRoaXMuYnV0dG9uMi5lbGVtLmNsYXNzTGlzdC5hZGQoXCJzbGlkZXJfX2J1dHRvbl92ZXJ0aWNhbFwiKTtcclxuICAgICAgdGhpcy5sYWJlbDEuZWxlbS5jbGFzc0xpc3QuYWRkKFwic2xpZGVyX19idXR0b24tbGFiZWxfdmVydGljYWxcIik7XHJcbiAgICAgIHRoaXMubGFiZWwyLmVsZW0uY2xhc3NMaXN0LmFkZChcInNsaWRlcl9fYnV0dG9uLWxhYmVsX3ZlcnRpY2FsXCIpO1xyXG5cclxuICAgICAgdGhpcy5idXR0b24xLmVsZW0uc3R5bGUudG9wID0gLXRoaXMuYnV0dG9uMS5nZXRXaWR0aCgpLzIgKyBcInB4XCI7XHJcbiAgICAgIHRoaXMuYnV0dG9uMS5lbGVtLnN0eWxlLmxlZnQgPSBcIjUwJVwiO1xyXG4gICAgICB0aGlzLmJ1dHRvbjIuZWxlbS5zdHlsZS50b3AgPSB0aGlzLnNjYWxlLmdldEhlaWdodCgpIC0gdGhpcy5idXR0b24yLmdldFdpZHRoKCkvMiArIFwicHhcIjtcclxuICAgICAgdGhpcy5idXR0b24yLmVsZW0uc3R5bGUubGVmdCA9IFwiNTAlXCI7XHJcbiAgICAgIHRoaXMubGFiZWwxLmVsZW0uaW5uZXJIVE1MID0gdGhpcy5taW5WYWx1ZSArIFwiXCI7XHJcbiAgICAgIHRoaXMubGFiZWwyLmVsZW0uaW5uZXJIVE1MID0gdGhpcy5tYXhWYWx1ZSArIFwiXCI7XHJcbiAgICAgIHRoaXMubGFiZWwxLmVsZW0uc3R5bGUudG9wID0gdGhpcy5nZXRTdGFydCgpIC0gdGhpcy5sYWJlbDEuZ2V0SGVpZ2h0KCkvMiArIFwicHhcIjtcclxuICAgICAgdGhpcy5sYWJlbDEuZWxlbS5zdHlsZS5sZWZ0ID0gXCI1MCVcIjtcclxuICAgICAgdGhpcy5sYWJlbDIuZWxlbS5zdHlsZS50b3AgPSB0aGlzLmdldEVuZCgpIC0gdGhpcy5sYWJlbDIuZ2V0SGVpZ2h0KCkvMiArIFwicHhcIjtcclxuICAgICAgdGhpcy5sYWJlbDIuZWxlbS5zdHlsZS5sZWZ0ID0gXCI1MCVcIjtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuc2NhbGUuZWxlbS5jbGFzc0xpc3QucmVtb3ZlKFwic2xpZGVyX19zY2FsZV92ZXJ0aWNhbFwiKTtcclxuICAgICAgdGhpcy5zY2FsZUZpbGxpbmcuZWxlbS5jbGFzc0xpc3QucmVtb3ZlKFwic2xpZGVyX19zY2FsZS1maWxsaW5nX3ZlcnRpY2FsXCIpO1xyXG4gICAgICB0aGlzLmdyYWR1YXRpb24uZ3JhZEVsZW0uY2xhc3NMaXN0LnJlbW92ZShcInNsaWRlcl9fZ3JhZHVhdGlvbl92ZXJ0aWNhbFwiKTtcclxuICAgICAgdGhpcy5ncmFkdWF0aW9uLmdyYWRFbGVtLnN0eWxlLmhlaWdodCA9IDIwICtcInB4XCI7XHJcbiAgICAgIHRoaXMuYnV0dG9uMS5lbGVtLmNsYXNzTGlzdC5yZW1vdmUoXCJzbGlkZXJfX2J1dHRvbl92ZXJ0aWNhbFwiKTtcclxuICAgICAgdGhpcy5idXR0b24yLmVsZW0uY2xhc3NMaXN0LnJlbW92ZShcInNsaWRlcl9fYnV0dG9uX3ZlcnRpY2FsXCIpO1xyXG4gICAgICB0aGlzLmxhYmVsMS5lbGVtLmNsYXNzTGlzdC5yZW1vdmUoXCJzbGlkZXJfX2J1dHRvbi1sYWJlbF92ZXJ0aWNhbFwiKTtcclxuICAgICAgdGhpcy5sYWJlbDIuZWxlbS5jbGFzc0xpc3QucmVtb3ZlKFwic2xpZGVyX19idXR0b24tbGFiZWxfdmVydGljYWxcIik7XHJcblxyXG4gICAgICB0aGlzLmJ1dHRvbjEuZWxlbS5zdHlsZS5sZWZ0ID0gLXRoaXMuYnV0dG9uMS5nZXRXaWR0aCgpLzIgKyBcInB4XCI7XHJcbiAgICAgIHRoaXMuYnV0dG9uMS5lbGVtLnN0eWxlLnRvcCA9IFwiNTAlXCI7XHJcbiAgICAgIHRoaXMuYnV0dG9uMi5lbGVtLnN0eWxlLmxlZnQgPSB0aGlzLnNjYWxlLmdldFdpZHRoKCkgLSB0aGlzLmJ1dHRvbjIuZ2V0V2lkdGgoKS8yICsgXCJweFwiO1xyXG4gICAgICB0aGlzLmJ1dHRvbjIuZWxlbS5zdHlsZS50b3AgPSBcIjUwJVwiXHJcbiAgICAgIHRoaXMubGFiZWwxLmVsZW0uaW5uZXJIVE1MID0gdGhpcy5taW5WYWx1ZSArIFwiXCI7XHJcbiAgICAgIHRoaXMubGFiZWwyLmVsZW0uaW5uZXJIVE1MID0gdGhpcy5tYXhWYWx1ZSArIFwiXCI7XHJcbiAgICAgIHRoaXMubGFiZWwxLmVsZW0uc3R5bGUubGVmdCA9IHRoaXMuZ2V0U3RhcnQoKSAtIHRoaXMubGFiZWwxLmdldFdpZHRoKCkvMiArIFwicHhcIjtcclxuICAgICAgdGhpcy5sYWJlbDEuZWxlbS5zdHlsZS50b3AgPSBcIjUwJVwiO1xyXG4gICAgICB0aGlzLmxhYmVsMi5lbGVtLnN0eWxlLmxlZnQgPSB0aGlzLmdldEVuZCgpIC0gdGhpcy5sYWJlbDIuZ2V0V2lkdGgoKS8yICsgXCJweFwiO1xyXG4gICAgICB0aGlzLmxhYmVsMi5lbGVtLnN0eWxlLnRvcCA9IFwiNTAlXCI7XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy51cGRhdGVFbGVtcygpO1xyXG4gIH1cclxuXHJcbiAgYXBwZW5kID0gKGVudHJ5OiBIVE1MRWxlbWVudCk6IHZvaWQgPT4ge1xyXG4gICAgZW50cnkuYXBwZW5kQ2hpbGQodGhpcy5zY2FsZS5lbGVtKS5hcHBlbmRDaGlsZCh0aGlzLnNjYWxlRmlsbGluZy5lbGVtKTtcclxuICAgIGVudHJ5LmFwcGVuZENoaWxkKHRoaXMuYnV0dG9uMS5lbGVtKTtcclxuICAgIGVudHJ5LmFwcGVuZENoaWxkKHRoaXMubGFiZWwxLmVsZW0pO1xyXG4gICAgZW50cnkuYXBwZW5kQ2hpbGQodGhpcy5ncmFkdWF0aW9uLmdyYWRFbGVtKTtcclxuICAgIGVudHJ5LmFwcGVuZENoaWxkKHRoaXMuYnV0dG9uMi5lbGVtKTtcclxuICAgIGVudHJ5LmFwcGVuZENoaWxkKHRoaXMubGFiZWwyLmVsZW0pO1xyXG5cclxuICAgIHRoaXMuc2NhbGUuZWxlbS5vbmNsaWNrID0gdGhpcy5zY2FsZU9uY2xpY2s7XHJcbiAgICB0aGlzLmdyYWR1YXRpb24ubWFyazEub25jbGljayA9IHRoaXMubWFyazFPbmNsaWNrO1xyXG4gICAgdGhpcy5ncmFkdWF0aW9uLm1hcmsyLm9uY2xpY2sgPSB0aGlzLm1hcmsyT25jbGljaztcclxuICAgIHRoaXMuZ3JhZHVhdGlvbi5tYXJrMy5vbmNsaWNrID0gdGhpcy5tYXJrM09uY2xpY2s7XHJcbiAgICB0aGlzLmdyYWR1YXRpb24ubWFyazQub25jbGljayA9IHRoaXMubWFyazRPbmNsaWNrO1xyXG4gICAgdGhpcy5idXR0b24xLmVsZW0ub25tb3VzZWRvd24gPSAoZXZlbnRNZDogTW91c2VFdmVudCkgPT4ge1xyXG4gICAgICBldmVudE1kLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZW1vdmVcIiwgdGhpcy5vbk1vdXNlTW92ZTEpO1xyXG4gICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwibW91c2V1cFwiLCB0aGlzLm9uTW91c2VVcDEpO1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXMuYnV0dG9uMi5lbGVtLm9ubW91c2Vkb3duID0gKGV2ZW50TWQ6IE1vdXNlRXZlbnQpID0+IHtcclxuICAgICAgZXZlbnRNZC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vtb3ZlXCIsIHRoaXMub25Nb3VzZU1vdmUyKTtcclxuICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNldXBcIiwgdGhpcy5vbk1vdXNlVXAyKTtcclxuICAgIH1cclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCB7Y3JlYXRlRWxlbSwgU2NhbGUsIExhYmVsLCBCdXR0b24sIFNjYWxlRmlsbGluZywgVmlldywgR3JhZHVhdGlvbn07XHJcbiIsImltcG9ydCBNYWtlT2JzZXJ2YWJsZU9iamVjdCBmcm9tIFwiLi9hc3NldHMvTWFrZU9ic2VydmFibGVPYmplY3RcIjtcclxuXHJcbmNsYXNzIE1vZGVsIHtcclxuICBjdXJNaW5WYWx1ZTogbnVtYmVyO1xyXG4gIGN1ck1heFZhbHVlOiBudW1iZXI7XHJcbiAgb2JzZXJ2ZXJzOiBNYWtlT2JzZXJ2YWJsZU9iamVjdDtcclxuXHJcbiAgY29uc3RydWN0b3IoY3VyTWluVmFsdWUgPSAwLCBjdXJNYXhWYWx1ZSA9IDEwMDApIHtcclxuICAgIHRoaXMuY3VyTWluVmFsdWUgPSBjdXJNaW5WYWx1ZTtcclxuICAgIHRoaXMuY3VyTWF4VmFsdWUgPSBjdXJNYXhWYWx1ZTtcclxuICAgIHRoaXMub2JzZXJ2ZXJzID0gbmV3IE1ha2VPYnNlcnZhYmxlT2JqZWN0KCk7XHJcbiAgfVxyXG4gIFxyXG4gIHNldEN1ck1pblZhbHVlKGRhdGE6IG51bWJlcik6IHZvaWQge1xyXG4gICAgaWYgKHRoaXMuY3VyTWluVmFsdWUgIT0gZGF0YSkge1xyXG4gICAgICB0aGlzLmN1ck1pblZhbHVlID0gZGF0YTtcclxuICAgICAgdGhpcy5vYnNlcnZlcnMubm90aWZ5T2JzZXJ2ZXJzKCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBzZXRDdXJNYXhWYWx1ZShkYXRhOiBudW1iZXIpOiB2b2lkIHtcclxuICAgIGlmICh0aGlzLmN1ck1heFZhbHVlICE9IGRhdGEpIHtcclxuICAgICAgdGhpcy5jdXJNYXhWYWx1ZSA9IGRhdGE7XHJcbiAgICAgIHRoaXMub2JzZXJ2ZXJzLm5vdGlmeU9ic2VydmVycygpO1xyXG4gICAgfVxyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgTW9kZWw7IiwiaW1wb3J0IHsgVmlldyB9IGZyb20gXCIuL3ZpZXdcIjtcclxuaW1wb3J0IE1vZGVsIGZyb20gXCIuL21vZGVsXCI7XHJcbmltcG9ydCBNYWtlT2JzZXJ2YWJsZU9iamVjdCBmcm9tIFwiLi9hc3NldHMvTWFrZU9ic2VydmFibGVPYmplY3RcIjtcclxuXHJcbmludGVyZmFjZSBjb25maWdUeXBlIHtcclxuICBbaW5kZXg6IHN0cmluZ106IG51bWJlciB8IGJvb2xlYW47XHJcbn1cclxuXHJcbmNsYXNzIENvbnRyb2xsZXIge1xyXG4gIHZpZXc6IFZpZXc7XHJcbiAgbW9kZWw6IE1vZGVsO1xyXG4gIG9ic2VydmVyczogTWFrZU9ic2VydmFibGVPYmplY3Q7XHJcbiAgY29uc3RydWN0b3IobWluVmFsdWUgPSAwLCBtYXhWYWx1ZSA9IDEwMDAsIHN0ZXAgPSAxLCBpc1JhbmdlID0gZmFsc2UsIGlzVmVydGljYWwgPSBmYWxzZSwgc2hvd0xhYmVsID0gZmFsc2UsIGlzRmxvYXQgPSBmYWxzZSkge1xyXG4gICAgdGhpcy52aWV3ID0gbmV3IFZpZXcobWluVmFsdWUsIG1heFZhbHVlLCBzdGVwLCBpc1JhbmdlLCBpc1ZlcnRpY2FsLCBzaG93TGFiZWwsIGlzRmxvYXQpO1xyXG4gICAgdGhpcy5tb2RlbCA9IG5ldyBNb2RlbChtaW5WYWx1ZSwgbWF4VmFsdWUpO1xyXG4gICAgdGhpcy5vYnNlcnZlcnMgPSBuZXcgTWFrZU9ic2VydmFibGVPYmplY3QoKTtcclxuXHJcbiAgICB0aGlzLnZpZXcub2JzZXJ2ZXJzLmFkZE9ic2VydmVyKCgpID0+IHtcclxuICAgICAgdGhpcy5tb2RlbC5jdXJNaW5WYWx1ZSA9IHRoaXMudmlldy5jdXJNaW5WYWx1ZTtcclxuICAgICAgdGhpcy5tb2RlbC5jdXJNYXhWYWx1ZSA9IHRoaXMudmlldy5jdXJNYXhWYWx1ZTtcclxuICAgICAgdGhpcy5vYnNlcnZlcnMubm90aWZ5T2JzZXJ2ZXJzKCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICB0aGlzLm1vZGVsLm9ic2VydmVycy5hZGRPYnNlcnZlcigoKSA9PiB7XHJcbiAgICAgIGNvbnN0IGN1ck1pblZhbHVlID0gdGhpcy5tb2RlbC5jdXJNaW5WYWx1ZTtcclxuICAgICAgY29uc3QgY3VyTWF4VmFsdWUgPSB0aGlzLm1vZGVsLmN1ck1heFZhbHVlO1xyXG4gICAgICB0aGlzLnZpZXcuYnV0dDFNb3ZlKHRoaXMudmlldy5vZmZzZXRWYWx1ZUNvbnYoY3VyTWluVmFsdWUpLCBjdXJNaW5WYWx1ZSk7XHJcbiAgICAgIHRoaXMudmlldy5idXR0Mk1vdmUodGhpcy52aWV3Lm9mZnNldFZhbHVlQ29udihjdXJNYXhWYWx1ZSksIGN1ck1heFZhbHVlKTtcclxuICAgICAgdGhpcy5vYnNlcnZlcnMubm90aWZ5T2JzZXJ2ZXJzKCk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGFwcGVuZCA9IChlbnRyeTogSlF1ZXJ5KTogdm9pZCA9PiB7XHJcbiAgICB0aGlzLnZpZXcuYXBwZW5kKGVudHJ5LmdldCgwKSk7XHJcbiAgICB0aGlzLnZpZXcuaW5pdCgpO1xyXG4gIH1cclxuXHJcbiAgdXBkYXRlID0gKGFyZ3M6IGNvbmZpZ1R5cGUpOiB2b2lkID0+IHtcclxuICAgIE9iamVjdC5rZXlzKGFyZ3MpLm1hcCgoaXRlbSkgID0+IHtcclxuICAgICAgaWYgKHRoaXMudmlld1tpdGVtXSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgdGhpcy52aWV3W2l0ZW1dID0gYXJnc1tpdGVtXTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgdGhpcy52aWV3LmluaXQoKTtcclxuICAgIHRoaXMudmlldy5idXR0MU1vdmUodGhpcy52aWV3LmJ1dHQxT2Zmc2V0Q2hlY2sodGhpcy52aWV3Lm9mZnNldFZhbHVlQ29udih0aGlzLm1vZGVsLmN1ck1pblZhbHVlKSlbMF0sIHRoaXMubW9kZWwuY3VyTWluVmFsdWUpO1xyXG4gICAgdGhpcy52aWV3LmJ1dHQyTW92ZSh0aGlzLnZpZXcuYnV0dDJPZmZzZXRDaGVjayh0aGlzLnZpZXcub2Zmc2V0VmFsdWVDb252KHRoaXMubW9kZWwuY3VyTWF4VmFsdWUpKVswXSwgdGhpcy5tb2RlbC5jdXJNYXhWYWx1ZSk7XHJcbiAgfVxyXG5cclxuICBnZXRWYWx1ZXMgPSAoKTogQXJyYXk8bnVtYmVyPiA9PiB7XHJcbiAgICByZXR1cm4gW3RoaXMubW9kZWwuY3VyTWluVmFsdWUsIHRoaXMubW9kZWwuY3VyTWF4VmFsdWVdO1xyXG4gIH1cclxuXHJcbiAgc2V0VmFsdWVzID0gKGN1ck1pblZhbHVlOiBudW1iZXIsIGN1ck1heFZhbHVlOiBudW1iZXIpOiB2b2lkID0+IHtcclxuICAgIGlmIChjdXJNaW5WYWx1ZSkge1xyXG4gICAgICB0aGlzLm1vZGVsLnNldEN1ck1pblZhbHVlKGN1ck1pblZhbHVlKTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoY3VyTWF4VmFsdWUpIHtcclxuICAgICAgdGhpcy5tb2RlbC5zZXRDdXJNYXhWYWx1ZShjdXJNYXhWYWx1ZSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBnZXRDb25maWcgPSAoKTogY29uZmlnVHlwZSA9PiB7XHJcbiAgICByZXR1cm4ge21pblZhbHVlOiB0aGlzLnZpZXcubWluVmFsdWUsIG1heFZhbHVlOiB0aGlzLnZpZXcubWF4VmFsdWUsIHN0ZXA6IHRoaXMudmlldy5zdGVwLFxyXG4gICAgICBpc1JhbmdlOiB0aGlzLnZpZXcuaXNSYW5nZSwgaXNWZXJ0aWNhbDogdGhpcy52aWV3LmlzVmVydGljYWwsIHNob3dMYWJlbDogdGhpcy52aWV3LnNob3dMYWJlbCwgaXNGbG9hdDogdGhpcy52aWV3LmlzRmxvYXR9XHJcbiAgfVxyXG4gIFxyXG4gIGFkZE9ic2VydmVyID0gKGZuOiBGdW5jdGlvbik6IHZvaWQgPT4ge1xyXG4gICAgdGhpcy5vYnNlcnZlcnMuYWRkT2JzZXJ2ZXIoZm4pO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgQ29udHJvbGxlcjsiLCJpbXBvcnQgQ29udHJvbGxlciBmcm9tIFwiLi9jb250cm9sbGVyLnRzXCI7XHJcblxyXG4oZnVuY3Rpb24oJCkge1xyXG4gIGNvbnN0IGNvbmZpZyA9IHtcclxuICAgIG1pblZhbHVlOiAwLFxyXG4gICAgbWF4VmFsdWU6IDEwMDAsXHJcbiAgICBzdGVwOiAxLFxyXG4gICAgaXNSYW5nZTogZmFsc2UsXHJcbiAgICBpc1ZlcnRpY2FsOiBmYWxzZSxcclxuICAgIHNob3dMYWJlbDogZmFsc2UsXHJcbiAgICBpc0Zsb2F0OiBmYWxzZSxcclxuICB9O1xyXG5cclxuICBjb25zdCBtZXRob2RzID0ge1xyXG4gICAgaW5pdDogZnVuY3Rpb24ob3B0KSB7XHJcbiAgICAgIGlmICghJCh0aGlzKS5kYXRhKFwic2xpZGVyXCIpKSB7XHJcbiAgICAgICAgY29uc3QgbmV3Q29uZmlnID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShjb25maWcpKTtcclxuICAgICAgICBjb25zdCBzbGlkZXIgPSBuZXcgQ29udHJvbGxlciguLi5PYmplY3QudmFsdWVzKCQuZXh0ZW5kKG5ld0NvbmZpZywgb3B0KSkpO1xyXG4gICAgICAgICQodGhpcykuZGF0YShcInNsaWRlclwiLCBzbGlkZXIpO1xyXG4gICAgICAgIHNsaWRlci5hcHBlbmQoJCh0aGlzKSk7XHJcbiAgICAgIH1cclxuICAgIH0sXHJcblxyXG4gICAgdXBkYXRlOiBmdW5jdGlvbihvcHQpIHtcclxuICAgICAgY29uc3Qgc2xpZGVyID0gJCh0aGlzKS5kYXRhKFwic2xpZGVyXCIpO1xyXG4gICAgICBzbGlkZXIudXBkYXRlKG9wdCk7XHJcbiAgICB9LFxyXG5cclxuICAgIGdldENvbmZpZzogZnVuY3Rpb24oKSB7XHJcbiAgICAgIGNvbnN0IHNsaWRlciA9ICQodGhpcykuZGF0YShcInNsaWRlclwiKTtcclxuICAgICAgcmV0dXJuIHNsaWRlci5nZXRDb25maWcoKTtcclxuICAgIH0sXHJcblxyXG4gICAgc2V0VmFsdWVzOiBmdW5jdGlvbihvcHQpIHtcclxuICAgICAgY29uc3Qgc2xpZGVyID0gJCh0aGlzKS5kYXRhKFwic2xpZGVyXCIpO1xyXG4gICAgICBzbGlkZXIuc2V0VmFsdWVzKG9wdC5jdXJNaW5WYWx1ZSwgb3B0LmN1ck1heFZhbHVlKTtcclxuICAgIH0sXHJcblxyXG4gICAgaW5wdXRzQXR0YWNoOiBmdW5jdGlvbihvcHQpIHtcclxuICAgICAgY29uc3Qgc2xpZGVyID0gJCh0aGlzKS5kYXRhKFwic2xpZGVyXCIpO1xyXG4gICAgICBzbGlkZXIuYWRkT2JzZXJ2ZXIoKCkgPT4ge1xyXG4gICAgICAgIG9wdC5taW5WYWx1ZUluLnZhbChzbGlkZXIuZ2V0VmFsdWVzKClbMF0pO1xyXG4gICAgICAgIG9wdC5tYXhWYWx1ZUluLnZhbChzbGlkZXIuZ2V0VmFsdWVzKClbMV0pO1xyXG4gICAgICB9KVxyXG4gICAgfSxcclxuICB9XHJcbiAgXHJcbiAgJC5mbi5vbWZnc2xpZGVyID0gZnVuY3Rpb24obWV0aG9kKSB7XHJcbiAgICBpZiAobWV0aG9kc1ttZXRob2RdKSB7XHJcbiAgICAgIHJldHVybiBtZXRob2RzW21ldGhvZF0uYXBwbHkodGhpcywgQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKSk7XHJcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBtZXRob2QgPT09ICdvYmplY3QnIHx8ICFtZXRob2QpIHtcclxuICAgICAgcmV0dXJuIG1ldGhvZHMuaW5pdC5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgJC5lcnJvcign0JzQtdGC0L7QtCBcIicgKyAgbWV0aG9kICsgJ1wiINC90LUg0L3QsNC50LTQtdC9INCyINC/0LvQsNCz0LjQvdC1IGpRdWVyeS5teVNpbXBsZVBsdWdpbicpO1xyXG4gICAgfVxyXG4gIH07XHJcbn0pKGpRdWVyeSk7Il0sInNvdXJjZVJvb3QiOiIifQ==