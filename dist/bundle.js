!function(e){var t={};function i(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,i),o.l=!0,o.exports}i.m=e,i.c=t,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)i.d(n,o,function(t){return e[t]}.bind(null,o));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=14)}([function(e,t,i){"use strict";i.r(t),t.default=function(e){var t=document.createElement("div");return t.ondragstart=function(){return!1},t.classList.add(e),t}},function(e,t,i){"use strict";i.r(t);var n=function(){for(var e=0,t=0,i=arguments.length;t<i;t++)e+=arguments[t].length;var n=Array(e),o=0;for(t=0;t<i;t++)for(var s=arguments[t],a=0,r=s.length;a<r;a++,o++)n[o]=s[a];return n},o=function(){function e(){this.observers=[]}return e.prototype.addObserver=function(e){if("function"!=typeof e)throw new Error("observer must be a function");this.observers.map((function(t){if(t===e)throw new Error("observer already in the list")})),this.observers.push(e)},e.prototype.removeObserver=function(e){for(var t=0;t<this.observers.length;t++){if(this.observers[t]===e)return void this.observers.splice(t,1)}throw new Error("could not find observer in list of observers")},e.prototype.notifyObservers=function(){n(this.observers).map((function(e){return e()}))},e}();t.default=o},function(e,t,i){"use strict";i.r(t);var n=i(0),o=function(e){var t=this;this.getWidth=function(){return t.elem.getBoundingClientRect().width},this.getPosition=function(){return t.isVertical?t.elem.getBoundingClientRect().top:t.elem.getBoundingClientRect().left},this.setPosition=function(e){t.isVertical?(t.elem.style.left="50%",t.elem.style.top=e+"px"):(t.elem.style.top="50%",t.elem.style.left=e+"px")},this.init=function(e){t.isVertical=e,t.isVertical?t.elem.classList.add("slider__button_position_vertical"):t.elem.classList.remove("slider__button_position_vertical")},this.elem=Object(n.default)("slider__button"),this.isVertical=e};t.default=o},function(e,t,i){"use strict";i.r(t);var n=i(0),o=function(e){var t=this;this.getPosition=function(){return t.isVertical?t.elem.getBoundingClientRect().top:t.elem.getBoundingClientRect().left},this.setPosition=function(e,i){t.elem.innerHTML=i+"",t.isVertical?(t.elem.style.left="50%",t.elem.style.top=e-t.getDimension()/2+"px"):(t.elem.style.top="50%",t.elem.style.left=e-t.getDimension()/2+"px")},this.getDimension=function(){return t.isVertical?t.elem.getBoundingClientRect().height:t.elem.getBoundingClientRect().width},this.init=function(e){t.isVertical=e,t.isVertical?t.elem.classList.add("slider__button-label_position_vertical"):t.elem.classList.remove("slider__button-label_position_vertical")},this.elem=Object(n.default)("slider__button-label"),this.isVertical=e};t.default=o},function(e,t,i){"use strict";i.r(t);var n=function(){function e(){}return e.parsing=function(e){if("number"==typeof e)return e;if("string"==typeof e){if(/^-?\d+[\.,]\d+$/.test(e))return parseFloat(e);if(/^-?\d+$/.test(e))return parseInt(e)}return null},e}();t.default=n},function(e,t,i){"use strict";i.r(t);var n=i(0),o=function(e){var t=this;this.getPosition=function(){return t.isVertical?t.elem.getBoundingClientRect().top:t.elem.getBoundingClientRect().left},this.getDimension=function(){return t.isVertical?t.elem.getBoundingClientRect().height:t.elem.getBoundingClientRect().width},this.init=function(e){t.isVertical=e,t.isVertical?t.elem.classList.add("slider__scale_position_vertical"):t.elem.classList.remove("slider__scale_position_vertical")},this.elem=Object(n.default)("slider__scale"),this.isVertical=e};t.default=o},function(e,t,i){"use strict";i.r(t);var n=i(0),o=function(){var e=this;this.init=function(t,i,n,o){void 0===o&&(o=!1),e.mark1.innerHTML=t+"",e.mark4.innerHTML=i+"",o?(e.mark2.innerHTML=(t+(i-t)/3).toFixed(2),e.mark3.innerHTML=(t+2*(i-t)/3).toFixed(2)):(e.mark2.innerHTML=t+Math.round((i-t)/3)+"",e.mark3.innerHTML=t+Math.round(2*(i-t)/3)+""),n?(e.mark1.classList.remove("slider__graduation-mark_offset_left"),e.mark1.classList.add("slider__graduation-mark_offset_top"),e.mark4.classList.remove("slider__graduation-mark_offset_right"),e.mark4.classList.add("slider__graduation-mark_offset_bottom"),e.gradElem.classList.add("slider__graduation_position_vertical")):(e.mark1.classList.add("slider__graduation-mark_offset_left"),e.mark1.classList.remove("slider__graduation-mark_offset_top"),e.mark4.classList.add("slider__graduation-mark_offset_right"),e.mark4.classList.remove("slider__graduation-mark_offset_bottom"),e.gradElem.classList.remove("slider__graduation_position_vertical"))},this.gradElem=Object(n.default)("slider__graduation"),this.mark1=Object(n.default)("slider__graduation-mark"),this.mark2=Object(n.default)("slider__graduation-mark"),this.mark3=Object(n.default)("slider__graduation-mark"),this.mark4=Object(n.default)("slider__graduation-mark"),this.gradElem.appendChild(this.mark1),this.gradElem.appendChild(this.mark2),this.gradElem.appendChild(this.mark3),this.gradElem.appendChild(this.mark4)};t.default=o},function(e,t,i){"use strict";i.r(t);var n=i(0),o=function(e){var t=this;this.setPosition=function(e){t.isVertical?(t.elem.style.left="0",t.elem.style.width="100%",t.elem.style.top=e+"px"):(t.elem.style.top="0",t.elem.style.height="100%",t.elem.style.left=e+"px")},this.setDimension=function(e){t.isVertical?t.elem.style.height=e+"px":t.elem.style.width=e+"px"},this.init=function(e){t.isVertical=e},this.elem=Object(n.default)("slider__scale-filling"),this.isVertical=e};t.default=o},function(e,t,i){"use strict";i.r(t);var n=i(9),o=i(10),s=i(1),a=i(4),r=function(e,t,i,r,l,u,c){var d=this;void 0===e&&(e=0),void 0===t&&(t=1e3),void 0===i&&(i=1),void 0===r&&(r=!1),void 0===l&&(l=!1),void 0===u&&(u=!1),void 0===c&&(c=!1),this.append=function(e){d.view.append(e.get(0)),d.view.init()},this.checkStep=function(e){var t=Math.abs(a.default.parsing(e));return null===t||0===t||t>=d.view.maxValue-d.view.minValue?(console.log("Wrong value of the step"),d.view.step):(t%1!=0?d.view.isFloat=!0:d.view.maxValue%1==0&&d.view.minValue%1==0&&(d.view.isFloat=!1),t)},this.checkMaxValue=function(e){var t=a.default.parsing(e);return null===t||t<=d.view.minValue?(console.log("Wrong value of the maxValue"),d.view.maxValue):(t%1!=0?d.view.isFloat=!0:d.view.step%1==0&&d.view.minValue%1==0&&(d.view.isFloat=!1),t)},this.checkMinValue=function(e){var t=a.default.parsing(e);return null===t||t>=d.view.maxValue?(console.log("Wrong value of the minValue"),d.view.minValue):(t%1!=0?d.view.isFloat=!0:d.view.maxValue%1==0&&d.view.step%1==0&&(d.view.isFloat=!1),t)},this.update=function(e){Object.keys(e).map((function(t){void 0!==d.view[t]&&("step"===t?d.view.step=d.checkStep(e[t]):"maxValue"===t?d.view.maxValue=d.checkMaxValue(e[t]):"minValue"===t?d.view.minValue=d.checkMinValue(e[t]):d.view[t]=e[t])})),d.view.init()},this.getValues=function(){return[d.model.curMinValue,d.model.curMaxValue]},this.setValues=function(e,t){e&&d.model.setCurMinValue(e),t&&d.model.setCurMaxValue(t)},this.getConfig=function(){return{minValue:d.view.minValue,maxValue:d.view.maxValue,step:d.view.step,isRange:d.view.isRange,isVertical:d.view.isVertical,showLabel:d.view.showLabel,isFloat:d.view.isFloat}},this.addObserver=function(e){d.observers.addObserver(e)},this.view=new n.View(e,t,i,r,l,u,c),this.model=new o.default(e,t),this.observers=new s.default,this.view.observers.addObserver((function(){d.model.curMinValue=d.view.curMinValue,d.model.curMaxValue=d.view.curMaxValue,d.observers.notifyObservers()})),this.model.observers.addObserver((function(){var e=d.model.curMinValue,t=d.model.curMaxValue;d.view.butt1Move(d.view.offsetValueConv(e),e),d.view.butt2Move(d.view.offsetValueConv(t),t),d.observers.notifyObservers()}))};t.default=r},function(e,t,i){"use strict";i.r(t),i.d(t,"View",(function(){return c}));var n=i(1),o=i(0);i.d(t,"createElem",(function(){return o.default}));var s=i(5);i.d(t,"Scale",(function(){return s.default}));var a=i(6);i.d(t,"Graduation",(function(){return a.default}));var r=i(2);i.d(t,"Button",(function(){return r.default}));var l=i(3);i.d(t,"Label",(function(){return l.default}));var u=i(7);i.d(t,"ScaleFilling",(function(){return u.default}));var c=function(){function e(e,t,i,o,c,d,f){var m=this;void 0===e&&(e=0),void 0===t&&(t=1e3),void 0===i&&(i=1),void 0===o&&(o=!1),void 0===c&&(c=!1),void 0===d&&(d=!1),void 0===f&&(f=!1),this.getStart=function(){return m.isRange?m.button1.getPosition()-m.scale.getPosition()+m.button1.getWidth()/2:0},this.getEnd=function(){return m.button2.getPosition()-m.scale.getPosition()+m.button2.getWidth()/2},this.updateElems=function(){m.scaleFilling.init(m.isVertical),m.scaleFilling.setPosition(m.getStart()),m.scaleFilling.setDimension(m.getEnd()-m.getStart()),m.observers.notifyObservers()},this.round=function(e,t){var i=Math.trunc(e/t),n=+(e-i*t).toFixed(2);return e<0?Math.abs(n)<t/2?i*t:(i-1)*t:e<=m.minValue?m.minValue:e>=m.maxValue?m.maxValue:n<t/2?i*t:(i+1)*t},this.roundOffsetButt=function(e){var t=m.minValue+(e+m.button2.getWidth()/2)*(m.maxValue-m.minValue)/m.scale.getDimension(),i=m.round(t,m.step);return m.isFloat&&(i=parseFloat(i.toFixed(2))),[m.offsetValueConv(i),i]},this.offsetValueConv=function(e){return(e-m.minValue)/(m.maxValue-m.minValue)*m.scale.getDimension()-m.button2.getWidth()/2},this.butt1Move=function(e,t){m.button1.setPosition(e),m.label1.setPosition(e+m.button1.getWidth()/2,t),t<m.minValue&&(t=m.minValue),m.curMinValue=t,m.updateElems()},this.butt1OffsetCheck=function(e){var t;e<-m.button1.getWidth()/2&&(e=-m.button1.getWidth()/2,t=m.minValue);var i=m.step*m.scale.getDimension()/(m.maxValue-m.minValue),n=i/1.5>m.button1.getWidth()?i/1.5:m.button1.getWidth();return e>m.button2.getPosition()-m.scale.getPosition()-n&&(e=m.button2.getPosition()-m.scale.getPosition()-n),[e,t]},this.onMouseMove1=function(e){var t,i,n,o,s=(m.isVertical?e.clientY:e.clientX)-m.scale.getPosition()-m.button2.getWidth()/2;o=(t=m.butt1OffsetCheck(s))[0],void 0===(n=t[1])&&(o=(i=m.roundOffsetButt(o))[0],n=i[1]),m.butt1Move(o,n)},this.onMouseUp1=function(){document.removeEventListener("mouseup",m.onMouseUp1),document.removeEventListener("mousemove",m.onMouseMove1)},this.butt2Move=function(e,t){m.button2.setPosition(e),m.label2.setPosition(e+m.button2.getWidth()/2,t),t<m.minValue?t=m.minValue:t>m.maxValue&&(t=m.maxValue),m.curMaxValue=t,m.updateElems()},this.butt2OffsetCheck=function(e){var t;m.isRange||e<-m.button2.getWidth()/2&&(e=-m.button2.getWidth()/2,t=m.minValue),e>m.scale.getDimension()-m.button2.getWidth()/2&&(e=m.scale.getDimension()-m.button2.getWidth()/2,t=m.maxValue);var i=m.step*m.scale.getDimension()/(m.maxValue-m.minValue),n=i/1.5>m.button1.getWidth()?i/1.5:m.button1.getWidth();return e<m.button1.getPosition()-m.scale.getPosition()+n&&(e=m.button1.getPosition()-m.scale.getPosition()+n),[e,t]},this.onMouseMove2=function(e){var t,i,n,o,s=(m.isVertical?e.clientY:e.clientX)-m.scale.getPosition()-m.button2.getWidth()/2;o=(t=m.butt2OffsetCheck(s))[0],void 0===(n=t[1])&&(o=(i=m.roundOffsetButt(o))[0],n=i[1]),m.butt2Move(o,n)},this.onMouseUp2=function(){document.removeEventListener("mouseup",m.onMouseUp2),document.removeEventListener("mousemove",m.onMouseMove2)},this.butt1CloserCheck=function(e){return Math.abs(e-m.button1.getPosition()-m.button1.getWidth()/2)<Math.abs(e-m.button2.getPosition()-m.button2.getWidth()/2)},this.scaleOnclick=function(e){if(m.isRange){var t=m.isVertical?e.clientY:e.clientX;m.butt1CloserCheck(t)?m.onMouseMove1(e):m.onMouseMove2(e)}else m.onMouseMove2(e)},this.interMarkHandler=function(e){var t,i,n,o=(e-m.minValue)/(m.maxValue-m.minValue)*m.scale.getDimension();if(i=(t=m.roundOffsetButt(o-m.button2.getWidth()/2))[0],n=t[1],m.isRange){var s=o+m.scale.getPosition();m.butt1CloserCheck(s)?m.butt1Move(i,n):m.butt2Move(i,n)}else m.butt2Move(i,n)},this.mark1Onclick=function(){var e=-m.button2.getWidth()/2,t=m.minValue;m.isRange?m.butt1Move(e,t):m.butt2Move(e,t)},this.mark4Onclick=function(){var e=m.scale.getDimension()-m.button2.getWidth()/2;m.butt2Move(e,m.maxValue)},this.mark2Onclick=function(){var e=m.isFloat?parseFloat(m.graduation.mark2.innerHTML):parseInt(m.graduation.mark2.innerHTML);m.interMarkHandler(e)},this.mark3Onclick=function(){var e=m.isFloat?parseFloat(m.graduation.mark3.innerHTML):parseInt(m.graduation.mark3.innerHTML);m.interMarkHandler(e)},this.checkValues=function(){"number"!=typeof m.maxValue&&console.error("Maxvalue should be a number"),"number"!=typeof m.minValue&&console.error("Maxvalue should be a number"),"number"!=typeof m.step&&console.error("Step should be a number"),"boolean"!=typeof m.isRange&&console.error("isRange should be a boolean"),"boolean"!=typeof m.isVertical&&console.error("isVertical should be a boolean"),"boolean"!=typeof m.showLabel&&console.error("ShowLabel should be a boolean"),m.step>m.maxValue-m.minValue&&(m.step=m.maxValue-m.minValue,console.error("Step is setted to the max"))},this.init=function(){m.scale.init(m.isVertical),m.scaleFilling.init(m.isVertical),m.graduation.init(m.minValue,m.maxValue,m.isVertical,m.isFloat),m.button1.init(m.isVertical),m.button2.init(m.isVertical),m.label1.init(m.isVertical),m.label2.init(m.isVertical),m.button1.elem.style.display="none",m.label1.elem.style.display="none",m.showLabel?(m.label1.elem.style.display="block",m.label2.elem.style.display="block"):(m.label1.elem.style.display="none",m.label2.elem.style.display="none"),m.isRange?m.button1.elem.style.display="block":(m.button1.elem.style.display="none",m.label1.elem.style.display="none"),m.button1.setPosition(-m.button1.getWidth()/2),m.button2.setPosition(m.scale.getDimension()-m.button2.getWidth()/2),m.label1.setPosition(m.getStart(),m.minValue),m.label2.setPosition(m.getEnd(),m.maxValue),m.isVertical?m.graduation.gradElem.style.height=m.scale.getDimension()+"px":m.graduation.gradElem.style.height="20px",m.renew(),m.updateElems()},this.append=function(e){e.appendChild(m.scale.elem).appendChild(m.scaleFilling.elem),e.appendChild(m.button1.elem),e.appendChild(m.label1.elem),e.appendChild(m.graduation.gradElem),e.appendChild(m.button2.elem),e.appendChild(m.label2.elem),m.scale.elem.onclick=m.scaleOnclick,m.graduation.mark1.onclick=m.mark1Onclick,m.graduation.mark2.onclick=m.mark2Onclick,m.graduation.mark3.onclick=m.mark3Onclick,m.graduation.mark4.onclick=m.mark4Onclick,m.button1.elem.onmousedown=function(e){e.preventDefault(),document.addEventListener("mousemove",m.onMouseMove1),document.addEventListener("mouseup",m.onMouseUp1)},m.button2.elem.onmousedown=function(e){e.preventDefault(),document.addEventListener("mousemove",m.onMouseMove2),document.addEventListener("mouseup",m.onMouseUp2)}},this.scale=new s.default(c),this.button1=new r.default(c),this.button2=new r.default(c),this.label1=new l.default(c),this.label2=new l.default(c),this.scaleFilling=new u.default(c),this.graduation=new a.default,this.minValue=e,this.maxValue=t,this.curMinValue=e,this.curMaxValue=t,this.step=i,this.isRange=o,this.isVertical=c,this.showLabel=d,this.isFloat=f,this.observers=new n.default}return e.prototype.renew=function(){var e,t,i,n,o,s,a=this.offsetValueConv(this.curMaxValue);if(s=(e=this.butt2OffsetCheck(a))[0],void 0===(o=e[1])&&(s=(t=this.roundOffsetButt(s))[0],o=t[1]),this.butt2Move(s,o),this.isRange){var r,l,u=this.offsetValueConv(this.curMinValue);l=(i=this.butt1OffsetCheck(u))[0],void 0===(r=i[1])&&(l=(n=this.roundOffsetButt(l))[0],r=n[1]),this.butt1Move(l,r)}},e}()},function(e,t,i){"use strict";i.r(t);var n=i(1),o=function(){function e(e,t){void 0===e&&(e=0),void 0===t&&(t=1e3),this.curMinValue=e,this.curMaxValue=t,this.observers=new n.default}return e.prototype.setCurMinValue=function(e){this.curMinValue!=e&&(this.curMinValue=e,this.observers.notifyObservers())},e.prototype.setCurMaxValue=function(e){this.curMaxValue!=e&&(this.curMaxValue=e,this.observers.notifyObservers())},e}();t.default=o},function(e,t,i){var n={"./blocks/button/Button.ts":2,"./blocks/controller/Controller.ts":8,"./blocks/createElem/createElem.ts":0,"./blocks/graduation/Graduation.ts":6,"./blocks/label/Label.ts":3,"./blocks/makeObservableObject/MakeObservableObject.ts":1,"./blocks/model/Model.ts":10,"./blocks/parsingDigits/ParsingDigits.ts":4,"./blocks/scale/Scale.ts":5,"./blocks/scaleFilling/ScaleFilling.ts":7,"./blocks/view/View.ts":9,"./pluginWrapper.ts":12,"./styles/style.scss":13};function o(e){var t=s(e);return i(t)}function s(e){if(!i.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}o.keys=function(){return Object.keys(n)},o.resolve=s,e.exports=o,o.id=11},function(e,t,i){"use strict";i.r(t);var n,o,s,a=i(8),r=function(){return(r=Object.assign||function(e){for(var t,i=1,n=arguments.length;i<n;i++)for(var o in t=arguments[i])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},l=function(){for(var e=0,t=0,i=arguments.length;t<i;t++)e+=arguments[t].length;var n=Array(e),o=0;for(t=0;t<i;t++)for(var s=arguments[t],a=0,r=s.length;a<r;a++,o++)n[o]=s[a];return n};n=jQuery,o={minValue:0,maxValue:1e3,step:1,isRange:!1,isVertical:!1,showLabel:!1,isFloat:!1},s={init:function(e){if(!n(this).data("slider")){var t=r({},o),i=new(a.default.bind.apply(a.default,l([void 0],Object.values(n.extend(t,e)))));n(this).data("slider",i),i.append(n(this))}},update:function(e){n(this).data("slider").update(e)},getConfig:function(){return n(this).data("slider").getConfig()},setValues:function(e){n(this).data("slider").setValues(e.curMinValue,e.curMaxValue)},inputsAttach:function(e){var t=n(this).data("slider");t.addObserver((function(){e.minValueIn.val(t.getValues()[0]),e.maxValueIn.val(t.getValues()[1])}))}},n.fn.omfgslider=function(e){return s[e]?s[e].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof e&&e?void n.error("Метод "+e+" не найден в плагине jQuery.omfgslider"):s.init.apply(this,arguments)}},function(e,t,i){},function(e,t,i){"use strict";i.r(t);var n;i.p;(n=i(11)).keys().forEach(n)}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL3NsaWRlci9ibG9ja3MvY3JlYXRlRWxlbS9jcmVhdGVFbGVtLnRzIiwid2VicGFjazovLy8uL3NyYy9zbGlkZXIvYmxvY2tzL21ha2VPYnNlcnZhYmxlT2JqZWN0L01ha2VPYnNlcnZhYmxlT2JqZWN0LnRzIiwid2VicGFjazovLy8uL3NyYy9zbGlkZXIvYmxvY2tzL2J1dHRvbi9CdXR0b24udHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3NsaWRlci9ibG9ja3MvbGFiZWwvTGFiZWwudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3NsaWRlci9ibG9ja3MvcGFyc2luZ0RpZ2l0cy9QYXJzaW5nRGlnaXRzLnRzIiwid2VicGFjazovLy8uL3NyYy9zbGlkZXIvYmxvY2tzL3NjYWxlL1NjYWxlLnRzIiwid2VicGFjazovLy8uL3NyYy9zbGlkZXIvYmxvY2tzL2dyYWR1YXRpb24vR3JhZHVhdGlvbi50cyIsIndlYnBhY2s6Ly8vLi9zcmMvc2xpZGVyL2Jsb2Nrcy9zY2FsZUZpbGxpbmcvU2NhbGVGaWxsaW5nLnRzIiwid2VicGFjazovLy8uL3NyYy9zbGlkZXIvYmxvY2tzL2NvbnRyb2xsZXIvQ29udHJvbGxlci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvc2xpZGVyL2Jsb2Nrcy92aWV3L1ZpZXcudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3NsaWRlci9ibG9ja3MvbW9kZWwvTW9kZWwudHMiLCJ3ZWJwYWNrOi8vL1xcLmQpXFwuKGpzfHRzfHNjc3MpJC8iLCJ3ZWJwYWNrOi8vLy4vc3JjL3NsaWRlci9wbHVnaW5XcmFwcGVyLnRzIiwid2VicGFjazovLy8uL3NyYy9wYWdlL2luZGV4Lmh0bWwiLCJ3ZWJwYWNrOi8vLy4vc3JjL2luZGV4LnRzIl0sIm5hbWVzIjpbImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJleHBvcnRzIiwibW9kdWxlIiwiaSIsImwiLCJtb2R1bGVzIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJ0IiwibW9kZSIsIl9fZXNNb2R1bGUiLCJucyIsImNyZWF0ZSIsImtleSIsImJpbmQiLCJuIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwiY2xhc3NOYW1lIiwiZWxlbSIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsIm9uZHJhZ3N0YXJ0IiwiY2xhc3NMaXN0IiwiYWRkIiwidGhpcyIsIm9ic2VydmVycyIsImFkZE9ic2VydmVyIiwiZm4iLCJFcnJvciIsIm1hcCIsIm9ic2VydmVyIiwicHVzaCIsInJlbW92ZU9ic2VydmVyIiwibGVuZ3RoIiwic3BsaWNlIiwibm90aWZ5T2JzZXJ2ZXJzIiwiaXNWZXJ0aWNhbCIsImdldFdpZHRoIiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0Iiwid2lkdGgiLCJnZXRQb3NpdGlvbiIsInRvcCIsImxlZnQiLCJzZXRQb3NpdGlvbiIsIm9mZnNldCIsInN0eWxlIiwiaW5pdCIsInJlbW92ZSIsImlubmVySFRNTCIsImdldERpbWVuc2lvbiIsImhlaWdodCIsInBhcnNpbmciLCJpdGVtIiwidGVzdCIsInBhcnNlRmxvYXQiLCJwYXJzZUludCIsIm1pblZhbHVlIiwibWF4VmFsdWUiLCJpc0Zsb2F0IiwibWFyazEiLCJtYXJrNCIsIm1hcmsyIiwidG9GaXhlZCIsIm1hcmszIiwiTWF0aCIsInJvdW5kIiwiZ3JhZEVsZW0iLCJhcHBlbmRDaGlsZCIsInNldERpbWVuc2lvbiIsImRpbWVuc2lvbiIsInN0ZXAiLCJpc1JhbmdlIiwic2hvd0xhYmVsIiwiYXBwZW5kIiwiZW50cnkiLCJ2aWV3IiwiY2hlY2tTdGVwIiwic3RlcE1vZCIsImFicyIsImNvbnNvbGUiLCJsb2ciLCJjaGVja01heFZhbHVlIiwibWF4VmFsdWVNb2QiLCJjaGVja01pblZhbHVlIiwibWluVmFsdWVNb2QiLCJ1cGRhdGUiLCJhcmdzIiwia2V5cyIsInVuZGVmaW5lZCIsImdldFZhbHVlcyIsIm1vZGVsIiwiY3VyTWluVmFsdWUiLCJjdXJNYXhWYWx1ZSIsInNldFZhbHVlcyIsInNldEN1ck1pblZhbHVlIiwic2V0Q3VyTWF4VmFsdWUiLCJnZXRDb25maWciLCJidXR0MU1vdmUiLCJvZmZzZXRWYWx1ZUNvbnYiLCJidXR0Mk1vdmUiLCJnZXRTdGFydCIsImJ1dHRvbjEiLCJzY2FsZSIsImdldEVuZCIsImJ1dHRvbjIiLCJ1cGRhdGVFbGVtcyIsInNjYWxlRmlsbGluZyIsInZhbCIsIndob2xlIiwidHJ1bmMiLCJyZW1pbmRlciIsInJvdW5kT2Zmc2V0QnV0dCIsImN1cnJPZmZzZXQiLCJjdXJyVmFsdWUiLCJyb3VuZFZhbHVlIiwicm91bmRPZmZzZXQiLCJsYWJlbDEiLCJidXR0MU9mZnNldENoZWNrIiwibmV3T2Zmc2V0Iiwic3RlcFdpZHRoIiwibWluT2Zmc2V0Iiwib25Nb3VzZU1vdmUxIiwiZXZlbnRNbSIsImNsaWVudFkiLCJjbGllbnRYIiwib25Nb3VzZVVwMSIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJsYWJlbDIiLCJidXR0Mk9mZnNldENoZWNrIiwib25Nb3VzZU1vdmUyIiwib25Nb3VzZVVwMiIsImJ1dHQxQ2xvc2VyQ2hlY2siLCJjb29yZGluYXRlIiwic2NhbGVPbmNsaWNrIiwiZXZlbnQiLCJpbnRlck1hcmtIYW5kbGVyIiwibWFya09mZnNldCIsIm1hcmsxT25jbGljayIsIm1hcms0T25jbGljayIsIm1hcmsyT25jbGljayIsImdyYWR1YXRpb24iLCJtYXJrM09uY2xpY2siLCJjaGVja1ZhbHVlcyIsImVycm9yIiwiZGlzcGxheSIsInJlbmV3Iiwib25jbGljayIsIm9ubW91c2Vkb3duIiwiZXZlbnRNZCIsInByZXZlbnREZWZhdWx0IiwiYWRkRXZlbnRMaXN0ZW5lciIsImRhdGEiLCJ3ZWJwYWNrQ29udGV4dCIsInJlcSIsImlkIiwid2VicGFja0NvbnRleHRSZXNvbHZlIiwiZSIsImNvZGUiLCJyZXNvbHZlIiwiJCIsImNvbmZpZyIsIm1ldGhvZHMiLCJqUXVlcnkiLCJvcHQiLCJuZXdDb25maWciLCJzbGlkZXIiLCJ2YWx1ZXMiLCJleHRlbmQiLCJpbnB1dHNBdHRhY2giLCJtaW5WYWx1ZUluIiwibWF4VmFsdWVJbiIsIm9tZmdzbGlkZXIiLCJtZXRob2QiLCJhcHBseSIsIkFycmF5Iiwic2xpY2UiLCJhcmd1bWVudHMiLCJmb3JFYWNoIl0sIm1hcHBpbmdzIjoiYUFDRSxJQUFJQSxFQUFtQixHQUd2QixTQUFTQyxFQUFvQkMsR0FHNUIsR0FBR0YsRUFBaUJFLEdBQ25CLE9BQU9GLEVBQWlCRSxHQUFVQyxRQUduQyxJQUFJQyxFQUFTSixFQUFpQkUsR0FBWSxDQUN6Q0csRUFBR0gsRUFDSEksR0FBRyxFQUNISCxRQUFTLElBVVYsT0FOQUksRUFBUUwsR0FBVU0sS0FBS0osRUFBT0QsUUFBU0MsRUFBUUEsRUFBT0QsUUFBU0YsR0FHL0RHLEVBQU9FLEdBQUksRUFHSkYsRUFBT0QsUUFLZkYsRUFBb0JRLEVBQUlGLEVBR3hCTixFQUFvQlMsRUFBSVYsRUFHeEJDLEVBQW9CVSxFQUFJLFNBQVNSLEVBQVNTLEVBQU1DLEdBQzNDWixFQUFvQmEsRUFBRVgsRUFBU1MsSUFDbENHLE9BQU9DLGVBQWViLEVBQVNTLEVBQU0sQ0FBRUssWUFBWSxFQUFNQyxJQUFLTCxLQUtoRVosRUFBb0JrQixFQUFJLFNBQVNoQixHQUNYLG9CQUFYaUIsUUFBMEJBLE9BQU9DLGFBQzFDTixPQUFPQyxlQUFlYixFQUFTaUIsT0FBT0MsWUFBYSxDQUFFQyxNQUFPLFdBRTdEUCxPQUFPQyxlQUFlYixFQUFTLGFBQWMsQ0FBRW1CLE9BQU8sS0FRdkRyQixFQUFvQnNCLEVBQUksU0FBU0QsRUFBT0UsR0FFdkMsR0FEVSxFQUFQQSxJQUFVRixFQUFRckIsRUFBb0JxQixJQUMvQixFQUFQRSxFQUFVLE9BQU9GLEVBQ3BC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U0FLNUNzRSxFQUFFcEksR0FBR2dKLFdBQWEsU0FBU0MsR0FDekIsT0FBSVgsRUFBUVcsR0FDSFgsRUFBUVcsR0FBUUMsTUFBTXJKLEtBQU1zSixNQUFNakssVUFBVWtLLE1BQU0zTCxLQUFLNEwsVUFBVyxJQUM5QyxpQkFBWEosR0FBd0JBLE9BR3hDYixFQUFFaEIsTUFBTSxTQUFTNkIsRUFBTSwwQ0FGaEJYLEVBQVFuSCxLQUFLK0gsTUFBTXJKLEtBQU13SixhLHNEQ3BEdkIsSUNFSWpMLEVERkosS0NFSUEsRUFJVCxPQUhKd0YsT0FBTzBGLFFBQVFsTCIsImZpbGUiOiJidW5kbGUuanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gMTQpO1xuIiwiLy8gRWxlbWVudHMgZmFjdG9yeVxyXG5mdW5jdGlvbiBjcmVhdGVFbGVtKGNsYXNzTmFtZTogc3RyaW5nKSA6SFRNTEVsZW1lbnQge1xyXG4gIGNvbnN0IGVsZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICBlbGVtLm9uZHJhZ3N0YXJ0ID0gKCkgPT4gZmFsc2U7XHJcbiAgZWxlbS5jbGFzc0xpc3QuYWRkKGNsYXNzTmFtZSk7XHJcbiAgcmV0dXJuIGVsZW07XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNyZWF0ZUVsZW07IiwiY2xhc3MgTWFrZU9ic2VydmFibGVPYmplY3Qge1xyXG4gIG9ic2VydmVyczogQXJyYXk8RnVuY3Rpb24+O1xyXG5cclxuICBjb25zdHJ1Y3RvcigpIHtcclxuICAgIHRoaXMub2JzZXJ2ZXJzID0gW107XHJcbiAgfVxyXG5cclxuICBhZGRPYnNlcnZlciAoZm46IEZ1bmN0aW9uKTogdm9pZCB7XHJcbiAgICBpZiAodHlwZW9mIGZuICE9PSAnZnVuY3Rpb24nKSB7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcignb2JzZXJ2ZXIgbXVzdCBiZSBhIGZ1bmN0aW9uJyk7XHJcbiAgICB9XHJcbiAgICB0aGlzLm9ic2VydmVycy5tYXAoKG9ic2VydmVyKSA9PiB7XHJcbiAgICAgIGlmIChvYnNlcnZlciA9PT0gZm4pIHtcclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ29ic2VydmVyIGFscmVhZHkgaW4gdGhlIGxpc3QnKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgICB0aGlzLm9ic2VydmVycy5wdXNoKGZuKTtcclxuICB9XHJcblxyXG4gIHJlbW92ZU9ic2VydmVyIChmbjogRnVuY3Rpb24pOiB2b2lkIHtcclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5vYnNlcnZlcnMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgY29uc3Qgb2JzZXJ2ZXIgPSB0aGlzLm9ic2VydmVyc1tpXTtcclxuICAgICAgaWYgKG9ic2VydmVyID09PSBmbikge1xyXG4gICAgICAgIHRoaXMub2JzZXJ2ZXJzLnNwbGljZShpLCAxKTtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIHRocm93IG5ldyBFcnJvcignY291bGQgbm90IGZpbmQgb2JzZXJ2ZXIgaW4gbGlzdCBvZiBvYnNlcnZlcnMnKTtcclxuICB9XHJcblxyXG4gIG5vdGlmeU9ic2VydmVycyAoKTogdm9pZCB7XHJcbiAgICBjb25zdCBvYnNlcnZlcnNTbmFwc2hvdCA9IFsuLi50aGlzLm9ic2VydmVyc107XHJcbiAgICBvYnNlcnZlcnNTbmFwc2hvdC5tYXAoKG9ic2VydmVyKSA9PiBvYnNlcnZlcigpKTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IE1ha2VPYnNlcnZhYmxlT2JqZWN0OyIsImltcG9ydCBjcmVhdGVFbGVtIGZyb20gJy4uL2NyZWF0ZUVsZW0vY3JlYXRlRWxlbSc7XHJcblxyXG5jbGFzcyBCdXR0b24ge1xyXG4gIGVsZW06IEhUTUxFbGVtZW50O1xyXG5cclxuICBpc1ZlcnRpY2FsOiBib29sZWFuO1xyXG5cclxuICBjb25zdHJ1Y3Rvcihpc1ZlcnRpY2FsOiBib29sZWFuKSB7XHJcbiAgICB0aGlzLmVsZW0gPSBjcmVhdGVFbGVtKCdzbGlkZXJfX2J1dHRvbicpO1xyXG4gICAgdGhpcy5pc1ZlcnRpY2FsID0gaXNWZXJ0aWNhbDtcclxuICB9XHJcblxyXG4gIGdldFdpZHRoID0gKCk6IG51bWJlciA9PiB7XHJcbiAgICByZXR1cm4gdGhpcy5lbGVtLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLndpZHRoO1xyXG4gIH1cclxuXHJcbiAgZ2V0UG9zaXRpb24gPSAoKTogbnVtYmVyID0+IHtcclxuICAgIGlmICh0aGlzLmlzVmVydGljYWwpIHtcclxuICAgICAgcmV0dXJuIHRoaXMuZWxlbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS50b3A7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHRoaXMuZWxlbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5sZWZ0O1xyXG4gIH1cclxuXHJcbiAgc2V0UG9zaXRpb24gPSAob2Zmc2V0OiBudW1iZXIpOiB2b2lkID0+IHtcclxuICAgIGlmICh0aGlzLmlzVmVydGljYWwpIHtcclxuICAgICAgdGhpcy5lbGVtLnN0eWxlLmxlZnQgPSAnNTAlJztcclxuICAgICAgdGhpcy5lbGVtLnN0eWxlLnRvcCA9IG9mZnNldCArICdweCc7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLmVsZW0uc3R5bGUudG9wID0gJzUwJSc7XHJcbiAgICAgIHRoaXMuZWxlbS5zdHlsZS5sZWZ0ID0gb2Zmc2V0ICsgJ3B4JztcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGluaXQgPSAoaXNWZXJ0aWNhbDogYm9vbGVhbik6IHZvaWQgPT4ge1xyXG4gICAgdGhpcy5pc1ZlcnRpY2FsID0gaXNWZXJ0aWNhbDtcclxuXHJcbiAgICBpZiAodGhpcy5pc1ZlcnRpY2FsKSB7XHJcbiAgICAgIHRoaXMuZWxlbS5jbGFzc0xpc3QuYWRkKCdzbGlkZXJfX2J1dHRvbl9wb3NpdGlvbl92ZXJ0aWNhbCcpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5lbGVtLmNsYXNzTGlzdC5yZW1vdmUoJ3NsaWRlcl9fYnV0dG9uX3Bvc2l0aW9uX3ZlcnRpY2FsJyk7XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBCdXR0b247XHJcbiIsImltcG9ydCBjcmVhdGVFbGVtIGZyb20gJy4uL2NyZWF0ZUVsZW0vY3JlYXRlRWxlbSc7XHJcblxyXG5jbGFzcyBMYWJlbCB7XHJcbiAgZWxlbTogSFRNTEVsZW1lbnQ7XHJcbiAgaXNWZXJ0aWNhbDogYm9vbGVhbjtcclxuXHJcbiAgY29uc3RydWN0b3IoaXNWZXJ0aWNhbDogYm9vbGVhbikge1xyXG4gICAgdGhpcy5lbGVtID0gY3JlYXRlRWxlbSgnc2xpZGVyX19idXR0b24tbGFiZWwnKTtcclxuICAgIHRoaXMuaXNWZXJ0aWNhbCA9IGlzVmVydGljYWw7XHJcbiAgfVxyXG5cclxuICBnZXRQb3NpdGlvbiA9ICgpOiBudW1iZXIgPT4ge1xyXG4gICAgaWYgKHRoaXMuaXNWZXJ0aWNhbCkge1xyXG4gICAgICByZXR1cm4gdGhpcy5lbGVtLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnRvcDtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gdGhpcy5lbGVtLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmxlZnQ7XHJcbiAgfVxyXG5cclxuICBzZXRQb3NpdGlvbiA9IChvZmZzZXQ6IG51bWJlciwgdmFsdWU6IG51bWJlcik6IHZvaWQgPT4ge1xyXG4gICAgdGhpcy5lbGVtLmlubmVySFRNTCA9IHZhbHVlICsgJyc7XHJcblxyXG4gICAgaWYgKHRoaXMuaXNWZXJ0aWNhbCkge1xyXG4gICAgICB0aGlzLmVsZW0uc3R5bGUubGVmdCA9ICc1MCUnO1xyXG4gICAgICB0aGlzLmVsZW0uc3R5bGUudG9wID0gb2Zmc2V0IC0gdGhpcy5nZXREaW1lbnNpb24oKS8yICsgJ3B4JztcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuZWxlbS5zdHlsZS50b3AgPSAnNTAlJztcclxuICAgICAgdGhpcy5lbGVtLnN0eWxlLmxlZnQgPSBvZmZzZXQgLSB0aGlzLmdldERpbWVuc2lvbigpLzIgKyAncHgnO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZ2V0RGltZW5zaW9uID0gKCk6IG51bWJlciA9PiB7XHJcbiAgICBpZiAodGhpcy5pc1ZlcnRpY2FsKSB7XHJcbiAgICAgIHJldHVybiB0aGlzLmVsZW0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkuaGVpZ2h0O1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB0aGlzLmVsZW0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkud2lkdGg7XHJcbiAgfVxyXG5cclxuICBpbml0ID0gKGlzVmVydGljYWw6IGJvb2xlYW4pOiB2b2lkID0+IHtcclxuICAgIHRoaXMuaXNWZXJ0aWNhbCA9IGlzVmVydGljYWw7XHJcblxyXG4gICAgaWYgKHRoaXMuaXNWZXJ0aWNhbCkge1xyXG4gICAgICB0aGlzLmVsZW0uY2xhc3NMaXN0LmFkZCgnc2xpZGVyX19idXR0b24tbGFiZWxfcG9zaXRpb25fdmVydGljYWwnKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuZWxlbS5jbGFzc0xpc3QucmVtb3ZlKCdzbGlkZXJfX2J1dHRvbi1sYWJlbF9wb3NpdGlvbl92ZXJ0aWNhbCcpO1xyXG4gICAgfVxyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgTGFiZWw7IiwiY2xhc3MgUGFyc2luZ0RpZ2l0cyB7XHJcbiAgc3RhdGljIHBhcnNpbmcgPSAoaXRlbTogc3RyaW5nfG51bWJlcik6IG51bWJlcnxudWxsID0+IHtcclxuICAgIGlmICh0eXBlb2YgaXRlbSA9PT0gJ251bWJlcicpIHsgXHJcbiAgICAgIHJldHVybiBpdGVtO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICh0eXBlb2YgaXRlbSA9PT0gJ3N0cmluZycpIHtcclxuICAgICAgaWYgKC9eLT9cXGQrW1xcLixdXFxkKyQvLnRlc3QoaXRlbSkpIHtcclxuICAgICAgICByZXR1cm4gcGFyc2VGbG9hdChpdGVtKTtcclxuICAgICAgfSBlbHNlIGlmICgvXi0/XFxkKyQvLnRlc3QoaXRlbSkpIHtcclxuICAgICAgICByZXR1cm4gcGFyc2VJbnQoaXRlbSk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gbnVsbDtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IFBhcnNpbmdEaWdpdHM7IiwiaW1wb3J0IGNyZWF0ZUVsZW0gZnJvbSAnLi4vY3JlYXRlRWxlbS9jcmVhdGVFbGVtJztcclxuXHJcbmNsYXNzIFNjYWxlIHtcclxuICBlbGVtOiBIVE1MRWxlbWVudDtcclxuICBpc1ZlcnRpY2FsOiBib29sZWFuO1xyXG5cclxuICBjb25zdHJ1Y3Rvcihpc1ZlcnRpY2FsOiBib29sZWFuKSB7XHJcbiAgICB0aGlzLmVsZW0gPSBjcmVhdGVFbGVtKCdzbGlkZXJfX3NjYWxlJyk7XHJcbiAgICB0aGlzLmlzVmVydGljYWwgPSBpc1ZlcnRpY2FsO1xyXG4gIH1cclxuXHJcbiAgZ2V0UG9zaXRpb24gPSAoKTogbnVtYmVyID0+IHtcclxuICAgIGlmICh0aGlzLmlzVmVydGljYWwpIHtcclxuICAgICAgcmV0dXJuIHRoaXMuZWxlbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS50b3A7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHRoaXMuZWxlbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5sZWZ0O1xyXG4gIH1cclxuXHJcbiAgZ2V0RGltZW5zaW9uID0gKCk6IG51bWJlciA9PiB7XHJcbiAgICBpZiAodGhpcy5pc1ZlcnRpY2FsKSB7XHJcbiAgICAgIHJldHVybiB0aGlzLmVsZW0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkuaGVpZ2h0O1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB0aGlzLmVsZW0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkud2lkdGg7XHJcbiAgfVxyXG5cclxuICBpbml0ID0gKGlzVmVydGljYWw6IGJvb2xlYW4pOiB2b2lkID0+IHtcclxuICAgIHRoaXMuaXNWZXJ0aWNhbCA9IGlzVmVydGljYWw7XHJcblxyXG4gICAgaWYgKHRoaXMuaXNWZXJ0aWNhbCkge1xyXG4gICAgICB0aGlzLmVsZW0uY2xhc3NMaXN0LmFkZCgnc2xpZGVyX19zY2FsZV9wb3NpdGlvbl92ZXJ0aWNhbCcpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5lbGVtLmNsYXNzTGlzdC5yZW1vdmUoJ3NsaWRlcl9fc2NhbGVfcG9zaXRpb25fdmVydGljYWwnKTtcclxuICAgIH1cclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IFNjYWxlO1xyXG4iLCJpbXBvcnQgY3JlYXRlRWxlbSBmcm9tICcuLi9jcmVhdGVFbGVtL2NyZWF0ZUVsZW0nO1xyXG5cclxuY2xhc3MgR3JhZHVhdGlvbiB7XHJcbiAgZ3JhZEVsZW06IEhUTUxFbGVtZW50O1xyXG4gIG1hcmsxOiBIVE1MRWxlbWVudDtcclxuICBtYXJrMjogSFRNTEVsZW1lbnQ7XHJcbiAgbWFyazM6IEhUTUxFbGVtZW50O1xyXG4gIG1hcms0OiBIVE1MRWxlbWVudDtcclxuXHJcbiAgY29uc3RydWN0b3IoKSB7XHJcbiAgICB0aGlzLmdyYWRFbGVtID0gY3JlYXRlRWxlbSgnc2xpZGVyX19ncmFkdWF0aW9uJyk7XHJcbiAgICB0aGlzLm1hcmsxID0gY3JlYXRlRWxlbSgnc2xpZGVyX19ncmFkdWF0aW9uLW1hcmsnKTtcclxuICAgIHRoaXMubWFyazIgPSBjcmVhdGVFbGVtKCdzbGlkZXJfX2dyYWR1YXRpb24tbWFyaycpO1xyXG4gICAgdGhpcy5tYXJrMyA9IGNyZWF0ZUVsZW0oJ3NsaWRlcl9fZ3JhZHVhdGlvbi1tYXJrJyk7XHJcbiAgICB0aGlzLm1hcms0ID0gY3JlYXRlRWxlbSgnc2xpZGVyX19ncmFkdWF0aW9uLW1hcmsnKTtcclxuICAgIHRoaXMuZ3JhZEVsZW0uYXBwZW5kQ2hpbGQodGhpcy5tYXJrMSk7XHJcbiAgICB0aGlzLmdyYWRFbGVtLmFwcGVuZENoaWxkKHRoaXMubWFyazIpO1xyXG4gICAgdGhpcy5ncmFkRWxlbS5hcHBlbmRDaGlsZCh0aGlzLm1hcmszKTtcclxuICAgIHRoaXMuZ3JhZEVsZW0uYXBwZW5kQ2hpbGQodGhpcy5tYXJrNCk7XHJcbiAgfVxyXG5cclxuICBpbml0ID0gKG1pblZhbHVlOiBudW1iZXIsIG1heFZhbHVlOiBudW1iZXIsIGlzVmVydGljYWw6IGJvb2xlYW4sIGlzRmxvYXQgPSBmYWxzZSk6IHZvaWQgPT4ge1xyXG4gICAgdGhpcy5tYXJrMS5pbm5lckhUTUwgPSBtaW5WYWx1ZSArICcnO1xyXG4gICAgdGhpcy5tYXJrNC5pbm5lckhUTUwgPSBtYXhWYWx1ZSArICcnO1xyXG5cclxuICAgIGlmIChpc0Zsb2F0KSB7XHJcbiAgICAgIHRoaXMubWFyazIuaW5uZXJIVE1MID0gKG1pblZhbHVlICsgKG1heFZhbHVlIC0gbWluVmFsdWUpLzMpLnRvRml4ZWQoMik7XHJcbiAgICAgIHRoaXMubWFyazMuaW5uZXJIVE1MID0gKG1pblZhbHVlICsgKG1heFZhbHVlIC0gbWluVmFsdWUpKjIvMykudG9GaXhlZCgyKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMubWFyazIuaW5uZXJIVE1MID0gbWluVmFsdWUgKyBNYXRoLnJvdW5kKChtYXhWYWx1ZSAtIG1pblZhbHVlKS8zKSArICcnO1xyXG4gICAgICB0aGlzLm1hcmszLmlubmVySFRNTCA9IG1pblZhbHVlICsgTWF0aC5yb3VuZCgobWF4VmFsdWUgLSBtaW5WYWx1ZSkqMi8zKSArICcnO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICghaXNWZXJ0aWNhbCkge1xyXG4gICAgICB0aGlzLm1hcmsxLmNsYXNzTGlzdC5hZGQoJ3NsaWRlcl9fZ3JhZHVhdGlvbi1tYXJrX29mZnNldF9sZWZ0Jyk7XHJcbiAgICAgIHRoaXMubWFyazEuY2xhc3NMaXN0LnJlbW92ZSgnc2xpZGVyX19ncmFkdWF0aW9uLW1hcmtfb2Zmc2V0X3RvcCcpO1xyXG4gICAgICB0aGlzLm1hcms0LmNsYXNzTGlzdC5hZGQoJ3NsaWRlcl9fZ3JhZHVhdGlvbi1tYXJrX29mZnNldF9yaWdodCcpO1xyXG4gICAgICB0aGlzLm1hcms0LmNsYXNzTGlzdC5yZW1vdmUoJ3NsaWRlcl9fZ3JhZHVhdGlvbi1tYXJrX29mZnNldF9ib3R0b20nKTtcclxuICAgICAgdGhpcy5ncmFkRWxlbS5jbGFzc0xpc3QucmVtb3ZlKCdzbGlkZXJfX2dyYWR1YXRpb25fcG9zaXRpb25fdmVydGljYWwnKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMubWFyazEuY2xhc3NMaXN0LnJlbW92ZSgnc2xpZGVyX19ncmFkdWF0aW9uLW1hcmtfb2Zmc2V0X2xlZnQnKTtcclxuICAgICAgdGhpcy5tYXJrMS5jbGFzc0xpc3QuYWRkKCdzbGlkZXJfX2dyYWR1YXRpb24tbWFya19vZmZzZXRfdG9wJyk7XHJcbiAgICAgIHRoaXMubWFyazQuY2xhc3NMaXN0LnJlbW92ZSgnc2xpZGVyX19ncmFkdWF0aW9uLW1hcmtfb2Zmc2V0X3JpZ2h0Jyk7XHJcbiAgICAgIHRoaXMubWFyazQuY2xhc3NMaXN0LmFkZCgnc2xpZGVyX19ncmFkdWF0aW9uLW1hcmtfb2Zmc2V0X2JvdHRvbScpO1xyXG4gICAgICB0aGlzLmdyYWRFbGVtLmNsYXNzTGlzdC5hZGQoJ3NsaWRlcl9fZ3JhZHVhdGlvbl9wb3NpdGlvbl92ZXJ0aWNhbCcpO1xyXG4gICAgfVxyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgR3JhZHVhdGlvbjsiLCJpbXBvcnQgY3JlYXRlRWxlbSBmcm9tICcuLi9jcmVhdGVFbGVtL2NyZWF0ZUVsZW0nO1xyXG5cclxuY2xhc3MgU2NhbGVGaWxsaW5nIHtcclxuICBlbGVtOiBIVE1MRWxlbWVudDtcclxuICBpc1ZlcnRpY2FsOiBib29sZWFuO1xyXG5cclxuICBjb25zdHJ1Y3Rvcihpc1ZlcnRpY2FsOiBib29sZWFuKSB7XHJcbiAgICB0aGlzLmVsZW0gPSBjcmVhdGVFbGVtKCdzbGlkZXJfX3NjYWxlLWZpbGxpbmcnKTtcclxuICAgIHRoaXMuaXNWZXJ0aWNhbCA9IGlzVmVydGljYWw7XHJcbiAgfVxyXG5cclxuICBzZXRQb3NpdGlvbiA9IChvZmZzZXQ6IG51bWJlcik6IHZvaWQgPT4ge1xyXG4gICAgaWYgKHRoaXMuaXNWZXJ0aWNhbCkge1xyXG4gICAgICB0aGlzLmVsZW0uc3R5bGUubGVmdCA9ICcwJztcclxuICAgICAgdGhpcy5lbGVtLnN0eWxlLndpZHRoID0gJzEwMCUnO1xyXG4gICAgICB0aGlzLmVsZW0uc3R5bGUudG9wID0gb2Zmc2V0ICsgJ3B4JztcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuZWxlbS5zdHlsZS50b3AgPSAnMCc7XHJcbiAgICAgIHRoaXMuZWxlbS5zdHlsZS5oZWlnaHQgPSAnMTAwJSc7XHJcbiAgICAgIHRoaXMuZWxlbS5zdHlsZS5sZWZ0ID0gb2Zmc2V0ICsgJ3B4JztcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHNldERpbWVuc2lvbiA9IChkaW1lbnNpb246IG51bWJlcik6IHZvaWQgPT4ge1xyXG4gICAgaWYgKHRoaXMuaXNWZXJ0aWNhbCkge1xyXG4gICAgICB0aGlzLmVsZW0uc3R5bGUuaGVpZ2h0ID0gZGltZW5zaW9uICsgJ3B4JztcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuZWxlbS5zdHlsZS53aWR0aCA9IGRpbWVuc2lvbiArICdweCc7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBpbml0ID0gKGlzVmVydGljYWw6IGJvb2xlYW4pOiB2b2lkID0+IHtcclxuICAgIHRoaXMuaXNWZXJ0aWNhbCA9IGlzVmVydGljYWw7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBTY2FsZUZpbGxpbmc7XHJcbiIsImltcG9ydCB7IFZpZXcgfSBmcm9tICcuLi92aWV3L1ZpZXcnO1xyXG5pbXBvcnQgTW9kZWwgZnJvbSAnLi4vbW9kZWwvTW9kZWwnO1xyXG5pbXBvcnQgTWFrZU9ic2VydmFibGVPYmplY3QgZnJvbSAnLi4vbWFrZU9ic2VydmFibGVPYmplY3QvTWFrZU9ic2VydmFibGVPYmplY3QnO1xyXG5pbXBvcnQgUGFyc2luZ0RpZ2l0cyBmcm9tIFwiLi4vcGFyc2luZ0RpZ2l0cy9QYXJzaW5nRGlnaXRzXCI7XHJcblxyXG5pbnRlcmZhY2UgY29uZmlnVHlwZSB7XHJcbiAgLy9baW5kZXg6IHN0cmluZ106XHJcbiAgICBbaW5kZXg6IHN0cmluZ106IGFueSxcclxuICAgIC8qXHJcbiAgICBzdGVwOiBzdHJpbmcsXHJcbiAgICBtaW5WYWx1ZTogbnVtYmVyLFxyXG4gICAgbWF4VmFsdWU6IG51bWJlcixcclxuICAgIHN0ZXA6IHN0cmluZyxcclxuICAgIGlzUmFuZ2U6IGJvb2xlYW4sXHJcbiAgICBpc1ZlcnRpY2FsOiBib29sZWFuLFxyXG4gICAgc2hvd0xhYmVsOiBib29sZWFuLFxyXG4gICAgaXNGbG9hdDogYm9vbGVhbixcclxuICAgICovXHJcbn1cclxuXHJcbmNsYXNzIENvbnRyb2xsZXIge1xyXG4gIHZpZXc6IFZpZXc7XHJcblxyXG4gIG1vZGVsOiBNb2RlbDtcclxuXHJcbiAgb2JzZXJ2ZXJzOiBNYWtlT2JzZXJ2YWJsZU9iamVjdDtcclxuXHJcbiAgY29uc3RydWN0b3IobWluVmFsdWUgPSAwLCBtYXhWYWx1ZSA9IDEwMDAsIHN0ZXAgPSAxLCBpc1JhbmdlID0gZmFsc2UsXHJcbiAgICBpc1ZlcnRpY2FsID0gZmFsc2UsIHNob3dMYWJlbCA9IGZhbHNlLCBpc0Zsb2F0ID0gZmFsc2UpIHtcclxuICAgIHRoaXMudmlldyA9IG5ldyBWaWV3KG1pblZhbHVlLCBtYXhWYWx1ZSwgc3RlcCwgaXNSYW5nZSwgaXNWZXJ0aWNhbCwgc2hvd0xhYmVsLCBpc0Zsb2F0KTtcclxuICAgIHRoaXMubW9kZWwgPSBuZXcgTW9kZWwobWluVmFsdWUsIG1heFZhbHVlKTtcclxuICAgIHRoaXMub2JzZXJ2ZXJzID0gbmV3IE1ha2VPYnNlcnZhYmxlT2JqZWN0KCk7XHJcblxyXG4gICAgdGhpcy52aWV3Lm9ic2VydmVycy5hZGRPYnNlcnZlcigoKSA9PiB7XHJcbiAgICAgIHRoaXMubW9kZWwuY3VyTWluVmFsdWUgPSB0aGlzLnZpZXcuY3VyTWluVmFsdWU7XHJcbiAgICAgIHRoaXMubW9kZWwuY3VyTWF4VmFsdWUgPSB0aGlzLnZpZXcuY3VyTWF4VmFsdWU7XHJcbiAgICAgIHRoaXMub2JzZXJ2ZXJzLm5vdGlmeU9ic2VydmVycygpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgdGhpcy5tb2RlbC5vYnNlcnZlcnMuYWRkT2JzZXJ2ZXIoKCkgPT4ge1xyXG4gICAgICBjb25zdCBjdXJNaW5WYWx1ZSA9IHRoaXMubW9kZWwuY3VyTWluVmFsdWU7XHJcbiAgICAgIGNvbnN0IGN1ck1heFZhbHVlID0gdGhpcy5tb2RlbC5jdXJNYXhWYWx1ZTtcclxuICAgICAgdGhpcy52aWV3LmJ1dHQxTW92ZSh0aGlzLnZpZXcub2Zmc2V0VmFsdWVDb252KGN1ck1pblZhbHVlKSwgY3VyTWluVmFsdWUpO1xyXG4gICAgICB0aGlzLnZpZXcuYnV0dDJNb3ZlKHRoaXMudmlldy5vZmZzZXRWYWx1ZUNvbnYoY3VyTWF4VmFsdWUpLCBjdXJNYXhWYWx1ZSk7XHJcbiAgICAgIHRoaXMub2JzZXJ2ZXJzLm5vdGlmeU9ic2VydmVycygpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBhcHBlbmQgPSAoZW50cnk6IEpRdWVyeSk6IHZvaWQgPT4ge1xyXG4gICAgdGhpcy52aWV3LmFwcGVuZChlbnRyeS5nZXQoMCkpO1xyXG4gICAgdGhpcy52aWV3LmluaXQoKTtcclxuICB9XHJcblxyXG4gIGNoZWNrU3RlcCA9IChzdGVwOiBzdHJpbmcpOiBudW1iZXIgPT4ge1xyXG4gICAgbGV0IHN0ZXBNb2QgPSBNYXRoLmFicyhQYXJzaW5nRGlnaXRzLnBhcnNpbmcoc3RlcCkpO1xyXG5cclxuICAgIGlmIChzdGVwTW9kID09PSBudWxsIHx8IHN0ZXBNb2QgPT09IDAgfHwgc3RlcE1vZCA+PSB0aGlzLnZpZXcubWF4VmFsdWUgLSB0aGlzLnZpZXcubWluVmFsdWUpIHtcclxuICAgICAgY29uc29sZS5sb2coJ1dyb25nIHZhbHVlIG9mIHRoZSBzdGVwJyk7XHJcbiAgICAgIHJldHVybiB0aGlzLnZpZXcuc3RlcDtcclxuICAgIH0gXHJcbiAgXHJcbiAgICBpZiAoc3RlcE1vZCAlIDEgIT09IDApIHtcclxuICAgICAgdGhpcy52aWV3LmlzRmxvYXQgPSB0cnVlO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgaWYgKHRoaXMudmlldy5tYXhWYWx1ZSAlIDEgPT09IDAgJiYgdGhpcy52aWV3Lm1pblZhbHVlICUgMSA9PT0gMCkge1xyXG4gICAgICAgIHRoaXMudmlldy5pc0Zsb2F0ID0gZmFsc2U7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICBcclxuICAgIHJldHVybiBzdGVwTW9kOyAgIFxyXG4gIH1cclxuXHJcbiAgY2hlY2tNYXhWYWx1ZSA9IChtYXhWYWx1ZTogc3RyaW5nKTogbnVtYmVyID0+IHtcclxuICAgIGxldCBtYXhWYWx1ZU1vZCA9IFBhcnNpbmdEaWdpdHMucGFyc2luZyhtYXhWYWx1ZSk7XHJcblxyXG4gICAgaWYgKG1heFZhbHVlTW9kID09PSBudWxsIHx8IG1heFZhbHVlTW9kIDw9IHRoaXMudmlldy5taW5WYWx1ZSkge1xyXG4gICAgICBjb25zb2xlLmxvZygnV3JvbmcgdmFsdWUgb2YgdGhlIG1heFZhbHVlJyk7XHJcbiAgICAgIHJldHVybiB0aGlzLnZpZXcubWF4VmFsdWU7XHJcbiAgICB9IFxyXG4gIFxyXG4gICAgaWYgKG1heFZhbHVlTW9kICUgMSAhPT0gMCkge1xyXG4gICAgICB0aGlzLnZpZXcuaXNGbG9hdCA9IHRydWU7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBpZiAodGhpcy52aWV3LnN0ZXAgJSAxID09PSAwICYmIHRoaXMudmlldy5taW5WYWx1ZSAlIDEgPT09IDApIHtcclxuICAgICAgICB0aGlzLnZpZXcuaXNGbG9hdCA9IGZhbHNlO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgXHJcbiAgICByZXR1cm4gbWF4VmFsdWVNb2Q7ICAgXHJcbiAgfVxyXG5cclxuICBjaGVja01pblZhbHVlID0gKG1pblZhbHVlOiBzdHJpbmcpOiBudW1iZXIgPT4ge1xyXG4gICAgbGV0IG1pblZhbHVlTW9kID0gUGFyc2luZ0RpZ2l0cy5wYXJzaW5nKG1pblZhbHVlKTtcclxuXHJcbiAgICBpZiAobWluVmFsdWVNb2QgPT09IG51bGwgfHwgbWluVmFsdWVNb2QgPj0gdGhpcy52aWV3Lm1heFZhbHVlKSB7XHJcbiAgICAgIGNvbnNvbGUubG9nKCdXcm9uZyB2YWx1ZSBvZiB0aGUgbWluVmFsdWUnKTtcclxuICAgICAgcmV0dXJuIHRoaXMudmlldy5taW5WYWx1ZTtcclxuICAgIH0gXHJcbiAgXHJcbiAgICBpZiAobWluVmFsdWVNb2QgJSAxICE9PSAwKSB7ICAgICAgXHJcbiAgICAgIHRoaXMudmlldy5pc0Zsb2F0ID0gdHJ1ZTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGlmICh0aGlzLnZpZXcubWF4VmFsdWUgJSAxID09PSAwICYmIHRoaXMudmlldy5zdGVwICUgMSA9PT0gMCkge1xyXG4gICAgICAgIHRoaXMudmlldy5pc0Zsb2F0ID0gZmFsc2U7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICBcclxuICAgIHJldHVybiBtaW5WYWx1ZU1vZDsgICBcclxuICB9XHJcblxyXG4gIHVwZGF0ZSA9IChhcmdzOiBjb25maWdUeXBlKTogdm9pZCA9PiB7XHJcbiAgICBPYmplY3Qua2V5cyhhcmdzKS5tYXAoKGl0ZW0pID0+IHtcclxuICAgICAgaWYgKHRoaXMudmlld1tpdGVtXSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgaWYgKGl0ZW0gPT09ICdzdGVwJykgeyAgICAgICAgICBcclxuICAgICAgICAgIHRoaXMudmlldy5zdGVwID0gdGhpcy5jaGVja1N0ZXAoYXJnc1tpdGVtXSk7XHJcbiAgICAgICAgfSBlbHNlIGlmIChpdGVtID09PSAnbWF4VmFsdWUnKSB7XHJcbiAgICAgICAgICB0aGlzLnZpZXcubWF4VmFsdWUgPSB0aGlzLmNoZWNrTWF4VmFsdWUoYXJnc1tpdGVtXSk7XHJcbiAgICAgICAgfSBlbHNlIGlmIChpdGVtID09PSAnbWluVmFsdWUnKSB7XHJcbiAgICAgICAgICB0aGlzLnZpZXcubWluVmFsdWUgPSB0aGlzLmNoZWNrTWluVmFsdWUoYXJnc1tpdGVtXSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIHRoaXMudmlld1tpdGVtXSA9IGFyZ3NbaXRlbV07XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICB0aGlzLnZpZXcuaW5pdCgpO1xyXG4gICAgLy90aGlzLnZpZXcuYnV0dDFNb3ZlKHRoaXMudmlldy5idXR0MU9mZnNldENoZWNrKHRoaXMudmlldy5vZmZzZXRWYWx1ZUNvbnYodGhpcy5tb2RlbC5jdXJNaW5WYWx1ZSkpWzBdLCB0aGlzLm1vZGVsLmN1ck1pblZhbHVlKTtcclxuICAgIC8vdGhpcy52aWV3LmJ1dHQyTW92ZSh0aGlzLnZpZXcuYnV0dDJPZmZzZXRDaGVjayh0aGlzLnZpZXcub2Zmc2V0VmFsdWVDb252KHRoaXMubW9kZWwuY3VyTWF4VmFsdWUpKVswXSwgdGhpcy5tb2RlbC5jdXJNYXhWYWx1ZSk7XHJcbiAgfVxyXG5cclxuICBnZXRWYWx1ZXMgPSAoKTogQXJyYXk8bnVtYmVyPiA9PiB7XHJcbiAgICByZXR1cm4gW3RoaXMubW9kZWwuY3VyTWluVmFsdWUsIHRoaXMubW9kZWwuY3VyTWF4VmFsdWVdO1xyXG4gIH1cclxuXHJcbiAgc2V0VmFsdWVzID0gKGN1ck1pblZhbHVlOiBudW1iZXIsIGN1ck1heFZhbHVlOiBudW1iZXIpOiB2b2lkID0+IHtcclxuICAgIGlmIChjdXJNaW5WYWx1ZSkge1xyXG4gICAgICB0aGlzLm1vZGVsLnNldEN1ck1pblZhbHVlKGN1ck1pblZhbHVlKTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoY3VyTWF4VmFsdWUpIHtcclxuICAgICAgdGhpcy5tb2RlbC5zZXRDdXJNYXhWYWx1ZShjdXJNYXhWYWx1ZSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBnZXRDb25maWcgPSAoKTogY29uZmlnVHlwZSA9PiB7XHJcbiAgICByZXR1cm4ge21pblZhbHVlOiB0aGlzLnZpZXcubWluVmFsdWUsIG1heFZhbHVlOiB0aGlzLnZpZXcubWF4VmFsdWUsIHN0ZXA6IHRoaXMudmlldy5zdGVwLFxyXG4gICAgICBpc1JhbmdlOiB0aGlzLnZpZXcuaXNSYW5nZSwgaXNWZXJ0aWNhbDogdGhpcy52aWV3LmlzVmVydGljYWwsIHNob3dMYWJlbDogdGhpcy52aWV3LnNob3dMYWJlbCwgaXNGbG9hdDogdGhpcy52aWV3LmlzRmxvYXR9XHJcbiAgfVxyXG5cclxuICBhZGRPYnNlcnZlciA9IChmbjogRnVuY3Rpb24pOiB2b2lkID0+IHtcclxuICAgIHRoaXMub2JzZXJ2ZXJzLmFkZE9ic2VydmVyKGZuKTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IENvbnRyb2xsZXI7IiwiaW1wb3J0IE1ha2VPYnNlcnZhYmxlT2JqZWN0IGZyb20gXCIuLi9tYWtlT2JzZXJ2YWJsZU9iamVjdC9NYWtlT2JzZXJ2YWJsZU9iamVjdFwiO1xyXG5pbXBvcnQgY3JlYXRlRWxlbSBmcm9tIFwiLi4vY3JlYXRlRWxlbS9jcmVhdGVFbGVtXCI7XHJcbmltcG9ydCBTY2FsZSBmcm9tIFwiLi4vc2NhbGUvU2NhbGVcIjtcclxuaW1wb3J0IEdyYWR1YXRpb24gZnJvbSBcIi4uL2dyYWR1YXRpb24vR3JhZHVhdGlvblwiO1xyXG5pbXBvcnQgQnV0dG9uIGZyb20gXCIuLi9idXR0b24vQnV0dG9uXCI7XHJcbmltcG9ydCBMYWJlbCBmcm9tIFwiLi4vbGFiZWwvTGFiZWxcIjtcclxuaW1wb3J0IFNjYWxlRmlsbGluZyBmcm9tIFwiLi4vc2NhbGVGaWxsaW5nL1NjYWxlRmlsbGluZ1wiO1xyXG5cclxuY2xhc3MgVmlldyB7XHJcbiAgW2luZGV4OiBzdHJpbmddOiBhbnk7XHJcbiAgc2NhbGU6IFNjYWxlO1xyXG4gIGdyYWR1YXRpb246IEdyYWR1YXRpb247XHJcbiAgc2NhbGVGaWxsaW5nOiBTY2FsZUZpbGxpbmc7XHJcbiAgYnV0dG9uMTogQnV0dG9uO1xyXG4gIGJ1dHRvbjI6IEJ1dHRvbjtcclxuICBsYWJlbDE6IExhYmVsO1xyXG4gIGxhYmVsMjogTGFiZWw7XHJcbiAgaXNSYW5nZTogYm9vbGVhbjtcclxuICBpc1ZlcnRpY2FsOiBib29sZWFuO1xyXG4gIHNob3dMYWJlbDogYm9vbGVhbjtcclxuICBtaW5WYWx1ZTogbnVtYmVyO1xyXG4gIG1heFZhbHVlOiBudW1iZXI7XHJcbiAgY3VyTWluVmFsdWU6IG51bWJlcjtcclxuICBjdXJNYXhWYWx1ZTogbnVtYmVyO1xyXG4gIHN0ZXA6IG51bWJlcjtcclxuICBpc0Zsb2F0OiBib29sZWFuO1xyXG4gIG9ic2VydmVyczogTWFrZU9ic2VydmFibGVPYmplY3Q7XHJcblxyXG4gIGNvbnN0cnVjdG9yKG1pblZhbHVlID0gMCwgbWF4VmFsdWUgPSAxMDAwLCBzdGVwID0gMSwgaXNSYW5nZSA9IGZhbHNlLCBpc1ZlcnRpY2FsID0gZmFsc2UsIHNob3dMYWJlbCA9IGZhbHNlLCBpc0Zsb2F0ID0gZmFsc2UpIHtcclxuICAgIHRoaXMuc2NhbGUgPSBuZXcgU2NhbGUoaXNWZXJ0aWNhbCk7XHJcbiAgICB0aGlzLmJ1dHRvbjEgPSBuZXcgQnV0dG9uKGlzVmVydGljYWwpO1xyXG4gICAgdGhpcy5idXR0b24yID0gbmV3IEJ1dHRvbihpc1ZlcnRpY2FsKTtcclxuICAgIHRoaXMubGFiZWwxID0gbmV3IExhYmVsKGlzVmVydGljYWwpO1xyXG4gICAgdGhpcy5sYWJlbDIgPSBuZXcgTGFiZWwoaXNWZXJ0aWNhbCk7XHJcbiAgICB0aGlzLnNjYWxlRmlsbGluZyA9IG5ldyBTY2FsZUZpbGxpbmcoaXNWZXJ0aWNhbCk7XHJcbiAgICB0aGlzLmdyYWR1YXRpb24gPSBuZXcgR3JhZHVhdGlvbigpO1xyXG4gICAgdGhpcy5taW5WYWx1ZSA9IG1pblZhbHVlO1xyXG4gICAgdGhpcy5tYXhWYWx1ZSA9IG1heFZhbHVlO1xyXG4gICAgdGhpcy5jdXJNaW5WYWx1ZSA9IG1pblZhbHVlO1xyXG4gICAgdGhpcy5jdXJNYXhWYWx1ZSA9IG1heFZhbHVlO1xyXG4gICAgdGhpcy5zdGVwID0gc3RlcDtcclxuICAgIHRoaXMuaXNSYW5nZSA9IGlzUmFuZ2U7XHJcbiAgICB0aGlzLmlzVmVydGljYWwgPSBpc1ZlcnRpY2FsO1xyXG4gICAgdGhpcy5zaG93TGFiZWwgPSBzaG93TGFiZWw7XHJcbiAgICB0aGlzLmlzRmxvYXQgPSBpc0Zsb2F0O1xyXG4gICAgdGhpcy5vYnNlcnZlcnMgPSBuZXcgTWFrZU9ic2VydmFibGVPYmplY3QoKVxyXG4gICAgLy90aGlzLmNoZWNrVmFsdWVzKCk7XHJcbiAgfVxyXG5cclxuICBnZXRTdGFydCA9ICgpOiBudW1iZXIgPT4ge1xyXG4gICAgaWYgKHRoaXMuaXNSYW5nZSkge1xyXG4gICAgICByZXR1cm4gdGhpcy5idXR0b24xLmdldFBvc2l0aW9uKCkgLSB0aGlzLnNjYWxlLmdldFBvc2l0aW9uKCkgKyB0aGlzLmJ1dHRvbjEuZ2V0V2lkdGgoKS8yO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiAwO1xyXG4gIH1cclxuXHJcbiAgZ2V0RW5kID0gKCk6IG51bWJlciA9PiB7XHJcbiAgICByZXR1cm4gdGhpcy5idXR0b24yLmdldFBvc2l0aW9uKCkgLSB0aGlzLnNjYWxlLmdldFBvc2l0aW9uKCkgKyB0aGlzLmJ1dHRvbjIuZ2V0V2lkdGgoKS8yO1xyXG4gIH1cclxuXHJcbiAgdXBkYXRlRWxlbXMgPSAoKTogdm9pZCA9PiB7XHJcbiAgICB0aGlzLnNjYWxlRmlsbGluZy5pbml0KHRoaXMuaXNWZXJ0aWNhbCk7XHJcbiAgICB0aGlzLnNjYWxlRmlsbGluZy5zZXRQb3NpdGlvbih0aGlzLmdldFN0YXJ0KCkpO1xyXG4gICAgdGhpcy5zY2FsZUZpbGxpbmcuc2V0RGltZW5zaW9uKHRoaXMuZ2V0RW5kKCkgLSB0aGlzLmdldFN0YXJ0KCkpO1xyXG4gICAgdGhpcy5vYnNlcnZlcnMubm90aWZ5T2JzZXJ2ZXJzKCk7XHJcbiAgfVxyXG5cclxuICByb3VuZCA9ICh2YWw6IG51bWJlciwgc3RlcDogbnVtYmVyKTogbnVtYmVyID0+IHtcclxuICAgIGNvbnN0IHdob2xlID0gTWF0aC50cnVuYyh2YWwvc3RlcCk7XHJcbiAgICBjb25zdCByZW1pbmRlciA9ICsodmFsIC0gd2hvbGUqc3RlcCkudG9GaXhlZCgyKTtcclxuXHJcbiAgICBpZiAodmFsIDwgMCkge1xyXG4gICAgICByZXR1cm4gTWF0aC5hYnMocmVtaW5kZXIpIDwgc3RlcC8yID8gd2hvbGUqc3RlcCA6ICh3aG9sZSAtIDEpKnN0ZXA7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHZhbCA8PSB0aGlzLm1pblZhbHVlKSB7XHJcbiAgICAgIHJldHVybiB0aGlzLm1pblZhbHVlO1xyXG4gICAgfSBlbHNlIGlmICh2YWwgPj0gdGhpcy5tYXhWYWx1ZSkge1xyXG4gICAgICByZXR1cm4gdGhpcy5tYXhWYWx1ZTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gcmVtaW5kZXIgPCBzdGVwLzIgPyB3aG9sZSpzdGVwIDogKHdob2xlICsgMSkqc3RlcDtcclxuICB9XHJcblxyXG4gIHJvdW5kT2Zmc2V0QnV0dCA9IChjdXJyT2Zmc2V0OiBudW1iZXIpOiBBcnJheTxudW1iZXI+ID0+IHtcclxuICAgIGNvbnN0IGN1cnJWYWx1ZSA9IHRoaXMubWluVmFsdWUgKyAoY3Vyck9mZnNldCArIHRoaXMuYnV0dG9uMi5nZXRXaWR0aCgpLzIpKih0aGlzLm1heFZhbHVlIC0gdGhpcy5taW5WYWx1ZSkvdGhpcy5zY2FsZS5nZXREaW1lbnNpb24oKTtcclxuICAgIGxldCByb3VuZFZhbHVlID0gdGhpcy5yb3VuZChjdXJyVmFsdWUsIHRoaXMuc3RlcCk7XHJcblxyXG4gICAgaWYgKHRoaXMuaXNGbG9hdCkge1xyXG4gICAgICByb3VuZFZhbHVlID0gcGFyc2VGbG9hdChyb3VuZFZhbHVlLnRvRml4ZWQoMikpO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IHJvdW5kT2Zmc2V0ID0gdGhpcy5vZmZzZXRWYWx1ZUNvbnYocm91bmRWYWx1ZSk7XHJcbiAgICByZXR1cm4gW3JvdW5kT2Zmc2V0LCByb3VuZFZhbHVlXTtcclxuICB9XHJcblxyXG4gIG9mZnNldFZhbHVlQ29udiA9ICh2YWx1ZTogbnVtYmVyKTogbnVtYmVyID0+IHtcclxuICAgIHJldHVybiAoKHZhbHVlIC0gdGhpcy5taW5WYWx1ZSkvKHRoaXMubWF4VmFsdWUgLSB0aGlzLm1pblZhbHVlKSp0aGlzLnNjYWxlLmdldERpbWVuc2lvbigpIC0gdGhpcy5idXR0b24yLmdldFdpZHRoKCkvMik7XHJcbiAgfVxyXG5cclxuICAvL0J1dHRvbjEgIEhhbmRsZXJzLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4gIGJ1dHQxTW92ZSA9IChyb3VuZE9mZnNldDogbnVtYmVyLCByb3VuZFZhbHVlOiBudW1iZXIpOiB2b2lkID0+IHtcclxuICAgIHRoaXMuYnV0dG9uMS5zZXRQb3NpdGlvbihyb3VuZE9mZnNldCk7XHJcbiAgICB0aGlzLmxhYmVsMS5zZXRQb3NpdGlvbihyb3VuZE9mZnNldCArIHRoaXMuYnV0dG9uMS5nZXRXaWR0aCgpLzIsIHJvdW5kVmFsdWUpO1xyXG5cclxuICAgIGlmIChyb3VuZFZhbHVlIDwgdGhpcy5taW5WYWx1ZSkge1xyXG4gICAgICByb3VuZFZhbHVlID0gdGhpcy5taW5WYWx1ZTtcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLmN1ck1pblZhbHVlID0gcm91bmRWYWx1ZTtcclxuICAgIHRoaXMudXBkYXRlRWxlbXMoKTtcclxuICB9XHJcblxyXG4gIGJ1dHQxT2Zmc2V0Q2hlY2sgPSAobmV3T2Zmc2V0OiBudW1iZXIpOiBBcnJheTxudW1iZXI+ID0+IHtcclxuICAgIGxldCByb3VuZFZhbHVlO1xyXG5cclxuICAgIGlmIChuZXdPZmZzZXQgPCAtdGhpcy5idXR0b24xLmdldFdpZHRoKCkvMikge1xyXG4gICAgICBuZXdPZmZzZXQgPSAtdGhpcy5idXR0b24xLmdldFdpZHRoKCkvMjtcclxuICAgICAgcm91bmRWYWx1ZSA9IHRoaXMubWluVmFsdWU7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3Qgc3RlcFdpZHRoID0gdGhpcy5zdGVwKnRoaXMuc2NhbGUuZ2V0RGltZW5zaW9uKCkvKHRoaXMubWF4VmFsdWUgLSB0aGlzLm1pblZhbHVlKTtcclxuICAgIGNvbnN0IG1pbk9mZnNldCA9IHN0ZXBXaWR0aC8xLjUgPiB0aGlzLmJ1dHRvbjEuZ2V0V2lkdGgoKSA/IHN0ZXBXaWR0aC8xLjUgOiB0aGlzLmJ1dHRvbjEuZ2V0V2lkdGgoKTtcclxuXHJcbiAgICBpZiAobmV3T2Zmc2V0ID4gdGhpcy5idXR0b24yLmdldFBvc2l0aW9uKCkgLSB0aGlzLnNjYWxlLmdldFBvc2l0aW9uKCkgLSBtaW5PZmZzZXQpIHtcclxuICAgICAgbmV3T2Zmc2V0ID0gdGhpcy5idXR0b24yLmdldFBvc2l0aW9uKCkgLSB0aGlzLnNjYWxlLmdldFBvc2l0aW9uKCkgLSBtaW5PZmZzZXQ7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIFtuZXdPZmZzZXQsIHJvdW5kVmFsdWVdO1xyXG4gIH1cclxuXHJcbiAgb25Nb3VzZU1vdmUxID0gKGV2ZW50TW06IE1vdXNlRXZlbnQpOiB2b2lkID0+IHtcclxuICAgIGxldCByb3VuZFZhbHVlO1xyXG4gICAgbGV0IHJvdW5kT2Zmc2V0O1xyXG4gICAgY29uc3QgY29vcmRpbmF0ZSA9IHRoaXMuaXNWZXJ0aWNhbCA/IGV2ZW50TW0uY2xpZW50WSA6IGV2ZW50TW0uY2xpZW50WDtcclxuICAgIGNvbnN0IG5ld09mZnNldCA9IGNvb3JkaW5hdGUgLSB0aGlzLnNjYWxlLmdldFBvc2l0aW9uKCkgLSB0aGlzLmJ1dHRvbjIuZ2V0V2lkdGgoKS8yO1xyXG5cclxuICAgIFtyb3VuZE9mZnNldCwgcm91bmRWYWx1ZV0gPSB0aGlzLmJ1dHQxT2Zmc2V0Q2hlY2sobmV3T2Zmc2V0KTtcclxuXHJcbiAgICBpZiAodHlwZW9mIHJvdW5kVmFsdWUgPT09ICd1bmRlZmluZWQnKSB7XHJcbiAgICAgICAgW3JvdW5kT2Zmc2V0LCByb3VuZFZhbHVlXSA9IHRoaXMucm91bmRPZmZzZXRCdXR0KHJvdW5kT2Zmc2V0KTtcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLmJ1dHQxTW92ZShyb3VuZE9mZnNldCwgcm91bmRWYWx1ZSk7XHJcbiAgfVxyXG5cclxuICBvbk1vdXNlVXAxID0gKCk6IHZvaWQgPT4ge1xyXG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1vdXNldXBcIiwgdGhpcy5vbk1vdXNlVXAxKTtcclxuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtb3VzZW1vdmVcIiwgdGhpcy5vbk1vdXNlTW92ZTEpO1xyXG4gIH1cclxuXHJcbiAgLy9CdXR0b24yICBIYW5kbGVycy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuICBidXR0Mk1vdmUgPSAocm91bmRPZmZzZXQ6IG51bWJlciwgcm91bmRWYWx1ZTogbnVtYmVyKTogdm9pZCA9PiB7XHJcbiAgICB0aGlzLmJ1dHRvbjIuc2V0UG9zaXRpb24ocm91bmRPZmZzZXQpO1xyXG4gICAgdGhpcy5sYWJlbDIuc2V0UG9zaXRpb24ocm91bmRPZmZzZXQgKyB0aGlzLmJ1dHRvbjIuZ2V0V2lkdGgoKS8yLCByb3VuZFZhbHVlKTtcclxuXHJcbiAgICBpZiAocm91bmRWYWx1ZSA8IHRoaXMubWluVmFsdWUpIHtcclxuICAgICAgcm91bmRWYWx1ZSA9IHRoaXMubWluVmFsdWU7XHJcbiAgICB9IGVsc2UgaWYgKHJvdW5kVmFsdWUgPiB0aGlzLm1heFZhbHVlKSB7XHJcbiAgICAgIHJvdW5kVmFsdWUgPSB0aGlzLm1heFZhbHVlO1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXMuY3VyTWF4VmFsdWUgPSByb3VuZFZhbHVlO1xyXG4gICAgdGhpcy51cGRhdGVFbGVtcygpO1xyXG4gIH1cclxuXHJcbiAgYnV0dDJPZmZzZXRDaGVjayA9IChuZXdPZmZzZXQ6IG51bWJlcik6IEFycmF5PG51bWJlcj4gPT4ge1xyXG4gICAgbGV0IHJvdW5kVmFsdWU7XHJcblxyXG4gICAgaWYgKCF0aGlzLmlzUmFuZ2UpIHtcclxuICAgICAgaWYgKG5ld09mZnNldCA8IC10aGlzLmJ1dHRvbjIuZ2V0V2lkdGgoKS8yKSB7XHJcbiAgICAgICAgbmV3T2Zmc2V0ID0gLXRoaXMuYnV0dG9uMi5nZXRXaWR0aCgpLzI7XHJcbiAgICAgICAgcm91bmRWYWx1ZSA9IHRoaXMubWluVmFsdWU7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBpZiAobmV3T2Zmc2V0ID4gdGhpcy5zY2FsZS5nZXREaW1lbnNpb24oKSAtIHRoaXMuYnV0dG9uMi5nZXRXaWR0aCgpLzIpIHtcclxuICAgICAgbmV3T2Zmc2V0ID0gdGhpcy5zY2FsZS5nZXREaW1lbnNpb24oKSAtIHRoaXMuYnV0dG9uMi5nZXRXaWR0aCgpLzI7XHJcbiAgICAgIHJvdW5kVmFsdWUgPSB0aGlzLm1heFZhbHVlO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IHN0ZXBXaWR0aCA9IHRoaXMuc3RlcCp0aGlzLnNjYWxlLmdldERpbWVuc2lvbigpLyh0aGlzLm1heFZhbHVlIC0gdGhpcy5taW5WYWx1ZSk7XHJcbiAgICBjb25zdCBtaW5PZmZzZXQgPSBzdGVwV2lkdGgvMS41ID4gdGhpcy5idXR0b24xLmdldFdpZHRoKCkgPyBzdGVwV2lkdGgvMS41IDogdGhpcy5idXR0b24xLmdldFdpZHRoKCk7XHJcblxyXG4gICAgaWYgKG5ld09mZnNldCA8IHRoaXMuYnV0dG9uMS5nZXRQb3NpdGlvbigpIC0gdGhpcy5zY2FsZS5nZXRQb3NpdGlvbigpICsgbWluT2Zmc2V0KSB7XHJcbiAgICAgIG5ld09mZnNldCA9IHRoaXMuYnV0dG9uMS5nZXRQb3NpdGlvbigpIC0gdGhpcy5zY2FsZS5nZXRQb3NpdGlvbigpICsgbWluT2Zmc2V0O1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBbbmV3T2Zmc2V0LCByb3VuZFZhbHVlXTtcclxuICB9XHJcblxyXG4gIG9uTW91c2VNb3ZlMiA9IChldmVudE1tOiBNb3VzZUV2ZW50KTogdm9pZCA9PiB7XHJcbiAgICBsZXQgcm91bmRWYWx1ZTtcclxuICAgIGxldCByb3VuZE9mZnNldDtcclxuICAgIGNvbnN0IGNvb3JkaW5hdGUgPSB0aGlzLmlzVmVydGljYWwgPyBldmVudE1tLmNsaWVudFkgOiBldmVudE1tLmNsaWVudFg7XHJcbiAgICBjb25zdCBuZXdPZmZzZXQgPSBjb29yZGluYXRlIC0gdGhpcy5zY2FsZS5nZXRQb3NpdGlvbigpIC0gdGhpcy5idXR0b24yLmdldFdpZHRoKCkvMjtcclxuXHJcbiAgICBbcm91bmRPZmZzZXQsIHJvdW5kVmFsdWVdID0gdGhpcy5idXR0Mk9mZnNldENoZWNrKG5ld09mZnNldCk7XHJcblxyXG4gICAgaWYgKHR5cGVvZiByb3VuZFZhbHVlID09PSAndW5kZWZpbmVkJykge1xyXG4gICAgICBbcm91bmRPZmZzZXQsIHJvdW5kVmFsdWVdID0gdGhpcy5yb3VuZE9mZnNldEJ1dHQocm91bmRPZmZzZXQpO1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXMuYnV0dDJNb3ZlKHJvdW5kT2Zmc2V0LCByb3VuZFZhbHVlKTtcclxuICB9XHJcblxyXG4gIG9uTW91c2VVcDIgPSAoKTogdm9pZCA9PiB7XHJcbiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgdGhpcy5vbk1vdXNlVXAyKTtcclxuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIHRoaXMub25Nb3VzZU1vdmUyKTtcclxuICB9XHJcblxyXG4gIGJ1dHQxQ2xvc2VyQ2hlY2sgPSAoY29vcmRpbmF0ZTogbnVtYmVyKTogYm9vbGVhbiA9PiB7XHJcbiAgICByZXR1cm4gKE1hdGguYWJzKGNvb3JkaW5hdGUgLSB0aGlzLmJ1dHRvbjEuZ2V0UG9zaXRpb24oKSAtIHRoaXMuYnV0dG9uMS5nZXRXaWR0aCgpLzIpXHJcbiAgICAgIDwgTWF0aC5hYnMoY29vcmRpbmF0ZSAtIHRoaXMuYnV0dG9uMi5nZXRQb3NpdGlvbigpIC0gdGhpcy5idXR0b24yLmdldFdpZHRoKCkvMikpO1xyXG4gIH1cclxuXHJcbiAgLy8gU2NhbGUgRXZlbnRMaXN0ZW5lcnMtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuICBzY2FsZU9uY2xpY2sgPSAoZXZlbnQ6IE1vdXNlRXZlbnQpOiB2b2lkID0+IHtcclxuICAgIGlmKHRoaXMuaXNSYW5nZSkge1xyXG4gICAgICBjb25zdCBjb29yZGluYXRlID0gdGhpcy5pc1ZlcnRpY2FsID8gZXZlbnQuY2xpZW50WSA6IGV2ZW50LmNsaWVudFhcclxuXHJcbiAgICAgIGlmICh0aGlzLmJ1dHQxQ2xvc2VyQ2hlY2soY29vcmRpbmF0ZSkpIHtcclxuICAgICAgICB0aGlzLm9uTW91c2VNb3ZlMShldmVudCk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgdGhpcy5vbk1vdXNlTW92ZTIoZXZlbnQpO1xyXG4gICAgICB9XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLm9uTW91c2VNb3ZlMihldmVudCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvLyBHcmFkdWF0aW9uIEV2ZW50TGlzdGVuZXJzLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4gIGludGVyTWFya0hhbmRsZXIgPSAoY3VyclZhbHVlOiBudW1iZXIpOiB2b2lkID0+IHtcclxuICAgIGxldCByb3VuZE9mZnNldDtcclxuICAgIGxldCByb3VuZFZhbHVlO1xyXG5cclxuICAgIGNvbnN0IG1hcmtPZmZzZXQgPSAoY3VyclZhbHVlIC0gdGhpcy5taW5WYWx1ZSkvKHRoaXMubWF4VmFsdWUgLSB0aGlzLm1pblZhbHVlKSp0aGlzLnNjYWxlLmdldERpbWVuc2lvbigpO1xyXG4gICAgW3JvdW5kT2Zmc2V0LCByb3VuZFZhbHVlXSA9IHRoaXMucm91bmRPZmZzZXRCdXR0KG1hcmtPZmZzZXQgLSB0aGlzLmJ1dHRvbjIuZ2V0V2lkdGgoKS8yKTtcclxuXHJcbiAgICBpZih0aGlzLmlzUmFuZ2UpIHtcclxuICAgICAgY29uc3QgY29vcmRpbmF0ZSA9IG1hcmtPZmZzZXQgKyB0aGlzLnNjYWxlLmdldFBvc2l0aW9uKCk7XHJcblxyXG4gICAgICBpZiAodGhpcy5idXR0MUNsb3NlckNoZWNrKGNvb3JkaW5hdGUpKSB7XHJcbiAgICAgICAgdGhpcy5idXR0MU1vdmUocm91bmRPZmZzZXQsIHJvdW5kVmFsdWUpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHRoaXMuYnV0dDJNb3ZlKHJvdW5kT2Zmc2V0LCByb3VuZFZhbHVlKTtcclxuICAgICAgfVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5idXR0Mk1vdmUocm91bmRPZmZzZXQsIHJvdW5kVmFsdWUpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgbWFyazFPbmNsaWNrID0gKCk6IHZvaWQgPT4ge1xyXG4gICAgY29uc3Qgcm91bmRPZmZzZXQgPSAtdGhpcy5idXR0b24yLmdldFdpZHRoKCkvMjtcclxuICAgIGNvbnN0IHJvdW5kVmFsdWUgPSB0aGlzLm1pblZhbHVlO1xyXG5cclxuICAgIGlmICghdGhpcy5pc1JhbmdlKSB7XHJcbiAgICAgIHRoaXMuYnV0dDJNb3ZlKHJvdW5kT2Zmc2V0LCByb3VuZFZhbHVlKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuYnV0dDFNb3ZlKHJvdW5kT2Zmc2V0LCByb3VuZFZhbHVlKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIG1hcms0T25jbGljayA9ICgpOiB2b2lkID0+IHtcclxuICAgIGNvbnN0IHJvdW5kT2Zmc2V0ID0gdGhpcy5zY2FsZS5nZXREaW1lbnNpb24oKSAtIHRoaXMuYnV0dG9uMi5nZXRXaWR0aCgpLzI7XHJcbiAgICB0aGlzLmJ1dHQyTW92ZShyb3VuZE9mZnNldCwgdGhpcy5tYXhWYWx1ZSk7XHJcbiAgfVxyXG5cclxuICBtYXJrMk9uY2xpY2sgPSAoKTogdm9pZCA9PiB7XHJcbiAgICBjb25zdCB2YWwgPSB0aGlzLmlzRmxvYXQgPyBwYXJzZUZsb2F0KHRoaXMuZ3JhZHVhdGlvbi5tYXJrMi5pbm5lckhUTUwpIDogcGFyc2VJbnQodGhpcy5ncmFkdWF0aW9uLm1hcmsyLmlubmVySFRNTCk7XHJcbiAgICB0aGlzLmludGVyTWFya0hhbmRsZXIodmFsKTtcclxuICB9XHJcblxyXG4gIG1hcmszT25jbGljayA9ICgpOiB2b2lkID0+IHtcclxuICAgIGNvbnN0IHZhbCA9IHRoaXMuaXNGbG9hdCA/IHBhcnNlRmxvYXQodGhpcy5ncmFkdWF0aW9uLm1hcmszLmlubmVySFRNTCkgOiBwYXJzZUludCh0aGlzLmdyYWR1YXRpb24ubWFyazMuaW5uZXJIVE1MKTtcclxuICAgIHRoaXMuaW50ZXJNYXJrSGFuZGxlcih2YWwpO1xyXG4gIH1cclxuXHJcbiAgLypcclxuICBjaGVja1N0ZXAgPSAoKTogdm9pZCA9PiB7XHJcbiAgICBsZXQgc3RlcE1vZCA9IE1hdGguYWJzKFBhcnNpbmdEaWdpdHMucGFyc2luZyh0aGlzLnN0ZXApKTtcclxuICAgIGlmIChzdGVwTW9kID09PSBudWxsIHx8IHN0ZXBNb2QgPT09IDAgfHwgc3RlcE1vZCA+PSB0aGlzLm1heFZhbHVlIC0gdGhpcy5taW5WYWx1ZSkge1xyXG4gICAgICB0aGlzLnN0ZXAgPSAodGhpcy5tYXhWYWx1ZSAtIHRoaXMubWluVmFsdWUpLzI7XHJcbiAgICAgIGNvbnNvbGUubG9nKFwiV3JvbmcgdmFsdWUgb2YgdGhlIHN0ZXAuIEl0J3Mgc2V0dGVkIHRvIHRoZSBoYWxmIG9mIChtYXhWYWx1ZSAtIG1pblZhbHVlKVwiKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGlmIChzdGVwTW9kICUgMSAhPT0gMCkge1xyXG4gICAgICAgIHRoaXMuaXNGbG9hdCA9IHRydWU7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgdGhpcy5pc0Zsb2F0ID0gZmFsc2U7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHRoaXMuc3RlcCA9IHN0ZXBNb2Q7XHJcbiAgICB9XHJcbiAgfVxyXG4gIFxyXG5cclxuICBjaGVja01heFZhbHVlID0gKCk6IHZvaWQgPT4ge1xyXG4gICAgbGV0IG1heE1vZCA9IE1hdGguYWJzKFBhcnNpbmdEaWdpdHMucGFyc2luZyh0aGlzLm1heFZhbHVlKSk7XHJcbiAgICBpZiAobWF4TW9kID09PSBudWxsKSB7XHJcblxyXG4gICAgfVxyXG4gICAgaWYgKG1heE1vZCAgPCB0aGlzLm1pblZhbHVlKSB7XHJcbiAgICAgIHRoaXMuc3RlcCA9ICh0aGlzLm1heFZhbHVlIC0gdGhpcy5taW5WYWx1ZSkvMjtcclxuICAgICAgY29uc29sZS5sb2coXCJXcm9uZyB2YWx1ZSBvZiB0aGUgc3RlcC4gSXQncyBzZXR0ZWQgdG8gdGhlIGhhbGYgb2YgKG1heFZhbHVlIC0gbWluVmFsdWUpXCIpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgaWYgKHN0ZXBNb2QgJSAxICE9PSAwKSB7XHJcbiAgICAgICAgdGhpcy5pc0Zsb2F0ID0gdHJ1ZTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICB0aGlzLmlzRmxvYXQgPSBmYWxzZTtcclxuICAgICAgfVxyXG5cclxuICAgICAgdGhpcy5zdGVwID0gc3RlcE1vZDtcclxuICAgIH1cclxuICB9XHJcbiAgKi9cclxuXHJcbiAgY2hlY2tWYWx1ZXMgPSAoKTogdm9pZCA9PiB7XHJcbiAgICBpZiAodHlwZW9mIHRoaXMubWF4VmFsdWUgIT09IFwibnVtYmVyXCIpIHtcclxuICAgICAgY29uc29sZS5lcnJvcihcIk1heHZhbHVlIHNob3VsZCBiZSBhIG51bWJlclwiKTtcclxuICAgIH1cclxuICAgIGlmICh0eXBlb2YgdGhpcy5taW5WYWx1ZSAhPT0gXCJudW1iZXJcIikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKFwiTWF4dmFsdWUgc2hvdWxkIGJlIGEgbnVtYmVyXCIpO1xyXG4gICAgfVxyXG4gICAgaWYgKHR5cGVvZiB0aGlzLnN0ZXAgIT09IFwibnVtYmVyXCIpIHtcclxuICAgICAgY29uc29sZS5lcnJvcihcIlN0ZXAgc2hvdWxkIGJlIGEgbnVtYmVyXCIpO1xyXG4gICAgfVxyXG4gICAgaWYgKHR5cGVvZiB0aGlzLmlzUmFuZ2UgIT09IFwiYm9vbGVhblwiKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJpc1JhbmdlIHNob3VsZCBiZSBhIGJvb2xlYW5cIik7XHJcbiAgICB9XHJcbiAgICBpZiAodHlwZW9mIHRoaXMuaXNWZXJ0aWNhbCAhPT0gXCJib29sZWFuXCIpIHtcclxuICAgICAgY29uc29sZS5lcnJvcihcImlzVmVydGljYWwgc2hvdWxkIGJlIGEgYm9vbGVhblwiKTtcclxuICAgIH1cclxuICAgIGlmICh0eXBlb2YgdGhpcy5zaG93TGFiZWwgIT09IFwiYm9vbGVhblwiKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJTaG93TGFiZWwgc2hvdWxkIGJlIGEgYm9vbGVhblwiKTtcclxuICAgIH1cclxuICAgIGlmICh0aGlzLnN0ZXAgPiB0aGlzLm1heFZhbHVlIC0gdGhpcy5taW5WYWx1ZSkge1xyXG4gICAgICB0aGlzLnN0ZXAgPSB0aGlzLm1heFZhbHVlIC0gdGhpcy5taW5WYWx1ZTtcclxuICAgICAgY29uc29sZS5lcnJvcihcIlN0ZXAgaXMgc2V0dGVkIHRvIHRoZSBtYXhcIik7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICByZW5ldygpIHtcclxuICAgIGxldCByb3VuZFZhbHVlO1xyXG4gICAgbGV0IHJvdW5kT2Zmc2V0OyAgICBcclxuICAgIGNvbnN0IG5ld09mZnNldCA9IHRoaXMub2Zmc2V0VmFsdWVDb252KHRoaXMuY3VyTWF4VmFsdWUpO1xyXG4gICAgW3JvdW5kT2Zmc2V0LCByb3VuZFZhbHVlXSA9IHRoaXMuYnV0dDJPZmZzZXRDaGVjayhuZXdPZmZzZXQpO1xyXG5cclxuICAgIGlmICh0eXBlb2Ygcm91bmRWYWx1ZSA9PT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgW3JvdW5kT2Zmc2V0LCByb3VuZFZhbHVlXSA9IHRoaXMucm91bmRPZmZzZXRCdXR0KHJvdW5kT2Zmc2V0KTtcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLmJ1dHQyTW92ZShyb3VuZE9mZnNldCwgcm91bmRWYWx1ZSk7XHJcblxyXG4gICAgaWYgKHRoaXMuaXNSYW5nZSkge1xyXG4gICAgICBsZXQgcm91bmRWYWx1ZTtcclxuICAgICAgbGV0IHJvdW5kT2Zmc2V0OztcclxuICAgICAgY29uc3QgbmV3T2Zmc2V0ID0gdGhpcy5vZmZzZXRWYWx1ZUNvbnYodGhpcy5jdXJNaW5WYWx1ZSk7XHJcbiAgICAgIFtyb3VuZE9mZnNldCwgcm91bmRWYWx1ZV0gPSB0aGlzLmJ1dHQxT2Zmc2V0Q2hlY2sobmV3T2Zmc2V0KTtcclxuXHJcbiAgICAgIGlmICh0eXBlb2Ygcm91bmRWYWx1ZSA9PT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgICBbcm91bmRPZmZzZXQsIHJvdW5kVmFsdWVdID0gdGhpcy5yb3VuZE9mZnNldEJ1dHQocm91bmRPZmZzZXQpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICB0aGlzLmJ1dHQxTW92ZShyb3VuZE9mZnNldCwgcm91bmRWYWx1ZSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBpbml0ID0gKCk6IHZvaWQgPT4ge1xyXG4gICAgLy90aGlzLmNoZWNrVmFsdWVzKCk7ICAgIFxyXG4gICAgdGhpcy5zY2FsZS5pbml0KHRoaXMuaXNWZXJ0aWNhbCk7XHJcbiAgICB0aGlzLnNjYWxlRmlsbGluZy5pbml0KHRoaXMuaXNWZXJ0aWNhbCk7XHJcbiAgICB0aGlzLmdyYWR1YXRpb24uaW5pdCh0aGlzLm1pblZhbHVlLCB0aGlzLm1heFZhbHVlLCB0aGlzLmlzVmVydGljYWwsIHRoaXMuaXNGbG9hdCk7XHJcbiAgICB0aGlzLmJ1dHRvbjEuaW5pdCh0aGlzLmlzVmVydGljYWwpO1xyXG4gICAgdGhpcy5idXR0b24yLmluaXQodGhpcy5pc1ZlcnRpY2FsKTtcclxuICAgIHRoaXMubGFiZWwxLmluaXQodGhpcy5pc1ZlcnRpY2FsKTtcclxuICAgIHRoaXMubGFiZWwyLmluaXQodGhpcy5pc1ZlcnRpY2FsKTtcclxuXHJcbiAgICB0aGlzLmJ1dHRvbjEuZWxlbS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XHJcbiAgICB0aGlzLmxhYmVsMS5lbGVtLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcclxuXHJcbiAgICBpZiAodGhpcy5zaG93TGFiZWwpIHtcclxuICAgICAgdGhpcy5sYWJlbDEuZWxlbS5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xyXG4gICAgICB0aGlzLmxhYmVsMi5lbGVtLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLmxhYmVsMS5lbGVtLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcclxuICAgICAgdGhpcy5sYWJlbDIuZWxlbS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHRoaXMuaXNSYW5nZSkge1xyXG4gICAgICB0aGlzLmJ1dHRvbjEuZWxlbS5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5idXR0b24xLmVsZW0uc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xyXG4gICAgICB0aGlzLmxhYmVsMS5lbGVtLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcclxuICAgIH1cclxuICAgIFxyXG4gICAgdGhpcy5idXR0b24xLnNldFBvc2l0aW9uKC10aGlzLmJ1dHRvbjEuZ2V0V2lkdGgoKS8yKTtcclxuICAgIHRoaXMuYnV0dG9uMi5zZXRQb3NpdGlvbih0aGlzLnNjYWxlLmdldERpbWVuc2lvbigpIC0gdGhpcy5idXR0b24yLmdldFdpZHRoKCkvMik7XHJcbiAgICB0aGlzLmxhYmVsMS5zZXRQb3NpdGlvbih0aGlzLmdldFN0YXJ0KCksIHRoaXMubWluVmFsdWUpO1xyXG4gICAgdGhpcy5sYWJlbDIuc2V0UG9zaXRpb24odGhpcy5nZXRFbmQoKSwgdGhpcy5tYXhWYWx1ZSk7XHJcblxyXG4gICAgaWYgKHRoaXMuaXNWZXJ0aWNhbCkge1xyXG4gICAgICB0aGlzLmdyYWR1YXRpb24uZ3JhZEVsZW0uc3R5bGUuaGVpZ2h0ID0gdGhpcy5zY2FsZS5nZXREaW1lbnNpb24oKSArXCJweFwiO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5ncmFkdWF0aW9uLmdyYWRFbGVtLnN0eWxlLmhlaWdodCA9IDIwICtcInB4XCI7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIHRoaXMucmVuZXcoKTtcclxuICAgIHRoaXMudXBkYXRlRWxlbXMoKTsgICAgXHJcbiAgfVxyXG5cclxuICBhcHBlbmQgPSAoZW50cnk6IEhUTUxFbGVtZW50KTogdm9pZCA9PiB7XHJcbiAgICBlbnRyeS5hcHBlbmRDaGlsZCh0aGlzLnNjYWxlLmVsZW0pLmFwcGVuZENoaWxkKHRoaXMuc2NhbGVGaWxsaW5nLmVsZW0pO1xyXG4gICAgZW50cnkuYXBwZW5kQ2hpbGQodGhpcy5idXR0b24xLmVsZW0pO1xyXG4gICAgZW50cnkuYXBwZW5kQ2hpbGQodGhpcy5sYWJlbDEuZWxlbSk7XHJcbiAgICBlbnRyeS5hcHBlbmRDaGlsZCh0aGlzLmdyYWR1YXRpb24uZ3JhZEVsZW0pO1xyXG4gICAgZW50cnkuYXBwZW5kQ2hpbGQodGhpcy5idXR0b24yLmVsZW0pO1xyXG4gICAgZW50cnkuYXBwZW5kQ2hpbGQodGhpcy5sYWJlbDIuZWxlbSk7XHJcblxyXG4gICAgdGhpcy5zY2FsZS5lbGVtLm9uY2xpY2sgPSB0aGlzLnNjYWxlT25jbGljaztcclxuICAgIHRoaXMuZ3JhZHVhdGlvbi5tYXJrMS5vbmNsaWNrID0gdGhpcy5tYXJrMU9uY2xpY2s7XHJcbiAgICB0aGlzLmdyYWR1YXRpb24ubWFyazIub25jbGljayA9IHRoaXMubWFyazJPbmNsaWNrO1xyXG4gICAgdGhpcy5ncmFkdWF0aW9uLm1hcmszLm9uY2xpY2sgPSB0aGlzLm1hcmszT25jbGljaztcclxuICAgIHRoaXMuZ3JhZHVhdGlvbi5tYXJrNC5vbmNsaWNrID0gdGhpcy5tYXJrNE9uY2xpY2s7XHJcblxyXG4gICAgdGhpcy5idXR0b24xLmVsZW0ub25tb3VzZWRvd24gPSAoZXZlbnRNZDogTW91c2VFdmVudCkgPT4ge1xyXG4gICAgICBldmVudE1kLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZW1vdmVcIiwgdGhpcy5vbk1vdXNlTW92ZTEpO1xyXG4gICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwibW91c2V1cFwiLCB0aGlzLm9uTW91c2VVcDEpO1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXMuYnV0dG9uMi5lbGVtLm9ubW91c2Vkb3duID0gKGV2ZW50TWQ6IE1vdXNlRXZlbnQpID0+IHtcclxuICAgICAgZXZlbnRNZC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vtb3ZlXCIsIHRoaXMub25Nb3VzZU1vdmUyKTtcclxuICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNldXBcIiwgdGhpcy5vbk1vdXNlVXAyKTtcclxuICAgIH1cclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCB7Y3JlYXRlRWxlbSwgU2NhbGUsIExhYmVsLCBCdXR0b24sIFNjYWxlRmlsbGluZywgVmlldywgR3JhZHVhdGlvbn07XHJcbiIsImltcG9ydCBNYWtlT2JzZXJ2YWJsZU9iamVjdCBmcm9tICcuLi9tYWtlT2JzZXJ2YWJsZU9iamVjdC9NYWtlT2JzZXJ2YWJsZU9iamVjdCc7XHJcblxyXG5jbGFzcyBNb2RlbCB7XHJcbiAgY3VyTWluVmFsdWU6IG51bWJlcjtcclxuICBjdXJNYXhWYWx1ZTogbnVtYmVyO1xyXG4gIG9ic2VydmVyczogTWFrZU9ic2VydmFibGVPYmplY3Q7XHJcblxyXG4gIGNvbnN0cnVjdG9yKGN1ck1pblZhbHVlID0gMCwgY3VyTWF4VmFsdWUgPSAxMDAwKSB7XHJcbiAgICB0aGlzLmN1ck1pblZhbHVlID0gY3VyTWluVmFsdWU7XHJcbiAgICB0aGlzLmN1ck1heFZhbHVlID0gY3VyTWF4VmFsdWU7XHJcbiAgICB0aGlzLm9ic2VydmVycyA9IG5ldyBNYWtlT2JzZXJ2YWJsZU9iamVjdCgpO1xyXG4gIH1cclxuXHJcbiAgc2V0Q3VyTWluVmFsdWUoZGF0YTogbnVtYmVyKTogdm9pZCB7XHJcbiAgICBpZiAodGhpcy5jdXJNaW5WYWx1ZSAhPSBkYXRhKSB7XHJcbiAgICAgIHRoaXMuY3VyTWluVmFsdWUgPSBkYXRhO1xyXG4gICAgICB0aGlzLm9ic2VydmVycy5ub3RpZnlPYnNlcnZlcnMoKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHNldEN1ck1heFZhbHVlKGRhdGE6IG51bWJlcik6IHZvaWQge1xyXG4gICAgaWYgKHRoaXMuY3VyTWF4VmFsdWUgIT0gZGF0YSkge1xyXG4gICAgICB0aGlzLmN1ck1heFZhbHVlID0gZGF0YTtcclxuICAgICAgdGhpcy5vYnNlcnZlcnMubm90aWZ5T2JzZXJ2ZXJzKCk7XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBNb2RlbDsiLCJ2YXIgbWFwID0ge1xuXHRcIi4vYmxvY2tzL2J1dHRvbi9CdXR0b24udHNcIjogMixcblx0XCIuL2Jsb2Nrcy9jb250cm9sbGVyL0NvbnRyb2xsZXIudHNcIjogOCxcblx0XCIuL2Jsb2Nrcy9jcmVhdGVFbGVtL2NyZWF0ZUVsZW0udHNcIjogMCxcblx0XCIuL2Jsb2Nrcy9ncmFkdWF0aW9uL0dyYWR1YXRpb24udHNcIjogNixcblx0XCIuL2Jsb2Nrcy9sYWJlbC9MYWJlbC50c1wiOiAzLFxuXHRcIi4vYmxvY2tzL21ha2VPYnNlcnZhYmxlT2JqZWN0L01ha2VPYnNlcnZhYmxlT2JqZWN0LnRzXCI6IDEsXG5cdFwiLi9ibG9ja3MvbW9kZWwvTW9kZWwudHNcIjogMTAsXG5cdFwiLi9ibG9ja3MvcGFyc2luZ0RpZ2l0cy9QYXJzaW5nRGlnaXRzLnRzXCI6IDQsXG5cdFwiLi9ibG9ja3Mvc2NhbGUvU2NhbGUudHNcIjogNSxcblx0XCIuL2Jsb2Nrcy9zY2FsZUZpbGxpbmcvU2NhbGVGaWxsaW5nLnRzXCI6IDcsXG5cdFwiLi9ibG9ja3Mvdmlldy9WaWV3LnRzXCI6IDksXG5cdFwiLi9wbHVnaW5XcmFwcGVyLnRzXCI6IDEyLFxuXHRcIi4vc3R5bGVzL3N0eWxlLnNjc3NcIjogMTNcbn07XG5cblxuZnVuY3Rpb24gd2VicGFja0NvbnRleHQocmVxKSB7XG5cdHZhciBpZCA9IHdlYnBhY2tDb250ZXh0UmVzb2x2ZShyZXEpO1xuXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhpZCk7XG59XG5mdW5jdGlvbiB3ZWJwYWNrQ29udGV4dFJlc29sdmUocmVxKSB7XG5cdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8obWFwLCByZXEpKSB7XG5cdFx0dmFyIGUgPSBuZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiICsgcmVxICsgXCInXCIpO1xuXHRcdGUuY29kZSA9ICdNT0RVTEVfTk9UX0ZPVU5EJztcblx0XHR0aHJvdyBlO1xuXHR9XG5cdHJldHVybiBtYXBbcmVxXTtcbn1cbndlYnBhY2tDb250ZXh0LmtleXMgPSBmdW5jdGlvbiB3ZWJwYWNrQ29udGV4dEtleXMoKSB7XG5cdHJldHVybiBPYmplY3Qua2V5cyhtYXApO1xufTtcbndlYnBhY2tDb250ZXh0LnJlc29sdmUgPSB3ZWJwYWNrQ29udGV4dFJlc29sdmU7XG5tb2R1bGUuZXhwb3J0cyA9IHdlYnBhY2tDb250ZXh0O1xud2VicGFja0NvbnRleHQuaWQgPSAxMTsiLCJpbXBvcnQgQ29udHJvbGxlciBmcm9tICcuL2Jsb2Nrcy9jb250cm9sbGVyL0NvbnRyb2xsZXInO1xyXG5cclxuKGZ1bmN0aW9uKCQpIHtcclxuICBjb25zdCBjb25maWcgPSB7XHJcbiAgICBtaW5WYWx1ZTogMCxcclxuICAgIG1heFZhbHVlOiAxMDAwLFxyXG4gICAgc3RlcDogMSxcclxuICAgIGlzUmFuZ2U6IGZhbHNlLFxyXG4gICAgaXNWZXJ0aWNhbDogZmFsc2UsXHJcbiAgICBzaG93TGFiZWw6IGZhbHNlLFxyXG4gICAgaXNGbG9hdDogZmFsc2UsXHJcbiAgfTtcclxuXHJcbiAgY29uc3QgbWV0aG9kczogTWV0aG9kcyA9IHtcclxuICAgIGluaXQ6IGZ1bmN0aW9uKG9wdDogQ29uZmlnKSB7XHJcbiAgICAgIGlmICghJCh0aGlzKS5kYXRhKCdzbGlkZXInKSkge1xyXG4gICAgICAgIGNvbnN0IG5ld0NvbmZpZyA9IHsgLi4uY29uZmlnIH07XHJcbiAgICAgICAgY29uc3Qgc2xpZGVyID0gbmV3IENvbnRyb2xsZXIoLi4uT2JqZWN0LnZhbHVlcygkLmV4dGVuZChuZXdDb25maWcsIG9wdCkpKTtcclxuICAgICAgICAkKHRoaXMpLmRhdGEoJ3NsaWRlcicsIHNsaWRlcik7XHJcblxyXG4gICAgICAgIHNsaWRlci5hcHBlbmQoJCh0aGlzKSk7XHJcbiAgICAgIH1cclxuICAgIH0sXHJcblxyXG4gICAgdXBkYXRlOiBmdW5jdGlvbihvcHQ6IENvbmZpZykge1xyXG4gICAgICBjb25zdCBzbGlkZXIgPSAkKHRoaXMpLmRhdGEoJ3NsaWRlcicpO1xyXG4gICAgICBzbGlkZXIudXBkYXRlKG9wdCk7XHJcbiAgICB9LFxyXG5cclxuICAgIGdldENvbmZpZzogZnVuY3Rpb24oKSB7XHJcbiAgICAgIGNvbnN0IHNsaWRlciA9ICQodGhpcykuZGF0YSgnc2xpZGVyJyk7XHJcbiAgICAgIHJldHVybiBzbGlkZXIuZ2V0Q29uZmlnKCk7XHJcbiAgICB9LFxyXG5cclxuICAgIHNldFZhbHVlczogZnVuY3Rpb24ob3B0OiBDb25maWcpIHtcclxuICAgICAgY29uc3Qgc2xpZGVyID0gJCh0aGlzKS5kYXRhKCdzbGlkZXInKTtcclxuICAgICAgc2xpZGVyLnNldFZhbHVlcyhvcHQuY3VyTWluVmFsdWUsIG9wdC5jdXJNYXhWYWx1ZSk7XHJcbiAgICB9LFxyXG5cclxuICAgIGlucHV0c0F0dGFjaDogZnVuY3Rpb24ob3B0OiBJbnB1dHNPYmplY3QpIHtcclxuICAgICAgY29uc3Qgc2xpZGVyID0gJCh0aGlzKS5kYXRhKCdzbGlkZXInKTtcclxuICAgICAgc2xpZGVyLmFkZE9ic2VydmVyKCgpID0+IHtcclxuICAgICAgICBvcHQubWluVmFsdWVJbi52YWwoc2xpZGVyLmdldFZhbHVlcygpWzBdKTtcclxuICAgICAgICBvcHQubWF4VmFsdWVJbi52YWwoc2xpZGVyLmdldFZhbHVlcygpWzFdKTtcclxuICAgICAgfSlcclxuICAgIH0sXHJcbiAgfVxyXG5cclxuICAkLmZuLm9tZmdzbGlkZXIgPSBmdW5jdGlvbihtZXRob2Q6IHN0cmluZykge1xyXG4gICAgaWYgKG1ldGhvZHNbbWV0aG9kXSkge1xyXG4gICAgICByZXR1cm4gbWV0aG9kc1ttZXRob2RdLmFwcGx5KHRoaXMsIEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMSkpO1xyXG4gICAgfSBlbHNlIGlmICh0eXBlb2YgbWV0aG9kID09PSAnb2JqZWN0JyB8fCAhbWV0aG9kKSB7XHJcbiAgICAgIHJldHVybiBtZXRob2RzLmluaXQuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICQuZXJyb3IoYNCc0LXRgtC+0LQgJHttZXRob2R9INC90LUg0L3QsNC50LTQtdC9INCyINC/0LvQsNCz0LjQvdC1IGpRdWVyeS5vbWZnc2xpZGVyYCk7XHJcbiAgICB9XHJcbiAgfTtcclxufSkoalF1ZXJ5KTtcclxuIiwiZXhwb3J0IGRlZmF1bHQgX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcImluZGV4Lmh0bWxcIjsiLCJpbXBvcnQgJy4vcGFnZS9pbmRleC5odG1sJztcclxuXHJcbmZ1bmN0aW9uIGltcG9ydEFsbChyOiAgX19XZWJwYWNrTW9kdWxlQXBpLlJlcXVpcmVDb250ZXh0KSB7XHJcbiAgICByLmtleXMoKS5mb3JFYWNoKHIpO1xyXG59XHJcbiAgXHJcbmltcG9ydEFsbChyZXF1aXJlLmNvbnRleHQoJy4vc2xpZGVyJywgdHJ1ZSwgLyg/PCFcXC5kKVxcLihqc3x0c3xzY3NzKSQvaSkpOyJdLCJzb3VyY2VSb290IjoiIn0=