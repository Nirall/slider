!function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=19)}([function(e,t,r){"use strict";r.r(t),t.default=function(e){var t=document.createElement("div");return t.ondragstart=function(){return!1},t.classList.add(e),t}},function(e,t,r){"use strict";r.r(t);var n=function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var n=Array(e),i=0;for(t=0;t<r;t++)for(var s=arguments[t],a=0,o=s.length;a<o;a++,i++)n[i]=s[a];return n},i=function(){function e(){this.observers=[]}return e.prototype.addObserver=function(e){if("function"!=typeof e)throw new Error("observer must be a function");this.observers.map((function(t){if(t===e)throw new Error("observer already in the list")})),this.observers.push(e)},e.prototype.removeObserver=function(e){for(var t=0;t<this.observers.length;t++){if(this.observers[t]===e)return void this.observers.splice(t,1)}throw new Error("could not find observer in list of observers")},e.prototype.notifyObservers=function(){n(this.observers).map((function(e){return e()}))},e.prototype.notifyObserversData=function(e){n(this.observers).map((function(t){return t(e)}))},e}();t.default=i},function(e,t,r){"use strict";r.r(t),r.d(t,"defaultParameters",(function(){return n}));var n={minValue:0,maxValue:1e3,step:1,isRange:!1,isVertical:!1,showLabel:!1,isFloat:!1}},function(e,t,r){"use strict";r.r(t);var n=function(){function e(){}return e.parsing=function(e){if("number"==typeof e)return e;if("string"==typeof e){if(/^-?\d+[\.,]\d+$/.test(e))return parseFloat(e);if(/^-?\d+$/.test(e))return parseInt(e)}return null},e}();t.default=n},function(e,t,r){"use strict";r.r(t);var n=r(0),i=function(e){var t=this;this.getPosition=function(){return t.isVertical?t.elem.getBoundingClientRect().top:t.elem.getBoundingClientRect().left},this.getDimension=function(){return t.isVertical?t.elem.getBoundingClientRect().height:t.elem.getBoundingClientRect().width},this.init=function(e){t.isVertical=e,t.isVertical?t.elem.classList.add("slider__scale_position_vertical"):t.elem.classList.remove("slider__scale_position_vertical")},this.elem=Object(n.default)("slider__scale"),this.isVertical=e};t.default=i},function(e,t,r){"use strict";r.r(t);var n=r(9),i=r(1),s=function(e,t){var r=this;this.init=function(e){r.parameters=e,r.moveMarks()},this.createMarks=function(){for(var e=function(e){var t=new n.default(r.parameters.isVertical);r.marks.push(t),t.observers.addObserver((function(){return r.onClickMark(t)}))},t=0;t<5;t++)e()},this.onClickMark=function(e){r.observers.notifyObserversData(e.value)},this.moveMarks=function(){r.marks.map((function(e,t){if(e.init(r.parameters.isVertical),t===r.marks.length-1)e.setPosition(100,r.parameters.maxValue);else{var n=r.round((r.parameters.maxValue-r.parameters.minValue)/(r.marks.length-1)*t),i=r.parameters.minValue+n;r.parameters.isFloat&&(i=parseFloat(i.toFixed(2)));var s=n/(r.parameters.maxValue-r.parameters.minValue);e.setPosition(100*s,i)}}))},this.round=function(e){var t=Math.trunc(e/r.parameters.step),n=+(e-t*r.parameters.step).toFixed(2);return e<0?Math.abs(n)<r.parameters.step/2?t*r.parameters.step:(t-1)*r.parameters.step:n<r.parameters.step/2?t*r.parameters.step:(t+1)*r.parameters.step},this.marks=[],this.parameters=e,this.createMarks(),this.init(e),this.observers=new i.default,this.observers.addObserver(t)};t.default=s},function(e,t,r){"use strict";r.r(t);var n=r(10),i=r(11),s=r(1),a=function(e,t){var r=this;this.getPosition=function(){return r.button.getPosition()},this.setPosition=function(e,t){r.label.setPosition(e+r.button.getWidth()/2,t),r.button.setPosition(e)},this.init=function(e){r.button.init(e),r.label.init(e)},this.getWidth=function(){return r.button.getWidth()},this.hide=function(){r.button.elem.style.display="none",r.label.elem.style.display="none"},this.hideLabel=function(){r.label.elem.style.display="none"},this.showLabel=function(){r.label.elem.style.display="block"},this.show=function(){r.button.elem.style.display="block"},this.onMouseDown=function(e){e.preventDefault(),document.addEventListener("mousemove",r.onMouseMove),document.addEventListener("mouseup",r.onMouseUp)},this.onMouseMove=function(e){r.observers.notifyObserversData({event:e,runner:r})},this.onMouseUp=function(e){document.removeEventListener("mouseup",r.onMouseUp),document.removeEventListener("mousemove",r.onMouseMove)},this.append=function(e){[r.button.elem,r.label.elem].map((function(t){e.appendChild(t),t.onmousedown=r.onMouseDown}))},this.isVertical=e,this.button=new n.default(e),this.label=new i.default(e),this.observers=new s.default,this.observers.addObserver(t)};t.default=a},function(e,t,r){"use strict";r.r(t);var n=r(2),i=r(8),s=r(14),a=r(1),o=r(3),u=function(e){var t=this;void 0===e&&(e=n.defaultParameters),this.append=function(e){t.view.append(e.get(0)),t.view.init()},this.checkStep=function(e){var r=Math.abs(o.default.parsing(e));return null===r||0===r||r>(t.view.parameters.maxValue-t.view.parameters.minValue)/2?(console.log("Wrong value of the step"),t.view.parameters.step):(r%1!=0?t.view.parameters.isFloat=!0:t.view.parameters.maxValue%1==0&&t.view.parameters.minValue%1==0&&(t.view.parameters.isFloat=!1),r)},this.checkMaxValue=function(e){var r=o.default.parsing(e);return null===r||r<=t.view.parameters.minValue?(console.log("Wrong value of the maxValue"),t.view.parameters.maxValue):(r%1!=0?t.view.parameters.isFloat=!0:t.view.parameters.step%1==0&&t.view.parameters.minValue%1==0&&(t.view.parameters.isFloat=!1),r)},this.checkMinValue=function(e){var r=o.default.parsing(e);return null===r||r>=t.view.parameters.maxValue?(console.log("Wrong value of the minValue"),t.view.parameters.minValue):(r%1!=0?t.view.parameters.isFloat=!0:t.view.parameters.maxValue%1==0&&t.view.parameters.step%1==0&&(t.view.parameters.isFloat=!1),r)},this.update=function(e){Object.keys(e).map((function(r){"step"===r?e.step=t.checkStep(e.step):"maxValue"===r?e.maxValue=t.checkMaxValue(e.maxValue):"minValue"===r&&(e.minValue=t.checkMaxValue(e.minValue))})),t.view.parameters=Object.assign(t.view.parameters,e),t.view.init()},this.getValues=function(){return t.model.currentValues},this.setValues=function(e,r){e&&t.model.setCurrentMinValue(e),r&&t.model.setCurrentMaxValue(r)},this.getConfig=function(){return t.view.parameters},this.addObserver=function(e){t.observers.addObserver(e)},this.view=new i.View(e),this.model=new s.default({currentMinValue:e.minValue,currentMaxValue:e.maxValue}),this.observers=new a.default,this.view.observers.addObserver((function(){t.model.currentValues=t.view.currentValues,t.observers.notifyObservers()})),this.model.observers.addObserver((function(){t.view.currentValues=t.model.currentValues,t.view.renew()}))};t.default=u},function(e,t,r){"use strict";r.r(t),r.d(t,"View",(function(){return f}));var n=r(2),i=r(1),s=r(0);r.d(t,"createElem",(function(){return s.default}));var a=r(4);r.d(t,"Bar",(function(){return a.default}));var o=r(5);r.d(t,"Graduation",(function(){return o.default}));var u=r(6),l=r(12),c=r(13),f=function(){function e(e){var t=this;void 0===e&&(e=n.defaultParameters),this.graduationObserver=function(e){var r,n,i,s=t.track.offsetValueConverter(e);n=(r=t.track.roundOffsetButt(s))[0],i=r[1],t.parameters.isRange?t.runnerMove({runner:t.runnerCheck(s),offset:n,value:i}):t.runnerMove({runner:t.runnerMain,offset:n,value:i})},this.runnerObserver=function(e){var r=e.event,n=e.runner;t.runnerMove(t.track.onRunnerMove(r,n))},this.runnerMove=function(e){e.runner.setPosition(e.offset,e.value),e.runner===t.runnerAdditional&&(t.currentValues.currentMinValue=e.value),e.runner===t.runnerMain&&(t.currentValues.currentMaxValue=e.value),t.track.updateProgressBar(),t.observers.notifyObservers()},this.runnerCheck=function(e){return Math.abs(e-t.track.getMainRunnerOffset())<Math.abs(e-t.track.getAdditionalRunnerOffset())?t.runnerAdditional:t.runnerMain},this.onClickBar=function(e){var r=(t.parameters.isVertical?e.clientY:e.clientX)-t.bar.getPosition()-t.runnerMain.getWidth()/2;t.runnerMove(t.track.offsetProcessing(r,t.runnerCheck(r)))},this.init=function(){t.bar.init(t.parameters.isVertical),t.progressBar.init(t.parameters.isVertical),t.runnerAdditional.init(t.parameters.isVertical),t.runnerMain.init(t.parameters.isVertical),t.track.init(t.parameters),t.scale.init(t.parameters),t.runnerAdditional.hide(),t.parameters.showLabel?(t.runnerAdditional.showLabel(),t.runnerMain.showLabel()):(t.runnerAdditional.hideLabel(),t.runnerMain.hideLabel()),t.parameters.isRange?t.runnerAdditional.show():t.runnerAdditional.hide(),t.runnerAdditional.setPosition(-t.runnerAdditional.getWidth()/2,t.parameters.minValue),t.runnerMain.setPosition(t.bar.getDimension()-t.runnerMain.getWidth()/2,t.parameters.maxValue),t.renew()},this.append=function(e){e.appendChild(t.bar.elem).appendChild(t.progressBar.elem),t.runnerMain.append(e),t.runnerAdditional.append(e),t.scale.marks.map((function(t){e.appendChild(t.elem)})),t.scale.moveMarks(),t.bar.elem.onclick=t.onClickBar},this.bar=new a.default(e.isVertical),this.progressBar=new c.default(e.isVertical),this.currentValues={currentMinValue:e.minValue,currentMaxValue:e.maxValue},this.observers=new i.default,this.parameters=e,this.scale=new o.default(e,this.graduationObserver),this.runnerAdditional=new u.default(e.isVertical,this.runnerObserver),this.runnerMain=new u.default(e.isVertical,this.runnerObserver),this.track=new l.default({runnerMain:this.runnerMain,runnerAdditional:this.runnerAdditional,progressBar:this.progressBar,bar:this.bar,parameters:this.parameters})}return e.prototype.renew=function(){this.runnerMove(this.track.offsetProcessing(this.track.offsetValueConverter(this.currentValues.currentMaxValue),this.runnerMain)),this.runnerMove(this.track.offsetProcessing(this.track.offsetValueConverter(this.currentValues.currentMinValue),this.runnerAdditional))},e}()},function(e,t,r){"use strict";r.r(t);var n=r(0),i=r(1),s=function(e){var t=this;this.onClickHandler=function(){t.observers.notifyObservers()},this.getPosition=function(){return t.isVertical?t.elem.getBoundingClientRect().top:t.elem.getBoundingClientRect().left},this.setPosition=function(e,r){t.elem.innerHTML=r+"",t.value=r,t.isVertical?(t.elem.style.left="50%",t.elem.style.top=e+"%",t.elem.style.marginTop=-t.getDimension()/2+"px",t.elem.style.marginLeft="-45px"):(t.elem.style.top="50%",t.elem.style.left=e+"%",t.elem.style.marginLeft=-t.getDimension()/2+"px",t.elem.style.marginTop="15px")},this.getDimension=function(){return t.isVertical?t.elem.getBoundingClientRect().height:t.elem.getBoundingClientRect().width},this.init=function(e){t.isVertical=e,t.isVertical?t.elem.classList.add("slider__mark_position_vertical"):t.elem.classList.remove("slider__mark_position_vertical")},this.elem=Object(n.default)("slider__mark"),this.isVertical=e,this.observers=new i.default,this.elem.onclick=this.onClickHandler};t.default=s},function(e,t,r){"use strict";r.r(t);var n=r(0),i=function(e){var t=this;this.getWidth=function(){return t.elem.getBoundingClientRect().width},this.getPosition=function(){return t.isVertical?t.elem.getBoundingClientRect().top:t.elem.getBoundingClientRect().left},this.setPosition=function(e){t.isVertical?(t.elem.style.left="50%",t.elem.style.top=e+"px"):(t.elem.style.top="50%",t.elem.style.left=e+"px")},this.init=function(e){t.isVertical=e,t.isVertical?t.elem.classList.add("slider__button_position_vertical"):t.elem.classList.remove("slider__button_position_vertical")},this.elem=Object(n.default)("slider__button"),this.isVertical=e};t.default=i},function(e,t,r){"use strict";r.r(t);var n=r(0),i=function(e){var t=this;this.getPosition=function(){return t.isVertical?t.elem.getBoundingClientRect().top:t.elem.getBoundingClientRect().left},this.setPosition=function(e,r){t.elem.innerHTML=r+"",t.isVertical?(t.elem.style.left="50%",t.elem.style.top=e-t.getDimension()/2+"px"):(t.elem.style.top="50%",t.elem.style.left=e-t.getDimension()/2+"px")},this.getDimension=function(){return t.isVertical?t.elem.getBoundingClientRect().height:t.elem.getBoundingClientRect().width},this.init=function(e){t.isVertical=e,t.isVertical?t.elem.classList.add("slider__button-label_position_vertical"):t.elem.classList.remove("slider__button-label_position_vertical")},this.elem=Object(n.default)("slider__button-label"),this.isVertical=e};t.default=i},function(e,t,r){"use strict";r.r(t);var n=function(){function e(e){var t=this;this.onRunnerMove=function(e,r){var n=(t.parameters.isVertical?e.clientY:e.clientX)-t.scale.getPosition()-t.runnerAdditional.getWidth()/2;return t.offsetProcessing(n,r)},this.runnerOffsetCheck=function(e,r){var n;e<-t.runnerAdditional.getWidth()/2&&(e=-t.runnerAdditional.getWidth()/2,n=t.parameters.minValue),e>t.scale.getDimension()-t.runnerMain.getWidth()/2&&(e=t.scale.getDimension()-t.runnerMain.getWidth()/2,n=t.parameters.maxValue);var i=t.parameters.step*t.scale.getDimension()/(t.parameters.maxValue-t.parameters.minValue),s=i/1.5>t.runnerMain.getWidth()?i/1.5:t.runnerMain.getWidth();return r===t.runnerAdditional?e>t.runnerMain.getPosition()-t.scale.getPosition()-s&&(e=t.runnerMain.getPosition()-t.scale.getPosition()-s):r===t.runnerMain&&e<t.runnerAdditional.getPosition()-t.scale.getPosition()+s&&(e=t.runnerAdditional.getPosition()-t.scale.getPosition()+s),[e,n]},this.roundOffsetButt=function(e){var r=t.parameters.minValue+(e+t.runnerMain.getWidth()/2)*(t.parameters.maxValue-t.parameters.minValue)/t.scale.getDimension(),n=t.round(r,t.parameters.step);return t.parameters.isFloat&&(n=parseFloat(n.toFixed(2))),[t.offsetValueConverter(n),n]},this.offsetValueConverter=function(e){return(e-t.parameters.minValue)/(t.parameters.maxValue-t.parameters.minValue)*t.scale.getDimension()-t.runnerMain.getWidth()/2},this.round=function(e,r){var n=Math.trunc(e/r),i=+(e-n*r).toFixed(2);return e<0?Math.abs(i)<r/2?n*r:(n-1)*r:e<=t.parameters.minValue?t.parameters.minValue:e>=t.parameters.maxValue?t.parameters.maxValue:i<r/2?n*r:(n+1)*r},this.getMainRunnerOffset=function(){return t.parameters.isRange?t.runnerAdditional.getPosition()-t.scale.getPosition()+t.runnerAdditional.getWidth()/2:0},this.getAdditionalRunnerOffset=function(){return t.runnerMain.getPosition()-t.scale.getPosition()+t.runnerMain.getWidth()/2},this.updateProgressBar=function(){t.progressBar.init(t.parameters.isVertical),t.progressBar.setPosition(t.getMainRunnerOffset()),t.progressBar.setDimension(t.getAdditionalRunnerOffset()-t.getMainRunnerOffset())},this.init=function(e){t.parameters=e},this.scale=e.bar,this.runnerMain=e.runnerMain,this.runnerAdditional=e.runnerAdditional,this.progressBar=e.progressBar,this.parameters=e.parameters}return e.prototype.offsetProcessing=function(e,t){var r,n,i,s;return s=(r=this.runnerOffsetCheck(e,t))[0],void 0===(i=r[1])&&(s=(n=this.roundOffsetButt(s))[0],i=n[1]),{runner:t,offset:s,value:i}},e}();t.default=n},function(e,t,r){"use strict";r.r(t);var n=r(0),i=function(e){var t=this;this.setPosition=function(e){t.isVertical?(t.elem.style.left="0",t.elem.style.width="100%",t.elem.style.top=e+"px"):(t.elem.style.top="0",t.elem.style.height="100%",t.elem.style.left=e+"px")},this.setDimension=function(e){t.isVertical?t.elem.style.height=e+"px":t.elem.style.width=e+"px"},this.init=function(e){t.isVertical=e},this.elem=Object(n.default)("slider__scale-filling"),this.isVertical=e};t.default=i},function(e,t,r){"use strict";r.r(t);var n=r(1),i=function(){function e(e){this.currentValues=e,this.observers=new n.default}return e.prototype.setCurrentMinValue=function(e){this.currentValues.currentMinValue!==e&&(this.currentValues.currentMinValue=e,this.observers.notifyObservers())},e.prototype.setCurrentMaxValue=function(e){this.currentValues.currentMaxValue!==e&&(this.currentValues.currentMaxValue=e,this.observers.notifyObservers())},e}();t.default=i},function(e,t,r){var n={"./Controller/Controller.ts":7,"./Controller/blocks/parsingDigits/ParsingDigits.ts":3,"./Model/Model.ts":14,"./View/View.ts":8,"./View/blocks/bar/Bar.ts":4,"./View/blocks/button/Button.ts":10,"./View/blocks/createElem/createElem.ts":0,"./View/blocks/label/Label.ts":11,"./View/blocks/mark/Mark.ts":9,"./View/blocks/progressBar/ProgressBar.ts":13,"./View/blocks/runner/Runner.ts":6,"./View/blocks/scale/Scale.ts":5,"./View/blocks/track/Track.ts":12,"./makeObservableObject/MakeObservableObject.ts":1,"./slider.ts":16,"./style.scss":17,"./types.ts":2};function i(e){var t=s(e);return r(t)}function s(e){if(!r.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}i.keys=function(){return Object.keys(n)},i.resolve=s,e.exports=i,i.id=15},function(e,t,r){"use strict";r.r(t);var n,i,s,a=r(7),o=function(){return(o=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};n=jQuery,i={minValue:0,maxValue:1e3,step:1,isRange:!1,isVertical:!1,showLabel:!1,isFloat:!1},s={init:function(e){if(!n(this).data("slider")){var t=o({},i),r=new a.default(n.extend(t,e));n(this).data("slider",r),r.append(n(this))}},update:function(e){n(this).data("slider").update(e)},getConfig:function(){return n(this).data("slider").getConfig()},setValues:function(e){n(this).data("slider").setValues(e.curMinValue,e.curMaxValue)},inputsAttach:function(e){var t=n(this).data("slider");t.addObserver((function(){e.minValueIn.val(t.getValues().currentMinValue),e.maxValueIn.val(t.getValues().currentMaxValue),e.max.val(t.getConfig().maxValue),e.min.val(t.getConfig().minValue),e.step.val(t.getConfig().step)}))}},n.fn.omfgslider=function(e){return s[e]?s[e].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof e&&e?void n.error("Метод "+e+" не найден в плагине jQuery.omfgslider"):s.init.apply(this,arguments)}},function(e,t,r){},,function(e,t,r){"use strict";r.r(t);var n;r.p;(n=r(15)).keys().forEach(n)}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL3BsdWdpbi9WaWV3L2Jsb2Nrcy9jcmVhdGVFbGVtL2NyZWF0ZUVsZW0udHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3BsdWdpbi9tYWtlT2JzZXJ2YWJsZU9iamVjdC9NYWtlT2JzZXJ2YWJsZU9iamVjdC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvcGx1Z2luL3R5cGVzLnRzIiwid2VicGFjazovLy8uL3NyYy9wbHVnaW4vQ29udHJvbGxlci9ibG9ja3MvcGFyc2luZ0RpZ2l0cy9QYXJzaW5nRGlnaXRzLnRzIiwid2VicGFjazovLy8uL3NyYy9wbHVnaW4vVmlldy9ibG9ja3MvYmFyL0Jhci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvcGx1Z2luL1ZpZXcvYmxvY2tzL3NjYWxlL1NjYWxlLnRzIiwid2VicGFjazovLy8uL3NyYy9wbHVnaW4vVmlldy9ibG9ja3MvcnVubmVyL1J1bm5lci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvcGx1Z2luL0NvbnRyb2xsZXIvQ29udHJvbGxlci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvcGx1Z2luL1ZpZXcvVmlldy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvcGx1Z2luL1ZpZXcvYmxvY2tzL21hcmsvTWFyay50cyIsIndlYnBhY2s6Ly8vLi9zcmMvcGx1Z2luL1ZpZXcvYmxvY2tzL2J1dHRvbi9CdXR0b24udHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3BsdWdpbi9WaWV3L2Jsb2Nrcy9sYWJlbC9MYWJlbC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvcGx1Z2luL1ZpZXcvYmxvY2tzL3RyYWNrL1RyYWNrLnRzIiwid2VicGFjazovLy8uL3NyYy9wbHVnaW4vVmlldy9ibG9ja3MvcHJvZ3Jlc3NCYXIvUHJvZ3Jlc3NCYXIudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3BsdWdpbi9Nb2RlbC9Nb2RlbC50cyIsIndlYnBhY2s6Ly8vXFwuZClcXC4oanN8dHN8c2NzcykkLyIsIndlYnBhY2s6Ly8vLi9zcmMvcGx1Z2luL3NsaWRlci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZGVtby1wYWdlL2luZGV4Lmh0bWwiLCJ3ZWJwYWNrOi8vLy4vc3JjL2luZGV4LnRzIl0sIm5hbWVzIjpbImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJleHBvcnRzIiwibW9kdWxlIiwiaSIsImwiLCJtb2R1bGVzIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJ0IiwibW9kZSIsIl9fZXNNb2R1bGUiLCJucyIsImNyZWF0ZSIsImtleSIsImJpbmQiLCJuIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwiY2xhc3NOYW1lIiwiZWxlbSIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsIm9uZHJhZ3N0YXJ0IiwiY2xhc3NMaXN0IiwiYWRkIiwidGhpcyIsIm9ic2VydmVycyIsImFkZE9ic2VydmVyIiwiZm4iLCJFcnJvciIsIm1hcCIsIm9ic2VydmVyIiwicHVzaCIsInJlbW92ZU9ic2VydmVyIiwibGVuZ3RoIiwic3BsaWNlIiwibm90aWZ5T2JzZXJ2ZXJzIiwibm90aWZ5T2JzZXJ2ZXJzRGF0YSIsImRhdGEiLCJkZWZhdWx0UGFyYW1ldGVycyIsIm1pblZhbHVlIiwibWF4VmFsdWUiLCJzdGVwIiwiaXNSYW5nZSIsImlzVmVydGljYWwiLCJzaG93TGFiZWwiLCJpc0Zsb2F0IiwicGFyc2luZyIsIml0ZW0iLCJ0ZXN0IiwicGFyc2VGbG9hdCIsInBhcnNlSW50IiwiZ2V0UG9zaXRpb24iLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJ0b3AiLCJsZWZ0IiwiZ2V0RGltZW5zaW9uIiwiaGVpZ2h0Iiwid2lkdGgiLCJpbml0IiwicmVtb3ZlIiwicGFyYW1ldGVycyIsIm9wdGlvbnMiLCJtb3ZlTWFya3MiLCJjcmVhdGVNYXJrcyIsIm1hcmsiLCJtYXJrcyIsIm9uQ2xpY2tNYXJrIiwiaW5kZXgiLCJzZXRQb3NpdGlvbiIsInJvdW5kVmFsdWUiLCJyb3VuZCIsInRvRml4ZWQiLCJvZmZzZXQiLCJ2YWwiLCJ3aG9sZSIsIk1hdGgiLCJ0cnVuYyIsInJlbWluZGVyIiwiYWJzIiwibW92ZU9ic2VydmVyIiwiYnV0dG9uIiwibGFiZWwiLCJnZXRXaWR0aCIsImhpZGUiLCJzdHlsZSIsImRpc3BsYXkiLCJoaWRlTGFiZWwiLCJzaG93Iiwib25Nb3VzZURvd24iLCJldmVudCIsInByZXZlbnREZWZhdWx0IiwiYWRkRXZlbnRMaXN0ZW5lciIsIm9uTW91c2VNb3ZlIiwib25Nb3VzZVVwIiwicnVubmVyIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImFwcGVuZCIsImVudHJ5IiwiYXBwZW5kQ2hpbGQiLCJvbm1vdXNlZG93biIsInZpZXciLCJjaGVja1N0ZXAiLCJzdGVwTW9kIiwiY29uc29sZSIsImxvZyIsImNoZWNrTWF4VmFsdWUiLCJtYXhWYWx1ZU1vZCIsImNoZWNrTWluVmFsdWUiLCJtaW5WYWx1ZU1vZCIsInVwZGF0ZSIsImFyZ3MiLCJrZXlzIiwiYXNzaWduIiwiZ2V0VmFsdWVzIiwibW9kZWwiLCJjdXJyZW50VmFsdWVzIiwic2V0VmFsdWVzIiwiY3VyTWluVmFsdWUiLCJjdXJNYXhWYWx1ZSIsInNldEN1cnJlbnRNaW5WYWx1ZSIsInNldEN1cnJlbnRNYXhWYWx1ZSIsImdldENvbmZpZyIsImN1cnJlbnRNaW5WYWx1ZSIsImN1cnJlbnRNYXhWYWx1ZSIsInJlbmV3IiwiZ3JhZHVhdGlvbk9ic2VydmVyIiwicm91bmRPZmZzZXQiLCJ0cmFjayIsIm9mZnNldFZhbHVlQ29udmVydGVyIiwicm91bmRPZmZzZXRCdXR0IiwicnVubmVyTW92ZSIsInJ1bm5lckNoZWNrIiwicnVubmVyTWFpbiIsInJ1bm5lck9ic2VydmVyIiwib25SdW5uZXJNb3ZlIiwib2JqIiwicnVubmVyQWRkaXRpb25hbCIsInVwZGF0ZVByb2dyZXNzQmFyIiwiZ2V0TWFpblJ1bm5lck9mZnNldCIsImdldEFkZGl0aW9uYWxSdW5uZXJPZmZzZXQiLCJvbkNsaWNrQmFyIiwiY2xpZW50WSIsImNsaWVudFgiLCJiYXIiLCJvZmZzZXRQcm9jZXNzaW5nIiwicHJvZ3Jlc3NCYXIiLCJzY2FsZSIsIm9uY2xpY2siLCJvbkNsaWNrSGFuZGxlciIsImlubmVySFRNTCIsIm1hcmdpblRvcCIsIm1hcmdpbkxlZnQiLCJldmVudE1tIiwicnVubmVyT2Zmc2V0Q2hlY2siLCJuZXdPZmZzZXQiLCJzdGVwV2lkdGgiLCJtaW5PZmZzZXQiLCJjdXJyT2Zmc2V0IiwiY3VyclZhbHVlIiwic2V0RGltZW5zaW9uIiwiZGltZW5zaW9uIiwid2VicGFja0NvbnRleHQiLCJyZXEiLCJpZCIsIndlYnBhY2tDb250ZXh0UmVzb2x2ZSIsImUiLCJjb2RlIiwicmVzb2x2ZSIsIiQiLCJjb25maWciLCJtZXRob2RzIiwialF1ZXJ5Iiwib3B0IiwibmV3Q29uZmlnIiwic2xpZGVyIiwiZXh0ZW5kIiwiaW5wdXRzQXR0YWNoIiwibWluVmFsdWVJbiIsIm1heFZhbHVlSW4iLCJtYXgiLCJtaW4iLCJvbWZnc2xpZGVyIiwibWV0aG9kIiwiYXBwbHkiLCJBcnJheSIsInNsaWNlIiwiYXJndW1lbnRzIiwiZXJyb3IiLCJmb3JFYWNoIl0sIm1hcHBpbmdzIjoiYUFDRSxJQUFJQSxFQUFtQixHQUd2QixTQUFTQyxFQUFvQkMsR0FHNUIsR0FBR0YsRUFBaUJFLEdBQ25CLE9BQU9GLEVBQWlCRSxHQUFVQyxRQUduQyxJQUFJQyxFQUFTSixFQUFpQkUsR0FBWSxDQUN6Q0csRUFBR0gsRUFDSEksR0FBRyxFQUNISCxRQUFTLElBVVYsT0FOQUksRUFBUUwsR0FBVU0sS0FBS0osRUFBT0QsUUFBU0MsRUFBUUEsRUFBT0QsUUFBU0YsR0FHL0RHLEVBQU9FLEdBQUksRUFHSkYsRUFBT0QsUUFLZkYsRUFBb0JRLEVBQUlGLEVB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LEVBQUl2RCxZQUFhdUQsRUFBSXRELGNBR3hDMEQsYUFBYyxTQUFTSixHQUNyQixJQUFNRSxFQUFTTixFQUFFaEosTUFBTWEsS0FBSyxVQUM1QnlJLEVBQU9wSixhQUFZLFdBQ2pCa0osRUFBSUssV0FBV3hHLElBQUlxRyxFQUFPN0QsWUFBWVMsaUJBQ3RDa0QsRUFBSU0sV0FBV3pHLElBQUlxRyxFQUFPN0QsWUFBWVUsaUJBQ3RDaUQsRUFBSU8sSUFBSTFHLElBQUlxRyxFQUFPckQsWUFBWWpGLFVBQy9Cb0ksRUFBSVEsSUFBSTNHLElBQUlxRyxFQUFPckQsWUFBWWxGLFVBQy9CcUksRUFBSW5JLEtBQUtnQyxJQUFJcUcsRUFBT3JELFlBQVloRixXQUt0QytILEVBQUU3SSxHQUFHMEosV0FBYSxTQUFTQyxHQUN6QixPQUFJWixFQUFRWSxHQUNIWixFQUFRWSxHQUFRQyxNQUFNL0osS0FBTWdLLE1BQU0zSyxVQUFVNEssTUFBTXJNLEtBQUtzTSxVQUFXLElBQzlDLGlCQUFYSixHQUF3QkEsT0FHeENkLEVBQUVtQixNQUFNLFNBQVNMLEVBQU0sMENBRmhCWixFQUFRaEgsS0FBSzZILE1BQU0vSixLQUFNa0ssYSx1REN2RHZCLElDRUkzTCxFREZKLEtDRUlBLEVBSVQsT0FISmdILE9BQU82RSxRQUFRN0wiLCJmaWxlIjoiYnVuZGxlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuIFx0XHR9XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3RcbiBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3RcbiBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbiBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbiBcdFx0cmV0dXJuIG5zO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDE5KTtcbiIsImZ1bmN0aW9uIGNyZWF0ZUVsZW0oY2xhc3NOYW1lOiBzdHJpbmcpIDpIVE1MRWxlbWVudCB7XHJcbiAgY29uc3QgZWxlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gIGVsZW0ub25kcmFnc3RhcnQgPSAoKSA9PiBmYWxzZTtcclxuICBlbGVtLmNsYXNzTGlzdC5hZGQoY2xhc3NOYW1lKTtcclxuICByZXR1cm4gZWxlbTtcclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgY3JlYXRlRWxlbTsiLCJjbGFzcyBNYWtlT2JzZXJ2YWJsZU9iamVjdCB7XHJcbiAgb2JzZXJ2ZXJzOiBBcnJheTxGdW5jdGlvbj47XHJcblxyXG4gIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgdGhpcy5vYnNlcnZlcnMgPSBbXTtcclxuICB9XHJcblxyXG4gIGFkZE9ic2VydmVyIChmbjogRnVuY3Rpb24pOiB2b2lkIHtcclxuICAgIGlmICh0eXBlb2YgZm4gIT09ICdmdW5jdGlvbicpIHtcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKCdvYnNlcnZlciBtdXN0IGJlIGEgZnVuY3Rpb24nKTtcclxuICAgIH1cclxuICAgIHRoaXMub2JzZXJ2ZXJzLm1hcCgob2JzZXJ2ZXIpID0+IHtcclxuICAgICAgaWYgKG9ic2VydmVyID09PSBmbikge1xyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcignb2JzZXJ2ZXIgYWxyZWFkeSBpbiB0aGUgbGlzdCcpO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICAgIHRoaXMub2JzZXJ2ZXJzLnB1c2goZm4pO1xyXG4gIH1cclxuXHJcbiAgcmVtb3ZlT2JzZXJ2ZXIgKGZuOiBGdW5jdGlvbik6IHZvaWQge1xyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLm9ic2VydmVycy5sZW5ndGg7IGkrKykge1xyXG4gICAgICBjb25zdCBvYnNlcnZlciA9IHRoaXMub2JzZXJ2ZXJzW2ldO1xyXG4gICAgICBpZiAob2JzZXJ2ZXIgPT09IGZuKSB7XHJcbiAgICAgICAgdGhpcy5vYnNlcnZlcnMuc3BsaWNlKGksIDEpO1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgdGhyb3cgbmV3IEVycm9yKCdjb3VsZCBub3QgZmluZCBvYnNlcnZlciBpbiBsaXN0IG9mIG9ic2VydmVycycpO1xyXG4gIH1cclxuXHJcbiAgbm90aWZ5T2JzZXJ2ZXJzICgpOiB2b2lkIHtcclxuICAgIGNvbnN0IG9ic2VydmVyc1NuYXBzaG90ID0gWy4uLnRoaXMub2JzZXJ2ZXJzXTtcclxuICAgIG9ic2VydmVyc1NuYXBzaG90Lm1hcCgob2JzZXJ2ZXIpID0+IG9ic2VydmVyKCkpO1xyXG4gIH1cclxuXHJcbiAgbm90aWZ5T2JzZXJ2ZXJzRGF0YSAoZGF0YTogYW55KTogdm9pZCB7XHJcbiAgICBjb25zdCBvYnNlcnZlcnNTbmFwc2hvdCA9IFsuLi50aGlzLm9ic2VydmVyc107XHJcbiAgICBvYnNlcnZlcnNTbmFwc2hvdC5tYXAoKG9ic2VydmVyKSA9PiBvYnNlcnZlcihkYXRhKSk7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBNYWtlT2JzZXJ2YWJsZU9iamVjdDsiLCJpbXBvcnQgUnVubmVyIGZyb20gJy4vVmlldy9ibG9ja3MvcnVubmVyL1J1bm5lcic7XHJcbmltcG9ydCBCYXIgZnJvbSAnLi9WaWV3L2Jsb2Nrcy9iYXIvQmFyJztcclxuaW1wb3J0IFByb2dyZXNzQmFyIGZyb20gJy4vVmlldy9ibG9ja3MvcHJvZ3Jlc3NCYXIvUHJvZ3Jlc3NCYXInO1xyXG5cclxuXHJcbmV4cG9ydCB0eXBlIFJ1bm5lck1vdmVEYXRhID0ge1xyXG4gIHJ1bm5lcjogUnVubmVyLFxyXG4gIG9mZnNldDogbnVtYmVyLFxyXG4gIHZhbHVlOiBudW1iZXIsXHJcbn1cclxuXHJcbmV4cG9ydCB0eXBlIEN1cnJlbnRWYWx1ZXMgPSB7XHJcbiAgY3VycmVudE1pblZhbHVlOiBudW1iZXIsXHJcbiAgY3VycmVudE1heFZhbHVlOiBudW1iZXIsXHJcbn1cclxuXHJcbmV4cG9ydCB0eXBlIFJ1bm5lck9ic2VydmVyRGF0YSA9IHtcclxuICBldmVudDogTW91c2VFdmVudCxcclxuICBydW5uZXI6IFJ1bm5lcixcclxufVxyXG5cclxuZXhwb3J0IHR5cGUgUGFyYW1ldGVycyA9IHtcclxuICBtaW5WYWx1ZTogbnVtYmVyLFxyXG4gIG1heFZhbHVlOiBudW1iZXIsXHJcbiAgc3RlcDogbnVtYmVyLFxyXG4gIGlzUmFuZ2U6IGJvb2xlYW4sXHJcbiAgaXNWZXJ0aWNhbDogYm9vbGVhbixcclxuICBzaG93TGFiZWw6IGJvb2xlYW4sXHJcbiAgaXNGbG9hdDogYm9vbGVhblxyXG59XHJcblxyXG5leHBvcnQgdHlwZSBUcmFja0NvbnN0cnVjdG9yRGF0YSA9IHtcclxuICBydW5uZXJNYWluOiBSdW5uZXIsXHJcbiAgcnVubmVyQWRkaXRpb25hbDogUnVubmVyLFxyXG4gIGJhcjogQmFyLFxyXG4gIHByb2dyZXNzQmFyOiBQcm9ncmVzc0JhcixcclxuICBwYXJhbWV0ZXJzOiBQYXJhbWV0ZXJzO1xyXG59XHJcblxyXG5leHBvcnQgY29uc3QgZGVmYXVsdFBhcmFtZXRlcnMgPSB7XHJcbiAgbWluVmFsdWU6IDAsXHJcbiAgbWF4VmFsdWU6IDEwMDAsXHJcbiAgc3RlcDogMSxcclxuICBpc1JhbmdlOiBmYWxzZSxcclxuICBpc1ZlcnRpY2FsOiBmYWxzZSxcclxuICBzaG93TGFiZWw6IGZhbHNlLFxyXG4gIGlzRmxvYXQ6IGZhbHNlXHJcbn0iLCJjbGFzcyBQYXJzaW5nRGlnaXRzIHtcclxuICBzdGF0aWMgcGFyc2luZyA9IChpdGVtOiBzdHJpbmd8bnVtYmVyKTogbnVtYmVyfG51bGwgPT4ge1xyXG4gICAgaWYgKHR5cGVvZiBpdGVtID09PSAnbnVtYmVyJykgeyBcclxuICAgICAgcmV0dXJuIGl0ZW07XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHR5cGVvZiBpdGVtID09PSAnc3RyaW5nJykge1xyXG4gICAgICBpZiAoL14tP1xcZCtbXFwuLF1cXGQrJC8udGVzdChpdGVtKSkge1xyXG4gICAgICAgIHJldHVybiBwYXJzZUZsb2F0KGl0ZW0pO1xyXG4gICAgICB9IGVsc2UgaWYgKC9eLT9cXGQrJC8udGVzdChpdGVtKSkge1xyXG4gICAgICAgIHJldHVybiBwYXJzZUludChpdGVtKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBudWxsO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgUGFyc2luZ0RpZ2l0czsiLCJpbXBvcnQgY3JlYXRlRWxlbSBmcm9tICcuLi9jcmVhdGVFbGVtL2NyZWF0ZUVsZW0nO1xyXG5cclxuY2xhc3MgQmFyIHtcclxuICBlbGVtOiBIVE1MRWxlbWVudDtcclxuICBpc1ZlcnRpY2FsOiBib29sZWFuO1xyXG5cclxuICBjb25zdHJ1Y3Rvcihpc1ZlcnRpY2FsOiBib29sZWFuKSB7XHJcbiAgICB0aGlzLmVsZW0gPSBjcmVhdGVFbGVtKCdzbGlkZXJfX3NjYWxlJyk7XHJcbiAgICB0aGlzLmlzVmVydGljYWwgPSBpc1ZlcnRpY2FsO1xyXG4gIH1cclxuXHJcbiAgZ2V0UG9zaXRpb24gPSAoKTogbnVtYmVyID0+IHtcclxuICAgIGlmICh0aGlzLmlzVmVydGljYWwpIHtcclxuICAgICAgcmV0dXJuIHRoaXMuZWxlbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS50b3A7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHRoaXMuZWxlbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5sZWZ0O1xyXG4gIH1cclxuXHJcbiAgZ2V0RGltZW5zaW9uID0gKCk6IG51bWJlciA9PiB7XHJcbiAgICBpZiAodGhpcy5pc1ZlcnRpY2FsKSB7XHJcbiAgICAgIHJldHVybiB0aGlzLmVsZW0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkuaGVpZ2h0O1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB0aGlzLmVsZW0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkud2lkdGg7XHJcbiAgfVxyXG5cclxuICBpbml0ID0gKGlzVmVydGljYWw6IGJvb2xlYW4pOiB2b2lkID0+IHtcclxuICAgIHRoaXMuaXNWZXJ0aWNhbCA9IGlzVmVydGljYWw7XHJcblxyXG4gICAgaWYgKHRoaXMuaXNWZXJ0aWNhbCkge1xyXG4gICAgICB0aGlzLmVsZW0uY2xhc3NMaXN0LmFkZCgnc2xpZGVyX19zY2FsZV9wb3NpdGlvbl92ZXJ0aWNhbCcpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5lbGVtLmNsYXNzTGlzdC5yZW1vdmUoJ3NsaWRlcl9fc2NhbGVfcG9zaXRpb25fdmVydGljYWwnKTtcclxuICAgIH1cclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IEJhcjtcclxuIiwiaW1wb3J0ICogYXMgdHlwZXMgZnJvbSAnLi4vLi4vLi4vdHlwZXMnO1xyXG5pbXBvcnQgTWFyayBmcm9tIFwiLi4vbWFyay9NYXJrXCI7XHJcbmltcG9ydCBNYWtlT2JzZXJ2YWJsZU9iamVjdCBmcm9tICcuLi8uLi8uLi9tYWtlT2JzZXJ2YWJsZU9iamVjdC9NYWtlT2JzZXJ2YWJsZU9iamVjdCc7XHJcblxyXG5jbGFzcyBHcmFkdWF0aW9uIHtcclxuICBwYXJhbWV0ZXJzOiB0eXBlcy5QYXJhbWV0ZXJzO1xyXG5cclxuICBtYXJrczogQXJyYXk8TWFyaz47XHJcblxyXG4gIG9ic2VydmVyczogTWFrZU9ic2VydmFibGVPYmplY3Q7XHJcblxyXG4gIGNvbnN0cnVjdG9yKHBhcmFtZXRlcnM6IHR5cGVzLlBhcmFtZXRlcnMsIG9ic2VydmVyOiBGdW5jdGlvbikge1xyXG4gICAgdGhpcy5tYXJrcyA9IFtdO1xyXG4gICAgdGhpcy5wYXJhbWV0ZXJzID0gcGFyYW1ldGVycztcclxuICAgIHRoaXMuY3JlYXRlTWFya3MoKTtcclxuICAgIHRoaXMuaW5pdChwYXJhbWV0ZXJzKTtcclxuICAgIHRoaXMub2JzZXJ2ZXJzID0gbmV3IE1ha2VPYnNlcnZhYmxlT2JqZWN0KCk7XHJcbiAgICB0aGlzLm9ic2VydmVycy5hZGRPYnNlcnZlcihvYnNlcnZlcik7XHJcbiAgfVxyXG5cclxuICBpbml0ID0gKG9wdGlvbnM6IGFueSk6IHZvaWQgPT4ge1xyXG4gICAgdGhpcy5wYXJhbWV0ZXJzID0gb3B0aW9ucztcclxuICAgIHRoaXMubW92ZU1hcmtzKCk7XHJcbiAgfVxyXG5cclxuICBjcmVhdGVNYXJrcyA9ICgpOiB2b2lkID0+IHtcclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgNTsgaSsrKSB7XHJcbiAgICAgIGNvbnN0IG1hcmsgPSBuZXcgTWFyayh0aGlzLnBhcmFtZXRlcnMuaXNWZXJ0aWNhbCk7XHJcbiAgICAgIHRoaXMubWFya3MucHVzaChtYXJrKTtcclxuICAgICAgbWFyay5vYnNlcnZlcnMuYWRkT2JzZXJ2ZXIoKCkgPT4gdGhpcy5vbkNsaWNrTWFyayhtYXJrKSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBvbkNsaWNrTWFyayA9IChtYXJrOiBNYXJrKTogdm9pZCA9PiB7XHJcbiAgICB0aGlzLm9ic2VydmVycy5ub3RpZnlPYnNlcnZlcnNEYXRhKG1hcmsudmFsdWUpO1xyXG4gIH1cclxuXHJcbiAgbW92ZU1hcmtzID0gKCk6IHZvaWQgPT4ge1xyXG4gICAgdGhpcy5tYXJrcy5tYXAoKG1hcmssIGluZGV4KSA9PiB7XHJcbiAgICAgIG1hcmsuaW5pdCh0aGlzLnBhcmFtZXRlcnMuaXNWZXJ0aWNhbCk7XHJcbiAgICAgIGlmIChpbmRleCA9PT0gdGhpcy5tYXJrcy5sZW5ndGggLSAxKSB7XHJcbiAgICAgICAgbWFyay5zZXRQb3NpdGlvbigxMDAsIHRoaXMucGFyYW1ldGVycy5tYXhWYWx1ZSk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgY29uc3Qgcm91bmRWYWx1ZSA9IHRoaXMucm91bmQoKHRoaXMucGFyYW1ldGVycy5tYXhWYWx1ZSAtIHRoaXMucGFyYW1ldGVycy5taW5WYWx1ZSkvKHRoaXMubWFya3MubGVuZ3RoIC0gMSkqaW5kZXgpO1xyXG4gICAgICAgIGxldCB2YWx1ZSA9IHRoaXMucGFyYW1ldGVycy5taW5WYWx1ZSArIHJvdW5kVmFsdWU7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLnBhcmFtZXRlcnMuaXNGbG9hdCkge1xyXG4gICAgICAgICAgdmFsdWUgPSBwYXJzZUZsb2F0KHZhbHVlLnRvRml4ZWQoMikpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3Qgb2Zmc2V0ID0gcm91bmRWYWx1ZS8odGhpcy5wYXJhbWV0ZXJzLm1heFZhbHVlIC0gdGhpcy5wYXJhbWV0ZXJzLm1pblZhbHVlKTtcclxuICAgICAgICBtYXJrLnNldFBvc2l0aW9uKG9mZnNldCoxMDAsIHZhbHVlKTtcclxuICAgICAgfVxyXG4gICAgfSlcclxuICB9XHJcblxyXG4gIHJvdW5kID0gKHZhbDogbnVtYmVyKTogbnVtYmVyID0+IHtcclxuICAgIGNvbnN0IHdob2xlID0gTWF0aC50cnVuYyh2YWwvdGhpcy5wYXJhbWV0ZXJzLnN0ZXApO1xyXG5cclxuICAgIGNvbnN0IHJlbWluZGVyID0gKyh2YWwgLSB3aG9sZSp0aGlzLnBhcmFtZXRlcnMuc3RlcCkudG9GaXhlZCgyKTtcclxuICAgIGlmICh2YWwgPCAwKSB7XHJcbiAgICAgIHJldHVybiBNYXRoLmFicyhyZW1pbmRlcikgPCB0aGlzLnBhcmFtZXRlcnMuc3RlcC8yID8gd2hvbGUqdGhpcy5wYXJhbWV0ZXJzLnN0ZXAgOiAod2hvbGUgLSAxKSp0aGlzLnBhcmFtZXRlcnMuc3RlcDtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gcmVtaW5kZXIgPCB0aGlzLnBhcmFtZXRlcnMuc3RlcC8yID8gd2hvbGUqdGhpcy5wYXJhbWV0ZXJzLnN0ZXAgOiAod2hvbGUgKyAxKSp0aGlzLnBhcmFtZXRlcnMuc3RlcDtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IEdyYWR1YXRpb247IiwiaW1wb3J0IEJ1dHRvbiBmcm9tIFwiLi4vLi4vYmxvY2tzL2J1dHRvbi9CdXR0b25cIjtcclxuaW1wb3J0IExhYmVsIGZyb20gXCIuLi8uLi9ibG9ja3MvbGFiZWwvTGFiZWxcIjtcclxuaW1wb3J0IE1ha2VPYnNlcnZhYmxlT2JqZWN0IGZyb20gJy4uLy4uLy4uL21ha2VPYnNlcnZhYmxlT2JqZWN0L01ha2VPYnNlcnZhYmxlT2JqZWN0JztcclxuXHJcbmNsYXNzIFJ1bm5lciB7XHJcbiAgYnV0dG9uOiBCdXR0b247XHJcbiAgbGFiZWw6IExhYmVsO1xyXG4gIGlzVmVydGljYWw6IGJvb2xlYW47XHJcbiAgb2JzZXJ2ZXJzOiBNYWtlT2JzZXJ2YWJsZU9iamVjdDtcclxuXHJcbiAgY29uc3RydWN0b3IoaXNWZXJ0aWNhbDogYm9vbGVhbiwgbW92ZU9ic2VydmVyOiBGdW5jdGlvbikge1xyXG4gICAgdGhpcy5pc1ZlcnRpY2FsID0gaXNWZXJ0aWNhbDtcclxuICAgIHRoaXMuYnV0dG9uID0gbmV3IEJ1dHRvbihpc1ZlcnRpY2FsKTtcclxuICAgIHRoaXMubGFiZWwgPSBuZXcgTGFiZWwoaXNWZXJ0aWNhbCk7XHJcbiAgICB0aGlzLm9ic2VydmVycyA9IG5ldyBNYWtlT2JzZXJ2YWJsZU9iamVjdCgpO1xyXG4gICAgdGhpcy5vYnNlcnZlcnMuYWRkT2JzZXJ2ZXIobW92ZU9ic2VydmVyKTtcclxuICB9XHJcblxyXG4gIGdldFBvc2l0aW9uID0gKCk6IG51bWJlciA9PiB7XHJcbiAgICByZXR1cm4gdGhpcy5idXR0b24uZ2V0UG9zaXRpb24oKTtcclxuICB9XHJcblxyXG4gIHNldFBvc2l0aW9uID0gKG9mZnNldDogbnVtYmVyLCB2YWx1ZTogbnVtYmVyKTogdm9pZCA9PiB7XHJcbiAgICB0aGlzLmxhYmVsLnNldFBvc2l0aW9uKG9mZnNldCArIHRoaXMuYnV0dG9uLmdldFdpZHRoKCkvMiwgdmFsdWUpO1xyXG4gICAgdGhpcy5idXR0b24uc2V0UG9zaXRpb24ob2Zmc2V0KTtcclxuICB9XHJcblxyXG4gIGluaXQgPSAoaXNWZXJ0aWNhbDogYm9vbGVhbik6IHZvaWQgPT4ge1xyXG4gICAgdGhpcy5idXR0b24uaW5pdChpc1ZlcnRpY2FsKTtcclxuICAgIHRoaXMubGFiZWwuaW5pdChpc1ZlcnRpY2FsKTtcclxuICB9XHJcblxyXG4gIGdldFdpZHRoID0gKCk6IG51bWJlciA9PiB7XHJcbiAgICByZXR1cm4gdGhpcy5idXR0b24uZ2V0V2lkdGgoKTtcclxuICB9XHJcblxyXG4gIGhpZGUgPSAoKTogdm9pZCA9PiB7XHJcbiAgICB0aGlzLmJ1dHRvbi5lbGVtLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcclxuICAgIHRoaXMubGFiZWwuZWxlbS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XHJcbiAgfVxyXG5cclxuICBoaWRlTGFiZWwgPSAoKTogdm9pZCA9PiB7XHJcbiAgICB0aGlzLmxhYmVsLmVsZW0uc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xyXG4gIH1cclxuXHJcbiAgc2hvd0xhYmVsID0gKCk6IHZvaWQgPT4ge1xyXG4gICAgdGhpcy5sYWJlbC5lbGVtLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XHJcbiAgfVxyXG5cclxuICBzaG93ID0gKCk6IHZvaWQgPT4ge1xyXG4gICAgdGhpcy5idXR0b24uZWxlbS5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xyXG4gIH1cclxuXHJcbiAgb25Nb3VzZURvd24gPSAoZXZlbnQ6IE1vdXNlRXZlbnQpOiB2b2lkID0+IHtcclxuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vtb3ZlXCIsIHRoaXMub25Nb3VzZU1vdmUpO1xyXG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNldXBcIiwgdGhpcy5vbk1vdXNlVXApO1xyXG4gIH1cclxuXHJcbiAgb25Nb3VzZU1vdmUgPSAoZXZlbnQ6IE1vdXNlRXZlbnQpOiB2b2lkID0+IHtcclxuICAgIHRoaXMub2JzZXJ2ZXJzLm5vdGlmeU9ic2VydmVyc0RhdGEoeyBldmVudDogZXZlbnQsIHJ1bm5lcjogdGhpcyB9KTtcclxuICB9XHJcblxyXG4gIG9uTW91c2VVcCA9IChldmVudDogTW91c2VFdmVudCk6IHZvaWQgPT4ge1xyXG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1vdXNldXBcIiwgdGhpcy5vbk1vdXNlVXApO1xyXG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1vdXNlbW92ZVwiLCB0aGlzLm9uTW91c2VNb3ZlKTtcclxuICB9XHJcblxyXG4gIGFwcGVuZCA9IChlbnRyeTogSFRNTEVsZW1lbnQpOiB2b2lkID0+IHtcclxuICAgIFt0aGlzLmJ1dHRvbi5lbGVtLCB0aGlzLmxhYmVsLmVsZW1dLm1hcCgoZWxlbSkgPT4ge1xyXG4gICAgICBlbnRyeS5hcHBlbmRDaGlsZChlbGVtKTtcclxuICAgICAgZWxlbS5vbm1vdXNlZG93biA9IHRoaXMub25Nb3VzZURvd247XHJcbiAgICB9KVxyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgUnVubmVyOyIsImltcG9ydCAqIGFzIHR5cGVzIGZyb20gJy4uL3R5cGVzJztcclxuaW1wb3J0IHsgVmlldyB9IGZyb20gJy4uL1ZpZXcvVmlldyc7XHJcbmltcG9ydCBNb2RlbCBmcm9tICcuLi9Nb2RlbC9Nb2RlbCc7XHJcbmltcG9ydCBNYWtlT2JzZXJ2YWJsZU9iamVjdCBmcm9tICcuLi9tYWtlT2JzZXJ2YWJsZU9iamVjdC9NYWtlT2JzZXJ2YWJsZU9iamVjdCc7XHJcbmltcG9ydCBQYXJzaW5nRGlnaXRzIGZyb20gXCIuL2Jsb2Nrcy9wYXJzaW5nRGlnaXRzL1BhcnNpbmdEaWdpdHNcIjtcclxuXHJcbmNsYXNzIENvbnRyb2xsZXIge1xyXG4gIHZpZXc6IFZpZXc7XHJcblxyXG4gIG1vZGVsOiBNb2RlbDtcclxuXHJcbiAgb2JzZXJ2ZXJzOiBNYWtlT2JzZXJ2YWJsZU9iamVjdDtcclxuXHJcbiAgY29uc3RydWN0b3IocGFyYW1ldGVycyA9IHR5cGVzLmRlZmF1bHRQYXJhbWV0ZXJzKSB7XHJcbiAgICB0aGlzLnZpZXcgPSBuZXcgVmlldyhwYXJhbWV0ZXJzKTtcclxuICAgIHRoaXMubW9kZWwgPSBuZXcgTW9kZWwoeyBjdXJyZW50TWluVmFsdWU6IHBhcmFtZXRlcnMubWluVmFsdWUsIGN1cnJlbnRNYXhWYWx1ZTogcGFyYW1ldGVycy5tYXhWYWx1ZSB9KTtcclxuICAgIHRoaXMub2JzZXJ2ZXJzID0gbmV3IE1ha2VPYnNlcnZhYmxlT2JqZWN0KCk7XHJcblxyXG4gICAgdGhpcy52aWV3Lm9ic2VydmVycy5hZGRPYnNlcnZlcigoKSA9PiB7XHJcbiAgICAgIHRoaXMubW9kZWwuY3VycmVudFZhbHVlcyA9IHRoaXMudmlldy5jdXJyZW50VmFsdWVzO1xyXG4gICAgICB0aGlzLm9ic2VydmVycy5ub3RpZnlPYnNlcnZlcnMoKTtcclxuICAgIH0pO1xyXG5cclxuICAgIHRoaXMubW9kZWwub2JzZXJ2ZXJzLmFkZE9ic2VydmVyKCgpID0+IHtcclxuICAgICAgdGhpcy52aWV3LmN1cnJlbnRWYWx1ZXMgPSB0aGlzLm1vZGVsLmN1cnJlbnRWYWx1ZXM7XHJcbiAgICAgIHRoaXMudmlldy5yZW5ldygpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBhcHBlbmQgPSAoZW50cnk6IEpRdWVyeSk6IHZvaWQgPT4ge1xyXG4gICAgdGhpcy52aWV3LmFwcGVuZChlbnRyeS5nZXQoMCkpO1xyXG4gICAgdGhpcy52aWV3LmluaXQoKTtcclxuICB9XHJcblxyXG4gIGNoZWNrU3RlcCA9IChzdGVwOiBzdHJpbmcpOiBudW1iZXIgPT4ge1xyXG4gICAgbGV0IHN0ZXBNb2QgPSBNYXRoLmFicyhQYXJzaW5nRGlnaXRzLnBhcnNpbmcoc3RlcCkpO1xyXG5cclxuICAgIGlmIChzdGVwTW9kID09PSBudWxsIHx8IHN0ZXBNb2QgPT09IDAgfHwgc3RlcE1vZCA+ICh0aGlzLnZpZXcucGFyYW1ldGVycy5tYXhWYWx1ZSAtIHRoaXMudmlldy5wYXJhbWV0ZXJzLm1pblZhbHVlKS8yKSB7XHJcbiAgICAgIGNvbnNvbGUubG9nKCdXcm9uZyB2YWx1ZSBvZiB0aGUgc3RlcCcpO1xyXG4gICAgICByZXR1cm4gdGhpcy52aWV3LnBhcmFtZXRlcnMuc3RlcDtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoc3RlcE1vZCAlIDEgIT09IDApIHtcclxuICAgICAgdGhpcy52aWV3LnBhcmFtZXRlcnMuaXNGbG9hdCA9IHRydWU7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBpZiAodGhpcy52aWV3LnBhcmFtZXRlcnMubWF4VmFsdWUgJSAxID09PSAwICYmIHRoaXMudmlldy5wYXJhbWV0ZXJzLm1pblZhbHVlICUgMSA9PT0gMCkge1xyXG4gICAgICAgIHRoaXMudmlldy5wYXJhbWV0ZXJzLmlzRmxvYXQgPSBmYWxzZTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBzdGVwTW9kO1xyXG4gIH1cclxuXHJcbiAgY2hlY2tNYXhWYWx1ZSA9IChtYXhWYWx1ZTogc3RyaW5nKTogbnVtYmVyID0+IHtcclxuICAgIGxldCBtYXhWYWx1ZU1vZCA9IFBhcnNpbmdEaWdpdHMucGFyc2luZyhtYXhWYWx1ZSk7XHJcblxyXG4gICAgaWYgKG1heFZhbHVlTW9kID09PSBudWxsIHx8IG1heFZhbHVlTW9kIDw9IHRoaXMudmlldy5wYXJhbWV0ZXJzLm1pblZhbHVlKSB7XHJcbiAgICAgIGNvbnNvbGUubG9nKCdXcm9uZyB2YWx1ZSBvZiB0aGUgbWF4VmFsdWUnKTtcclxuICAgICAgcmV0dXJuIHRoaXMudmlldy5wYXJhbWV0ZXJzLm1heFZhbHVlO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChtYXhWYWx1ZU1vZCAlIDEgIT09IDApIHtcclxuICAgICAgdGhpcy52aWV3LnBhcmFtZXRlcnMuaXNGbG9hdCA9IHRydWU7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBpZiAodGhpcy52aWV3LnBhcmFtZXRlcnMuc3RlcCAlIDEgPT09IDAgJiYgdGhpcy52aWV3LnBhcmFtZXRlcnMubWluVmFsdWUgJSAxID09PSAwKSB7XHJcbiAgICAgICAgdGhpcy52aWV3LnBhcmFtZXRlcnMuaXNGbG9hdCA9IGZhbHNlO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIG1heFZhbHVlTW9kO1xyXG4gIH1cclxuXHJcbiAgY2hlY2tNaW5WYWx1ZSA9IChtaW5WYWx1ZTogc3RyaW5nKTogbnVtYmVyID0+IHtcclxuICAgIGxldCBtaW5WYWx1ZU1vZCA9IFBhcnNpbmdEaWdpdHMucGFyc2luZyhtaW5WYWx1ZSk7XHJcblxyXG4gICAgaWYgKG1pblZhbHVlTW9kID09PSBudWxsIHx8IG1pblZhbHVlTW9kID49IHRoaXMudmlldy5wYXJhbWV0ZXJzLm1heFZhbHVlKSB7XHJcbiAgICAgIGNvbnNvbGUubG9nKCdXcm9uZyB2YWx1ZSBvZiB0aGUgbWluVmFsdWUnKTtcclxuICAgICAgcmV0dXJuIHRoaXMudmlldy5wYXJhbWV0ZXJzLm1pblZhbHVlO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChtaW5WYWx1ZU1vZCAlIDEgIT09IDApIHtcclxuICAgICAgdGhpcy52aWV3LnBhcmFtZXRlcnMuaXNGbG9hdCA9IHRydWU7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBpZiAodGhpcy52aWV3LnBhcmFtZXRlcnMubWF4VmFsdWUgJSAxID09PSAwICYmIHRoaXMudmlldy5wYXJhbWV0ZXJzLnN0ZXAgJSAxID09PSAwKSB7XHJcbiAgICAgICAgdGhpcy52aWV3LnBhcmFtZXRlcnMuaXNGbG9hdCA9IGZhbHNlO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIG1pblZhbHVlTW9kO1xyXG4gIH1cclxuXHJcbiAgdXBkYXRlID0gKGFyZ3M6IGFueSk6IHZvaWQgPT4ge1xyXG4gICAgT2JqZWN0LmtleXMoYXJncykubWFwKChrZXkpID0+IHtcclxuICAgICAgaWYgKGtleSA9PT0gJ3N0ZXAnKSB7XHJcbiAgICAgICAgYXJncy5zdGVwID0gdGhpcy5jaGVja1N0ZXAoYXJncy5zdGVwKTtcclxuICAgICAgfSBlbHNlIGlmIChrZXkgPT09ICdtYXhWYWx1ZScpIHtcclxuICAgICAgICBhcmdzLm1heFZhbHVlID0gdGhpcy5jaGVja01heFZhbHVlKGFyZ3MubWF4VmFsdWUpO1xyXG4gICAgICB9IGVsc2UgaWYgKGtleSA9PT0gJ21pblZhbHVlJykge1xyXG4gICAgICAgIGFyZ3MubWluVmFsdWUgPSB0aGlzLmNoZWNrTWF4VmFsdWUoYXJncy5taW5WYWx1ZSk7XHJcbiAgICAgIH1cclxuICAgIH0pXHJcblxyXG4gICAgdGhpcy52aWV3LnBhcmFtZXRlcnMgPSBPYmplY3QuYXNzaWduKHRoaXMudmlldy5wYXJhbWV0ZXJzLCBhcmdzKTtcclxuXHJcbiAgICB0aGlzLnZpZXcuaW5pdCgpO1xyXG4gIH1cclxuXHJcbiAgZ2V0VmFsdWVzID0gKCk6IHR5cGVzLkN1cnJlbnRWYWx1ZXMgPT4ge1xyXG4gICAgcmV0dXJuIHRoaXMubW9kZWwuY3VycmVudFZhbHVlcztcclxuICB9XHJcblxyXG4gIHNldFZhbHVlcyA9IChjdXJNaW5WYWx1ZTogbnVtYmVyLCBjdXJNYXhWYWx1ZTogbnVtYmVyKTogdm9pZCA9PiB7XHJcbiAgICBpZiAoY3VyTWluVmFsdWUpIHtcclxuICAgICAgdGhpcy5tb2RlbC5zZXRDdXJyZW50TWluVmFsdWUoY3VyTWluVmFsdWUpO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChjdXJNYXhWYWx1ZSkge1xyXG4gICAgICB0aGlzLm1vZGVsLnNldEN1cnJlbnRNYXhWYWx1ZShjdXJNYXhWYWx1ZSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBnZXRDb25maWcgPSAoKTogdHlwZXMuUGFyYW1ldGVycyA9PiB7XHJcbiAgICByZXR1cm4gdGhpcy52aWV3LnBhcmFtZXRlcnM7XHJcbiAgfVxyXG5cclxuICBhZGRPYnNlcnZlciA9IChmbjogRnVuY3Rpb24pOiB2b2lkID0+IHtcclxuICAgIHRoaXMub2JzZXJ2ZXJzLmFkZE9ic2VydmVyKGZuKTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IENvbnRyb2xsZXI7IiwiaW1wb3J0ICogYXMgdHlwZXMgZnJvbSAnLi4vdHlwZXMnO1xyXG5pbXBvcnQgTWFrZU9ic2VydmFibGVPYmplY3QgZnJvbSAnLi4vbWFrZU9ic2VydmFibGVPYmplY3QvTWFrZU9ic2VydmFibGVPYmplY3QnO1xyXG5pbXBvcnQgY3JlYXRlRWxlbSBmcm9tICcuL2Jsb2Nrcy9jcmVhdGVFbGVtL2NyZWF0ZUVsZW0nO1xyXG5pbXBvcnQgQmFyIGZyb20gJy4vYmxvY2tzL2Jhci9CYXInO1xyXG5pbXBvcnQgU2NhbGUgZnJvbSAnLi9ibG9ja3Mvc2NhbGUvU2NhbGUnO1xyXG5pbXBvcnQgUnVubmVyIGZyb20gJy4vYmxvY2tzL3J1bm5lci9SdW5uZXInO1xyXG5pbXBvcnQgVHJhY2sgZnJvbSAnLi9ibG9ja3MvdHJhY2svVHJhY2snO1xyXG5pbXBvcnQgUHJvZ3Jlc3NCYXIgZnJvbSAnLi9ibG9ja3MvcHJvZ3Jlc3NCYXIvUHJvZ3Jlc3NCYXInO1xyXG5cclxuY2xhc3MgVmlldyB7XHJcbiAgYmFyOiBCYXI7XHJcbiAgcHJvZ3Jlc3NCYXI6IFByb2dyZXNzQmFyO1xyXG4gIHJ1bm5lckFkZGl0aW9uYWw6IFJ1bm5lcjtcclxuICBydW5uZXJNYWluOiBSdW5uZXI7XHJcbiAgcGFyYW1ldGVyczogdHlwZXMuUGFyYW1ldGVycztcclxuICBjdXJyZW50VmFsdWVzOiB0eXBlcy5DdXJyZW50VmFsdWVzO1xyXG4gIG9ic2VydmVyczogTWFrZU9ic2VydmFibGVPYmplY3Q7XHJcbiAgc2NhbGU6IFNjYWxlO1xyXG4gIHRyYWNrOiBUcmFjaztcclxuXHJcbiAgY29uc3RydWN0b3IocGFyYW1ldGVycyA9IHR5cGVzLmRlZmF1bHRQYXJhbWV0ZXJzKSB7XHJcbiAgICB0aGlzLmJhciA9IG5ldyBCYXIocGFyYW1ldGVycy5pc1ZlcnRpY2FsKTtcclxuICAgIHRoaXMucHJvZ3Jlc3NCYXIgPSBuZXcgUHJvZ3Jlc3NCYXIocGFyYW1ldGVycy5pc1ZlcnRpY2FsKTtcclxuICAgIHRoaXMuY3VycmVudFZhbHVlcyA9IHtcclxuICAgICAgY3VycmVudE1pblZhbHVlOiBwYXJhbWV0ZXJzLm1pblZhbHVlLFxyXG4gICAgICBjdXJyZW50TWF4VmFsdWU6IHBhcmFtZXRlcnMubWF4VmFsdWUsXHJcbiAgICB9XHJcbiAgICB0aGlzLm9ic2VydmVycyA9IG5ldyBNYWtlT2JzZXJ2YWJsZU9iamVjdCgpO1xyXG4gICAgdGhpcy5wYXJhbWV0ZXJzID0gcGFyYW1ldGVycztcclxuXHJcbiAgICB0aGlzLnNjYWxlID0gbmV3IFNjYWxlKHBhcmFtZXRlcnMsIHRoaXMuZ3JhZHVhdGlvbk9ic2VydmVyKTtcclxuICAgIHRoaXMucnVubmVyQWRkaXRpb25hbCA9IG5ldyBSdW5uZXIocGFyYW1ldGVycy5pc1ZlcnRpY2FsLCB0aGlzLnJ1bm5lck9ic2VydmVyKTtcclxuICAgIHRoaXMucnVubmVyTWFpbiA9IG5ldyBSdW5uZXIocGFyYW1ldGVycy5pc1ZlcnRpY2FsLCB0aGlzLnJ1bm5lck9ic2VydmVyKTtcclxuXHJcbiAgICB0aGlzLnRyYWNrID0gbmV3IFRyYWNrKHtcclxuICAgICAgcnVubmVyTWFpbjogdGhpcy5ydW5uZXJNYWluLFxyXG4gICAgICBydW5uZXJBZGRpdGlvbmFsOiB0aGlzLnJ1bm5lckFkZGl0aW9uYWwsXHJcbiAgICAgIHByb2dyZXNzQmFyOiB0aGlzLnByb2dyZXNzQmFyLFxyXG4gICAgICBiYXI6IHRoaXMuYmFyLFxyXG4gICAgICBwYXJhbWV0ZXJzOiB0aGlzLnBhcmFtZXRlcnMsXHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGdyYWR1YXRpb25PYnNlcnZlciA9ICh2YWx1ZTogbnVtYmVyKSA9PiB7XHJcbiAgICBsZXQgb2Zmc2V0ID0gdGhpcy50cmFjay5vZmZzZXRWYWx1ZUNvbnZlcnRlcih2YWx1ZSk7XHJcbiAgICBsZXQgcm91bmRPZmZzZXQsIHJvdW5kVmFsdWU7XHJcbiAgICBbcm91bmRPZmZzZXQsIHJvdW5kVmFsdWVdID0gdGhpcy50cmFjay5yb3VuZE9mZnNldEJ1dHQob2Zmc2V0KTtcclxuXHJcbiAgICBpZiAodGhpcy5wYXJhbWV0ZXJzLmlzUmFuZ2UpIHtcclxuICAgICAgdGhpcy5ydW5uZXJNb3ZlKHtcclxuICAgICAgICBydW5uZXI6IHRoaXMucnVubmVyQ2hlY2sob2Zmc2V0KSxcclxuICAgICAgICBvZmZzZXQ6IHJvdW5kT2Zmc2V0LFxyXG4gICAgICAgIHZhbHVlOiByb3VuZFZhbHVlXHJcbiAgICAgIH0pO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5ydW5uZXJNb3ZlKHtcclxuICAgICAgICBydW5uZXI6IHRoaXMucnVubmVyTWFpbixcclxuICAgICAgICBvZmZzZXQ6IHJvdW5kT2Zmc2V0LFxyXG4gICAgICAgIHZhbHVlOiByb3VuZFZhbHVlXHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcnVubmVyT2JzZXJ2ZXIgPSAoeyBldmVudCwgcnVubmVyIH06IHR5cGVzLlJ1bm5lck9ic2VydmVyRGF0YSk6IHZvaWQgPT4ge1xyXG4gICAgdGhpcy5ydW5uZXJNb3ZlKHRoaXMudHJhY2sub25SdW5uZXJNb3ZlKGV2ZW50LCBydW5uZXIpKTtcclxuICB9XHJcblxyXG4gIHJ1bm5lck1vdmUgPSAob2JqOiB0eXBlcy5SdW5uZXJNb3ZlRGF0YSk6IHZvaWQgPT4ge1xyXG4gICAgb2JqLnJ1bm5lci5zZXRQb3NpdGlvbihvYmoub2Zmc2V0LCBvYmoudmFsdWUpO1xyXG5cclxuICAgIGlmIChvYmoucnVubmVyID09PSB0aGlzLnJ1bm5lckFkZGl0aW9uYWwpIHtcclxuICAgICAgdGhpcy5jdXJyZW50VmFsdWVzLmN1cnJlbnRNaW5WYWx1ZSA9IG9iai52YWx1ZTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAob2JqLnJ1bm5lciA9PT0gdGhpcy5ydW5uZXJNYWluKSB7XHJcbiAgICAgIHRoaXMuY3VycmVudFZhbHVlcy5jdXJyZW50TWF4VmFsdWUgPSBvYmoudmFsdWU7XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy50cmFjay51cGRhdGVQcm9ncmVzc0JhcigpO1xyXG4gICAgdGhpcy5vYnNlcnZlcnMubm90aWZ5T2JzZXJ2ZXJzKCk7XHJcbiAgfVxyXG5cclxuICBydW5uZXJDaGVjayA9IChvZmZzZXQ6IG51bWJlcik6IFJ1bm5lciA9PiB7XHJcbiAgICBpZiAoTWF0aC5hYnMob2Zmc2V0IC0gdGhpcy50cmFjay5nZXRNYWluUnVubmVyT2Zmc2V0KCkpIDwgTWF0aC5hYnMob2Zmc2V0IC0gdGhpcy50cmFjay5nZXRBZGRpdGlvbmFsUnVubmVyT2Zmc2V0KCkpKSB7XHJcbiAgICAgIHJldHVybiB0aGlzLnJ1bm5lckFkZGl0aW9uYWw7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHRoaXMucnVubmVyTWFpbjtcclxuICB9XHJcblxyXG4gIG9uQ2xpY2tCYXIgPSAoZXZlbnQ6IE1vdXNlRXZlbnQpOiB2b2lkID0+IHtcclxuICAgIGNvbnN0IGNvb3JkaW5hdGUgPSB0aGlzLnBhcmFtZXRlcnMuaXNWZXJ0aWNhbCA/IGV2ZW50LmNsaWVudFkgOiBldmVudC5jbGllbnRYO1xyXG4gICAgY29uc3Qgb2Zmc2V0ID0gY29vcmRpbmF0ZSAtIHRoaXMuYmFyLmdldFBvc2l0aW9uKCkgLSB0aGlzLnJ1bm5lck1haW4uZ2V0V2lkdGgoKS8yO1xyXG5cclxuICAgIHRoaXMucnVubmVyTW92ZSh0aGlzLnRyYWNrLm9mZnNldFByb2Nlc3Npbmcob2Zmc2V0LCB0aGlzLnJ1bm5lckNoZWNrKG9mZnNldCkpKTtcclxuICB9XHJcblxyXG4gIGluaXQgPSAoKTogdm9pZCA9PiB7XHJcbiAgICB0aGlzLmJhci5pbml0KHRoaXMucGFyYW1ldGVycy5pc1ZlcnRpY2FsKTtcclxuICAgIHRoaXMucHJvZ3Jlc3NCYXIuaW5pdCh0aGlzLnBhcmFtZXRlcnMuaXNWZXJ0aWNhbCk7XHJcbiAgICB0aGlzLnJ1bm5lckFkZGl0aW9uYWwuaW5pdCh0aGlzLnBhcmFtZXRlcnMuaXNWZXJ0aWNhbCk7XHJcbiAgICB0aGlzLnJ1bm5lck1haW4uaW5pdCh0aGlzLnBhcmFtZXRlcnMuaXNWZXJ0aWNhbCk7XHJcbiAgICB0aGlzLnRyYWNrLmluaXQodGhpcy5wYXJhbWV0ZXJzKTtcclxuXHJcbiAgICB0aGlzLnNjYWxlLmluaXQodGhpcy5wYXJhbWV0ZXJzKTtcclxuXHJcbiAgICB0aGlzLnJ1bm5lckFkZGl0aW9uYWwuaGlkZSgpO1xyXG5cclxuICAgIGlmICh0aGlzLnBhcmFtZXRlcnMuc2hvd0xhYmVsKSB7XHJcbiAgICAgIHRoaXMucnVubmVyQWRkaXRpb25hbC5zaG93TGFiZWwoKTtcclxuICAgICAgdGhpcy5ydW5uZXJNYWluLnNob3dMYWJlbCgpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5ydW5uZXJBZGRpdGlvbmFsLmhpZGVMYWJlbCgpO1xyXG4gICAgICB0aGlzLnJ1bm5lck1haW4uaGlkZUxhYmVsKCk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHRoaXMucGFyYW1ldGVycy5pc1JhbmdlKSB7XHJcbiAgICAgIHRoaXMucnVubmVyQWRkaXRpb25hbC5zaG93KCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLnJ1bm5lckFkZGl0aW9uYWwuaGlkZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXMucnVubmVyQWRkaXRpb25hbC5zZXRQb3NpdGlvbigtdGhpcy5ydW5uZXJBZGRpdGlvbmFsLmdldFdpZHRoKCkvMiwgdGhpcy5wYXJhbWV0ZXJzLm1pblZhbHVlKTtcclxuICAgIHRoaXMucnVubmVyTWFpbi5zZXRQb3NpdGlvbih0aGlzLmJhci5nZXREaW1lbnNpb24oKSAtIHRoaXMucnVubmVyTWFpbi5nZXRXaWR0aCgpLzIsIHRoaXMucGFyYW1ldGVycy5tYXhWYWx1ZSk7XHJcblxyXG4gICAgdGhpcy5yZW5ldygpO1xyXG4gIH1cclxuXHJcbiAgcmVuZXcoKSB7XHJcbiAgICB0aGlzLnJ1bm5lck1vdmUodGhpcy50cmFjay5vZmZzZXRQcm9jZXNzaW5nKHRoaXMudHJhY2sub2Zmc2V0VmFsdWVDb252ZXJ0ZXIodGhpcy5jdXJyZW50VmFsdWVzLmN1cnJlbnRNYXhWYWx1ZSksIHRoaXMucnVubmVyTWFpbikpO1xyXG4gICAgdGhpcy5ydW5uZXJNb3ZlKHRoaXMudHJhY2sub2Zmc2V0UHJvY2Vzc2luZyh0aGlzLnRyYWNrLm9mZnNldFZhbHVlQ29udmVydGVyKHRoaXMuY3VycmVudFZhbHVlcy5jdXJyZW50TWluVmFsdWUpLCB0aGlzLnJ1bm5lckFkZGl0aW9uYWwpKTtcclxuICB9XHJcblxyXG4gIGFwcGVuZCA9IChlbnRyeTogSFRNTEVsZW1lbnQpOiB2b2lkID0+IHtcclxuICAgIGVudHJ5LmFwcGVuZENoaWxkKHRoaXMuYmFyLmVsZW0pLmFwcGVuZENoaWxkKHRoaXMucHJvZ3Jlc3NCYXIuZWxlbSk7XHJcbiAgICB0aGlzLnJ1bm5lck1haW4uYXBwZW5kKGVudHJ5KTtcclxuICAgIHRoaXMucnVubmVyQWRkaXRpb25hbC5hcHBlbmQoZW50cnkpO1xyXG5cclxuICAgIHRoaXMuc2NhbGUubWFya3MubWFwKChtYXJrKSA9PiB7XHJcbiAgICAgIGVudHJ5LmFwcGVuZENoaWxkKG1hcmsuZWxlbSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICB0aGlzLnNjYWxlLm1vdmVNYXJrcygpO1xyXG5cclxuICAgIHRoaXMuYmFyLmVsZW0ub25jbGljayA9IHRoaXMub25DbGlja0JhcjtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCB7Y3JlYXRlRWxlbSwgQmFyLCBWaWV3LCBTY2FsZSBhcyBHcmFkdWF0aW9ufTtcclxuIiwiaW1wb3J0IGNyZWF0ZUVsZW0gZnJvbSAnLi4vY3JlYXRlRWxlbS9jcmVhdGVFbGVtJztcclxuaW1wb3J0IE1ha2VPYnNlcnZhYmxlT2JqZWN0IGZyb20gJy4uLy4uLy4uL21ha2VPYnNlcnZhYmxlT2JqZWN0L01ha2VPYnNlcnZhYmxlT2JqZWN0JztcclxuXHJcbmNsYXNzIE1hcmsge1xyXG4gIGVsZW06IEhUTUxFbGVtZW50O1xyXG4gIGlzVmVydGljYWw6IGJvb2xlYW47XHJcbiAgdmFsdWU6IG51bWJlcjtcclxuICBvYnNlcnZlcnM6IE1ha2VPYnNlcnZhYmxlT2JqZWN0O1xyXG5cclxuICBjb25zdHJ1Y3Rvcihpc1ZlcnRpY2FsOiBib29sZWFuKSB7XHJcbiAgICB0aGlzLmVsZW0gPSBjcmVhdGVFbGVtKCdzbGlkZXJfX21hcmsnKTtcclxuICAgIHRoaXMuaXNWZXJ0aWNhbCA9IGlzVmVydGljYWw7XHJcbiAgICB0aGlzLm9ic2VydmVycyA9IG5ldyBNYWtlT2JzZXJ2YWJsZU9iamVjdCgpO1xyXG4gICAgdGhpcy5lbGVtLm9uY2xpY2sgPSB0aGlzLm9uQ2xpY2tIYW5kbGVyO1xyXG4gIH1cclxuXHJcbiAgb25DbGlja0hhbmRsZXIgPSAoKTogdm9pZCA9PiB7XHJcbiAgICB0aGlzLm9ic2VydmVycy5ub3RpZnlPYnNlcnZlcnMoKTtcclxuICB9XHJcblxyXG4gIGdldFBvc2l0aW9uID0gKCk6IG51bWJlciA9PiB7XHJcbiAgICBpZiAodGhpcy5pc1ZlcnRpY2FsKSB7XHJcbiAgICAgIHJldHVybiB0aGlzLmVsZW0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkudG9wO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB0aGlzLmVsZW0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkubGVmdDtcclxuICB9XHJcblxyXG4gIHNldFBvc2l0aW9uID0gKG9mZnNldDogbnVtYmVyLCB2YWx1ZTogbnVtYmVyKTogdm9pZCA9PiB7XHJcbiAgICB0aGlzLmVsZW0uaW5uZXJIVE1MID0gdmFsdWUgKyAnJztcclxuICAgIHRoaXMudmFsdWUgPSB2YWx1ZTtcclxuXHJcbiAgICBpZiAodGhpcy5pc1ZlcnRpY2FsKSB7XHJcbiAgICAgIHRoaXMuZWxlbS5zdHlsZS5sZWZ0ID0gJzUwJSc7XHJcbiAgICAgIHRoaXMuZWxlbS5zdHlsZS50b3AgPSBvZmZzZXQgKyAnJSc7XHJcbiAgICAgIHRoaXMuZWxlbS5zdHlsZS5tYXJnaW5Ub3AgPSAtdGhpcy5nZXREaW1lbnNpb24oKS8yICsgJ3B4JztcclxuICAgICAgdGhpcy5lbGVtLnN0eWxlLm1hcmdpbkxlZnQgPSAnLTQ1cHgnO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5lbGVtLnN0eWxlLnRvcCA9ICc1MCUnO1xyXG4gICAgICB0aGlzLmVsZW0uc3R5bGUubGVmdCA9IG9mZnNldCArICclJztcclxuICAgICAgdGhpcy5lbGVtLnN0eWxlLm1hcmdpbkxlZnQgPSAtdGhpcy5nZXREaW1lbnNpb24oKS8yICsgJ3B4JztcclxuICAgICAgdGhpcy5lbGVtLnN0eWxlLm1hcmdpblRvcCA9ICcxNXB4JztcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGdldERpbWVuc2lvbiA9ICgpOiBudW1iZXIgPT4ge1xyXG4gICAgaWYgKHRoaXMuaXNWZXJ0aWNhbCkge1xyXG4gICAgICByZXR1cm4gdGhpcy5lbGVtLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmhlaWdodDtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gdGhpcy5lbGVtLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLndpZHRoO1xyXG4gIH1cclxuXHJcbiAgaW5pdCA9IChpc1ZlcnRpY2FsOiBib29sZWFuKTogdm9pZCA9PiB7XHJcbiAgICB0aGlzLmlzVmVydGljYWwgPSBpc1ZlcnRpY2FsO1xyXG5cclxuICAgIGlmICh0aGlzLmlzVmVydGljYWwpIHtcclxuICAgICAgdGhpcy5lbGVtLmNsYXNzTGlzdC5hZGQoJ3NsaWRlcl9fbWFya19wb3NpdGlvbl92ZXJ0aWNhbCcpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5lbGVtLmNsYXNzTGlzdC5yZW1vdmUoJ3NsaWRlcl9fbWFya19wb3NpdGlvbl92ZXJ0aWNhbCcpO1xyXG4gICAgfVxyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgTWFyazsiLCJpbXBvcnQgY3JlYXRlRWxlbSBmcm9tICcuLi9jcmVhdGVFbGVtL2NyZWF0ZUVsZW0nO1xyXG5cclxuY2xhc3MgQnV0dG9uIHtcclxuICBlbGVtOiBIVE1MRWxlbWVudDtcclxuXHJcbiAgaXNWZXJ0aWNhbDogYm9vbGVhbjtcclxuXHJcbiAgY29uc3RydWN0b3IoaXNWZXJ0aWNhbDogYm9vbGVhbikge1xyXG4gICAgdGhpcy5lbGVtID0gY3JlYXRlRWxlbSgnc2xpZGVyX19idXR0b24nKTtcclxuICAgIHRoaXMuaXNWZXJ0aWNhbCA9IGlzVmVydGljYWw7XHJcbiAgfVxyXG5cclxuICBnZXRXaWR0aCA9ICgpOiBudW1iZXIgPT4ge1xyXG4gICAgcmV0dXJuIHRoaXMuZWxlbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS53aWR0aDtcclxuICB9XHJcblxyXG4gIGdldFBvc2l0aW9uID0gKCk6IG51bWJlciA9PiB7XHJcbiAgICBpZiAodGhpcy5pc1ZlcnRpY2FsKSB7XHJcbiAgICAgIHJldHVybiB0aGlzLmVsZW0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkudG9wO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB0aGlzLmVsZW0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkubGVmdDtcclxuICB9XHJcblxyXG4gIHNldFBvc2l0aW9uID0gKG9mZnNldDogbnVtYmVyKTogdm9pZCA9PiB7XHJcbiAgICBpZiAodGhpcy5pc1ZlcnRpY2FsKSB7XHJcbiAgICAgIHRoaXMuZWxlbS5zdHlsZS5sZWZ0ID0gJzUwJSc7XHJcbiAgICAgIHRoaXMuZWxlbS5zdHlsZS50b3AgPSBvZmZzZXQgKyAncHgnO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5lbGVtLnN0eWxlLnRvcCA9ICc1MCUnO1xyXG4gICAgICB0aGlzLmVsZW0uc3R5bGUubGVmdCA9IG9mZnNldCArICdweCc7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBpbml0ID0gKGlzVmVydGljYWw6IGJvb2xlYW4pOiB2b2lkID0+IHtcclxuICAgIHRoaXMuaXNWZXJ0aWNhbCA9IGlzVmVydGljYWw7XHJcblxyXG4gICAgaWYgKHRoaXMuaXNWZXJ0aWNhbCkge1xyXG4gICAgICB0aGlzLmVsZW0uY2xhc3NMaXN0LmFkZCgnc2xpZGVyX19idXR0b25fcG9zaXRpb25fdmVydGljYWwnKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuZWxlbS5jbGFzc0xpc3QucmVtb3ZlKCdzbGlkZXJfX2J1dHRvbl9wb3NpdGlvbl92ZXJ0aWNhbCcpO1xyXG4gICAgfVxyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgQnV0dG9uO1xyXG4iLCJpbXBvcnQgY3JlYXRlRWxlbSBmcm9tICcuLi9jcmVhdGVFbGVtL2NyZWF0ZUVsZW0nO1xyXG5cclxuY2xhc3MgTGFiZWwge1xyXG4gIGVsZW06IEhUTUxFbGVtZW50O1xyXG4gIGlzVmVydGljYWw6IGJvb2xlYW47XHJcblxyXG4gIGNvbnN0cnVjdG9yKGlzVmVydGljYWw6IGJvb2xlYW4pIHtcclxuICAgIHRoaXMuZWxlbSA9IGNyZWF0ZUVsZW0oJ3NsaWRlcl9fYnV0dG9uLWxhYmVsJyk7XHJcbiAgICB0aGlzLmlzVmVydGljYWwgPSBpc1ZlcnRpY2FsO1xyXG4gIH1cclxuXHJcbiAgZ2V0UG9zaXRpb24gPSAoKTogbnVtYmVyID0+IHtcclxuICAgIGlmICh0aGlzLmlzVmVydGljYWwpIHtcclxuICAgICAgcmV0dXJuIHRoaXMuZWxlbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS50b3A7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHRoaXMuZWxlbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5sZWZ0O1xyXG4gIH1cclxuXHJcbiAgc2V0UG9zaXRpb24gPSAob2Zmc2V0OiBudW1iZXIsIHZhbHVlOiBudW1iZXIpOiB2b2lkID0+IHtcclxuICAgIHRoaXMuZWxlbS5pbm5lckhUTUwgPSB2YWx1ZSArICcnO1xyXG5cclxuICAgIGlmICh0aGlzLmlzVmVydGljYWwpIHtcclxuICAgICAgdGhpcy5lbGVtLnN0eWxlLmxlZnQgPSAnNTAlJztcclxuICAgICAgdGhpcy5lbGVtLnN0eWxlLnRvcCA9IG9mZnNldCAtIHRoaXMuZ2V0RGltZW5zaW9uKCkvMiArICdweCc7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLmVsZW0uc3R5bGUudG9wID0gJzUwJSc7XHJcbiAgICAgIHRoaXMuZWxlbS5zdHlsZS5sZWZ0ID0gb2Zmc2V0IC0gdGhpcy5nZXREaW1lbnNpb24oKS8yICsgJ3B4JztcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGdldERpbWVuc2lvbiA9ICgpOiBudW1iZXIgPT4ge1xyXG4gICAgaWYgKHRoaXMuaXNWZXJ0aWNhbCkge1xyXG4gICAgICByZXR1cm4gdGhpcy5lbGVtLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmhlaWdodDtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gdGhpcy5lbGVtLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLndpZHRoO1xyXG4gIH1cclxuXHJcbiAgaW5pdCA9IChpc1ZlcnRpY2FsOiBib29sZWFuKTogdm9pZCA9PiB7XHJcbiAgICB0aGlzLmlzVmVydGljYWwgPSBpc1ZlcnRpY2FsO1xyXG5cclxuICAgIGlmICh0aGlzLmlzVmVydGljYWwpIHtcclxuICAgICAgdGhpcy5lbGVtLmNsYXNzTGlzdC5hZGQoJ3NsaWRlcl9fYnV0dG9uLWxhYmVsX3Bvc2l0aW9uX3ZlcnRpY2FsJyk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLmVsZW0uY2xhc3NMaXN0LnJlbW92ZSgnc2xpZGVyX19idXR0b24tbGFiZWxfcG9zaXRpb25fdmVydGljYWwnKTtcclxuICAgIH1cclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IExhYmVsOyIsImltcG9ydCAqIGFzIHR5cGVzIGZyb20gJy4uLy4uLy4uL3R5cGVzJztcclxuaW1wb3J0IEJhciBmcm9tICcuLi9iYXIvQmFyJztcclxuaW1wb3J0IFJ1bm5lciBmcm9tICcuLi8uLi9ibG9ja3MvcnVubmVyL1J1bm5lcic7XHJcbmltcG9ydCBQcm9ncmVzc0JhciBmcm9tICcuLi8uLi9ibG9ja3MvcHJvZ3Jlc3NCYXIvUHJvZ3Jlc3NCYXInO1xyXG5cclxuY2xhc3MgVHJhY2sge1xyXG4gIHBhcmFtZXRlcnM6IHR5cGVzLlBhcmFtZXRlcnM7XHJcbiAgcnVubmVyTWFpbjogUnVubmVyO1xyXG4gIHJ1bm5lckFkZGl0aW9uYWw6IFJ1bm5lcjtcclxuICBwcm9ncmVzc0JhcjogUHJvZ3Jlc3NCYXI7XHJcbiAgc2NhbGU6IEJhcjtcclxuXHJcbiAgY29uc3RydWN0b3IoZGF0YTogdHlwZXMuVHJhY2tDb25zdHJ1Y3RvckRhdGEpIHtcclxuICAgIHRoaXMuc2NhbGUgPSBkYXRhLmJhcjtcclxuICAgIHRoaXMucnVubmVyTWFpbiA9IGRhdGEucnVubmVyTWFpbjtcclxuICAgIHRoaXMucnVubmVyQWRkaXRpb25hbCA9IGRhdGEucnVubmVyQWRkaXRpb25hbDtcclxuICAgIHRoaXMucHJvZ3Jlc3NCYXIgPSBkYXRhLnByb2dyZXNzQmFyO1xyXG4gICAgdGhpcy5wYXJhbWV0ZXJzID0gZGF0YS5wYXJhbWV0ZXJzO1xyXG4gIH1cclxuXHJcbiAgb25SdW5uZXJNb3ZlID0gKGV2ZW50TW06IE1vdXNlRXZlbnQsIHJ1bm5lcjogUnVubmVyKTogdHlwZXMuUnVubmVyTW92ZURhdGEgPT4ge1xyXG4gICAgY29uc3QgY29vcmRpbmF0ZSA9IHRoaXMucGFyYW1ldGVycy5pc1ZlcnRpY2FsID8gZXZlbnRNbS5jbGllbnRZIDogZXZlbnRNbS5jbGllbnRYO1xyXG4gICAgY29uc3Qgb2Zmc2V0ID0gY29vcmRpbmF0ZSAtIHRoaXMuc2NhbGUuZ2V0UG9zaXRpb24oKSAtIHRoaXMucnVubmVyQWRkaXRpb25hbC5nZXRXaWR0aCgpLzI7XHJcblxyXG4gICAgcmV0dXJuIHRoaXMub2Zmc2V0UHJvY2Vzc2luZyhvZmZzZXQsIHJ1bm5lcik7XHJcbiAgfVxyXG5cclxuICBvZmZzZXRQcm9jZXNzaW5nKG9mZnNldDogbnVtYmVyLCBydW5uZXI6IFJ1bm5lcik6IHR5cGVzLlJ1bm5lck1vdmVEYXRhIHtcclxuICAgIGxldCByb3VuZFZhbHVlO1xyXG4gICAgbGV0IHJvdW5kT2Zmc2V0O1xyXG4gICAgW3JvdW5kT2Zmc2V0LCByb3VuZFZhbHVlXSA9IHRoaXMucnVubmVyT2Zmc2V0Q2hlY2sob2Zmc2V0LCBydW5uZXIpO1xyXG5cclxuICAgIGlmICh0eXBlb2Ygcm91bmRWYWx1ZSA9PT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgW3JvdW5kT2Zmc2V0LCByb3VuZFZhbHVlXSA9IHRoaXMucm91bmRPZmZzZXRCdXR0KHJvdW5kT2Zmc2V0KTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBydW5uZXI6IHJ1bm5lcixcclxuICAgICAgb2Zmc2V0OiByb3VuZE9mZnNldCxcclxuICAgICAgdmFsdWU6IHJvdW5kVmFsdWUsXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBydW5uZXJPZmZzZXRDaGVjayA9IChuZXdPZmZzZXQ6IG51bWJlciwgcnVubmVyOiBSdW5uZXIpOiBBcnJheTxudW1iZXI+ID0+IHtcclxuICAgIGxldCByb3VuZFZhbHVlO1xyXG5cclxuICAgIGlmIChuZXdPZmZzZXQgPCAtdGhpcy5ydW5uZXJBZGRpdGlvbmFsLmdldFdpZHRoKCkvMikge1xyXG4gICAgICBuZXdPZmZzZXQgPSAtdGhpcy5ydW5uZXJBZGRpdGlvbmFsLmdldFdpZHRoKCkvMjtcclxuICAgICAgcm91bmRWYWx1ZSA9IHRoaXMucGFyYW1ldGVycy5taW5WYWx1ZTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAobmV3T2Zmc2V0ID4gdGhpcy5zY2FsZS5nZXREaW1lbnNpb24oKSAtIHRoaXMucnVubmVyTWFpbi5nZXRXaWR0aCgpLzIpIHtcclxuICAgICAgbmV3T2Zmc2V0ID0gdGhpcy5zY2FsZS5nZXREaW1lbnNpb24oKSAtIHRoaXMucnVubmVyTWFpbi5nZXRXaWR0aCgpLzI7XHJcbiAgICAgIHJvdW5kVmFsdWUgPSB0aGlzLnBhcmFtZXRlcnMubWF4VmFsdWU7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3Qgc3RlcFdpZHRoID0gdGhpcy5wYXJhbWV0ZXJzLnN0ZXAqdGhpcy5zY2FsZS5nZXREaW1lbnNpb24oKS8odGhpcy5wYXJhbWV0ZXJzLm1heFZhbHVlIC0gdGhpcy5wYXJhbWV0ZXJzLm1pblZhbHVlKTtcclxuICAgIGNvbnN0IG1pbk9mZnNldCA9IHN0ZXBXaWR0aC8xLjUgPiB0aGlzLnJ1bm5lck1haW4uZ2V0V2lkdGgoKSA/IHN0ZXBXaWR0aC8xLjUgOiB0aGlzLnJ1bm5lck1haW4uZ2V0V2lkdGgoKTtcclxuXHJcbiAgICBpZiAocnVubmVyID09PSB0aGlzLnJ1bm5lckFkZGl0aW9uYWwpIHtcclxuICAgICAgaWYgKG5ld09mZnNldCA+IHRoaXMucnVubmVyTWFpbi5nZXRQb3NpdGlvbigpIC0gdGhpcy5zY2FsZS5nZXRQb3NpdGlvbigpIC0gbWluT2Zmc2V0KSB7XHJcbiAgICAgICAgbmV3T2Zmc2V0ID0gdGhpcy5ydW5uZXJNYWluLmdldFBvc2l0aW9uKCkgLSB0aGlzLnNjYWxlLmdldFBvc2l0aW9uKCkgLSBtaW5PZmZzZXQ7XHJcbiAgICAgIH1cclxuICAgIH0gZWxzZSBpZiAocnVubmVyID09PSB0aGlzLnJ1bm5lck1haW4pIHtcclxuICAgICAgaWYgKG5ld09mZnNldCA8IHRoaXMucnVubmVyQWRkaXRpb25hbC5nZXRQb3NpdGlvbigpIC0gdGhpcy5zY2FsZS5nZXRQb3NpdGlvbigpICsgbWluT2Zmc2V0KSB7XHJcbiAgICAgICAgbmV3T2Zmc2V0ID0gdGhpcy5ydW5uZXJBZGRpdGlvbmFsLmdldFBvc2l0aW9uKCkgLSB0aGlzLnNjYWxlLmdldFBvc2l0aW9uKCkgKyBtaW5PZmZzZXQ7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gW25ld09mZnNldCwgcm91bmRWYWx1ZV07XHJcbiAgfVxyXG5cclxuICByb3VuZE9mZnNldEJ1dHQgPSAoY3Vyck9mZnNldDogbnVtYmVyKTogQXJyYXk8bnVtYmVyPiA9PiB7XHJcbiAgICBjb25zdCBjdXJyVmFsdWUgPSB0aGlzLnBhcmFtZXRlcnMubWluVmFsdWUgKyAoY3Vyck9mZnNldCArIHRoaXMucnVubmVyTWFpbi5nZXRXaWR0aCgpLzIpKih0aGlzLnBhcmFtZXRlcnMubWF4VmFsdWUgLSB0aGlzLnBhcmFtZXRlcnMubWluVmFsdWUpL3RoaXMuc2NhbGUuZ2V0RGltZW5zaW9uKCk7XHJcbiAgICBsZXQgcm91bmRWYWx1ZSA9IHRoaXMucm91bmQoY3VyclZhbHVlLCB0aGlzLnBhcmFtZXRlcnMuc3RlcCk7XHJcblxyXG4gICAgaWYgKHRoaXMucGFyYW1ldGVycy5pc0Zsb2F0KSB7XHJcbiAgICAgIHJvdW5kVmFsdWUgPSBwYXJzZUZsb2F0KHJvdW5kVmFsdWUudG9GaXhlZCgyKSk7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3Qgcm91bmRPZmZzZXQgPSB0aGlzLm9mZnNldFZhbHVlQ29udmVydGVyKHJvdW5kVmFsdWUpO1xyXG4gICAgcmV0dXJuIFtyb3VuZE9mZnNldCwgcm91bmRWYWx1ZV07XHJcbiAgfVxyXG5cclxuICBvZmZzZXRWYWx1ZUNvbnZlcnRlciA9ICh2YWx1ZTogbnVtYmVyKTogbnVtYmVyID0+IHtcclxuICAgIHJldHVybiAoKHZhbHVlIC0gdGhpcy5wYXJhbWV0ZXJzLm1pblZhbHVlKS8odGhpcy5wYXJhbWV0ZXJzLm1heFZhbHVlIC0gdGhpcy5wYXJhbWV0ZXJzLm1pblZhbHVlKSp0aGlzLnNjYWxlLmdldERpbWVuc2lvbigpIC0gdGhpcy5ydW5uZXJNYWluLmdldFdpZHRoKCkvMik7XHJcbiAgfVxyXG5cclxuICByb3VuZCA9ICh2YWw6IG51bWJlciwgc3RlcDogbnVtYmVyKTogbnVtYmVyID0+IHtcclxuICAgIGNvbnN0IHdob2xlID0gTWF0aC50cnVuYyh2YWwvc3RlcCk7XHJcbiAgICBjb25zdCByZW1pbmRlciA9ICsodmFsIC0gd2hvbGUqc3RlcCkudG9GaXhlZCgyKTtcclxuXHJcbiAgICBpZiAodmFsIDwgMCkge1xyXG4gICAgICByZXR1cm4gTWF0aC5hYnMocmVtaW5kZXIpIDwgc3RlcC8yID8gd2hvbGUqc3RlcCA6ICh3aG9sZSAtIDEpKnN0ZXA7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHZhbCA8PSB0aGlzLnBhcmFtZXRlcnMubWluVmFsdWUpIHtcclxuICAgICAgcmV0dXJuIHRoaXMucGFyYW1ldGVycy5taW5WYWx1ZTtcclxuICAgIH0gZWxzZSBpZiAodmFsID49IHRoaXMucGFyYW1ldGVycy5tYXhWYWx1ZSkge1xyXG4gICAgICByZXR1cm4gdGhpcy5wYXJhbWV0ZXJzLm1heFZhbHVlO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiByZW1pbmRlciA8IHN0ZXAvMiA/IHdob2xlKnN0ZXAgOiAod2hvbGUgKyAxKSpzdGVwO1xyXG4gIH1cclxuXHJcbiAgZ2V0TWFpblJ1bm5lck9mZnNldCA9ICgpOiBudW1iZXIgPT4ge1xyXG4gICAgaWYgKHRoaXMucGFyYW1ldGVycy5pc1JhbmdlKSB7XHJcbiAgICAgIHJldHVybiB0aGlzLnJ1bm5lckFkZGl0aW9uYWwuZ2V0UG9zaXRpb24oKSAtIHRoaXMuc2NhbGUuZ2V0UG9zaXRpb24oKSArIHRoaXMucnVubmVyQWRkaXRpb25hbC5nZXRXaWR0aCgpLzI7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIDA7XHJcbiAgfVxyXG5cclxuICBnZXRBZGRpdGlvbmFsUnVubmVyT2Zmc2V0ID0gKCk6IG51bWJlciA9PiB7XHJcbiAgICByZXR1cm4gdGhpcy5ydW5uZXJNYWluLmdldFBvc2l0aW9uKCkgLSB0aGlzLnNjYWxlLmdldFBvc2l0aW9uKCkgKyB0aGlzLnJ1bm5lck1haW4uZ2V0V2lkdGgoKS8yO1xyXG4gIH1cclxuXHJcbiAgdXBkYXRlUHJvZ3Jlc3NCYXIgPSAoKTogdm9pZCA9PiB7XHJcbiAgICB0aGlzLnByb2dyZXNzQmFyLmluaXQodGhpcy5wYXJhbWV0ZXJzLmlzVmVydGljYWwpO1xyXG4gICAgdGhpcy5wcm9ncmVzc0Jhci5zZXRQb3NpdGlvbih0aGlzLmdldE1haW5SdW5uZXJPZmZzZXQoKSk7XHJcbiAgICB0aGlzLnByb2dyZXNzQmFyLnNldERpbWVuc2lvbih0aGlzLmdldEFkZGl0aW9uYWxSdW5uZXJPZmZzZXQoKSAtIHRoaXMuZ2V0TWFpblJ1bm5lck9mZnNldCgpKTtcclxuICB9XHJcblxyXG4gIGluaXQgPSAocGFyYW1ldGVyczogdHlwZXMuUGFyYW1ldGVycyk6IHZvaWQgPT4ge1xyXG4gICAgdGhpcy5wYXJhbWV0ZXJzID0gcGFyYW1ldGVycztcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IFRyYWNrO1xyXG4iLCJpbXBvcnQgY3JlYXRlRWxlbSBmcm9tICcuLi9jcmVhdGVFbGVtL2NyZWF0ZUVsZW0nO1xyXG5cclxuY2xhc3MgUHJvZ3Jlc3NCYXIge1xyXG4gIGVsZW06IEhUTUxFbGVtZW50O1xyXG4gIGlzVmVydGljYWw6IGJvb2xlYW47XHJcblxyXG4gIGNvbnN0cnVjdG9yKGlzVmVydGljYWw6IGJvb2xlYW4pIHtcclxuICAgIHRoaXMuZWxlbSA9IGNyZWF0ZUVsZW0oJ3NsaWRlcl9fc2NhbGUtZmlsbGluZycpO1xyXG4gICAgdGhpcy5pc1ZlcnRpY2FsID0gaXNWZXJ0aWNhbDtcclxuICB9XHJcblxyXG4gIHNldFBvc2l0aW9uID0gKG9mZnNldDogbnVtYmVyKTogdm9pZCA9PiB7XHJcbiAgICBpZiAodGhpcy5pc1ZlcnRpY2FsKSB7XHJcbiAgICAgIHRoaXMuZWxlbS5zdHlsZS5sZWZ0ID0gJzAnO1xyXG4gICAgICB0aGlzLmVsZW0uc3R5bGUud2lkdGggPSAnMTAwJSc7XHJcbiAgICAgIHRoaXMuZWxlbS5zdHlsZS50b3AgPSBvZmZzZXQgKyAncHgnO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5lbGVtLnN0eWxlLnRvcCA9ICcwJztcclxuICAgICAgdGhpcy5lbGVtLnN0eWxlLmhlaWdodCA9ICcxMDAlJztcclxuICAgICAgdGhpcy5lbGVtLnN0eWxlLmxlZnQgPSBvZmZzZXQgKyAncHgnO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgc2V0RGltZW5zaW9uID0gKGRpbWVuc2lvbjogbnVtYmVyKTogdm9pZCA9PiB7XHJcbiAgICBpZiAodGhpcy5pc1ZlcnRpY2FsKSB7XHJcbiAgICAgIHRoaXMuZWxlbS5zdHlsZS5oZWlnaHQgPSBkaW1lbnNpb24gKyAncHgnO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5lbGVtLnN0eWxlLndpZHRoID0gZGltZW5zaW9uICsgJ3B4JztcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGluaXQgPSAoaXNWZXJ0aWNhbDogYm9vbGVhbik6IHZvaWQgPT4ge1xyXG4gICAgdGhpcy5pc1ZlcnRpY2FsID0gaXNWZXJ0aWNhbDtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IFByb2dyZXNzQmFyO1xyXG4iLCJpbXBvcnQgKiBhcyB0eXBlcyBmcm9tICcuLi90eXBlcyc7XHJcbmltcG9ydCBNYWtlT2JzZXJ2YWJsZU9iamVjdCBmcm9tICcuLi9tYWtlT2JzZXJ2YWJsZU9iamVjdC9NYWtlT2JzZXJ2YWJsZU9iamVjdCc7XHJcblxyXG5jbGFzcyBNb2RlbCB7XHJcbiAgY3VycmVudFZhbHVlczogdHlwZXMuQ3VycmVudFZhbHVlcztcclxuICBvYnNlcnZlcnM6IE1ha2VPYnNlcnZhYmxlT2JqZWN0O1xyXG5cclxuICBjb25zdHJ1Y3RvcihjdXJyZW50VmFsdWVzOiB0eXBlcy5DdXJyZW50VmFsdWVzKSB7XHJcbiAgICB0aGlzLmN1cnJlbnRWYWx1ZXMgPSBjdXJyZW50VmFsdWVzO1xyXG4gICAgdGhpcy5vYnNlcnZlcnMgPSBuZXcgTWFrZU9ic2VydmFibGVPYmplY3QoKTtcclxuICB9XHJcblxyXG4gIHNldEN1cnJlbnRNaW5WYWx1ZShkYXRhOiBudW1iZXIpOiB2b2lkIHtcclxuICAgIGlmICh0aGlzLmN1cnJlbnRWYWx1ZXMuY3VycmVudE1pblZhbHVlICE9PSBkYXRhKSB7XHJcbiAgICAgIHRoaXMuY3VycmVudFZhbHVlcy5jdXJyZW50TWluVmFsdWUgPSBkYXRhO1xyXG4gICAgICB0aGlzLm9ic2VydmVycy5ub3RpZnlPYnNlcnZlcnMoKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHNldEN1cnJlbnRNYXhWYWx1ZShkYXRhOiBudW1iZXIpOiB2b2lkIHtcclxuICAgIGlmICh0aGlzLmN1cnJlbnRWYWx1ZXMuY3VycmVudE1heFZhbHVlICE9PSBkYXRhKSB7XHJcbiAgICAgIHRoaXMuY3VycmVudFZhbHVlcy5jdXJyZW50TWF4VmFsdWUgPSBkYXRhO1xyXG4gICAgICB0aGlzLm9ic2VydmVycy5ub3RpZnlPYnNlcnZlcnMoKTtcclxuICAgIH1cclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IE1vZGVsOyIsInZhciBtYXAgPSB7XG5cdFwiLi9Db250cm9sbGVyL0NvbnRyb2xsZXIudHNcIjogNyxcblx0XCIuL0NvbnRyb2xsZXIvYmxvY2tzL3BhcnNpbmdEaWdpdHMvUGFyc2luZ0RpZ2l0cy50c1wiOiAzLFxuXHRcIi4vTW9kZWwvTW9kZWwudHNcIjogMTQsXG5cdFwiLi9WaWV3L1ZpZXcudHNcIjogOCxcblx0XCIuL1ZpZXcvYmxvY2tzL2Jhci9CYXIudHNcIjogNCxcblx0XCIuL1ZpZXcvYmxvY2tzL2J1dHRvbi9CdXR0b24udHNcIjogMTAsXG5cdFwiLi9WaWV3L2Jsb2Nrcy9jcmVhdGVFbGVtL2NyZWF0ZUVsZW0udHNcIjogMCxcblx0XCIuL1ZpZXcvYmxvY2tzL2xhYmVsL0xhYmVsLnRzXCI6IDExLFxuXHRcIi4vVmlldy9ibG9ja3MvbWFyay9NYXJrLnRzXCI6IDksXG5cdFwiLi9WaWV3L2Jsb2Nrcy9wcm9ncmVzc0Jhci9Qcm9ncmVzc0Jhci50c1wiOiAxMyxcblx0XCIuL1ZpZXcvYmxvY2tzL3J1bm5lci9SdW5uZXIudHNcIjogNixcblx0XCIuL1ZpZXcvYmxvY2tzL3NjYWxlL1NjYWxlLnRzXCI6IDUsXG5cdFwiLi9WaWV3L2Jsb2Nrcy90cmFjay9UcmFjay50c1wiOiAxMixcblx0XCIuL21ha2VPYnNlcnZhYmxlT2JqZWN0L01ha2VPYnNlcnZhYmxlT2JqZWN0LnRzXCI6IDEsXG5cdFwiLi9zbGlkZXIudHNcIjogMTYsXG5cdFwiLi9zdHlsZS5zY3NzXCI6IDE3LFxuXHRcIi4vdHlwZXMudHNcIjogMlxufTtcblxuXG5mdW5jdGlvbiB3ZWJwYWNrQ29udGV4dChyZXEpIHtcblx0dmFyIGlkID0gd2VicGFja0NvbnRleHRSZXNvbHZlKHJlcSk7XG5cdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKGlkKTtcbn1cbmZ1bmN0aW9uIHdlYnBhY2tDb250ZXh0UmVzb2x2ZShyZXEpIHtcblx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhtYXAsIHJlcSkpIHtcblx0XHR2YXIgZSA9IG5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIgKyByZXEgKyBcIidcIik7XG5cdFx0ZS5jb2RlID0gJ01PRFVMRV9OT1RfRk9VTkQnO1xuXHRcdHRocm93IGU7XG5cdH1cblx0cmV0dXJuIG1hcFtyZXFdO1xufVxud2VicGFja0NvbnRleHQua2V5cyA9IGZ1bmN0aW9uIHdlYnBhY2tDb250ZXh0S2V5cygpIHtcblx0cmV0dXJuIE9iamVjdC5rZXlzKG1hcCk7XG59O1xud2VicGFja0NvbnRleHQucmVzb2x2ZSA9IHdlYnBhY2tDb250ZXh0UmVzb2x2ZTtcbm1vZHVsZS5leHBvcnRzID0gd2VicGFja0NvbnRleHQ7XG53ZWJwYWNrQ29udGV4dC5pZCA9IDE1OyIsImltcG9ydCBDb250cm9sbGVyIGZyb20gJy4vQ29udHJvbGxlci9Db250cm9sbGVyJztcclxuXHJcbihmdW5jdGlvbigkKSB7XHJcbiAgY29uc3QgY29uZmlnID0ge1xyXG4gICAgbWluVmFsdWU6IDAsXHJcbiAgICBtYXhWYWx1ZTogMTAwMCxcclxuICAgIHN0ZXA6IDEsXHJcbiAgICBpc1JhbmdlOiBmYWxzZSxcclxuICAgIGlzVmVydGljYWw6IGZhbHNlLFxyXG4gICAgc2hvd0xhYmVsOiBmYWxzZSxcclxuICAgIGlzRmxvYXQ6IGZhbHNlLFxyXG4gIH07XHJcblxyXG4gIGNvbnN0IG1ldGhvZHM6IE1ldGhvZHMgPSB7XHJcbiAgICBpbml0OiBmdW5jdGlvbihvcHQ6IENvbmZpZykge1xyXG4gICAgICBpZiAoISQodGhpcykuZGF0YSgnc2xpZGVyJykpIHtcclxuICAgICAgICBjb25zdCBuZXdDb25maWcgPSB7IC4uLmNvbmZpZyB9O1xyXG4gICAgICAgIGNvbnN0IHNsaWRlciA9IG5ldyBDb250cm9sbGVyKCQuZXh0ZW5kKG5ld0NvbmZpZywgb3B0KSk7XHJcbiAgICAgICAgJCh0aGlzKS5kYXRhKCdzbGlkZXInLCBzbGlkZXIpO1xyXG5cclxuICAgICAgICBzbGlkZXIuYXBwZW5kKCQodGhpcykpO1xyXG4gICAgICB9XHJcbiAgICB9LFxyXG5cclxuICAgIHVwZGF0ZTogZnVuY3Rpb24ob3B0OiBDb25maWcpIHtcclxuICAgICAgY29uc3Qgc2xpZGVyID0gJCh0aGlzKS5kYXRhKCdzbGlkZXInKTtcclxuICAgICAgc2xpZGVyLnVwZGF0ZShvcHQpO1xyXG4gICAgfSxcclxuXHJcbiAgICBnZXRDb25maWc6IGZ1bmN0aW9uKCkge1xyXG4gICAgICBjb25zdCBzbGlkZXIgPSAkKHRoaXMpLmRhdGEoJ3NsaWRlcicpO1xyXG4gICAgICByZXR1cm4gc2xpZGVyLmdldENvbmZpZygpO1xyXG4gICAgfSxcclxuXHJcbiAgICBzZXRWYWx1ZXM6IGZ1bmN0aW9uKG9wdDogQ29uZmlnKSB7XHJcbiAgICAgIGNvbnN0IHNsaWRlciA9ICQodGhpcykuZGF0YSgnc2xpZGVyJyk7XHJcbiAgICAgIHNsaWRlci5zZXRWYWx1ZXMob3B0LmN1ck1pblZhbHVlLCBvcHQuY3VyTWF4VmFsdWUpO1xyXG4gICAgfSxcclxuXHJcbiAgICBpbnB1dHNBdHRhY2g6IGZ1bmN0aW9uKG9wdDogSW5wdXRzT2JqZWN0KSB7XHJcbiAgICAgIGNvbnN0IHNsaWRlciA9ICQodGhpcykuZGF0YSgnc2xpZGVyJyk7XHJcbiAgICAgIHNsaWRlci5hZGRPYnNlcnZlcigoKSA9PiB7XHJcbiAgICAgICAgb3B0Lm1pblZhbHVlSW4udmFsKHNsaWRlci5nZXRWYWx1ZXMoKS5jdXJyZW50TWluVmFsdWUpO1xyXG4gICAgICAgIG9wdC5tYXhWYWx1ZUluLnZhbChzbGlkZXIuZ2V0VmFsdWVzKCkuY3VycmVudE1heFZhbHVlKTtcclxuICAgICAgICBvcHQubWF4LnZhbChzbGlkZXIuZ2V0Q29uZmlnKCkubWF4VmFsdWUpO1xyXG4gICAgICAgIG9wdC5taW4udmFsKHNsaWRlci5nZXRDb25maWcoKS5taW5WYWx1ZSk7XHJcbiAgICAgICAgb3B0LnN0ZXAudmFsKHNsaWRlci5nZXRDb25maWcoKS5zdGVwKTtcclxuICAgICAgfSlcclxuICAgIH0sXHJcbiAgfVxyXG5cclxuICAkLmZuLm9tZmdzbGlkZXIgPSBmdW5jdGlvbihtZXRob2Q6IHN0cmluZykge1xyXG4gICAgaWYgKG1ldGhvZHNbbWV0aG9kXSkge1xyXG4gICAgICByZXR1cm4gbWV0aG9kc1ttZXRob2RdLmFwcGx5KHRoaXMsIEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMSkpO1xyXG4gICAgfSBlbHNlIGlmICh0eXBlb2YgbWV0aG9kID09PSAnb2JqZWN0JyB8fCAhbWV0aG9kKSB7XHJcbiAgICAgIHJldHVybiBtZXRob2RzLmluaXQuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICQuZXJyb3IoYNCc0LXRgtC+0LQgJHttZXRob2R9INC90LUg0L3QsNC50LTQtdC9INCyINC/0LvQsNCz0LjQvdC1IGpRdWVyeS5vbWZnc2xpZGVyYCk7XHJcbiAgICB9XHJcbiAgfTtcclxufSkoalF1ZXJ5KTtcclxuIiwiZXhwb3J0IGRlZmF1bHQgX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcImluZGV4Lmh0bWxcIjsiLCJpbXBvcnQgJy4vZGVtby1wYWdlL2luZGV4Lmh0bWwnO1xyXG5cclxuZnVuY3Rpb24gaW1wb3J0QWxsKHI6ICBfX1dlYnBhY2tNb2R1bGVBcGkuUmVxdWlyZUNvbnRleHQpIHtcclxuICAgIHIua2V5cygpLmZvckVhY2gocik7XHJcbn1cclxuXHJcbmltcG9ydEFsbChyZXF1aXJlLmNvbnRleHQoJy4vcGx1Z2luJywgdHJ1ZSwgLyg/PCFcXC5kKVxcLihqc3x0c3xzY3NzKSQvaSkpOyJdLCJzb3VyY2VSb290IjoiIn0=