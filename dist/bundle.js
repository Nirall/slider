!function(e){var t={};function i(n){if(t[n])return t[n].exports;var l=t[n]={i:n,l:!1,exports:{}};return e[n].call(l.exports,l,l.exports,i),l.l=!0,l.exports}i.m=e,i.c=t,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var l in e)i.d(n,l,function(t){return e[t]}.bind(null,l));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=1)}([function(e,t,i){},function(e,t,i){"use strict";i.r(t);i.p,i(0);var n=function(){for(var e=0,t=0,i=arguments.length;t<i;t++)e+=arguments[t].length;var n=Array(e),l=0;for(t=0;t<i;t++)for(var a=arguments[t],o=0,s=a.length;o<s;o++,l++)n[l]=a[o];return n},l=function(){function e(){this.observers=[]}return e.prototype.addObserver=function(e){if("function"!=typeof e)throw new Error("observer must be a function");this.observers.map((function(t){if(t===e)throw new Error("observer already in the list")})),this.observers.push(e)},e.prototype.removeObserver=function(e){for(var t=0;t<this.observers.length;t++){if(this.observers[t]===e)return void this.observers.splice(t,1)}throw new Error("could not find observer in list of observers")},e.prototype.notifyObservers=function(){n(this.observers).map((function(e){return e()}))},e}();var a=function(e){var t=document.createElement("div");return t.ondragstart=function(){return!1},t.classList.add(e),t},o=function(){function e(){this.elem=a("slider__scale")}return e.prototype.getLeft=function(){return this.elem.getBoundingClientRect().left},e.prototype.getWidth=function(){return this.elem.getBoundingClientRect().width},e.prototype.getHeight=function(){return this.elem.getBoundingClientRect().height},e.prototype.getTop=function(){return this.elem.getBoundingClientRect().top},e}(),s=function(){function e(){this.gradElem=a("slider__graduation"),this.mark1=a("slider__graduation-mark"),this.mark2=a("slider__graduation-mark"),this.mark3=a("slider__graduation-mark"),this.mark4=a("slider__graduation-mark"),this.gradElem.appendChild(this.mark1),this.gradElem.appendChild(this.mark2),this.gradElem.appendChild(this.mark3),this.gradElem.appendChild(this.mark4),this.init=this.init.bind(this)}return e.prototype.init=function(e,t,i,n){void 0===n&&(n=!1),this.mark1.innerHTML=e+"",this.mark4.innerHTML=t+"",n?(this.mark2.innerHTML=(e+(t-e)/3).toFixed(2),this.mark3.innerHTML=(e+2*(t-e)/3).toFixed(2)):(this.mark2.innerHTML=e+Math.round((t-e)/3)+"",this.mark3.innerHTML=e+Math.round(2*(t-e)/3)+""),i?(this.mark1.style.marginTop="-9px",this.mark1.style.marginLeft="0",this.mark4.style.marginBottom="-9px",this.mark4.style.marginRight="0"):(this.mark1.style.marginLeft="-15px",this.mark1.style.marginTop="0",this.mark4.style.marginRight="-15px",this.mark4.style.marginBottom="0")},e}(),u=function(){function e(){this.elem=a("slider__button")}return e.prototype.getLeft=function(){return this.elem.getBoundingClientRect().left},e.prototype.getWidth=function(){return this.elem.getBoundingClientRect().width},e.prototype.getTop=function(){return this.elem.getBoundingClientRect().top},e}(),r=function(){function e(){this.elem=a("slider__button-label")}return e.prototype.getWidth=function(){return this.elem.getBoundingClientRect().width},e.prototype.getHeight=function(){return this.elem.getBoundingClientRect().height},e}(),c=function(){this.elem=a("slider__scale-filling")},d=function(e,t,i,n,a,d,g){var h=this;void 0===e&&(e=0),void 0===t&&(t=1e3),void 0===i&&(i=1),void 0===n&&(n=!1),void 0===a&&(a=!1),void 0===d&&(d=!1),void 0===g&&(g=!1),this.getStart=function(){return h.isRange?h.isVertical?h.button1.getTop()-h.scale.getTop()+h.button1.getWidth()/2:h.button1.getLeft()-h.scale.getLeft()+h.button1.getWidth()/2:0},this.getEnd=function(){return h.isVertical?h.button2.getTop()-h.scale.getTop()+h.button2.getWidth()/2:h.button2.getLeft()-h.scale.getLeft()+h.button2.getWidth()/2},this.updateElems=function(){h.isVertical?(h.scaleFilling.elem.style.top=h.getStart()+"px",h.scaleFilling.elem.style.left="0",h.scaleFilling.elem.style.height=h.getEnd()-h.getStart()+"px",h.scaleFilling.elem.style.width="100%"):(h.scaleFilling.elem.style.left=h.getStart()+"px",h.scaleFilling.elem.style.top="0",h.scaleFilling.elem.style.width=h.getEnd()-h.getStart()+"px",h.scaleFilling.elem.style.height="100%"),h.isRange||(h.curMinValue=h.minValue),h.observers.notifyObservers()},this.round=function(e,t){var i=Math.floor(e/t),n=e%t;return e<0?Math.abs(n)>t/2?i*t:(i+1)*t:n<t/2?i*t:(i+1)*t},this.roundOffsetButt=function(e){var t;t=h.isVertical?h.scale.getHeight():h.scale.getWidth();var i=h.minValue+(e+h.button2.getWidth()/2)*(h.maxValue-h.minValue)/t,n=h.round(i,h.step);return h.float&&(n=parseFloat(n.toFixed(2))),n<h.minValue?n=h.minValue:n>h.maxValue&&(n=h.maxValue),[(n-h.minValue)*t/(h.maxValue-h.minValue)-h.button2.getWidth()/2,n]},this.offsetValueConv=function(e){return h.isVertical?(e-h.minValue)/(h.maxValue-h.minValue)*h.scale.getHeight()-h.button2.getWidth()/2:(e-h.minValue)/(h.maxValue-h.minValue)*h.scale.getWidth()-h.button2.getWidth()/2},this.butt1Move=function(e,t){h.isVertical?(h.button1.elem.style.top=e+"px",h.label1.elem.style.top=e-h.label1.getHeight()/2+h.button1.getWidth()/2+"px"):(h.button1.elem.style.left=e+"px",h.label1.elem.style.left=e-h.label1.getWidth()/2+h.button1.getWidth()/2+"px"),t<h.minValue&&(t=h.minValue),h.label1.elem.innerHTML=t+"",h.curMinValue=t,h.updateElems()},this.butt1OffsetCheck=function(e){var t;if(h.isVertical){var i=h.step*h.scale.getHeight()/(h.maxValue-h.minValue);e<-h.button2.getWidth()/2&&(e=-h.button2.getWidth()/2,t=h.minValue),i/1.5>h.button2.getWidth()?e>h.button2.getTop()-h.scale.getTop()-i/1.5&&(e=h.button2.getTop()-h.scale.getTop()-i/1.5):e>h.button2.getTop()-h.scale.getTop()-h.button2.getWidth()&&(e=h.button2.getTop()-h.scale.getTop()-h.button2.getWidth())}else i=h.step*h.scale.getWidth()/(h.maxValue-h.minValue),e<-h.button1.getWidth()/2&&(e=-h.button1.getWidth()/2,t=h.minValue),i/1.5>h.button1.getWidth()?e>h.button2.getLeft()-h.scale.getLeft()-i/1.5&&(e=h.button2.getLeft()-h.scale.getLeft()-i/1.5):e>h.button2.getLeft()-h.scale.getLeft()-h.button2.getWidth()&&(e=h.button2.getLeft()-h.scale.getLeft()-h.button2.getWidth());return[e,t]},this.onMouseMove1=function(e){var t,i,n,l,a;n=h.isVertical?e.clientY-h.scale.getTop()-h.button1.getWidth()/2:e.clientX-h.scale.getLeft()-h.button1.getWidth()/2,a=(t=h.butt1OffsetCheck(n))[0],(l=t[1])||(a=(i=h.roundOffsetButt(a))[0],l=i[1]),h.butt1Move(a,l)},this.onMouseUp1=function(e){document.removeEventListener("mouseup",h.onMouseUp1),document.removeEventListener("mousemove",h.onMouseMove1)},this.butt2Move=function(e,t){h.isVertical?(h.button2.elem.style.top=e+"px",h.label2.elem.style.top=e-h.label2.getHeight()/2+h.button2.getWidth()/2+"px"):(h.button2.elem.style.left=e+"px",h.label2.elem.style.left=e-h.label2.getWidth()/2+h.button2.getWidth()/2+"px"),t<h.minValue?t=h.minValue:t>h.maxValue&&(t=h.maxValue),h.label2.elem.innerHTML=t+"",h.curMaxValue=t,h.updateElems()},this.butt2OffsetCheck=function(e){var t;if(h.isRange||e<-h.button2.getWidth()/2&&(e=-h.button2.getWidth()/2,t=h.minValue),h.isVertical){var i=h.step*h.scale.getHeight()/(h.maxValue-h.minValue);e>h.scale.getHeight()-h.button2.getWidth()/2&&(e=h.scale.getHeight()-h.button2.getWidth()/2,t=h.maxValue),i/1.5>h.button2.getWidth()?e<h.button1.getTop()-h.scale.getTop()+i/1.5&&(e=h.button1.getTop()-h.scale.getTop()+i/1.5):e<h.button1.getTop()-h.scale.getTop()+h.button2.getWidth()&&(e=h.button1.getTop()-h.scale.getTop()+h.button2.getWidth())}else i=h.step*h.scale.getWidth()/(h.maxValue-h.minValue),e>h.scale.getWidth()-h.button2.getWidth()/2&&(e=h.scale.getWidth()-h.button2.getWidth()/2,t=h.maxValue),i/1.5>h.button2.getWidth()?e<h.button1.getLeft()-h.scale.getLeft()+i/1.5&&(e=h.button1.getLeft()-h.scale.getLeft()+i/1.5):e<h.button1.getLeft()-h.scale.getLeft()+h.button2.getWidth()&&(e=h.button1.getLeft()-h.scale.getLeft()+h.button2.getWidth());return[e,t]},this.onMouseMove2=function(e){var t,i,n,l,a;n=h.isVertical?e.clientY-h.scale.getTop()-h.button2.getWidth()/2:e.clientX-h.scale.getLeft()-h.button2.getWidth()/2,a=(t=h.butt2OffsetCheck(n))[0],(l=t[1])||(a=(i=h.roundOffsetButt(a))[0],l=i[1]),h.butt2Move(a,l)},this.onMouseUp2=function(e){document.removeEventListener("mouseup",h.onMouseUp2),document.removeEventListener("mousemove",h.onMouseMove2)},this.scaleOnclick=function(e){h.isRange&&(h.isVertical?Math.abs(e.clientY-h.button1.getTop()-h.button1.getWidth()/2)<Math.abs(e.clientY-h.button2.getTop()-h.button2.getWidth()/2):Math.abs(e.clientX-h.button1.getLeft()-h.button1.getWidth()/2)<Math.abs(e.clientX-h.button2.getLeft()-h.button2.getWidth()/2))?h.onMouseMove1(e):h.onMouseMove2(e)},this.interMarkHandler=function(e){var t,i,n,l;if(h.isVertical){var a=(e-h.minValue)/(h.maxValue-h.minValue)*h.scale.getHeight();n=(t=h.roundOffsetButt(a-h.button2.getWidth()/2))[0],l=t[1],h.isRange&&Math.abs(a+h.scale.getTop()-h.button1.getTop()-h.button2.getWidth()/2)<Math.abs(a+h.scale.getTop()-h.button2.getTop()-h.button2.getWidth()/2)?h.butt1Move(n,l):h.butt2Move(n,l)}else a=(e-h.minValue)/(h.maxValue-h.minValue)*h.scale.getWidth(),n=(i=h.roundOffsetButt(a-h.button2.getWidth()/2))[0],l=i[1],h.isRange&&Math.abs(a+h.scale.getLeft()-h.button1.getLeft()-h.button2.getWidth()/2)<Math.abs(a+h.scale.getLeft()-h.button2.getLeft()-h.button2.getWidth()/2)?h.butt1Move(n,l):h.butt2Move(n,l)},this.mark1Onclick=function(e){var t=-h.button2.getWidth()/2,i=h.minValue;h.isRange?h.butt1Move(t,i):h.butt2Move(t,i)},this.mark4Onclick=function(e){if(h.isVertical){var t=h.scale.getHeight()-h.button2.getWidth()/2,i=h.maxValue;h.butt2Move(t,i)}else t=h.scale.getWidth()-h.button2.getWidth()/2,i=h.maxValue,h.butt2Move(t,i)},this.mark2Onclick=function(e){var t=h.float?parseFloat(h.graduation.mark2.innerHTML):parseInt(h.graduation.mark2.innerHTML);h.interMarkHandler(t)},this.mark3Onclick=function(e){var t=h.float?parseFloat(h.graduation.mark3.innerHTML):parseInt(h.graduation.mark3.innerHTML);h.interMarkHandler(t)},this.checkValues=function(){"number"!=typeof h.maxValue&&console.error("Maxvalue should be a number"),"number"!=typeof h.minValue&&console.error("Maxvalue should be a number"),"number"!=typeof h.step&&console.error("Step should be a number"),"boolean"!=typeof h.isRange&&console.error("isRange should be a boolean"),"boolean"!=typeof h.isVertical&&console.error("isVertical should be a boolean"),"boolean"!=typeof h.showLabel&&console.error("ShowLabel should be a boolean"),h.step>h.maxValue-h.minValue&&(h.step=h.maxValue-h.minValue,console.error("Step is setted to the max"))},this.init=function(){h.button1.elem.style.display="none",h.label1.elem.style.display="none",h.graduation.init(h.minValue,h.maxValue,h.isVertical,h.float),h.checkValues(),h.showLabel?(h.label1.elem.style.display="block",h.label2.elem.style.display="block"):(h.label1.elem.style.display="none",h.label2.elem.style.display="none"),h.isRange?h.button1.elem.style.display="block":(h.button1.elem.style.display="none",h.label1.elem.style.display="none"),h.isVertical?(h.scale.elem.classList.add("slider__scale_vertical"),h.scaleFilling.elem.classList.add("slider__scale-filling_vertical"),h.graduation.gradElem.classList.add("slider__graduation_vertical"),h.graduation.gradElem.style.height=h.scale.getHeight()+"px",h.button1.elem.classList.add("slider__button_vertical"),h.button2.elem.classList.add("slider__button_vertical"),h.label1.elem.classList.add("slider__button-label_vertical"),h.label2.elem.classList.add("slider__button-label_vertical"),h.button1.elem.style.top=-h.button1.getWidth()/2+"px",h.button1.elem.style.left="50%",h.button2.elem.style.top=h.scale.getHeight()-h.button2.getWidth()/2+"px",h.button2.elem.style.left="50%",h.label1.elem.innerHTML=h.minValue+"",h.label2.elem.innerHTML=h.maxValue+"",h.label1.elem.style.top=h.getStart()-h.label1.getHeight()/2+"px",h.label1.elem.style.left="50%",h.label2.elem.style.top=h.getEnd()-h.label2.getHeight()/2+"px",h.label2.elem.style.left="50%"):(h.scale.elem.classList.remove("slider__scale_vertical"),h.scaleFilling.elem.classList.remove("slider__scale-filling_vertical"),h.graduation.gradElem.classList.remove("slider__graduation_vertical"),h.graduation.gradElem.style.height="20px",h.button1.elem.classList.remove("slider__button_vertical"),h.button2.elem.classList.remove("slider__button_vertical"),h.label1.elem.classList.remove("slider__button-label_vertical"),h.label2.elem.classList.remove("slider__button-label_vertical"),h.button1.elem.style.left=-h.button1.getWidth()/2+"px",h.button1.elem.style.top="50%",h.button2.elem.style.left=h.scale.getWidth()-h.button2.getWidth()/2+"px",h.button2.elem.style.top="50%",h.label1.elem.innerHTML=h.minValue+"",h.label2.elem.innerHTML=h.maxValue+"",h.label1.elem.style.left=h.getStart()-h.label1.getWidth()/2+"px",h.label1.elem.style.top="50%",h.label2.elem.style.left=h.getEnd()-h.label2.getWidth()/2+"px",h.label2.elem.style.top="50%"),h.updateElems()},this.append=function(e){e.appendChild(h.scale.elem).appendChild(h.scaleFilling.elem),e.appendChild(h.button1.elem),e.appendChild(h.label1.elem),e.appendChild(h.graduation.gradElem),e.appendChild(h.button2.elem),e.appendChild(h.label2.elem),h.scale.elem.onclick=h.scaleOnclick,h.graduation.mark1.onclick=h.mark1Onclick,h.graduation.mark2.onclick=h.mark2Onclick,h.graduation.mark3.onclick=h.mark3Onclick,h.graduation.mark4.onclick=h.mark4Onclick,h.button1.elem.onmousedown=function(e){e.preventDefault(),document.addEventListener("mousemove",h.onMouseMove1),document.addEventListener("mouseup",h.onMouseUp1)},h.button2.elem.onmousedown=function(e){e.preventDefault(),document.addEventListener("mousemove",h.onMouseMove2),document.addEventListener("mouseup",h.onMouseUp2)}},this.scale=new o,this.button1=new u,this.button2=new u,this.label1=new r,this.label2=new r,this.scaleFilling=new c,this.graduation=new s,this.minValue=e,this.maxValue=t,this.curMinValue=e,this.curMaxValue=t,this.step=i,this.isRange=n,this.isVertical=a,this.showLabel=d,this.float=g,this.observers=new l,this.checkValues()},g=function(){function e(e,t){void 0===e&&(e=0),void 0===t&&(t=1e3),this.curMinValue=e,this.curMaxValue=t,this.observers=new l}return e.prototype.setCurMinValue=function(e){this.curMinValue!=e&&(this.curMinValue=e,this.observers.notifyObservers())},e.prototype.setCurMaxValue=function(e){this.curMaxValue!=e&&(this.curMaxValue=e,this.observers.notifyObservers())},e}(),h=function(e,t,i,n,a,o,s){var u=this;void 0===e&&(e=0),void 0===t&&(t=1e3),void 0===i&&(i=1),void 0===n&&(n=!1),void 0===a&&(a=!1),void 0===o&&(o=!1),void 0===s&&(s=!1),this.append=function(e){u.view.append(e.get(0)),u.view.init()},this.update=function(e){Object.keys(e).map((function(t){void 0!==u.view[t]&&(u.view[t]=e[t])})),u.view.init(),u.view.butt1Move(u.view.butt1OffsetCheck(u.view.offsetValueConv(u.model.curMinValue))[0],u.model.curMinValue),u.view.butt2Move(u.view.butt2OffsetCheck(u.view.offsetValueConv(u.model.curMaxValue))[0],u.model.curMaxValue)},this.getValues=function(){return[u.model.curMinValue,u.model.curMaxValue]},this.setValues=function(e,t){e&&u.model.setCurMinValue(e),t&&u.model.setCurMaxValue(t)},this.getConfig=function(){return{minValue:u.view.minValue,maxValue:u.view.maxValue,step:u.view.step,isRange:u.view.isRange,isVertical:u.view.isVertical,showLabel:u.view.showLabel,float:u.view.float}},this.addObserver=function(e){u.observers.addObserver(e)},this.view=new d(e,t,i,n,a,o,s),this.model=new g(e,t),this.observers=new l,this.view.observers.addObserver((function(){u.model.curMinValue=u.view.curMinValue,u.model.curMaxValue=u.view.curMaxValue,u.observers.notifyObservers()})),this.model.observers.addObserver((function(){var e=u.model.curMinValue,t=u.model.curMaxValue;u.view.butt1Move(u.view.offsetValueConv(e),e),u.view.butt2Move(u.view.offsetValueConv(t),t),u.observers.notifyObservers()}))};!function(e){const t={minValue:0,maxValue:1e3,step:1,isRange:!1,isVertical:!1,showLabel:!1,float:!1},i={init:function(i){if(!e(this).data("slider")){const n=JSON.parse(JSON.stringify(t)),l=new h(...Object.values(e.extend(n,i)));e(this).data("slider",l),l.append(e(this))}},update:function(t){e(this).data("slider").update(t)},getConfig:function(){return e(this).data("slider").getConfig()},setValues:function(t){e(this).data("slider").setValues(t.curMinValue,t.curMaxValue)},inputsAttach:function(t){const i=e(this).data("slider");i.addObserver(()=>{t.minValueIn.val(i.getValues()[0]),t.maxValueIn.val(i.getValues()[1])})}};e.fn.omfgslider=function(t){return i[t]?i[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?void e.error('Метод "'+t+'" не найден в плагине jQuery.mySimplePlugin'):i.init.apply(this,arguments)}}(jQuery)}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL3Rlc3QuaHRtbCIsIndlYnBhY2s6Ly8vLi9zcmMvYXNzZXRzL01ha2VPYnNlcnZhYmxlT2JqZWN0LnRzIiwid2VicGFjazovLy8uL3NyYy9hc3NldHMvY3JlYXRlRWxlbS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvYXNzZXRzL1NjYWxlLnRzIiwid2VicGFjazovLy8uL3NyYy9hc3NldHMvR3JhZHVhdGlvbi50cyIsIndlYnBhY2s6Ly8vLi9zcmMvYXNzZXRzL0J1dHRvbi50cyIsIndlYnBhY2s6Ly8vLi9zcmMvYXNzZXRzL0xhYmVsLnRzIiwid2VicGFjazovLy8uL3NyYy9hc3NldHMvU2NhbGVGaWxsaW5nLnRzIiwid2VicGFjazovLy8uL3NyYy92aWV3LnRzIiwid2VicGFjazovLy8uL3NyYy9tb2RlbC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvY29udHJvbGxlci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvbWFpbi5qcyJdLCJuYW1lcyI6WyJpbnN0YWxsZWRNb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiZXhwb3J0cyIsIm1vZHVsZSIsImkiLCJsIiwibW9kdWxlcyIsImNhbGwiLCJtIiwiYyIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsInIiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsInZhbHVlIiwidCIsIm1vZGUiLCJfX2VzTW9kdWxlIiwibnMiLCJjcmVhdGUiLCJrZXkiLCJiaW5kIiwibiIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsInRoaXMiLCJvYnNlcnZlcnMiLCJhZGRPYnNlcnZlciIsImZuIiwiRXJyb3IiLCJtYXAiLCJvYnNlcnZlciIsInB1c2giLCJyZW1vdmVPYnNlcnZlciIsImxlbmd0aCIsInNwbGljZSIsIm5vdGlmeU9ic2VydmVycyIsImNsYXNzTmFtZSIsImVsZW0iLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJvbmRyYWdzdGFydCIsImNsYXNzTGlzdCIsImFkZCIsImdldExlZnQiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJsZWZ0IiwiZ2V0V2lkdGgiLCJ3aWR0aCIsImdldEhlaWdodCIsImhlaWdodCIsImdldFRvcCIsInRvcCIsImdyYWRFbGVtIiwibWFyazEiLCJtYXJrMiIsIm1hcmszIiwibWFyazQiLCJhcHBlbmRDaGlsZCIsImluaXQiLCJtaW5WYWx1ZSIsIm1heFZhbHVlIiwiaXNWZXJ0aWNhbCIsImlzRmxvYXQiLCJpbm5lckhUTUwiLCJ0b0ZpeGVkIiwiTWF0aCIsInJvdW5kIiwic3R5bGUiLCJtYXJnaW5Ub3AiLCJtYXJnaW5MZWZ0IiwibWFyZ2luQm90dG9tIiwibWFyZ2luUmlnaHQiLCJzdGVwIiwiaXNSYW5nZSIsInNob3dMYWJlbCIsImZsb2F0IiwiZ2V0U3RhcnQiLCJidXR0b24xIiwic2NhbGUiLCJnZXRFbmQiLCJidXR0b24yIiwidXBkYXRlRWxlbXMiLCJzY2FsZUZpbGxpbmciLCJjdXJNaW5WYWx1ZSIsInZhbCIsIndob2xlIiwiZmxvb3IiLCJyZW1pbmRlciIsImFicyIsInJvdW5kT2Zmc2V0QnV0dCIsImN1cnJPZmZzZXQiLCJzY2FsZU1lc3N1cmUiLCJjdXJyVmFsdWUiLCJyb3VuZFZhbHVlIiwicGFyc2VGbG9hdCIsIm9mZnNldFZhbHVlQ29udiIsImJ1dHQxTW92ZSIsInJvdW5kT2Zmc2V0IiwibGFiZWwxIiwiYnV0dDFPZmZzZXRDaGVjayIsIm5ld09mZnNldCIsInN0ZXBXaWR0aCIsIm9uTW91c2VNb3ZlMSIsImV2ZW50TW0iLCJjbGllbnRZIiwiY2xpZW50WCIsIm9uTW91c2VVcDEiLCJldmVudE11IiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImJ1dHQyTW92ZSIsImxhYmVsMiIsImN1ck1heFZhbHVlIiwiYnV0dDJPZmZzZXRDaGVjayIsIm9uTW91c2VNb3ZlMiIsIm9uTW91c2VVcDIiLCJzY2FsZU9uY2xpY2siLCJldmVudCIsImludGVyTWFya0hhbmRsZXIiLCJtYXJrWCIsIm1hcmsxT25jbGljayIsIm1hcms0T25jbGljayIsIm1hcmsyT25jbGljayIsImdyYWR1YXRpb24iLCJwYXJzZUludCIsIm1hcmszT25jbGljayIsImNoZWNrVmFsdWVzIiwiY29uc29sZSIsImVycm9yIiwiZGlzcGxheSIsInJlbW92ZSIsImFwcGVuZCIsImVudHJ5Iiwib25jbGljayIsIm9ubW91c2Vkb3duIiwiZXZlbnRNZCIsInByZXZlbnREZWZhdWx0IiwiYWRkRXZlbnRMaXN0ZW5lciIsInNldEN1ck1pblZhbHVlIiwiZGF0YSIsInNldEN1ck1heFZhbHVlIiwidmlldyIsInVwZGF0ZSIsImFyZ3MiLCJrZXlzIiwiaXRlbSIsInVuZGVmaW5lZCIsIm1vZGVsIiwiZ2V0VmFsdWVzIiwic2V0VmFsdWVzIiwiZ2V0Q29uZmlnIiwiJCIsImNvbmZpZyIsIm1ldGhvZHMiLCJvcHQiLCJuZXdDb25maWciLCJKU09OIiwicGFyc2UiLCJzdHJpbmdpZnkiLCJzbGlkZXIiLCJ2YWx1ZXMiLCJleHRlbmQiLCJpbnB1dHNBdHRhY2giLCJtaW5WYWx1ZUluIiwibWF4VmFsdWVJbiIsIm9tZmdzbGlkZXIiLCJtZXRob2QiLCJhcHBseSIsIkFycmF5Iiwic2xpY2UiLCJhcmd1bWVudHMiLCJqUXVlcnkiXSwibWFwcGluZ3MiOiJhQUNFLElBQUlBLEVBQW1CLEdBR3ZCLFNBQVNDLEVBQW9CQyxHQUc1QixHQUFHRixFQUFpQkUsR0FDbkIsT0FBT0YsRUFBaUJFLEdBQVVDLFFBR25DLElBQUlDLEVBQVNKLEVBQWlCRSxHQUFZLENBQ3pDRyxFQUFHSCxFQUNISSxHQUFHLEVBQ0hILFFBQVMsSUFVVixPQU5BSSxFQUFRTCxHQUFVTSxLQUFLSixFQUFPRCxRQUFTQyxFQUFRQSxFQUFPRCxRQUFTRixHQUcvREcsRUFBT0UsR0FBSSxFQUdKRixFQUFPRCxRQUtmRixFQUFvQlEs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T0FBT1QsRUFBRVUsT0FBT04sRUFBV0QsS0FDbkVILEVBQUU5SCxNQUFNa0gsS0FBSyxTQUFVb0IsR0FDdkJBLEVBQU81QixPQUFPb0IsRUFBRTlILFNBSXBCcUgsT0FBUSxTQUFTWSxHQUNBSCxFQUFFOUgsTUFBTWtILEtBQUssVUFDckJHLE9BQU9ZLElBR2hCSixVQUFXLFdBRVQsT0FEZUMsRUFBRTlILE1BQU1rSCxLQUFLLFVBQ2RXLGFBR2hCRCxVQUFXLFNBQVNLLEdBQ0hILEVBQUU5SCxNQUFNa0gsS0FBSyxVQUNyQlUsVUFBVUssRUFBSXRFLFlBQWFzRSxFQUFJMUMsY0FHeENrRCxhQUFjLFNBQVNSLEdBQ3JCLE1BQU1LLEVBQVNSLEVBQUU5SCxNQUFNa0gsS0FBSyxVQUM1Qm9CLEVBQU9wSSxZQUFZLEtBQ2pCK0gsRUFBSVMsV0FBVzlFLElBQUkwRSxFQUFPWCxZQUFZLElBQ3RDTSxFQUFJVSxXQUFXL0UsSUFBSTBFLEVBQU9YLFlBQVksUUFLNUNHLEVBQUUzSCxHQUFHeUksV0FBYSxTQUFTQyxHQUN6QixPQUFJYixFQUFRYSxHQUNIYixFQUFRYSxHQUFRQyxNQUFNOUksS0FBTStJLE1BQU1uSixVQUFVb0osTUFBTTdLLEtBQUs4SyxVQUFXLElBQzlDLGlCQUFYSixHQUF3QkEsT0FHeENmLEVBQUV2QixNQUFNLFVBQWFzQyxFQUFTLCtDQUZ2QmIsRUFBUTlGLEtBQUs0RyxNQUFNOUksS0FBTWlKLFlBakR0QyxDQXNER0MiLCJmaWxlIjoiYnVuZGxlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuIFx0XHR9XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3RcbiBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3RcbiBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbiBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbiBcdFx0cmV0dXJuIG5zO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDEpO1xuIiwiZXhwb3J0IGRlZmF1bHQgX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcInRlc3QuaHRtbFwiOyIsImNsYXNzIE1ha2VPYnNlcnZhYmxlT2JqZWN0IHtcclxuICBvYnNlcnZlcnM6IEFycmF5PEZ1bmN0aW9uPjtcclxuICBcclxuICBjb25zdHJ1Y3RvcigpIHtcclxuICAgIHRoaXMub2JzZXJ2ZXJzID0gW107XHJcbiAgfVxyXG5cclxuICBhZGRPYnNlcnZlciAoZm46IEZ1bmN0aW9uKTogdm9pZCB7XHJcbiAgICBpZiAodHlwZW9mIGZuICE9PSAnZnVuY3Rpb24nKSB7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcignb2JzZXJ2ZXIgbXVzdCBiZSBhIGZ1bmN0aW9uJyk7XHJcbiAgICB9XHJcbiAgICB0aGlzLm9ic2VydmVycy5tYXAoKG9ic2VydmVyKSA9PiB7XHJcbiAgICAgIGlmIChvYnNlcnZlciA9PT0gZm4pIHtcclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ29ic2VydmVyIGFscmVhZHkgaW4gdGhlIGxpc3QnKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgICB0aGlzLm9ic2VydmVycy5wdXNoKGZuKTtcclxuICB9XHJcblxyXG4gIHJlbW92ZU9ic2VydmVyIChmbjogRnVuY3Rpb24pOiB2b2lkIHtcclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5vYnNlcnZlcnMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgY29uc3Qgb2JzZXJ2ZXIgPSB0aGlzLm9ic2VydmVyc1tpXTtcclxuICAgICAgaWYgKG9ic2VydmVyID09PSBmbikge1xyXG4gICAgICAgIHRoaXMub2JzZXJ2ZXJzLnNwbGljZShpLCAxKTtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIHRocm93IG5ldyBFcnJvcignY291bGQgbm90IGZpbmQgb2JzZXJ2ZXIgaW4gbGlzdCBvZiBvYnNlcnZlcnMnKTtcclxuICB9XHJcbiAgXHJcbiAgbm90aWZ5T2JzZXJ2ZXJzICgpOiB2b2lkIHtcclxuICAgIGNvbnN0IG9ic2VydmVyc1NuYXBzaG90ID0gWy4uLnRoaXMub2JzZXJ2ZXJzXTtcclxuICAgIG9ic2VydmVyc1NuYXBzaG90Lm1hcCgob2JzZXJ2ZXIpID0+IG9ic2VydmVyKCkpO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgTWFrZU9ic2VydmFibGVPYmplY3Q7IiwiLy8gRWxlbWVudHMgZmFjdG9yeVxyXG5mdW5jdGlvbiBjcmVhdGVFbGVtKGNsYXNzTmFtZTogc3RyaW5nKSA6SFRNTEVsZW1lbnQge1xyXG4gIGNvbnN0IGVsZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xyXG4gIGVsZW0ub25kcmFnc3RhcnQgPSAoKSA9PiBmYWxzZTtcclxuICBlbGVtLmNsYXNzTGlzdC5hZGQoY2xhc3NOYW1lKTtcclxuICByZXR1cm4gZWxlbTtcclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgY3JlYXRlRWxlbTsiLCJpbXBvcnQgY3JlYXRlRWxlbSBmcm9tIFwiLi9jcmVhdGVFbGVtXCI7XHJcblxyXG5jbGFzcyBTY2FsZSB7XHJcbiAgZWxlbTogSFRNTEVsZW1lbnQ7XHJcblxyXG4gIGNvbnN0cnVjdG9yKCkge3RoaXMuZWxlbSA9IGNyZWF0ZUVsZW0oXCJzbGlkZXJfX3NjYWxlXCIpO1xyXG4gIH1cclxuXHJcbiAgZ2V0TGVmdCgpOiBudW1iZXIge1xyXG4gICAgcmV0dXJuIHRoaXMuZWxlbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5sZWZ0O1xyXG4gIH1cclxuXHJcbiAgZ2V0V2lkdGgoKTogbnVtYmVyIHtcclxuICAgIHJldHVybiB0aGlzLmVsZW0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkud2lkdGg7XHJcbiAgfVxyXG5cclxuICBnZXRIZWlnaHQoKTogbnVtYmVyIHtcclxuICAgIHJldHVybiB0aGlzLmVsZW0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkuaGVpZ2h0O1xyXG4gIH1cclxuICBcclxuICBnZXRUb3AoKTogbnVtYmVyIHtcclxuICAgIHJldHVybiB0aGlzLmVsZW0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkudG9wO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgU2NhbGU7XHJcbiIsImltcG9ydCBjcmVhdGVFbGVtIGZyb20gXCIuL2NyZWF0ZUVsZW1cIjtcclxuXHJcbmNsYXNzIEdyYWR1YXRpb24ge1xyXG4gIGdyYWRFbGVtOiBIVE1MRWxlbWVudDtcclxuICBtYXJrMTogSFRNTEVsZW1lbnQ7XHJcbiAgbWFyazI6IEhUTUxFbGVtZW50O1xyXG4gIG1hcmszOiBIVE1MRWxlbWVudDtcclxuICBtYXJrNDogSFRNTEVsZW1lbnQ7XHJcblxyXG4gIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgdGhpcy5ncmFkRWxlbSA9IGNyZWF0ZUVsZW0oXCJzbGlkZXJfX2dyYWR1YXRpb25cIik7XHJcbiAgICB0aGlzLm1hcmsxID0gY3JlYXRlRWxlbShcInNsaWRlcl9fZ3JhZHVhdGlvbi1tYXJrXCIpO1xyXG4gICAgdGhpcy5tYXJrMiA9IGNyZWF0ZUVsZW0oXCJzbGlkZXJfX2dyYWR1YXRpb24tbWFya1wiKTtcclxuICAgIHRoaXMubWFyazMgPSBjcmVhdGVFbGVtKFwic2xpZGVyX19ncmFkdWF0aW9uLW1hcmtcIik7XHJcbiAgICB0aGlzLm1hcms0ID0gY3JlYXRlRWxlbShcInNsaWRlcl9fZ3JhZHVhdGlvbi1tYXJrXCIpO1xyXG4gICAgdGhpcy5ncmFkRWxlbS5hcHBlbmRDaGlsZCh0aGlzLm1hcmsxKTtcclxuICAgIHRoaXMuZ3JhZEVsZW0uYXBwZW5kQ2hpbGQodGhpcy5tYXJrMik7XHJcbiAgICB0aGlzLmdyYWRFbGVtLmFwcGVuZENoaWxkKHRoaXMubWFyazMpO1xyXG4gICAgdGhpcy5ncmFkRWxlbS5hcHBlbmRDaGlsZCh0aGlzLm1hcms0KTtcclxuICAgIHRoaXMuaW5pdCA9IHRoaXMuaW5pdC5iaW5kKHRoaXMpO1xyXG4gIH1cclxuXHJcbiAgaW5pdChtaW5WYWx1ZTogbnVtYmVyLCBtYXhWYWx1ZTogbnVtYmVyLCBpc1ZlcnRpY2FsOiBib29sZWFuLCBpc0Zsb2F0ID0gZmFsc2UpOiB2b2lkIHtcclxuICAgIHRoaXMubWFyazEuaW5uZXJIVE1MID0gbWluVmFsdWUgKyBcIlwiO1xyXG4gICAgdGhpcy5tYXJrNC5pbm5lckhUTUwgPSBtYXhWYWx1ZSArIFwiXCI7XHJcblxyXG4gICAgaWYgKGlzRmxvYXQpIHtcclxuICAgICAgdGhpcy5tYXJrMi5pbm5lckhUTUwgPSAobWluVmFsdWUgKyAobWF4VmFsdWUgLSBtaW5WYWx1ZSkvMykudG9GaXhlZCgyKTtcclxuICAgICAgdGhpcy5tYXJrMy5pbm5lckhUTUwgPSAobWluVmFsdWUgKyAobWF4VmFsdWUgLSBtaW5WYWx1ZSkqMi8zKS50b0ZpeGVkKDIpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5tYXJrMi5pbm5lckhUTUwgPSBtaW5WYWx1ZSArIE1hdGgucm91bmQoKG1heFZhbHVlIC0gbWluVmFsdWUpLzMpICsgXCJcIjtcclxuICAgICAgdGhpcy5tYXJrMy5pbm5lckhUTUwgPSBtaW5WYWx1ZSArIE1hdGgucm91bmQoKG1heFZhbHVlIC0gbWluVmFsdWUpKjIvMykgKyBcIlwiO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICghaXNWZXJ0aWNhbCkge1xyXG4gICAgICB0aGlzLm1hcmsxLnN0eWxlLm1hcmdpbkxlZnQgPSAtMTUgKyBcInB4XCI7XHJcbiAgICAgIHRoaXMubWFyazEuc3R5bGUubWFyZ2luVG9wID0gXCIwXCI7XHJcbiAgICAgIHRoaXMubWFyazQuc3R5bGUubWFyZ2luUmlnaHQgPSAtMTUgKyBcInB4XCI7XHJcbiAgICAgIHRoaXMubWFyazQuc3R5bGUubWFyZ2luQm90dG9tID0gXCIwXCI7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLm1hcmsxLnN0eWxlLm1hcmdpblRvcCA9IC05ICArIFwicHhcIjtcclxuICAgICAgdGhpcy5tYXJrMS5zdHlsZS5tYXJnaW5MZWZ0ID0gXCIwXCI7XHJcbiAgICAgIHRoaXMubWFyazQuc3R5bGUubWFyZ2luQm90dG9tID0gLTkgKyBcInB4XCI7XHJcbiAgICAgIHRoaXMubWFyazQuc3R5bGUubWFyZ2luUmlnaHQgPSBcIjBcIjtcclxuICAgIH1cclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IEdyYWR1YXRpb247IiwiaW1wb3J0IGNyZWF0ZUVsZW0gZnJvbSBcIi4vY3JlYXRlRWxlbVwiO1xyXG5cclxuY2xhc3MgQnV0dG9uIHtcclxuICBlbGVtOiBIVE1MRWxlbWVudDtcclxuXHJcbiAgY29uc3RydWN0b3IoKSB7XHJcbiAgICB0aGlzLmVsZW0gPSBjcmVhdGVFbGVtKFwic2xpZGVyX19idXR0b25cIik7XHJcbiAgfVxyXG5cclxuICBnZXRMZWZ0KCk6IG51bWJlciB7XHJcbiAgICByZXR1cm4gdGhpcy5lbGVtLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmxlZnQ7XHJcbiAgfVxyXG5cclxuICBnZXRXaWR0aCgpOiBudW1iZXIge1xyXG4gICAgcmV0dXJuIHRoaXMuZWxlbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS53aWR0aDtcclxuICB9XHJcblxyXG4gIGdldFRvcCgpOiBudW1iZXIge1xyXG4gICAgcmV0dXJuIHRoaXMuZWxlbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS50b3A7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBCdXR0b247IiwiaW1wb3J0IGNyZWF0ZUVsZW0gZnJvbSBcIi4vY3JlYXRlRWxlbVwiO1xyXG5cclxuY2xhc3MgTGFiZWwge1xyXG4gIGVsZW06IEhUTUxFbGVtZW50O1xyXG5cclxuICBjb25zdHJ1Y3RvcigpIHtcclxuICAgIHRoaXMuZWxlbSA9IGNyZWF0ZUVsZW0oXCJzbGlkZXJfX2J1dHRvbi1sYWJlbFwiKTtcclxuICB9XHJcblxyXG4gIGdldFdpZHRoKCk6IG51bWJlciB7XHJcbiAgICByZXR1cm4gdGhpcy5lbGVtLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLndpZHRoO1xyXG4gIH1cclxuICBcclxuICBnZXRIZWlnaHQoKTogbnVtYmVyIHtcclxuICAgIHJldHVybiB0aGlzLmVsZW0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkuaGVpZ2h0O1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgTGFiZWw7IiwiaW1wb3J0IGNyZWF0ZUVsZW0gZnJvbSBcIi4vY3JlYXRlRWxlbVwiO1xyXG5cclxuY2xhc3MgU2NhbGVGaWxsaW5nIHtcclxuICBlbGVtOiBIVE1MRWxlbWVudDtcclxuICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgdGhpcy5lbGVtID0gY3JlYXRlRWxlbShcInNsaWRlcl9fc2NhbGUtZmlsbGluZ1wiKTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IFNjYWxlRmlsbGluZztcclxuIiwiaW1wb3J0IE1ha2VPYnNlcnZhYmxlT2JqZWN0IGZyb20gXCIuL2Fzc2V0cy9NYWtlT2JzZXJ2YWJsZU9iamVjdFwiO1xyXG5pbXBvcnQgY3JlYXRlRWxlbSBmcm9tIFwiLi9hc3NldHMvY3JlYXRlRWxlbVwiO1xyXG5pbXBvcnQgU2NhbGUgZnJvbSBcIi4vYXNzZXRzL1NjYWxlXCI7XHJcbmltcG9ydCBHcmFkdWF0aW9uIGZyb20gXCIuL2Fzc2V0cy9HcmFkdWF0aW9uXCI7XHJcbmltcG9ydCBCdXR0b24gZnJvbSBcIi4vYXNzZXRzL0J1dHRvblwiO1xyXG5pbXBvcnQgTGFiZWwgZnJvbSBcIi4vYXNzZXRzL0xhYmVsXCI7XHJcbmltcG9ydCBTY2FsZUZpbGxpbmcgZnJvbSBcIi4vYXNzZXRzL1NjYWxlRmlsbGluZ1wiO1xyXG5cclxuY2xhc3MgVmlldyB7XHJcbiAgW2luZGV4OiBzdHJpbmddOiBudW1iZXJ8Ym9vbGVhbnxTY2FsZXxHcmFkdWF0aW9ufFNjYWxlRmlsbGluZ3xCdXR0b258TGFiZWx8TWFrZU9ic2VydmFibGVPYmplY3R8RnVuY3Rpb247XHJcbiAgc2NhbGU6IFNjYWxlO1xyXG4gIGdyYWR1YXRpb246IEdyYWR1YXRpb247XHJcbiAgc2NhbGVGaWxsaW5nOiBTY2FsZUZpbGxpbmc7XHJcbiAgYnV0dG9uMTogQnV0dG9uO1xyXG4gIGJ1dHRvbjI6IEJ1dHRvbjtcclxuICBsYWJlbDE6IExhYmVsO1xyXG4gIGxhYmVsMjogTGFiZWw7XHJcbiAgaXNSYW5nZTogYm9vbGVhbjtcclxuICBpc1ZlcnRpY2FsOiBib29sZWFuO1xyXG4gIHNob3dMYWJlbDogYm9vbGVhbjtcclxuICBtaW5WYWx1ZTogbnVtYmVyO1xyXG4gIG1heFZhbHVlOiBudW1iZXI7XHJcbiAgY3VyTWluVmFsdWU6IG51bWJlcjtcclxuICBjdXJNYXhWYWx1ZTogbnVtYmVyO1xyXG4gIHN0ZXA6IG51bWJlcjtcclxuICBmbG9hdDogYm9vbGVhbjtcclxuICBvYnNlcnZlcnM6IE1ha2VPYnNlcnZhYmxlT2JqZWN0O1xyXG4gICAgXHJcbiAgY29uc3RydWN0b3IobWluVmFsdWUgPSAwLCBtYXhWYWx1ZSA9IDEwMDAsIHN0ZXAgPSAxLCBpc1JhbmdlID0gZmFsc2UsIGlzVmVydGljYWwgPSBmYWxzZSwgc2hvd0xhYmVsID0gZmFsc2UsIGZsb2F0ID0gZmFsc2UpIHtcclxuICAgIHRoaXMuc2NhbGUgPSBuZXcgU2NhbGUoKTtcclxuICAgIHRoaXMuYnV0dG9uMSA9IG5ldyBCdXR0b24oKTtcclxuICAgIHRoaXMuYnV0dG9uMiA9IG5ldyBCdXR0b24oKTtcclxuICAgIHRoaXMubGFiZWwxID0gbmV3IExhYmVsKCk7XHJcbiAgICB0aGlzLmxhYmVsMiA9IG5ldyBMYWJlbCgpO1xyXG4gICAgdGhpcy5zY2FsZUZpbGxpbmcgPSBuZXcgU2NhbGVGaWxsaW5nKCk7XHJcbiAgICB0aGlzLmdyYWR1YXRpb24gPSBuZXcgR3JhZHVhdGlvbigpO1xyXG4gICAgdGhpcy5taW5WYWx1ZSA9IG1pblZhbHVlO1xyXG4gICAgdGhpcy5tYXhWYWx1ZSA9IG1heFZhbHVlO1xyXG4gICAgdGhpcy5jdXJNaW5WYWx1ZSA9IG1pblZhbHVlO1xyXG4gICAgdGhpcy5jdXJNYXhWYWx1ZSA9IG1heFZhbHVlO1xyXG4gICAgdGhpcy5zdGVwID0gc3RlcDtcclxuICAgIHRoaXMuaXNSYW5nZSA9IGlzUmFuZ2U7XHJcbiAgICB0aGlzLmlzVmVydGljYWwgPSBpc1ZlcnRpY2FsO1xyXG4gICAgdGhpcy5zaG93TGFiZWwgPSBzaG93TGFiZWw7XHJcbiAgICB0aGlzLmZsb2F0ID0gZmxvYXQ7XHJcbiAgICB0aGlzLm9ic2VydmVycyA9IG5ldyBNYWtlT2JzZXJ2YWJsZU9iamVjdCgpXHJcbiAgICB0aGlzLmNoZWNrVmFsdWVzKCk7XHJcbiAgfVxyXG5cclxuICBnZXRTdGFydCA9ICgpOiBudW1iZXIgPT4ge1xyXG4gICAgaWYgKHRoaXMuaXNSYW5nZSkge1xyXG4gICAgICBpZiAodGhpcy5pc1ZlcnRpY2FsKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuYnV0dG9uMS5nZXRUb3AoKSAtIHRoaXMuc2NhbGUuZ2V0VG9wKCkgKyB0aGlzLmJ1dHRvbjEuZ2V0V2lkdGgoKS8yO1xyXG4gICAgICB9IFxyXG4gICAgICAgICAgXHJcbiAgICAgIHJldHVybiB0aGlzLmJ1dHRvbjEuZ2V0TGVmdCgpIC0gdGhpcy5zY2FsZS5nZXRMZWZ0KCkgKyB0aGlzLmJ1dHRvbjEuZ2V0V2lkdGgoKS8yO1xyXG4gICAgfSBcclxuICAgICAgICBcclxuICAgIHJldHVybiAwO1xyXG4gIH1cclxuXHJcbiAgZ2V0RW5kID0gKCk6IG51bWJlciA9PiB7XHJcbiAgICBpZiAodGhpcy5pc1ZlcnRpY2FsKSB7XHJcbiAgICAgIHJldHVybiB0aGlzLmJ1dHRvbjIuZ2V0VG9wKCkgLSB0aGlzLnNjYWxlLmdldFRvcCgpICsgdGhpcy5idXR0b24yLmdldFdpZHRoKCkvMjtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gdGhpcy5idXR0b24yLmdldExlZnQoKSAtIHRoaXMuc2NhbGUuZ2V0TGVmdCgpICsgdGhpcy5idXR0b24yLmdldFdpZHRoKCkvMjtcclxuICB9XHJcblxyXG4gIHVwZGF0ZUVsZW1zID0gKCk6IHZvaWQgPT4ge1xyXG4gICAgaWYgKHRoaXMuaXNWZXJ0aWNhbCkge1xyXG4gICAgICB0aGlzLnNjYWxlRmlsbGluZy5lbGVtLnN0eWxlLnRvcCA9IHRoaXMuZ2V0U3RhcnQoKSArIFwicHhcIjtcclxuICAgICAgdGhpcy5zY2FsZUZpbGxpbmcuZWxlbS5zdHlsZS5sZWZ0ID0gXCIwXCI7XHJcbiAgICAgIHRoaXMuc2NhbGVGaWxsaW5nLmVsZW0uc3R5bGUuaGVpZ2h0ID0gdGhpcy5nZXRFbmQoKSAtIHRoaXMuZ2V0U3RhcnQoKSArIFwicHhcIjtcclxuICAgICAgdGhpcy5zY2FsZUZpbGxpbmcuZWxlbS5zdHlsZS53aWR0aCA9IFwiMTAwJVwiO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5zY2FsZUZpbGxpbmcuZWxlbS5zdHlsZS5sZWZ0ID0gdGhpcy5nZXRTdGFydCgpICsgXCJweFwiO1xyXG4gICAgICB0aGlzLnNjYWxlRmlsbGluZy5lbGVtLnN0eWxlLnRvcCA9IFwiMFwiO1xyXG4gICAgICB0aGlzLnNjYWxlRmlsbGluZy5lbGVtLnN0eWxlLndpZHRoID0gdGhpcy5nZXRFbmQoKSAtIHRoaXMuZ2V0U3RhcnQoKSArIFwicHhcIjtcclxuICAgICAgdGhpcy5zY2FsZUZpbGxpbmcuZWxlbS5zdHlsZS5oZWlnaHQgPSBcIjEwMCVcIjtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoIXRoaXMuaXNSYW5nZSkge1xyXG4gICAgICB0aGlzLmN1ck1pblZhbHVlID0gdGhpcy5taW5WYWx1ZTtcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLm9ic2VydmVycy5ub3RpZnlPYnNlcnZlcnMoKTtcclxuICB9XHJcblxyXG4gIHJvdW5kID0gKHZhbDogbnVtYmVyLCBzdGVwOiBudW1iZXIpOiBudW1iZXIgPT4ge1xyXG4gICAgY29uc3Qgd2hvbGUgPSBNYXRoLmZsb29yKHZhbC9zdGVwKTtcclxuICAgIGNvbnN0IHJlbWluZGVyID0gdmFsICUgc3RlcDtcclxuXHJcbiAgICBpZiAodmFsIDwgMCkge1xyXG4gICAgICByZXR1cm4gTWF0aC5hYnMocmVtaW5kZXIpID4gc3RlcC8yID8gd2hvbGUqc3RlcCA6ICh3aG9sZSArIDEpKnN0ZXA7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gcmVtaW5kZXIgPCBzdGVwLzIgPyB3aG9sZSpzdGVwIDogKHdob2xlICsgMSkqc3RlcDtcclxuICB9XHJcblxyXG4gIHJvdW5kT2Zmc2V0QnV0dCA9IChjdXJyT2Zmc2V0OiBudW1iZXIpOiBBcnJheTxudW1iZXI+ID0+IHtcclxuICAgIGxldCBzY2FsZU1lc3N1cmU7XHJcbiAgICBpZih0aGlzLmlzVmVydGljYWwpIHtcclxuICAgICAgc2NhbGVNZXNzdXJlID0gdGhpcy5zY2FsZS5nZXRIZWlnaHQoKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHNjYWxlTWVzc3VyZSA9IHRoaXMuc2NhbGUuZ2V0V2lkdGgoKTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBjdXJyVmFsdWUgPSB0aGlzLm1pblZhbHVlICsgKGN1cnJPZmZzZXQgKyB0aGlzLmJ1dHRvbjIuZ2V0V2lkdGgoKS8yKSoodGhpcy5tYXhWYWx1ZSAtIHRoaXMubWluVmFsdWUpL3NjYWxlTWVzc3VyZTtcclxuICAgIGxldCByb3VuZFZhbHVlID0gdGhpcy5yb3VuZChjdXJyVmFsdWUsIHRoaXMuc3RlcCk7XHJcblxyXG4gICAgaWYgKHRoaXMuZmxvYXQpIHtcclxuICAgICAgcm91bmRWYWx1ZSA9IHBhcnNlRmxvYXQocm91bmRWYWx1ZS50b0ZpeGVkKDIpKTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgaWYgKHJvdW5kVmFsdWUgPCB0aGlzLm1pblZhbHVlKSB7XHJcbiAgICAgIHJvdW5kVmFsdWUgPSB0aGlzLm1pblZhbHVlO1xyXG4gICAgfSBlbHNlIGlmIChyb3VuZFZhbHVlID4gdGhpcy5tYXhWYWx1ZSkge1xyXG4gICAgICByb3VuZFZhbHVlID0gdGhpcy5tYXhWYWx1ZTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgY29uc3Qgcm91bmRPZmZzZXQgPSAocm91bmRWYWx1ZSAtIHRoaXMubWluVmFsdWUpKnNjYWxlTWVzc3VyZS8odGhpcy5tYXhWYWx1ZSAtIHRoaXMubWluVmFsdWUpIC0gdGhpcy5idXR0b24yLmdldFdpZHRoKCkvMjtcclxuICAgIHJldHVybiBbcm91bmRPZmZzZXQsIHJvdW5kVmFsdWVdO1xyXG4gIH1cclxuXHJcbiAgb2Zmc2V0VmFsdWVDb252ID0gKHZhbHVlOiBudW1iZXIpOiBudW1iZXIgPT4ge1xyXG4gICAgaWYgKHRoaXMuaXNWZXJ0aWNhbCkge1xyXG4gICAgICByZXR1cm4gKCh2YWx1ZSAtIHRoaXMubWluVmFsdWUpLyh0aGlzLm1heFZhbHVlIC0gdGhpcy5taW5WYWx1ZSkqdGhpcy5zY2FsZS5nZXRIZWlnaHQoKSAtIHRoaXMuYnV0dG9uMi5nZXRXaWR0aCgpLzIpO1xyXG4gICAgfSBcclxuICAgICAgICBcclxuICAgIHJldHVybiAoKHZhbHVlIC0gdGhpcy5taW5WYWx1ZSkvKHRoaXMubWF4VmFsdWUgLSB0aGlzLm1pblZhbHVlKSp0aGlzLnNjYWxlLmdldFdpZHRoKCkgLSB0aGlzLmJ1dHRvbjIuZ2V0V2lkdGgoKS8yKTtcclxuICB9XHJcblxyXG4gIC8vQnV0dG9uMSAgSGFuZGxlcnMtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbiAgYnV0dDFNb3ZlID0gKHJvdW5kT2Zmc2V0OiBudW1iZXIsIHJvdW5kVmFsdWU6IG51bWJlcik6IHZvaWQgPT4ge1xyXG4gICAgaWYgKHRoaXMuaXNWZXJ0aWNhbCkge1xyXG4gICAgICB0aGlzLmJ1dHRvbjEuZWxlbS5zdHlsZS50b3AgPSByb3VuZE9mZnNldCArIFwicHhcIjtcclxuICAgICAgdGhpcy5sYWJlbDEuZWxlbS5zdHlsZS50b3AgPSByb3VuZE9mZnNldCAtIHRoaXMubGFiZWwxLmdldEhlaWdodCgpLzIgKyB0aGlzLmJ1dHRvbjEuZ2V0V2lkdGgoKS8yICsgXCJweFwiO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5idXR0b24xLmVsZW0uc3R5bGUubGVmdCA9IHJvdW5kT2Zmc2V0ICsgXCJweFwiO1xyXG4gICAgICB0aGlzLmxhYmVsMS5lbGVtLnN0eWxlLmxlZnQgPSByb3VuZE9mZnNldCAtIHRoaXMubGFiZWwxLmdldFdpZHRoKCkvMiArIHRoaXMuYnV0dG9uMS5nZXRXaWR0aCgpLzIgKyBcInB4XCI7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHJvdW5kVmFsdWUgPCB0aGlzLm1pblZhbHVlKSB7XHJcbiAgICAgIHJvdW5kVmFsdWUgPSB0aGlzLm1pblZhbHVlO1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXMubGFiZWwxLmVsZW0uaW5uZXJIVE1MID0gcm91bmRWYWx1ZSArIFwiXCI7XHJcbiAgICB0aGlzLmN1ck1pblZhbHVlID0gcm91bmRWYWx1ZTtcclxuICAgIHRoaXMudXBkYXRlRWxlbXMoKTtcclxuICB9XHJcblxyXG4gIGJ1dHQxT2Zmc2V0Q2hlY2sgPSAobmV3T2Zmc2V0OiBudW1iZXIpOiBBcnJheTxudW1iZXI+ID0+IHtcclxuICAgIGxldCByb3VuZFZhbHVlO1xyXG5cclxuICAgIGlmICh0aGlzLmlzVmVydGljYWwpIHtcclxuICAgICAgY29uc3Qgc3RlcFdpZHRoID0gdGhpcy5zdGVwKnRoaXMuc2NhbGUuZ2V0SGVpZ2h0KCkvKHRoaXMubWF4VmFsdWUgLSB0aGlzLm1pblZhbHVlKTtcclxuICAgICAgaWYgKG5ld09mZnNldCA8IC10aGlzLmJ1dHRvbjIuZ2V0V2lkdGgoKS8yKSB7XHJcbiAgICAgICAgbmV3T2Zmc2V0ID0gLXRoaXMuYnV0dG9uMi5nZXRXaWR0aCgpLzI7XHJcbiAgICAgICAgcm91bmRWYWx1ZSA9IHRoaXMubWluVmFsdWU7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmIChzdGVwV2lkdGgvMS41ID4gdGhpcy5idXR0b24yLmdldFdpZHRoKCkpIHtcclxuICAgICAgICBpZiAobmV3T2Zmc2V0ID4gdGhpcy5idXR0b24yLmdldFRvcCgpIC0gdGhpcy5zY2FsZS5nZXRUb3AoKSAtIHN0ZXBXaWR0aC8xLjUpIHtcclxuICAgICAgICAgIG5ld09mZnNldCA9IHRoaXMuYnV0dG9uMi5nZXRUb3AoKSAtIHRoaXMuc2NhbGUuZ2V0VG9wKCkgLSBzdGVwV2lkdGgvMS41O1xyXG4gICAgICAgIH1cclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBpZiAobmV3T2Zmc2V0ID4gdGhpcy5idXR0b24yLmdldFRvcCgpIC0gdGhpcy5zY2FsZS5nZXRUb3AoKSAtIHRoaXMuYnV0dG9uMi5nZXRXaWR0aCgpKSB7XHJcbiAgICAgICAgICBuZXdPZmZzZXQgPSB0aGlzLmJ1dHRvbjIuZ2V0VG9wKCkgLSB0aGlzLnNjYWxlLmdldFRvcCgpIC0gdGhpcy5idXR0b24yLmdldFdpZHRoKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBjb25zdCBzdGVwV2lkdGggPSB0aGlzLnN0ZXAqdGhpcy5zY2FsZS5nZXRXaWR0aCgpLyh0aGlzLm1heFZhbHVlIC0gdGhpcy5taW5WYWx1ZSk7XHJcbiAgICAgIGlmIChuZXdPZmZzZXQgPCAtdGhpcy5idXR0b24xLmdldFdpZHRoKCkvMikge1xyXG4gICAgICAgIG5ld09mZnNldCA9IC10aGlzLmJ1dHRvbjEuZ2V0V2lkdGgoKS8yO1xyXG4gICAgICAgIHJvdW5kVmFsdWUgPSB0aGlzLm1pblZhbHVlO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAoc3RlcFdpZHRoLzEuNSA+IHRoaXMuYnV0dG9uMS5nZXRXaWR0aCgpKSB7XHJcbiAgICAgICAgaWYgKG5ld09mZnNldCA+IHRoaXMuYnV0dG9uMi5nZXRMZWZ0KCkgLSB0aGlzLnNjYWxlLmdldExlZnQoKSAtIHN0ZXBXaWR0aC8xLjUpIHtcclxuICAgICAgICAgIG5ld09mZnNldCA9IHRoaXMuYnV0dG9uMi5nZXRMZWZ0KCkgLSB0aGlzLnNjYWxlLmdldExlZnQoKSAtIHN0ZXBXaWR0aC8xLjU7XHJcbiAgICAgICAgfVxyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGlmIChuZXdPZmZzZXQgPiB0aGlzLmJ1dHRvbjIuZ2V0TGVmdCgpIC0gdGhpcy5zY2FsZS5nZXRMZWZ0KCkgLSB0aGlzLmJ1dHRvbjIuZ2V0V2lkdGgoKSkge1xyXG4gICAgICAgICAgbmV3T2Zmc2V0ID0gdGhpcy5idXR0b24yLmdldExlZnQoKSAtIHRoaXMuc2NhbGUuZ2V0TGVmdCgpIC0gdGhpcy5idXR0b24yLmdldFdpZHRoKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIFtuZXdPZmZzZXQsIHJvdW5kVmFsdWVdO1xyXG4gIH1cclxuICAgIFxyXG4gIG9uTW91c2VNb3ZlMSA9IChldmVudE1tOiBNb3VzZUV2ZW50KTogdm9pZCA9PiB7XHJcbiAgICBsZXQgbmV3T2Zmc2V0O1xyXG4gICAgbGV0IHJvdW5kVmFsdWU7XHJcbiAgICBsZXQgcm91bmRPZmZzZXQ7XHJcbiAgICBpZiAodGhpcy5pc1ZlcnRpY2FsKSB7XHJcbiAgICAgIG5ld09mZnNldCA9IGV2ZW50TW0uY2xpZW50WSAtIHRoaXMuc2NhbGUuZ2V0VG9wKCkgLSB0aGlzLmJ1dHRvbjEuZ2V0V2lkdGgoKS8yO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgbmV3T2Zmc2V0ID0gZXZlbnRNbS5jbGllbnRYIC0gdGhpcy5zY2FsZS5nZXRMZWZ0KCkgLSB0aGlzLmJ1dHRvbjEuZ2V0V2lkdGgoKS8yO1xyXG4gICAgfSBcclxuXHJcbiAgICBbcm91bmRPZmZzZXQsIHJvdW5kVmFsdWVdID0gdGhpcy5idXR0MU9mZnNldENoZWNrKG5ld09mZnNldCk7XHJcbiAgICBpZiAoIXJvdW5kVmFsdWUpIHtcclxuICAgICAgICBbcm91bmRPZmZzZXQsIHJvdW5kVmFsdWVdID0gdGhpcy5yb3VuZE9mZnNldEJ1dHQocm91bmRPZmZzZXQpO1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXMuYnV0dDFNb3ZlKHJvdW5kT2Zmc2V0LCByb3VuZFZhbHVlKTtcclxuICB9XHJcblxyXG4gIG9uTW91c2VVcDEgPSAoZXZlbnRNdTogTW91c2VFdmVudCk6IHZvaWQgPT4ge1xyXG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1vdXNldXBcIiwgdGhpcy5vbk1vdXNlVXAxKTtcclxuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtb3VzZW1vdmVcIiwgdGhpcy5vbk1vdXNlTW92ZTEpO1xyXG4gIH1cclxuXHJcbiAgLy9CdXR0b24yICBIYW5kbGVycy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuICBidXR0Mk1vdmUgPSAocm91bmRPZmZzZXQ6IG51bWJlciwgcm91bmRWYWx1ZTogbnVtYmVyKTogdm9pZCA9PiB7XHJcbiAgICBpZiAodGhpcy5pc1ZlcnRpY2FsKSB7XHJcbiAgICAgIHRoaXMuYnV0dG9uMi5lbGVtLnN0eWxlLnRvcCA9IHJvdW5kT2Zmc2V0ICsgXCJweFwiO1xyXG4gICAgICB0aGlzLmxhYmVsMi5lbGVtLnN0eWxlLnRvcCA9IHJvdW5kT2Zmc2V0IC0gdGhpcy5sYWJlbDIuZ2V0SGVpZ2h0KCkvMiArIHRoaXMuYnV0dG9uMi5nZXRXaWR0aCgpLzIgKyBcInB4XCI7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLmJ1dHRvbjIuZWxlbS5zdHlsZS5sZWZ0ID0gcm91bmRPZmZzZXQgKyBcInB4XCI7XHJcbiAgICAgIHRoaXMubGFiZWwyLmVsZW0uc3R5bGUubGVmdCA9IHJvdW5kT2Zmc2V0IC0gdGhpcy5sYWJlbDIuZ2V0V2lkdGgoKS8yICsgdGhpcy5idXR0b24yLmdldFdpZHRoKCkvMiArIFwicHhcIjtcclxuICAgIH1cclxuXHJcbiAgICBpZiAocm91bmRWYWx1ZSA8IHRoaXMubWluVmFsdWUpIHtcclxuICAgICAgcm91bmRWYWx1ZSA9IHRoaXMubWluVmFsdWU7XHJcbiAgICB9IGVsc2UgaWYgKHJvdW5kVmFsdWUgPiB0aGlzLm1heFZhbHVlKSB7XHJcbiAgICAgIHJvdW5kVmFsdWUgPSB0aGlzLm1heFZhbHVlO1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXMubGFiZWwyLmVsZW0uaW5uZXJIVE1MID0gcm91bmRWYWx1ZSArIFwiXCI7XHJcbiAgICB0aGlzLmN1ck1heFZhbHVlID0gcm91bmRWYWx1ZTtcclxuICAgIHRoaXMudXBkYXRlRWxlbXMoKTsgXHJcbiAgfVxyXG5cclxuICBidXR0Mk9mZnNldENoZWNrID0gKG5ld09mZnNldDogbnVtYmVyKTogQXJyYXk8bnVtYmVyPiA9PiB7XHJcbiAgICBsZXQgcm91bmRWYWx1ZTtcclxuICAgIGlmICghdGhpcy5pc1JhbmdlKSB7XHJcbiAgICAgIGlmIChuZXdPZmZzZXQgPCAtdGhpcy5idXR0b24yLmdldFdpZHRoKCkvMikge1xyXG4gICAgICAgIG5ld09mZnNldCA9IC10aGlzLmJ1dHRvbjIuZ2V0V2lkdGgoKS8yO1xyXG4gICAgICAgIHJvdW5kVmFsdWUgPSB0aGlzLm1pblZhbHVlO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHRoaXMuaXNWZXJ0aWNhbCkge1xyXG4gICAgICBjb25zdCBzdGVwV2lkdGggPSB0aGlzLnN0ZXAqdGhpcy5zY2FsZS5nZXRIZWlnaHQoKS8odGhpcy5tYXhWYWx1ZSAtIHRoaXMubWluVmFsdWUpO1xyXG4gICAgICBpZiAobmV3T2Zmc2V0ID4gdGhpcy5zY2FsZS5nZXRIZWlnaHQoKSAtIHRoaXMuYnV0dG9uMi5nZXRXaWR0aCgpLzIpIHtcclxuICAgICAgICBuZXdPZmZzZXQgPSB0aGlzLnNjYWxlLmdldEhlaWdodCgpIC0gdGhpcy5idXR0b24yLmdldFdpZHRoKCkvMjtcclxuICAgICAgICByb3VuZFZhbHVlID0gdGhpcy5tYXhWYWx1ZTtcclxuICAgICAgfVxyXG4gICAgICBcclxuICAgICAgaWYgKHN0ZXBXaWR0aC8xLjUgPiB0aGlzLmJ1dHRvbjIuZ2V0V2lkdGgoKSkge1xyXG4gICAgICAgIGlmIChuZXdPZmZzZXQgPCB0aGlzLmJ1dHRvbjEuZ2V0VG9wKCkgLSB0aGlzLnNjYWxlLmdldFRvcCgpICsgc3RlcFdpZHRoLzEuNSkge1xyXG4gICAgICAgICAgbmV3T2Zmc2V0ID0gdGhpcy5idXR0b24xLmdldFRvcCgpIC0gdGhpcy5zY2FsZS5nZXRUb3AoKSArIHN0ZXBXaWR0aC8xLjU7XHJcbiAgICAgICAgfVxyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGlmIChuZXdPZmZzZXQgPCB0aGlzLmJ1dHRvbjEuZ2V0VG9wKCkgLSB0aGlzLnNjYWxlLmdldFRvcCgpICsgdGhpcy5idXR0b24yLmdldFdpZHRoKCkpIHtcclxuICAgICAgICAgIG5ld09mZnNldCA9IHRoaXMuYnV0dG9uMS5nZXRUb3AoKSAtIHRoaXMuc2NhbGUuZ2V0VG9wKCkgKyB0aGlzLmJ1dHRvbjIuZ2V0V2lkdGgoKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGNvbnN0IHN0ZXBXaWR0aCA9IHRoaXMuc3RlcCp0aGlzLnNjYWxlLmdldFdpZHRoKCkvKHRoaXMubWF4VmFsdWUgLSB0aGlzLm1pblZhbHVlKTtcclxuXHJcbiAgICAgIGlmIChuZXdPZmZzZXQgPiB0aGlzLnNjYWxlLmdldFdpZHRoKCkgLSB0aGlzLmJ1dHRvbjIuZ2V0V2lkdGgoKS8yKSB7XHJcbiAgICAgICAgbmV3T2Zmc2V0ID0gdGhpcy5zY2FsZS5nZXRXaWR0aCgpIC0gdGhpcy5idXR0b24yLmdldFdpZHRoKCkvMjtcclxuICAgICAgICByb3VuZFZhbHVlID0gdGhpcy5tYXhWYWx1ZTtcclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKHN0ZXBXaWR0aC8xLjUgPiB0aGlzLmJ1dHRvbjIuZ2V0V2lkdGgoKSkge1xyXG4gICAgICAgIGlmIChuZXdPZmZzZXQgPCB0aGlzLmJ1dHRvbjEuZ2V0TGVmdCgpIC0gdGhpcy5zY2FsZS5nZXRMZWZ0KCkgKyBzdGVwV2lkdGgvMS41KSB7XHJcbiAgICAgICAgICBuZXdPZmZzZXQgPSB0aGlzLmJ1dHRvbjEuZ2V0TGVmdCgpIC0gdGhpcy5zY2FsZS5nZXRMZWZ0KCkgKyBzdGVwV2lkdGgvMS41O1xyXG4gICAgICAgIH1cclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBpZiAobmV3T2Zmc2V0IDwgdGhpcy5idXR0b24xLmdldExlZnQoKSAtIHRoaXMuc2NhbGUuZ2V0TGVmdCgpICsgdGhpcy5idXR0b24yLmdldFdpZHRoKCkpIHtcclxuICAgICAgICAgIG5ld09mZnNldCA9IHRoaXMuYnV0dG9uMS5nZXRMZWZ0KCkgLSB0aGlzLnNjYWxlLmdldExlZnQoKSArIHRoaXMuYnV0dG9uMi5nZXRXaWR0aCgpO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBbbmV3T2Zmc2V0LCByb3VuZFZhbHVlXTtcclxuICB9XHJcblxyXG4gIG9uTW91c2VNb3ZlMiA9IChldmVudE1tOiBNb3VzZUV2ZW50KTogdm9pZCA9PiB7XHJcbiAgICBsZXQgbmV3T2Zmc2V0O1xyXG4gICAgbGV0IHJvdW5kVmFsdWU7XHJcbiAgICBsZXQgcm91bmRPZmZzZXQ7XHJcbiAgICBpZiAodGhpcy5pc1ZlcnRpY2FsKSB7XHJcbiAgICAgIG5ld09mZnNldCA9IGV2ZW50TW0uY2xpZW50WSAtIHRoaXMuc2NhbGUuZ2V0VG9wKCkgLSB0aGlzLmJ1dHRvbjIuZ2V0V2lkdGgoKS8yO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgbmV3T2Zmc2V0ID0gZXZlbnRNbS5jbGllbnRYIC0gdGhpcy5zY2FsZS5nZXRMZWZ0KCkgLSB0aGlzLmJ1dHRvbjIuZ2V0V2lkdGgoKS8yO1xyXG4gICAgfVxyXG5cclxuICAgIFtyb3VuZE9mZnNldCwgcm91bmRWYWx1ZV0gPSB0aGlzLmJ1dHQyT2Zmc2V0Q2hlY2sobmV3T2Zmc2V0KTtcclxuICAgIGlmICghcm91bmRWYWx1ZSkge1xyXG4gICAgICAgIFtyb3VuZE9mZnNldCwgcm91bmRWYWx1ZV0gPSB0aGlzLnJvdW5kT2Zmc2V0QnV0dChyb3VuZE9mZnNldCk7XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5idXR0Mk1vdmUocm91bmRPZmZzZXQsIHJvdW5kVmFsdWUpO1xyXG4gIH1cclxuXHJcbiAgb25Nb3VzZVVwMiA9IChldmVudE11OiBNb3VzZUV2ZW50KTogdm9pZCA9PiB7XHJcbiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwibW91c2V1cFwiLCB0aGlzLm9uTW91c2VVcDIpO1xyXG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1vdXNlbW92ZVwiLCB0aGlzLm9uTW91c2VNb3ZlMik7XHJcbiAgfVxyXG4gICAgXHJcbiAgLy8gU2NhbGUgRXZlbnRMaXN0ZW5lcnMtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuICBzY2FsZU9uY2xpY2sgPSAoZXZlbnQ6IE1vdXNlRXZlbnQpOiB2b2lkID0+IHtcclxuICAgIGlmKHRoaXMuaXNSYW5nZSkge1xyXG4gICAgICBsZXQgYnV0dDFDbG9zZXI7XHJcbiAgICAgIGlmICh0aGlzLmlzVmVydGljYWwpIHtcclxuICAgICAgICBidXR0MUNsb3NlciA9IE1hdGguYWJzKGV2ZW50LmNsaWVudFkgLSB0aGlzLmJ1dHRvbjEuZ2V0VG9wKCkgLSB0aGlzLmJ1dHRvbjEuZ2V0V2lkdGgoKS8yKSBcclxuICAgICAgICA8IE1hdGguYWJzKGV2ZW50LmNsaWVudFkgLSB0aGlzLmJ1dHRvbjIuZ2V0VG9wKCkgLSB0aGlzLmJ1dHRvbjIuZ2V0V2lkdGgoKS8yKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBidXR0MUNsb3NlciA9IE1hdGguYWJzKGV2ZW50LmNsaWVudFggLSB0aGlzLmJ1dHRvbjEuZ2V0TGVmdCgpIC0gdGhpcy5idXR0b24xLmdldFdpZHRoKCkvMilcclxuICAgICAgICA8IE1hdGguYWJzKGV2ZW50LmNsaWVudFggLSB0aGlzLmJ1dHRvbjIuZ2V0TGVmdCgpIC0gdGhpcy5idXR0b24yLmdldFdpZHRoKCkvMik7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmIChidXR0MUNsb3Nlcikge1xyXG4gICAgICAgIHRoaXMub25Nb3VzZU1vdmUxKGV2ZW50KTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICB0aGlzLm9uTW91c2VNb3ZlMihldmVudCk7XHJcbiAgICAgIH1cclxuXHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLm9uTW91c2VNb3ZlMihldmVudCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvLyBHcmFkdWF0aW9uIEV2ZW50TGlzdGVuZXJzLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4gIGludGVyTWFya0hhbmRsZXIgPSAoY3VyclZhbHVlOiBudW1iZXIpOiB2b2lkID0+IHtcclxuICAgIGxldCByb3VuZE9mZnNldDtcclxuICAgIGxldCByb3VuZFZhbHVlO1xyXG4gICAgaWYgKHRoaXMuaXNWZXJ0aWNhbCkge1xyXG4gICAgICBjb25zdCBtYXJrWCA9IChjdXJyVmFsdWUgLSB0aGlzLm1pblZhbHVlKS8odGhpcy5tYXhWYWx1ZSAtIHRoaXMubWluVmFsdWUpKnRoaXMuc2NhbGUuZ2V0SGVpZ2h0KCk7XHJcbiAgICAgIFtyb3VuZE9mZnNldCwgcm91bmRWYWx1ZV0gPSB0aGlzLnJvdW5kT2Zmc2V0QnV0dChtYXJrWCAtIHRoaXMuYnV0dG9uMi5nZXRXaWR0aCgpLzIpO1xyXG4gICAgICBpZiAodGhpcy5pc1JhbmdlKSB7XHJcbiAgICAgICAgaWYgKE1hdGguYWJzKG1hcmtYICsgdGhpcy5zY2FsZS5nZXRUb3AoKSAtIHRoaXMuYnV0dG9uMS5nZXRUb3AoKSAtIHRoaXMuYnV0dG9uMi5nZXRXaWR0aCgpLzIpXHJcbiAgICAgICAgICA8IE1hdGguYWJzKG1hcmtYICsgdGhpcy5zY2FsZS5nZXRUb3AoKSAtIHRoaXMuYnV0dG9uMi5nZXRUb3AoKSAtIHRoaXMuYnV0dG9uMi5nZXRXaWR0aCgpLzIpKSB7XHJcbiAgICAgICAgICB0aGlzLmJ1dHQxTW92ZShyb3VuZE9mZnNldCwgcm91bmRWYWx1ZSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIHRoaXMuYnV0dDJNb3ZlKHJvdW5kT2Zmc2V0LCByb3VuZFZhbHVlKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgdGhpcy5idXR0Mk1vdmUocm91bmRPZmZzZXQsIHJvdW5kVmFsdWUpO1xyXG4gICAgICB9XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBjb25zdCBtYXJrWCA9IChjdXJyVmFsdWUgLSB0aGlzLm1pblZhbHVlKS8odGhpcy5tYXhWYWx1ZSAtIHRoaXMubWluVmFsdWUpKnRoaXMuc2NhbGUuZ2V0V2lkdGgoKTtcclxuICAgICAgW3JvdW5kT2Zmc2V0LCByb3VuZFZhbHVlXSA9IHRoaXMucm91bmRPZmZzZXRCdXR0KG1hcmtYIC0gdGhpcy5idXR0b24yLmdldFdpZHRoKCkvMik7XHJcbiAgICAgIGlmICh0aGlzLmlzUmFuZ2UpIHtcclxuICAgICAgICBpZiAoTWF0aC5hYnMobWFya1ggKyB0aGlzLnNjYWxlLmdldExlZnQoKSAtIHRoaXMuYnV0dG9uMS5nZXRMZWZ0KCkgLSB0aGlzLmJ1dHRvbjIuZ2V0V2lkdGgoKS8yKVxyXG4gICAgICAgICAgPCBNYXRoLmFicyhtYXJrWCArIHRoaXMuc2NhbGUuZ2V0TGVmdCgpIC0gdGhpcy5idXR0b24yLmdldExlZnQoKSAtIHRoaXMuYnV0dG9uMi5nZXRXaWR0aCgpLzIpKSB7XHJcbiAgICAgICAgICB0aGlzLmJ1dHQxTW92ZShyb3VuZE9mZnNldCwgcm91bmRWYWx1ZSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIHRoaXMuYnV0dDJNb3ZlKHJvdW5kT2Zmc2V0LCByb3VuZFZhbHVlKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgdGhpcy5idXR0Mk1vdmUocm91bmRPZmZzZXQsIHJvdW5kVmFsdWUpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBtYXJrMU9uY2xpY2sgPSAoZXZlbnQ6IE1vdXNlRXZlbnQpOiB2b2lkID0+IHtcclxuICAgIGNvbnN0IHJvdW5kT2Zmc2V0ID0gLXRoaXMuYnV0dG9uMi5nZXRXaWR0aCgpLzI7XHJcbiAgICBjb25zdCByb3VuZFZhbHVlID0gdGhpcy5taW5WYWx1ZTtcclxuICAgIGlmICghdGhpcy5pc1JhbmdlKSB7XHJcbiAgICAgIHRoaXMuYnV0dDJNb3ZlKHJvdW5kT2Zmc2V0LCByb3VuZFZhbHVlKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuYnV0dDFNb3ZlKHJvdW5kT2Zmc2V0LCByb3VuZFZhbHVlKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIG1hcms0T25jbGljayA9IChldmVudDogTW91c2VFdmVudCk6IHZvaWQgPT4ge1xyXG4gICAgaWYgKHRoaXMuaXNWZXJ0aWNhbCkge1xyXG4gICAgICBjb25zdCByb3VuZE9mZnNldCA9IHRoaXMuc2NhbGUuZ2V0SGVpZ2h0KCkgLSB0aGlzLmJ1dHRvbjIuZ2V0V2lkdGgoKS8yO1xyXG4gICAgICBjb25zdCByb3VuZFZhbHVlID0gdGhpcy5tYXhWYWx1ZTtcclxuICAgICAgdGhpcy5idXR0Mk1vdmUocm91bmRPZmZzZXQsIHJvdW5kVmFsdWUpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgY29uc3Qgcm91bmRPZmZzZXQgPSB0aGlzLnNjYWxlLmdldFdpZHRoKCkgLSB0aGlzLmJ1dHRvbjIuZ2V0V2lkdGgoKS8yO1xyXG4gICAgICBjb25zdCByb3VuZFZhbHVlID0gdGhpcy5tYXhWYWx1ZTtcclxuICAgICAgdGhpcy5idXR0Mk1vdmUocm91bmRPZmZzZXQsIHJvdW5kVmFsdWUpOyBcclxuICAgIH1cclxuICB9XHJcblxyXG4gIG1hcmsyT25jbGljayA9IChldmVudDogTW91c2VFdmVudCk6IHZvaWQgPT4ge1xyXG4gICAgY29uc3QgdmFsID0gdGhpcy5mbG9hdCA/IHBhcnNlRmxvYXQodGhpcy5ncmFkdWF0aW9uLm1hcmsyLmlubmVySFRNTCkgOiBwYXJzZUludCh0aGlzLmdyYWR1YXRpb24ubWFyazIuaW5uZXJIVE1MKTtcclxuICAgIHRoaXMuaW50ZXJNYXJrSGFuZGxlcih2YWwpO1xyXG4gIH1cclxuXHJcbiAgbWFyazNPbmNsaWNrID0gKGV2ZW50OiBNb3VzZUV2ZW50KTogdm9pZCA9PiB7XHJcbiAgICBjb25zdCB2YWwgPSB0aGlzLmZsb2F0ID8gcGFyc2VGbG9hdCh0aGlzLmdyYWR1YXRpb24ubWFyazMuaW5uZXJIVE1MKSA6IHBhcnNlSW50KHRoaXMuZ3JhZHVhdGlvbi5tYXJrMy5pbm5lckhUTUwpO1xyXG4gICAgdGhpcy5pbnRlck1hcmtIYW5kbGVyKHZhbCk7XHJcbiAgfVxyXG5cclxuICBjaGVja1ZhbHVlcyA9ICgpOiB2b2lkID0+IHtcclxuICAgIGlmICh0eXBlb2YgdGhpcy5tYXhWYWx1ZSAhPT0gXCJudW1iZXJcIikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKFwiTWF4dmFsdWUgc2hvdWxkIGJlIGEgbnVtYmVyXCIpO1xyXG4gICAgfVxyXG4gICAgaWYgKHR5cGVvZiB0aGlzLm1pblZhbHVlICE9PSBcIm51bWJlclwiKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJNYXh2YWx1ZSBzaG91bGQgYmUgYSBudW1iZXJcIik7XHJcbiAgICB9XHJcbiAgICBpZiAodHlwZW9mIHRoaXMuc3RlcCAhPT0gXCJudW1iZXJcIikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKFwiU3RlcCBzaG91bGQgYmUgYSBudW1iZXJcIik7XHJcbiAgICB9XHJcbiAgICBpZiAodHlwZW9mIHRoaXMuaXNSYW5nZSAhPT0gXCJib29sZWFuXCIpIHtcclxuICAgICAgY29uc29sZS5lcnJvcihcImlzUmFuZ2Ugc2hvdWxkIGJlIGEgYm9vbGVhblwiKTtcclxuICAgIH1cclxuICAgIGlmICh0eXBlb2YgdGhpcy5pc1ZlcnRpY2FsICE9PSBcImJvb2xlYW5cIikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKFwiaXNWZXJ0aWNhbCBzaG91bGQgYmUgYSBib29sZWFuXCIpO1xyXG4gICAgfVxyXG4gICAgaWYgKHR5cGVvZiB0aGlzLnNob3dMYWJlbCAhPT0gXCJib29sZWFuXCIpIHtcclxuICAgICAgY29uc29sZS5lcnJvcihcIlNob3dMYWJlbCBzaG91bGQgYmUgYSBib29sZWFuXCIpO1xyXG4gICAgfVxyXG4gICAgaWYgKHRoaXMuc3RlcCA+IHRoaXMubWF4VmFsdWUgLSB0aGlzLm1pblZhbHVlKSB7XHJcbiAgICAgIHRoaXMuc3RlcCA9IHRoaXMubWF4VmFsdWUgLSB0aGlzLm1pblZhbHVlO1xyXG4gICAgICBjb25zb2xlLmVycm9yKFwiU3RlcCBpcyBzZXR0ZWQgdG8gdGhlIG1heFwiKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGluaXQgPSAoKTogdm9pZCA9PiB7XHJcbiAgICB0aGlzLmJ1dHRvbjEuZWxlbS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XHJcbiAgICB0aGlzLmxhYmVsMS5lbGVtLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcclxuICAgIHRoaXMuZ3JhZHVhdGlvbi5pbml0KHRoaXMubWluVmFsdWUsIHRoaXMubWF4VmFsdWUsIHRoaXMuaXNWZXJ0aWNhbCwgdGhpcy5mbG9hdCk7XHJcbiAgICB0aGlzLmNoZWNrVmFsdWVzKCk7XHJcbiAgICBpZiAodGhpcy5zaG93TGFiZWwpIHtcclxuICAgICAgdGhpcy5sYWJlbDEuZWxlbS5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xyXG4gICAgICB0aGlzLmxhYmVsMi5lbGVtLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLmxhYmVsMS5lbGVtLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcclxuICAgICAgdGhpcy5sYWJlbDIuZWxlbS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHRoaXMuaXNSYW5nZSkge1xyXG4gICAgICB0aGlzLmJ1dHRvbjEuZWxlbS5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5idXR0b24xLmVsZW0uc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xyXG4gICAgICB0aGlzLmxhYmVsMS5lbGVtLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcclxuICAgIH1cclxuXHJcbiAgICBpZiAodGhpcy5pc1ZlcnRpY2FsKSB7XHJcbiAgICAgIHRoaXMuc2NhbGUuZWxlbS5jbGFzc0xpc3QuYWRkKFwic2xpZGVyX19zY2FsZV92ZXJ0aWNhbFwiKTtcclxuICAgICAgdGhpcy5zY2FsZUZpbGxpbmcuZWxlbS5jbGFzc0xpc3QuYWRkKFwic2xpZGVyX19zY2FsZS1maWxsaW5nX3ZlcnRpY2FsXCIpO1xyXG4gICAgICB0aGlzLmdyYWR1YXRpb24uZ3JhZEVsZW0uY2xhc3NMaXN0LmFkZChcInNsaWRlcl9fZ3JhZHVhdGlvbl92ZXJ0aWNhbFwiKTtcclxuICAgICAgdGhpcy5ncmFkdWF0aW9uLmdyYWRFbGVtLnN0eWxlLmhlaWdodCA9IHRoaXMuc2NhbGUuZ2V0SGVpZ2h0KCkgK1wicHhcIjtcclxuICAgICAgdGhpcy5idXR0b24xLmVsZW0uY2xhc3NMaXN0LmFkZChcInNsaWRlcl9fYnV0dG9uX3ZlcnRpY2FsXCIpO1xyXG4gICAgICB0aGlzLmJ1dHRvbjIuZWxlbS5jbGFzc0xpc3QuYWRkKFwic2xpZGVyX19idXR0b25fdmVydGljYWxcIik7XHJcbiAgICAgIHRoaXMubGFiZWwxLmVsZW0uY2xhc3NMaXN0LmFkZChcInNsaWRlcl9fYnV0dG9uLWxhYmVsX3ZlcnRpY2FsXCIpO1xyXG4gICAgICB0aGlzLmxhYmVsMi5lbGVtLmNsYXNzTGlzdC5hZGQoXCJzbGlkZXJfX2J1dHRvbi1sYWJlbF92ZXJ0aWNhbFwiKTtcclxuXHJcbiAgICAgIHRoaXMuYnV0dG9uMS5lbGVtLnN0eWxlLnRvcCA9IC10aGlzLmJ1dHRvbjEuZ2V0V2lkdGgoKS8yICsgXCJweFwiO1xyXG4gICAgICB0aGlzLmJ1dHRvbjEuZWxlbS5zdHlsZS5sZWZ0ID0gXCI1MCVcIjtcclxuICAgICAgdGhpcy5idXR0b24yLmVsZW0uc3R5bGUudG9wID0gdGhpcy5zY2FsZS5nZXRIZWlnaHQoKSAtIHRoaXMuYnV0dG9uMi5nZXRXaWR0aCgpLzIgKyBcInB4XCI7XHJcbiAgICAgIHRoaXMuYnV0dG9uMi5lbGVtLnN0eWxlLmxlZnQgPSBcIjUwJVwiO1xyXG4gICAgICB0aGlzLmxhYmVsMS5lbGVtLmlubmVySFRNTCA9IHRoaXMubWluVmFsdWUgKyBcIlwiO1xyXG4gICAgICB0aGlzLmxhYmVsMi5lbGVtLmlubmVySFRNTCA9IHRoaXMubWF4VmFsdWUgKyBcIlwiO1xyXG4gICAgICB0aGlzLmxhYmVsMS5lbGVtLnN0eWxlLnRvcCA9IHRoaXMuZ2V0U3RhcnQoKSAtIHRoaXMubGFiZWwxLmdldEhlaWdodCgpLzIgKyBcInB4XCI7XHJcbiAgICAgIHRoaXMubGFiZWwxLmVsZW0uc3R5bGUubGVmdCA9IFwiNTAlXCI7XHJcbiAgICAgIHRoaXMubGFiZWwyLmVsZW0uc3R5bGUudG9wID0gdGhpcy5nZXRFbmQoKSAtIHRoaXMubGFiZWwyLmdldEhlaWdodCgpLzIgKyBcInB4XCI7XHJcbiAgICAgIHRoaXMubGFiZWwyLmVsZW0uc3R5bGUubGVmdCA9IFwiNTAlXCI7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLnNjYWxlLmVsZW0uY2xhc3NMaXN0LnJlbW92ZShcInNsaWRlcl9fc2NhbGVfdmVydGljYWxcIik7XHJcbiAgICAgIHRoaXMuc2NhbGVGaWxsaW5nLmVsZW0uY2xhc3NMaXN0LnJlbW92ZShcInNsaWRlcl9fc2NhbGUtZmlsbGluZ192ZXJ0aWNhbFwiKTtcclxuICAgICAgdGhpcy5ncmFkdWF0aW9uLmdyYWRFbGVtLmNsYXNzTGlzdC5yZW1vdmUoXCJzbGlkZXJfX2dyYWR1YXRpb25fdmVydGljYWxcIik7XHJcbiAgICAgIHRoaXMuZ3JhZHVhdGlvbi5ncmFkRWxlbS5zdHlsZS5oZWlnaHQgPSAyMCArXCJweFwiO1xyXG4gICAgICB0aGlzLmJ1dHRvbjEuZWxlbS5jbGFzc0xpc3QucmVtb3ZlKFwic2xpZGVyX19idXR0b25fdmVydGljYWxcIik7XHJcbiAgICAgIHRoaXMuYnV0dG9uMi5lbGVtLmNsYXNzTGlzdC5yZW1vdmUoXCJzbGlkZXJfX2J1dHRvbl92ZXJ0aWNhbFwiKTtcclxuICAgICAgdGhpcy5sYWJlbDEuZWxlbS5jbGFzc0xpc3QucmVtb3ZlKFwic2xpZGVyX19idXR0b24tbGFiZWxfdmVydGljYWxcIik7XHJcbiAgICAgIHRoaXMubGFiZWwyLmVsZW0uY2xhc3NMaXN0LnJlbW92ZShcInNsaWRlcl9fYnV0dG9uLWxhYmVsX3ZlcnRpY2FsXCIpO1xyXG5cclxuICAgICAgdGhpcy5idXR0b24xLmVsZW0uc3R5bGUubGVmdCA9IC10aGlzLmJ1dHRvbjEuZ2V0V2lkdGgoKS8yICsgXCJweFwiO1xyXG4gICAgICB0aGlzLmJ1dHRvbjEuZWxlbS5zdHlsZS50b3AgPSBcIjUwJVwiO1xyXG4gICAgICB0aGlzLmJ1dHRvbjIuZWxlbS5zdHlsZS5sZWZ0ID0gdGhpcy5zY2FsZS5nZXRXaWR0aCgpIC0gdGhpcy5idXR0b24yLmdldFdpZHRoKCkvMiArIFwicHhcIjtcclxuICAgICAgdGhpcy5idXR0b24yLmVsZW0uc3R5bGUudG9wID0gXCI1MCVcIlxyXG4gICAgICB0aGlzLmxhYmVsMS5lbGVtLmlubmVySFRNTCA9IHRoaXMubWluVmFsdWUgKyBcIlwiO1xyXG4gICAgICB0aGlzLmxhYmVsMi5lbGVtLmlubmVySFRNTCA9IHRoaXMubWF4VmFsdWUgKyBcIlwiO1xyXG4gICAgICB0aGlzLmxhYmVsMS5lbGVtLnN0eWxlLmxlZnQgPSB0aGlzLmdldFN0YXJ0KCkgLSB0aGlzLmxhYmVsMS5nZXRXaWR0aCgpLzIgKyBcInB4XCI7XHJcbiAgICAgIHRoaXMubGFiZWwxLmVsZW0uc3R5bGUudG9wID0gXCI1MCVcIjtcclxuICAgICAgdGhpcy5sYWJlbDIuZWxlbS5zdHlsZS5sZWZ0ID0gdGhpcy5nZXRFbmQoKSAtIHRoaXMubGFiZWwyLmdldFdpZHRoKCkvMiArIFwicHhcIjtcclxuICAgICAgdGhpcy5sYWJlbDIuZWxlbS5zdHlsZS50b3AgPSBcIjUwJVwiO1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXMudXBkYXRlRWxlbXMoKTtcclxuICB9XHJcblxyXG4gIGFwcGVuZCA9IChlbnRyeTogSFRNTEVsZW1lbnQpOiB2b2lkID0+IHtcclxuICAgIGVudHJ5LmFwcGVuZENoaWxkKHRoaXMuc2NhbGUuZWxlbSkuYXBwZW5kQ2hpbGQodGhpcy5zY2FsZUZpbGxpbmcuZWxlbSk7XHJcbiAgICBlbnRyeS5hcHBlbmRDaGlsZCh0aGlzLmJ1dHRvbjEuZWxlbSk7XHJcbiAgICBlbnRyeS5hcHBlbmRDaGlsZCh0aGlzLmxhYmVsMS5lbGVtKTtcclxuICAgIGVudHJ5LmFwcGVuZENoaWxkKHRoaXMuZ3JhZHVhdGlvbi5ncmFkRWxlbSk7XHJcbiAgICBlbnRyeS5hcHBlbmRDaGlsZCh0aGlzLmJ1dHRvbjIuZWxlbSk7XHJcbiAgICBlbnRyeS5hcHBlbmRDaGlsZCh0aGlzLmxhYmVsMi5lbGVtKTtcclxuXHJcbiAgICB0aGlzLnNjYWxlLmVsZW0ub25jbGljayA9IHRoaXMuc2NhbGVPbmNsaWNrO1xyXG4gICAgdGhpcy5ncmFkdWF0aW9uLm1hcmsxLm9uY2xpY2sgPSB0aGlzLm1hcmsxT25jbGljaztcclxuICAgIHRoaXMuZ3JhZHVhdGlvbi5tYXJrMi5vbmNsaWNrID0gdGhpcy5tYXJrMk9uY2xpY2s7XHJcbiAgICB0aGlzLmdyYWR1YXRpb24ubWFyazMub25jbGljayA9IHRoaXMubWFyazNPbmNsaWNrO1xyXG4gICAgdGhpcy5ncmFkdWF0aW9uLm1hcms0Lm9uY2xpY2sgPSB0aGlzLm1hcms0T25jbGljaztcclxuICAgIHRoaXMuYnV0dG9uMS5lbGVtLm9ubW91c2Vkb3duID0gKGV2ZW50TWQ6IE1vdXNlRXZlbnQpID0+IHtcclxuICAgICAgZXZlbnRNZC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vtb3ZlXCIsIHRoaXMub25Nb3VzZU1vdmUxKTtcclxuICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNldXBcIiwgdGhpcy5vbk1vdXNlVXAxKTtcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLmJ1dHRvbjIuZWxlbS5vbm1vdXNlZG93biA9IChldmVudE1kOiBNb3VzZUV2ZW50KSA9PiB7XHJcbiAgICAgIGV2ZW50TWQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlbW92ZVwiLCB0aGlzLm9uTW91c2VNb3ZlMik7XHJcbiAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZXVwXCIsIHRoaXMub25Nb3VzZVVwMik7XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQge2NyZWF0ZUVsZW0sIFNjYWxlLCBMYWJlbCwgQnV0dG9uLCBTY2FsZUZpbGxpbmcsIFZpZXcsIEdyYWR1YXRpb259O1xyXG4iLCJpbXBvcnQgTWFrZU9ic2VydmFibGVPYmplY3QgZnJvbSBcIi4vYXNzZXRzL01ha2VPYnNlcnZhYmxlT2JqZWN0XCI7XHJcblxyXG5jbGFzcyBNb2RlbCB7XHJcbiAgY3VyTWluVmFsdWU6IG51bWJlcjtcclxuICBjdXJNYXhWYWx1ZTogbnVtYmVyO1xyXG4gIG9ic2VydmVyczogTWFrZU9ic2VydmFibGVPYmplY3Q7XHJcblxyXG4gIGNvbnN0cnVjdG9yKGN1ck1pblZhbHVlID0gMCwgY3VyTWF4VmFsdWUgPSAxMDAwKSB7XHJcbiAgICB0aGlzLmN1ck1pblZhbHVlID0gY3VyTWluVmFsdWU7XHJcbiAgICB0aGlzLmN1ck1heFZhbHVlID0gY3VyTWF4VmFsdWU7XHJcbiAgICB0aGlzLm9ic2VydmVycyA9IG5ldyBNYWtlT2JzZXJ2YWJsZU9iamVjdCgpO1xyXG4gIH1cclxuICBcclxuICBzZXRDdXJNaW5WYWx1ZShkYXRhOiBudW1iZXIpOiB2b2lkIHtcclxuICAgIGlmICh0aGlzLmN1ck1pblZhbHVlICE9IGRhdGEpIHtcclxuICAgICAgdGhpcy5jdXJNaW5WYWx1ZSA9IGRhdGE7XHJcbiAgICAgIHRoaXMub2JzZXJ2ZXJzLm5vdGlmeU9ic2VydmVycygpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgc2V0Q3VyTWF4VmFsdWUoZGF0YTogbnVtYmVyKTogdm9pZCB7XHJcbiAgICBpZiAodGhpcy5jdXJNYXhWYWx1ZSAhPSBkYXRhKSB7XHJcbiAgICAgIHRoaXMuY3VyTWF4VmFsdWUgPSBkYXRhO1xyXG4gICAgICB0aGlzLm9ic2VydmVycy5ub3RpZnlPYnNlcnZlcnMoKTtcclxuICAgIH1cclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IE1vZGVsOyIsImltcG9ydCB7IFZpZXcgfSBmcm9tIFwiLi92aWV3XCI7XHJcbmltcG9ydCBNb2RlbCBmcm9tIFwiLi9tb2RlbFwiO1xyXG5pbXBvcnQgTWFrZU9ic2VydmFibGVPYmplY3QgZnJvbSBcIi4vYXNzZXRzL01ha2VPYnNlcnZhYmxlT2JqZWN0XCI7XHJcblxyXG5pbnRlcmZhY2UgY29uZmlnVHlwZSB7XHJcbiAgW2luZGV4OiBzdHJpbmddOiBudW1iZXIgfCBib29sZWFuO1xyXG59XHJcblxyXG5jbGFzcyBDb250cm9sbGVyIHtcclxuICB2aWV3OiBWaWV3O1xyXG4gIG1vZGVsOiBNb2RlbDtcclxuICBvYnNlcnZlcnM6IE1ha2VPYnNlcnZhYmxlT2JqZWN0O1xyXG4gIGNvbnN0cnVjdG9yKG1pblZhbHVlID0gMCwgbWF4VmFsdWUgPSAxMDAwLCBzdGVwID0gMSwgaXNSYW5nZSA9IGZhbHNlLCBpc1ZlcnRpY2FsID0gZmFsc2UsIHNob3dMYWJlbCA9IGZhbHNlLCBmbG9hdCA9IGZhbHNlKSB7XHJcbiAgICB0aGlzLnZpZXcgPSBuZXcgVmlldyhtaW5WYWx1ZSwgbWF4VmFsdWUsIHN0ZXAsIGlzUmFuZ2UsIGlzVmVydGljYWwsIHNob3dMYWJlbCwgZmxvYXQpO1xyXG4gICAgdGhpcy5tb2RlbCA9IG5ldyBNb2RlbChtaW5WYWx1ZSwgbWF4VmFsdWUpO1xyXG4gICAgdGhpcy5vYnNlcnZlcnMgPSBuZXcgTWFrZU9ic2VydmFibGVPYmplY3QoKTtcclxuXHJcbiAgICB0aGlzLnZpZXcub2JzZXJ2ZXJzLmFkZE9ic2VydmVyKCgpID0+IHtcclxuICAgICAgdGhpcy5tb2RlbC5jdXJNaW5WYWx1ZSA9IHRoaXMudmlldy5jdXJNaW5WYWx1ZTtcclxuICAgICAgdGhpcy5tb2RlbC5jdXJNYXhWYWx1ZSA9IHRoaXMudmlldy5jdXJNYXhWYWx1ZTtcclxuICAgICAgdGhpcy5vYnNlcnZlcnMubm90aWZ5T2JzZXJ2ZXJzKCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICB0aGlzLm1vZGVsLm9ic2VydmVycy5hZGRPYnNlcnZlcigoKSA9PiB7XHJcbiAgICAgIGNvbnN0IGN1ck1pblZhbHVlID0gdGhpcy5tb2RlbC5jdXJNaW5WYWx1ZTtcclxuICAgICAgY29uc3QgY3VyTWF4VmFsdWUgPSB0aGlzLm1vZGVsLmN1ck1heFZhbHVlO1xyXG4gICAgICB0aGlzLnZpZXcuYnV0dDFNb3ZlKHRoaXMudmlldy5vZmZzZXRWYWx1ZUNvbnYoY3VyTWluVmFsdWUpLCBjdXJNaW5WYWx1ZSk7XHJcbiAgICAgIHRoaXMudmlldy5idXR0Mk1vdmUodGhpcy52aWV3Lm9mZnNldFZhbHVlQ29udihjdXJNYXhWYWx1ZSksIGN1ck1heFZhbHVlKTtcclxuICAgICAgdGhpcy5vYnNlcnZlcnMubm90aWZ5T2JzZXJ2ZXJzKCk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGFwcGVuZCA9IChlbnRyeTogSlF1ZXJ5KTogdm9pZCA9PiB7XHJcbiAgICB0aGlzLnZpZXcuYXBwZW5kKGVudHJ5LmdldCgwKSk7XHJcbiAgICB0aGlzLnZpZXcuaW5pdCgpO1xyXG4gIH1cclxuXHJcbiAgdXBkYXRlID0gKGFyZ3M6IGNvbmZpZ1R5cGUpOiB2b2lkID0+IHtcclxuICAgIE9iamVjdC5rZXlzKGFyZ3MpLm1hcCgoaXRlbSkgID0+IHtcclxuICAgICAgaWYgKHRoaXMudmlld1tpdGVtXSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgdGhpcy52aWV3W2l0ZW1dID0gYXJnc1tpdGVtXTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgdGhpcy52aWV3LmluaXQoKTtcclxuICAgIHRoaXMudmlldy5idXR0MU1vdmUodGhpcy52aWV3LmJ1dHQxT2Zmc2V0Q2hlY2sodGhpcy52aWV3Lm9mZnNldFZhbHVlQ29udih0aGlzLm1vZGVsLmN1ck1pblZhbHVlKSlbMF0sIHRoaXMubW9kZWwuY3VyTWluVmFsdWUpO1xyXG4gICAgdGhpcy52aWV3LmJ1dHQyTW92ZSh0aGlzLnZpZXcuYnV0dDJPZmZzZXRDaGVjayh0aGlzLnZpZXcub2Zmc2V0VmFsdWVDb252KHRoaXMubW9kZWwuY3VyTWF4VmFsdWUpKVswXSwgdGhpcy5tb2RlbC5jdXJNYXhWYWx1ZSk7XHJcbiAgfVxyXG5cclxuICBnZXRWYWx1ZXMgPSAoKTogQXJyYXk8bnVtYmVyPiA9PiB7XHJcbiAgICByZXR1cm4gW3RoaXMubW9kZWwuY3VyTWluVmFsdWUsIHRoaXMubW9kZWwuY3VyTWF4VmFsdWVdO1xyXG4gIH1cclxuXHJcbiAgc2V0VmFsdWVzID0gKGN1ck1pblZhbHVlOiBudW1iZXIsIGN1ck1heFZhbHVlOiBudW1iZXIpOiB2b2lkID0+IHtcclxuICAgIGlmIChjdXJNaW5WYWx1ZSkge1xyXG4gICAgICB0aGlzLm1vZGVsLnNldEN1ck1pblZhbHVlKGN1ck1pblZhbHVlKTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoY3VyTWF4VmFsdWUpIHtcclxuICAgICAgdGhpcy5tb2RlbC5zZXRDdXJNYXhWYWx1ZShjdXJNYXhWYWx1ZSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBnZXRDb25maWcgPSAoKTogY29uZmlnVHlwZSA9PiB7XHJcbiAgICByZXR1cm4ge21pblZhbHVlOiB0aGlzLnZpZXcubWluVmFsdWUsIG1heFZhbHVlOiB0aGlzLnZpZXcubWF4VmFsdWUsIHN0ZXA6IHRoaXMudmlldy5zdGVwLFxyXG4gICAgICBpc1JhbmdlOiB0aGlzLnZpZXcuaXNSYW5nZSwgaXNWZXJ0aWNhbDogdGhpcy52aWV3LmlzVmVydGljYWwsIHNob3dMYWJlbDogdGhpcy52aWV3LnNob3dMYWJlbCwgZmxvYXQ6IHRoaXMudmlldy5mbG9hdH1cclxuICB9XHJcbiAgXHJcbiAgYWRkT2JzZXJ2ZXIgPSAoZm46IEZ1bmN0aW9uKTogdm9pZCA9PiB7XHJcbiAgICB0aGlzLm9ic2VydmVycy5hZGRPYnNlcnZlcihmbik7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBDb250cm9sbGVyOyIsImltcG9ydCBDb250cm9sbGVyIGZyb20gXCIuL2NvbnRyb2xsZXIudHNcIjtcclxuXHJcbihmdW5jdGlvbigkKSB7XHJcbiAgY29uc3QgY29uZmlnID0ge1xyXG4gICAgbWluVmFsdWU6IDAsXHJcbiAgICBtYXhWYWx1ZTogMTAwMCxcclxuICAgIHN0ZXA6IDEsXHJcbiAgICBpc1JhbmdlOiBmYWxzZSxcclxuICAgIGlzVmVydGljYWw6IGZhbHNlLFxyXG4gICAgc2hvd0xhYmVsOiBmYWxzZSxcclxuICAgIGZsb2F0OiBmYWxzZSxcclxuICB9O1xyXG5cclxuICBjb25zdCBtZXRob2RzID0ge1xyXG4gICAgaW5pdDogZnVuY3Rpb24ob3B0KSB7XHJcbiAgICAgIGlmICghJCh0aGlzKS5kYXRhKFwic2xpZGVyXCIpKSB7XHJcbiAgICAgICAgY29uc3QgbmV3Q29uZmlnID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShjb25maWcpKTtcclxuICAgICAgICBjb25zdCBzbGlkZXIgPSBuZXcgQ29udHJvbGxlciguLi5PYmplY3QudmFsdWVzKCQuZXh0ZW5kKG5ld0NvbmZpZywgb3B0KSkpO1xyXG4gICAgICAgICQodGhpcykuZGF0YShcInNsaWRlclwiLCBzbGlkZXIpO1xyXG4gICAgICAgIHNsaWRlci5hcHBlbmQoJCh0aGlzKSk7XHJcbiAgICAgIH1cclxuICAgIH0sXHJcblxyXG4gICAgdXBkYXRlOiBmdW5jdGlvbihvcHQpIHtcclxuICAgICAgY29uc3Qgc2xpZGVyID0gJCh0aGlzKS5kYXRhKFwic2xpZGVyXCIpO1xyXG4gICAgICBzbGlkZXIudXBkYXRlKG9wdCk7XHJcbiAgICB9LFxyXG5cclxuICAgIGdldENvbmZpZzogZnVuY3Rpb24oKSB7XHJcbiAgICAgIGNvbnN0IHNsaWRlciA9ICQodGhpcykuZGF0YShcInNsaWRlclwiKTtcclxuICAgICAgcmV0dXJuIHNsaWRlci5nZXRDb25maWcoKTtcclxuICAgIH0sXHJcblxyXG4gICAgc2V0VmFsdWVzOiBmdW5jdGlvbihvcHQpIHtcclxuICAgICAgY29uc3Qgc2xpZGVyID0gJCh0aGlzKS5kYXRhKFwic2xpZGVyXCIpO1xyXG4gICAgICBzbGlkZXIuc2V0VmFsdWVzKG9wdC5jdXJNaW5WYWx1ZSwgb3B0LmN1ck1heFZhbHVlKTtcclxuICAgIH0sXHJcblxyXG4gICAgaW5wdXRzQXR0YWNoOiBmdW5jdGlvbihvcHQpIHtcclxuICAgICAgY29uc3Qgc2xpZGVyID0gJCh0aGlzKS5kYXRhKFwic2xpZGVyXCIpO1xyXG4gICAgICBzbGlkZXIuYWRkT2JzZXJ2ZXIoKCkgPT4ge1xyXG4gICAgICAgIG9wdC5taW5WYWx1ZUluLnZhbChzbGlkZXIuZ2V0VmFsdWVzKClbMF0pO1xyXG4gICAgICAgIG9wdC5tYXhWYWx1ZUluLnZhbChzbGlkZXIuZ2V0VmFsdWVzKClbMV0pO1xyXG4gICAgICB9KVxyXG4gICAgfSxcclxuICB9XHJcbiAgXHJcbiAgJC5mbi5vbWZnc2xpZGVyID0gZnVuY3Rpb24obWV0aG9kKSB7XHJcbiAgICBpZiAobWV0aG9kc1ttZXRob2RdKSB7XHJcbiAgICAgIHJldHVybiBtZXRob2RzW21ldGhvZF0uYXBwbHkodGhpcywgQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKSk7XHJcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBtZXRob2QgPT09ICdvYmplY3QnIHx8ICFtZXRob2QpIHtcclxuICAgICAgcmV0dXJuIG1ldGhvZHMuaW5pdC5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgJC5lcnJvcign0JzQtdGC0L7QtCBcIicgKyAgbWV0aG9kICsgJ1wiINC90LUg0L3QsNC50LTQtdC9INCyINC/0LvQsNCz0LjQvdC1IGpRdWVyeS5teVNpbXBsZVBsdWdpbicpO1xyXG4gICAgfVxyXG4gIH07XHJcbn0pKGpRdWVyeSk7Il0sInNvdXJjZVJvb3QiOiIifQ==