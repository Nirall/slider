!function(e){var t={};function i(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,i),o.l=!0,o.exports}i.m=e,i.c=t,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)i.d(n,o,function(t){return e[t]}.bind(null,o));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=14)}([function(e,t,i){"use strict";i.r(t),t.default=function(e){var t=document.createElement("div");return t.ondragstart=function(){return!1},t.classList.add(e),t}},function(e,t,i){"use strict";i.r(t);var n=function(){for(var e=0,t=0,i=arguments.length;t<i;t++)e+=arguments[t].length;var n=Array(e),o=0;for(t=0;t<i;t++)for(var s=arguments[t],a=0,l=s.length;a<l;a++,o++)n[o]=s[a];return n},o=function(){function e(){this.observers=[]}return e.prototype.addObserver=function(e){if("function"!=typeof e)throw new Error("observer must be a function");this.observers.map((function(t){if(t===e)throw new Error("observer already in the list")})),this.observers.push(e)},e.prototype.removeObserver=function(e){for(var t=0;t<this.observers.length;t++){if(this.observers[t]===e)return void this.observers.splice(t,1)}throw new Error("could not find observer in list of observers")},e.prototype.notifyObservers=function(){n(this.observers).map((function(e){return e()}))},e}();t.default=o},function(e,t,i){"use strict";i.r(t);var n=i(0),o=function(e){var t=this;this.getWidth=function(){return t.elem.getBoundingClientRect().width},this.getPosition=function(){return t.isVertical?t.elem.getBoundingClientRect().top:t.elem.getBoundingClientRect().left},this.setPosition=function(e){t.isVertical?(t.elem.style.left="50%",t.elem.style.top=e+"px"):(t.elem.style.top="50%",t.elem.style.left=e+"px")},this.init=function(e){t.isVertical=e,t.isVertical?t.elem.classList.add("slider__button_position_vertical"):t.elem.classList.remove("slider__button_position_vertical")},this.elem=Object(n.default)("slider__button"),this.isVertical=e};t.default=o},function(e,t,i){"use strict";i.r(t);var n=i(0),o=function(e){var t=this;this.getPosition=function(){return t.isVertical?t.elem.getBoundingClientRect().top:t.elem.getBoundingClientRect().left},this.setPosition=function(e,i){t.elem.innerHTML=i+"",t.isVertical?(t.elem.style.left="50%",t.elem.style.top=e-t.getDimension()/2+"px"):(t.elem.style.top="50%",t.elem.style.left=e-t.getDimension()/2+"px")},this.getDimension=function(){return t.isVertical?t.elem.getBoundingClientRect().height:t.elem.getBoundingClientRect().width},this.init=function(e){t.isVertical=e,t.isVertical?t.elem.classList.add("slider__button-label_position_vertical"):t.elem.classList.remove("slider__button-label_position_vertical")},this.elem=Object(n.default)("slider__button-label"),this.isVertical=e};t.default=o},function(e,t,i){"use strict";i.r(t);var n=function(){function e(){}return e.parsing=function(e){if("number"==typeof e)return e;if("string"==typeof e){if(/^-?\d+[\.,]\d+$/.test(e))return parseFloat(e);if(/^-?\d+$/.test(e))return parseInt(e)}return null},e}();t.default=n},function(e,t,i){"use strict";i.r(t);var n=i(0),o=function(e){var t=this;this.getPosition=function(){return t.isVertical?t.elem.getBoundingClientRect().top:t.elem.getBoundingClientRect().left},this.getDimension=function(){return t.isVertical?t.elem.getBoundingClientRect().height:t.elem.getBoundingClientRect().width},this.init=function(e){t.isVertical=e,t.isVertical?t.elem.classList.add("slider__scale_position_vertical"):t.elem.classList.remove("slider__scale_position_vertical")},this.elem=Object(n.default)("slider__scale"),this.isVertical=e};t.default=o},function(e,t,i){"use strict";i.r(t);var n=i(0),o=function(){var e=this;this.init=function(t,i,n,o){void 0===o&&(o=!1),e.mark1.innerHTML=t+"",e.mark4.innerHTML=i+"",o?(e.mark2.innerHTML=(t+(i-t)/3).toFixed(2),e.mark3.innerHTML=(t+2*(i-t)/3).toFixed(2)):(e.mark2.innerHTML=t+Math.round((i-t)/3)+"",e.mark3.innerHTML=t+Math.round(2*(i-t)/3)+""),n?(e.mark1.classList.remove("slider__graduation-mark_offset_left"),e.mark1.classList.add("slider__graduation-mark_offset_top"),e.mark4.classList.remove("slider__graduation-mark_offset_right"),e.mark4.classList.add("slider__graduation-mark_offset_bottom"),e.gradElem.classList.add("slider__graduation_position_vertical")):(e.mark1.classList.add("slider__graduation-mark_offset_left"),e.mark1.classList.remove("slider__graduation-mark_offset_top"),e.mark4.classList.add("slider__graduation-mark_offset_right"),e.mark4.classList.remove("slider__graduation-mark_offset_bottom"),e.gradElem.classList.remove("slider__graduation_position_vertical"))},this.gradElem=Object(n.default)("slider__graduation"),this.mark1=Object(n.default)("slider__graduation-mark"),this.mark2=Object(n.default)("slider__graduation-mark"),this.mark3=Object(n.default)("slider__graduation-mark"),this.mark4=Object(n.default)("slider__graduation-mark"),this.gradElem.appendChild(this.mark1),this.gradElem.appendChild(this.mark2),this.gradElem.appendChild(this.mark3),this.gradElem.appendChild(this.mark4)};t.default=o},function(e,t,i){"use strict";i.r(t);var n=i(0),o=function(e){var t=this;this.setPosition=function(e){t.isVertical?(t.elem.style.left="0",t.elem.style.width="100%",t.elem.style.top=e+"px"):(t.elem.style.top="0",t.elem.style.height="100%",t.elem.style.left=e+"px")},this.setDimension=function(e){t.isVertical?t.elem.style.height=e+"px":t.elem.style.width=e+"px"},this.init=function(e){t.isVertical=e},this.elem=Object(n.default)("slider__scale-filling"),this.isVertical=e};t.default=o},function(e,t,i){"use strict";i.r(t);var n=i(9),o=i(10),s=i(1),a=i(4),l=function(e,t,i,l,r,u,c){var d=this;void 0===e&&(e=0),void 0===t&&(t=1e3),void 0===i&&(i=1),void 0===l&&(l=!1),void 0===r&&(r=!1),void 0===u&&(u=!1),void 0===c&&(c=!1),this.append=function(e){d.view.append(e.get(0)),d.view.init()},this.checkStep=function(e){var t=Math.abs(a.default.parsing(e));return null===t||0===t||t>=d.view.maxValue-d.view.minValue?(console.log("Wrong value of the step"),d.view.step):(t%1!=0?d.view.isFloat=!0:d.view.maxValue%1==0&&d.view.minValue%1==0&&(d.view.isFloat=!1),t)},this.checkMaxValue=function(e){var t=a.default.parsing(e);return null===t||t<=d.view.minValue?(console.log("Wrong value of the maxValue"),d.view.maxValue):(t%1!=0?d.view.isFloat=!0:d.view.step%1==0&&d.view.minValue%1==0&&(d.view.isFloat=!1),t)},this.checkMinValue=function(e){var t=a.default.parsing(e);return null===t||t>=d.view.maxValue?(console.log("Wrong value of the minValue"),d.view.minValue):(t%1!=0?d.view.isFloat=!0:d.view.maxValue%1==0&&d.view.step%1==0&&(d.view.isFloat=!1),t)},this.update=function(e){Object.keys(e).map((function(t){void 0!==d.view[t]&&("step"===t?d.view.step=d.checkStep(e[t]):"maxValue"===t?d.view.maxValue=d.checkMaxValue(e[t]):"minValue"===t?d.view.minValue=d.checkMinValue(e[t]):d.view[t]=e[t])})),d.view.init()},this.getValues=function(){return[d.model.curMinValue,d.model.curMaxValue]},this.setValues=function(e,t){e&&d.model.setCurMinValue(e),t&&d.model.setCurMaxValue(t)},this.getConfig=function(){return{minValue:d.view.minValue,maxValue:d.view.maxValue,step:d.view.step,isRange:d.view.isRange,isVertical:d.view.isVertical,showLabel:d.view.showLabel,isFloat:d.view.isFloat}},this.addObserver=function(e){d.observers.addObserver(e)},this.view=new n.View(e,t,i,l,r,u,c),this.model=new o.default(e,t),this.observers=new s.default,this.view.observers.addObserver((function(){d.model.curMinValue=d.view.curMinValue,d.model.curMaxValue=d.view.curMaxValue,d.observers.notifyObservers()})),this.model.observers.addObserver((function(){var e=d.model.curMinValue,t=d.model.curMaxValue;d.view.butt1Move(d.view.offsetValueConv(e),e),d.view.butt2Move(d.view.offsetValueConv(t),t),d.observers.notifyObservers()}))};t.default=l},function(e,t,i){"use strict";i.r(t),i.d(t,"View",(function(){return c}));var n=i(1),o=i(0);i.d(t,"createElem",(function(){return o.default}));var s=i(5);i.d(t,"Scale",(function(){return s.default}));var a=i(6);i.d(t,"Graduation",(function(){return a.default}));var l=i(2);i.d(t,"Button",(function(){return l.default}));var r=i(3);i.d(t,"Label",(function(){return r.default}));var u=i(7);i.d(t,"ScaleFilling",(function(){return u.default}));var c=function(){function e(e,t,i,o,c,d,f){var m=this;void 0===e&&(e=0),void 0===t&&(t=1e3),void 0===i&&(i=1),void 0===o&&(o=!1),void 0===c&&(c=!1),void 0===d&&(d=!1),void 0===f&&(f=!1),this.getStart=function(){return m.isRange?m.button1.getPosition()-m.scale.getPosition()+m.button1.getWidth()/2:0},this.getEnd=function(){return m.button2.getPosition()-m.scale.getPosition()+m.button2.getWidth()/2},this.updateElems=function(){m.scaleFilling.init(m.isVertical),m.scaleFilling.setPosition(m.getStart()),m.scaleFilling.setDimension(m.getEnd()-m.getStart()),m.isRange||(m.curMinValue=m.minValue),m.observers.notifyObservers()},this.round=function(e,t){var i=Math.trunc(e/t),n=+(e-i*t).toFixed(2);return e<0?Math.abs(n)<t/2?i*t:(i-1)*t:e<=m.minValue?m.minValue:e>=m.maxValue?m.maxValue:n<t/2?i*t:(i+1)*t},this.roundOffsetButt=function(e){var t=m.minValue+(e+m.button2.getWidth()/2)*(m.maxValue-m.minValue)/m.scale.getDimension(),i=m.round(t,m.step);return m.isFloat&&(i=parseFloat(i.toFixed(2))),[m.offsetValueConv(i),i]},this.offsetValueConv=function(e){return(e-m.minValue)/(m.maxValue-m.minValue)*m.scale.getDimension()-m.button2.getWidth()/2},this.butt1Move=function(e,t){m.button1.setPosition(e),m.label1.setPosition(e+m.button1.getWidth()/2,t),t<m.minValue&&(t=m.minValue),m.curMinValue=t,m.updateElems()},this.butt1OffsetCheck=function(e){var t;e<-m.button1.getWidth()/2&&(e=-m.button1.getWidth()/2,t=m.minValue);var i=m.step*m.scale.getDimension()/(m.maxValue-m.minValue),n=i/1.5>m.button1.getWidth()?i/1.5:m.button1.getWidth();return e>m.button2.getPosition()-m.scale.getPosition()-n&&(e=m.button2.getPosition()-m.scale.getPosition()-n),[e,t]},this.onMouseMove1=function(e){var t,i,n,o,s=(m.isVertical?e.clientY:e.clientX)-m.scale.getPosition()-m.button2.getWidth()/2;o=(t=m.butt1OffsetCheck(s))[0],void 0===(n=t[1])&&(o=(i=m.roundOffsetButt(o))[0],n=i[1]),m.butt1Move(o,n)},this.onMouseUp1=function(){document.removeEventListener("mouseup",m.onMouseUp1),document.removeEventListener("mousemove",m.onMouseMove1)},this.butt2Move=function(e,t){m.button2.setPosition(e),m.label2.setPosition(e+m.button2.getWidth()/2,t),t<m.minValue?t=m.minValue:t>m.maxValue&&(t=m.maxValue),m.curMaxValue=t,m.updateElems()},this.butt2OffsetCheck=function(e){var t;m.isRange||e<-m.button2.getWidth()/2&&(e=-m.button2.getWidth()/2,t=m.minValue),e>m.scale.getDimension()-m.button2.getWidth()/2&&(e=m.scale.getDimension()-m.button2.getWidth()/2,t=m.maxValue);var i=m.step*m.scale.getDimension()/(m.maxValue-m.minValue),n=i/1.5>m.button1.getWidth()?i/1.5:m.button1.getWidth();return e<m.button1.getPosition()-m.scale.getPosition()+n&&(e=m.button1.getPosition()-m.scale.getPosition()+n),[e,t]},this.onMouseMove2=function(e){var t,i,n,o,s=(m.isVertical?e.clientY:e.clientX)-m.scale.getPosition()-m.button2.getWidth()/2;o=(t=m.butt2OffsetCheck(s))[0],void 0===(n=t[1])&&(o=(i=m.roundOffsetButt(o))[0],n=i[1]),m.butt2Move(o,n)},this.onMouseUp2=function(){document.removeEventListener("mouseup",m.onMouseUp2),document.removeEventListener("mousemove",m.onMouseMove2)},this.butt1CloserCheck=function(e){return Math.abs(e-m.button1.getPosition()-m.button1.getWidth()/2)<Math.abs(e-m.button2.getPosition()-m.button2.getWidth()/2)},this.scaleOnclick=function(e){if(m.isRange){var t=m.isVertical?e.clientY:e.clientX;m.butt1CloserCheck(t)?m.onMouseMove1(e):m.onMouseMove2(e)}else m.onMouseMove2(e)},this.interMarkHandler=function(e){var t,i,n,o=(e-m.minValue)/(m.maxValue-m.minValue)*m.scale.getDimension();if(i=(t=m.roundOffsetButt(o-m.button2.getWidth()/2))[0],n=t[1],m.isRange){var s=o+m.scale.getPosition();m.butt1CloserCheck(s)?m.butt1Move(i,n):m.butt2Move(i,n)}else m.butt2Move(i,n)},this.mark1Onclick=function(){var e=-m.button2.getWidth()/2,t=m.minValue;m.isRange?m.butt1Move(e,t):m.butt2Move(e,t)},this.mark4Onclick=function(){var e=m.scale.getDimension()-m.button2.getWidth()/2;m.butt2Move(e,m.maxValue)},this.mark2Onclick=function(){var e=m.isFloat?parseFloat(m.graduation.mark2.innerHTML):parseInt(m.graduation.mark2.innerHTML);m.interMarkHandler(e)},this.mark3Onclick=function(){var e=m.isFloat?parseFloat(m.graduation.mark3.innerHTML):parseInt(m.graduation.mark3.innerHTML);m.interMarkHandler(e)},this.checkValues=function(){"number"!=typeof m.maxValue&&console.error("Maxvalue should be a number"),"number"!=typeof m.minValue&&console.error("Maxvalue should be a number"),"number"!=typeof m.step&&console.error("Step should be a number"),"boolean"!=typeof m.isRange&&console.error("isRange should be a boolean"),"boolean"!=typeof m.isVertical&&console.error("isVertical should be a boolean"),"boolean"!=typeof m.showLabel&&console.error("ShowLabel should be a boolean"),m.step>m.maxValue-m.minValue&&(m.step=m.maxValue-m.minValue,console.error("Step is setted to the max"))},this.init=function(){m.scale.init(m.isVertical),m.scaleFilling.init(m.isVertical),m.graduation.init(m.minValue,m.maxValue,m.isVertical,m.isFloat),m.button1.init(m.isVertical),m.button2.init(m.isVertical),m.label1.init(m.isVertical),m.label2.init(m.isVertical),m.button1.elem.style.display="none",m.label1.elem.style.display="none",m.showLabel?(m.label1.elem.style.display="block",m.label2.elem.style.display="block"):(m.label1.elem.style.display="none",m.label2.elem.style.display="none"),m.isRange?m.button1.elem.style.display="block":(m.button1.elem.style.display="none",m.label1.elem.style.display="none"),m.button1.setPosition(-m.button1.getWidth()/2),m.button2.setPosition(m.scale.getDimension()-m.button2.getWidth()/2),m.label1.setPosition(m.getStart(),m.minValue),m.label2.setPosition(m.getEnd(),m.maxValue),m.isVertical?m.graduation.gradElem.style.height=m.scale.getDimension()+"px":m.graduation.gradElem.style.height="20px",m.renew(),m.updateElems()},this.append=function(e){e.appendChild(m.scale.elem).appendChild(m.scaleFilling.elem),e.appendChild(m.button1.elem),e.appendChild(m.label1.elem),e.appendChild(m.graduation.gradElem),e.appendChild(m.button2.elem),e.appendChild(m.label2.elem),m.scale.elem.onclick=m.scaleOnclick,m.graduation.mark1.onclick=m.mark1Onclick,m.graduation.mark2.onclick=m.mark2Onclick,m.graduation.mark3.onclick=m.mark3Onclick,m.graduation.mark4.onclick=m.mark4Onclick,m.button1.elem.onmousedown=function(e){e.preventDefault(),document.addEventListener("mousemove",m.onMouseMove1),document.addEventListener("mouseup",m.onMouseUp1)},m.button2.elem.onmousedown=function(e){e.preventDefault(),document.addEventListener("mousemove",m.onMouseMove2),document.addEventListener("mouseup",m.onMouseUp2)}},this.scale=new s.default(c),this.button1=new l.default(c),this.button2=new l.default(c),this.label1=new r.default(c),this.label2=new r.default(c),this.scaleFilling=new u.default(c),this.graduation=new a.default,this.minValue=e,this.maxValue=t,this.curMinValue=e,this.curMaxValue=t,this.step=i,this.isRange=o,this.isVertical=c,this.showLabel=d,this.isFloat=f,this.observers=new n.default}return e.prototype.renew=function(){var e,t,i,n,o,s,a=this.offsetValueConv(this.curMaxValue);if(s=(e=this.butt2OffsetCheck(a))[0],void 0===(o=e[1])&&(s=(t=this.roundOffsetButt(s))[0],o=t[1]),this.butt2Move(s,o),this.isRange){var l,r,u=this.offsetValueConv(this.curMinValue);r=(i=this.butt1OffsetCheck(u))[0],void 0===(l=i[1])&&(r=(n=this.roundOffsetButt(r))[0],l=n[1]),this.butt1Move(r,l)}},e}()},function(e,t,i){"use strict";i.r(t);var n=i(1),o=function(){function e(e,t){void 0===e&&(e=0),void 0===t&&(t=1e3),this.curMinValue=e,this.curMaxValue=t,this.observers=new n.default}return e.prototype.setCurMinValue=function(e){this.curMinValue!=e&&(this.curMinValue=e,this.observers.notifyObservers())},e.prototype.setCurMaxValue=function(e){this.curMaxValue!=e&&(this.curMaxValue=e,this.observers.notifyObservers())},e}();t.default=o},function(e,t,i){var n={"./blocks/button/Button.ts":2,"./blocks/controller/Controller.ts":8,"./blocks/createElem/createElem.ts":0,"./blocks/graduation/Graduation.ts":6,"./blocks/label/Label.ts":3,"./blocks/makeObservableObject/MakeObservableObject.ts":1,"./blocks/model/Model.ts":10,"./blocks/parsingDigits/ParsingDigits.ts":4,"./blocks/scale/Scale.ts":5,"./blocks/scaleFilling/ScaleFilling.ts":7,"./blocks/view/View.ts":9,"./pluginWrapper.ts":12,"./styles/style.scss":13};function o(e){var t=s(e);return i(t)}function s(e){if(!i.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}o.keys=function(){return Object.keys(n)},o.resolve=s,e.exports=o,o.id=11},function(e,t,i){"use strict";i.r(t);var n,o,s,a=i(8),l=function(){return(l=Object.assign||function(e){for(var t,i=1,n=arguments.length;i<n;i++)for(var o in t=arguments[i])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},r=function(){for(var e=0,t=0,i=arguments.length;t<i;t++)e+=arguments[t].length;var n=Array(e),o=0;for(t=0;t<i;t++)for(var s=arguments[t],a=0,l=s.length;a<l;a++,o++)n[o]=s[a];return n};n=jQuery,o={minValue:0,maxValue:1e3,step:1,isRange:!1,isVertical:!1,showLabel:!1,isFloat:!1},s={init:function(e){if(!n(this).data("slider")){var t=l({},o),i=new(a.default.bind.apply(a.default,r([void 0],Object.values(n.extend(t,e)))));n(this).data("slider",i),i.append(n(this))}},update:function(e){n(this).data("slider").update(e)},getConfig:function(){return n(this).data("slider").getConfig()},setValues:function(e){n(this).data("slider").setValues(e.curMinValue,e.curMaxValue)},inputsAttach:function(e){var t=n(this).data("slider");t.addObserver((function(){e.minValueIn.val(t.getValues()[0]),e.maxValueIn.val(t.getValues()[1])}))}},n.fn.omfgslider=function(e){return s[e]?s[e].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof e&&e?void n.error("Метод "+e+" не найден в плагине jQuery.omfgslider"):s.init.apply(this,arguments)}},function(e,t,i){},function(e,t,i){"use strict";i.r(t);var n;i.p;(n=i(11)).keys().forEach(n)}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL3NsaWRlci9ibG9ja3MvY3JlYXRlRWxlbS9jcmVhdGVFbGVtLnRzIiwid2VicGFjazovLy8uL3NyYy9zbGlkZXIvYmxvY2tzL21ha2VPYnNlcnZhYmxlT2JqZWN0L01ha2VPYnNlcnZhYmxlT2JqZWN0LnRzIiwid2VicGFjazovLy8uL3NyYy9zbGlkZXIvYmxvY2tzL2J1dHRvbi9CdXR0b24udHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3NsaWRlci9ibG9ja3MvbGFiZWwvTGFiZWwudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3NsaWRlci9ibG9ja3MvcGFyc2luZ0RpZ2l0cy9QYXJzaW5nRGlnaXRzLnRzIiwid2VicGFjazovLy8uL3NyYy9zbGlkZXIvYmxvY2tzL3NjYWxlL1NjYWxlLnRzIiwid2VicGFjazovLy8uL3NyYy9zbGlkZXIvYmxvY2tzL2dyYWR1YXRpb24vR3JhZHVhdGlvbi50cyIsIndlYnBhY2s6Ly8vLi9zcmMvc2xpZGVyL2Jsb2Nrcy9zY2FsZUZpbGxpbmcvU2NhbGVGaWxsaW5nLnRzIiwid2VicGFjazovLy8uL3NyYy9zbGlkZXIvYmxvY2tzL2NvbnRyb2xsZXIvQ29udHJvbGxlci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvc2xpZGVyL2Jsb2Nrcy92aWV3L1ZpZXcudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3NsaWRlci9ibG9ja3MvbW9kZWwvTW9kZWwudHMiLCJ3ZWJwYWNrOi8vL1xcLmQpXFwuKGpzfHRzfHNjc3MpJC8iLCJ3ZWJwYWNrOi8vLy4vc3JjL3NsaWRlci9wbHVnaW5XcmFwcGVyLnRzIiwid2VicGFjazovLy8uL3NyYy9wYWdlL2luZGV4Lmh0bWwiLCJ3ZWJwYWNrOi8vLy4vc3JjL2luZGV4LnRzIl0sIm5hbWVzIjpbImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJleHBvcnRzIiwibW9kdWxlIiwiaSIsImwiLCJtb2R1bGVzIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJ0IiwibW9kZSIsIl9fZXNNb2R1bGUiLCJucyIsImNyZWF0ZSIsImtleSIsImJpbmQiLCJuIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwiY2xhc3NOYW1lIiwiZWxlbSIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsIm9uZHJhZ3N0YXJ0IiwiY2xhc3NMaXN0IiwiYWRkIiwidGhpcyIsIm9ic2VydmVycyIsImFkZE9ic2VydmVyIiwiZm4iLCJFcnJvciIsIm1hcCIsIm9ic2VydmVyIiwicHVzaCIsInJlbW92ZU9ic2VydmVyIiwibGVuZ3RoIiwic3BsaWNlIiwibm90aWZ5T2JzZXJ2ZXJzIiwiaXNWZXJ0aWNhbCIsImdldFdpZHRoIiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0Iiwid2lkdGgiLCJnZXRQb3NpdGlvbiIsInRvcCIsImxlZnQiLCJzZXRQb3NpdGlvbiIsIm9mZnNldCIsInN0eWxlIiwiaW5pdCIsInJlbW92ZSIsImlubmVySFRNTCIsImdldERpbWVuc2lvbiIsImhlaWdodCIsInBhcnNpbmciLCJpdGVtIiwidGVzdCIsInBhcnNlRmxvYXQiLCJwYXJzZUludCIsIm1pblZhbHVlIiwibWF4VmFsdWUiLCJpc0Zsb2F0IiwibWFyazEiLCJtYXJrNCIsIm1hcmsyIiwidG9GaXhlZCIsIm1hcmszIiwiTWF0aCIsInJvdW5kIiwiZ3JhZEVsZW0iLCJhcHBlbmRDaGlsZCIsInNldERpbWVuc2lvbiIsImRpbWVuc2lvbiIsInN0ZXAiLCJpc1JhbmdlIiwic2hvd0xhYmVsIiwiYXBwZW5kIiwiZW50cnkiLCJ2aWV3IiwiY2hlY2tTdGVwIiwic3RlcE1vZCIsImFicyIsImNvbnNvbGUiLCJsb2ciLCJjaGVja01heFZhbHVlIiwibWF4VmFsdWVNb2QiLCJjaGVja01pblZhbHVlIiwibWluVmFsdWVNb2QiLCJ1cGRhdGUiLCJhcmdzIiwia2V5cyIsInVuZGVmaW5lZCIsImdldFZhbHVlcyIsIm1vZGVsIiwiY3VyTWluVmFsdWUiLCJjdXJNYXhWYWx1ZSIsInNldFZhbHVlcyIsInNldEN1ck1pblZhbHVlIiwic2V0Q3VyTWF4VmFsdWUiLCJnZXRDb25maWciLCJidXR0MU1vdmUiLCJvZmZzZXRWYWx1ZUNvbnYiLCJidXR0Mk1vdmUiLCJnZXRTdGFydCIsImJ1dHRvbjEiLCJzY2FsZSIsImdldEVuZCIsImJ1dHRvbjIiLCJ1cGRhdGVFbGVtcyIsInNjYWxlRmlsbGluZyIsInZhbCIsIndob2xlIiwidHJ1bmMiLCJyZW1pbmRlciIsInJvdW5kT2Zmc2V0QnV0dCIsImN1cnJPZmZzZXQiLCJjdXJyVmFsdWUiLCJyb3VuZFZhbHVlIiwicm91bmRPZmZzZXQiLCJsYWJlbDEiLCJidXR0MU9mZnNldENoZWNrIiwibmV3T2Zmc2V0Iiwic3RlcFdpZHRoIiwibWluT2Zmc2V0Iiwib25Nb3VzZU1vdmUxIiwiZXZlbnRNbSIsImNsaWVudFkiLCJjbGllbnRYIiwib25Nb3VzZVVwMSIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJsYWJlbDIiLCJidXR0Mk9mZnNldENoZWNrIiwib25Nb3VzZU1vdmUyIiwib25Nb3VzZVVwMiIsImJ1dHQxQ2xvc2VyQ2hlY2siLCJjb29yZGluYXRlIiwic2NhbGVPbmNsaWNrIiwiZXZlbnQiLCJpbnRlck1hcmtIYW5kbGVyIiwibWFya09mZnNldCIsIm1hcmsxT25jbGljayIsIm1hcms0T25jbGljayIsIm1hcmsyT25jbGljayIsImdyYWR1YXRpb24iLCJtYXJrM09uY2xpY2siLCJjaGVja1ZhbHVlcyIsImVycm9yIiwiZGlzcGxheSIsInJlbmV3Iiwib25jbGljayIsIm9ubW91c2Vkb3duIiwiZXZlbnRNZCIsInByZXZlbnREZWZhdWx0IiwiYWRkRXZlbnRMaXN0ZW5lciIsImRhdGEiLCJ3ZWJwYWNrQ29udGV4dCIsInJlcSIsImlkIiwid2VicGFja0NvbnRleHRSZXNvbHZlIiwiZSIsImNvZGUiLCJyZXNvbHZlIiwiJCIsImNvbmZpZyIsIm1ldGhvZHMiLCJqUXVlcnkiLCJvcHQiLCJuZXdDb25maWciLCJzbGlkZXIiLCJ2YWx1ZXMiLCJleHRlbmQiLCJpbnB1dHNBdHRhY2giLCJtaW5WYWx1ZUluIiwibWF4VmFsdWVJbiIsIm9tZmdzbGlkZXIiLCJtZXRob2QiLCJhcHBseSIsIkFycmF5Iiwic2xpY2UiLCJhcmd1bWVudHMiLCJmb3JFYWNoIl0sIm1hcHBpbmdzIjoiYUFDRSxJQUFJQSxFQUFtQixHQUd2QixTQUFTQyxFQUFvQkMsR0FHNUIsR0FBR0YsRUFBaUJFLEdBQ25CLE9BQU9GLEVBQWlCRSxHQUFVQyxRQUduQyxJQUFJQyxFQUFTSixFQUFpQkUsR0FBWSxDQUN6Q0csRUFBR0gsRUFDSEksR0FBRyxFQUNISCxRQUFTLElBVVYsT0FOQUksRUFBUUwsR0FBVU0sS0FBS0osRUFBT0QsUUFBU0MsRUFBUUEsRUFBT0QsUUFBU0YsR0FHL0RHLEVBQU9FLEdBQUksRUFHSkYsRUFBT0QsUUFLZkYsRUFBb0JRLEVBQUlGLEVBR3hCTixFQUFvQlMsRUFBSVYsRUFHeEJDLEVBQW9CVSxFQUFJLFNBQVNSLEVBQVNTLEVBQU1DLEdBQzNDWixFQUFvQmEsRUFBRVgsRUFBU1MsSUFDbENHLE9BQU9DLGVBQWViLEVBQVNTLEVBQU0sQ0FBRUssWUFBWSxFQUFNQyxJQUFLTCxLQUtoRVosRUFBb0JrQixFQUFJLFNBQVNoQixHQUNYLG9CQUFYaUIsUUFBMEJBLE9BQU9DLGFBQzFDTixPQUFPQyxlQUFlYixFQUFTaUIsT0FBT0MsWUFBYSxDQUFFQyxNQUFPLFdBRTdEUCxPQUFPQyxlQUFlYixFQUFTLGFBQWMsQ0FBRW1CLE9BQU8sS0FRdkRyQixFQUFvQnNCLEVBQUksU0FBU0QsRUFBT0UsR0FFdkMsR0FEVSxFQUFQQSxJQUFVRixFQUFRckIsRUFBb0JxQixJQUMvQixFQUFQRSxFQUFVLE9BQU9GLEVBQ3BC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dEMwRSxFQUFJTyxXQUFXL0QsSUFBSTBELEVBQU81RSxZQUFZLFNBSzVDc0UsRUFBRXBJLEdBQUdnSixXQUFhLFNBQVNDLEdBQ3pCLE9BQUlYLEVBQVFXLEdBQ0hYLEVBQVFXLEdBQVFDLE1BQU1ySixLQUFNc0osTUFBTWpLLFVBQVVrSyxNQUFNM0wsS0FBSzRMLFVBQVcsSUFDOUMsaUJBQVhKLEdBQXdCQSxPQUd4Q2IsRUFBRWhCLE1BQU0sU0FBUzZCLEVBQU0sMENBRmhCWCxFQUFRbkgsS0FBSytILE1BQU1ySixLQUFNd0osYSxzRENwRHZCLElDRUlqTCxFREZKLEtDRUlBLEVBSVQsT0FISndGLE9BQU8wRixRQUFRbEwiLCJmaWxlIjoiYnVuZGxlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuIFx0XHR9XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3RcbiBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3RcbiBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbiBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbiBcdFx0cmV0dXJuIG5zO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDE0KTtcbiIsIi8vIEVsZW1lbnRzIGZhY3RvcnlcclxuZnVuY3Rpb24gY3JlYXRlRWxlbShjbGFzc05hbWU6IHN0cmluZykgOkhUTUxFbGVtZW50IHtcclxuICBjb25zdCBlbGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgZWxlbS5vbmRyYWdzdGFydCA9ICgpID0+IGZhbHNlO1xyXG4gIGVsZW0uY2xhc3NMaXN0LmFkZChjbGFzc05hbWUpO1xyXG4gIHJldHVybiBlbGVtO1xyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjcmVhdGVFbGVtOyIsImNsYXNzIE1ha2VPYnNlcnZhYmxlT2JqZWN0IHtcclxuICBvYnNlcnZlcnM6IEFycmF5PEZ1bmN0aW9uPjtcclxuXHJcbiAgY29uc3RydWN0b3IoKSB7XHJcbiAgICB0aGlzLm9ic2VydmVycyA9IFtdO1xyXG4gIH1cclxuXHJcbiAgYWRkT2JzZXJ2ZXIgKGZuOiBGdW5jdGlvbik6IHZvaWQge1xyXG4gICAgaWYgKHR5cGVvZiBmbiAhPT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ29ic2VydmVyIG11c3QgYmUgYSBmdW5jdGlvbicpO1xyXG4gICAgfVxyXG4gICAgdGhpcy5vYnNlcnZlcnMubWFwKChvYnNlcnZlcikgPT4ge1xyXG4gICAgICBpZiAob2JzZXJ2ZXIgPT09IGZuKSB7XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdvYnNlcnZlciBhbHJlYWR5IGluIHRoZSBsaXN0Jyk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gICAgdGhpcy5vYnNlcnZlcnMucHVzaChmbik7XHJcbiAgfVxyXG5cclxuICByZW1vdmVPYnNlcnZlciAoZm46IEZ1bmN0aW9uKTogdm9pZCB7XHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMub2JzZXJ2ZXJzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgIGNvbnN0IG9ic2VydmVyID0gdGhpcy5vYnNlcnZlcnNbaV07XHJcbiAgICAgIGlmIChvYnNlcnZlciA9PT0gZm4pIHtcclxuICAgICAgICB0aGlzLm9ic2VydmVycy5zcGxpY2UoaSwgMSk7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ2NvdWxkIG5vdCBmaW5kIG9ic2VydmVyIGluIGxpc3Qgb2Ygb2JzZXJ2ZXJzJyk7XHJcbiAgfVxyXG5cclxuICBub3RpZnlPYnNlcnZlcnMgKCk6IHZvaWQge1xyXG4gICAgY29uc3Qgb2JzZXJ2ZXJzU25hcHNob3QgPSBbLi4udGhpcy5vYnNlcnZlcnNdO1xyXG4gICAgb2JzZXJ2ZXJzU25hcHNob3QubWFwKChvYnNlcnZlcikgPT4gb2JzZXJ2ZXIoKSk7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBNYWtlT2JzZXJ2YWJsZU9iamVjdDsiLCJpbXBvcnQgY3JlYXRlRWxlbSBmcm9tICcuLi9jcmVhdGVFbGVtL2NyZWF0ZUVsZW0nO1xyXG5cclxuY2xhc3MgQnV0dG9uIHtcclxuICBlbGVtOiBIVE1MRWxlbWVudDtcclxuXHJcbiAgaXNWZXJ0aWNhbDogYm9vbGVhbjtcclxuXHJcbiAgY29uc3RydWN0b3IoaXNWZXJ0aWNhbDogYm9vbGVhbikge1xyXG4gICAgdGhpcy5lbGVtID0gY3JlYXRlRWxlbSgnc2xpZGVyX19idXR0b24nKTtcclxuICAgIHRoaXMuaXNWZXJ0aWNhbCA9IGlzVmVydGljYWw7XHJcbiAgfVxyXG5cclxuICBnZXRXaWR0aCA9ICgpOiBudW1iZXIgPT4ge1xyXG4gICAgcmV0dXJuIHRoaXMuZWxlbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS53aWR0aDtcclxuICB9XHJcblxyXG4gIGdldFBvc2l0aW9uID0gKCk6IG51bWJlciA9PiB7XHJcbiAgICBpZiAodGhpcy5pc1ZlcnRpY2FsKSB7XHJcbiAgICAgIHJldHVybiB0aGlzLmVsZW0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkudG9wO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB0aGlzLmVsZW0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkubGVmdDtcclxuICB9XHJcblxyXG4gIHNldFBvc2l0aW9uID0gKG9mZnNldDogbnVtYmVyKTogdm9pZCA9PiB7XHJcbiAgICBpZiAodGhpcy5pc1ZlcnRpY2FsKSB7XHJcbiAgICAgIHRoaXMuZWxlbS5zdHlsZS5sZWZ0ID0gJzUwJSc7XHJcbiAgICAgIHRoaXMuZWxlbS5zdHlsZS50b3AgPSBvZmZzZXQgKyAncHgnO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5lbGVtLnN0eWxlLnRvcCA9ICc1MCUnO1xyXG4gICAgICB0aGlzLmVsZW0uc3R5bGUubGVmdCA9IG9mZnNldCArICdweCc7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBpbml0ID0gKGlzVmVydGljYWw6IGJvb2xlYW4pOiB2b2lkID0+IHtcclxuICAgIHRoaXMuaXNWZXJ0aWNhbCA9IGlzVmVydGljYWw7XHJcblxyXG4gICAgaWYgKHRoaXMuaXNWZXJ0aWNhbCkge1xyXG4gICAgICB0aGlzLmVsZW0uY2xhc3NMaXN0LmFkZCgnc2xpZGVyX19idXR0b25fcG9zaXRpb25fdmVydGljYWwnKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuZWxlbS5jbGFzc0xpc3QucmVtb3ZlKCdzbGlkZXJfX2J1dHRvbl9wb3NpdGlvbl92ZXJ0aWNhbCcpO1xyXG4gICAgfVxyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgQnV0dG9uO1xyXG4iLCJpbXBvcnQgY3JlYXRlRWxlbSBmcm9tICcuLi9jcmVhdGVFbGVtL2NyZWF0ZUVsZW0nO1xyXG5cclxuY2xhc3MgTGFiZWwge1xyXG4gIGVsZW06IEhUTUxFbGVtZW50O1xyXG4gIGlzVmVydGljYWw6IGJvb2xlYW47XHJcblxyXG4gIGNvbnN0cnVjdG9yKGlzVmVydGljYWw6IGJvb2xlYW4pIHtcclxuICAgIHRoaXMuZWxlbSA9IGNyZWF0ZUVsZW0oJ3NsaWRlcl9fYnV0dG9uLWxhYmVsJyk7XHJcbiAgICB0aGlzLmlzVmVydGljYWwgPSBpc1ZlcnRpY2FsO1xyXG4gIH1cclxuXHJcbiAgZ2V0UG9zaXRpb24gPSAoKTogbnVtYmVyID0+IHtcclxuICAgIGlmICh0aGlzLmlzVmVydGljYWwpIHtcclxuICAgICAgcmV0dXJuIHRoaXMuZWxlbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS50b3A7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHRoaXMuZWxlbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5sZWZ0O1xyXG4gIH1cclxuXHJcbiAgc2V0UG9zaXRpb24gPSAob2Zmc2V0OiBudW1iZXIsIHZhbHVlOiBudW1iZXIpOiB2b2lkID0+IHtcclxuICAgIHRoaXMuZWxlbS5pbm5lckhUTUwgPSB2YWx1ZSArICcnO1xyXG5cclxuICAgIGlmICh0aGlzLmlzVmVydGljYWwpIHtcclxuICAgICAgdGhpcy5lbGVtLnN0eWxlLmxlZnQgPSAnNTAlJztcclxuICAgICAgdGhpcy5lbGVtLnN0eWxlLnRvcCA9IG9mZnNldCAtIHRoaXMuZ2V0RGltZW5zaW9uKCkvMiArICdweCc7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLmVsZW0uc3R5bGUudG9wID0gJzUwJSc7XHJcbiAgICAgIHRoaXMuZWxlbS5zdHlsZS5sZWZ0ID0gb2Zmc2V0IC0gdGhpcy5nZXREaW1lbnNpb24oKS8yICsgJ3B4JztcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGdldERpbWVuc2lvbiA9ICgpOiBudW1iZXIgPT4ge1xyXG4gICAgaWYgKHRoaXMuaXNWZXJ0aWNhbCkge1xyXG4gICAgICByZXR1cm4gdGhpcy5lbGVtLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmhlaWdodDtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gdGhpcy5lbGVtLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLndpZHRoO1xyXG4gIH1cclxuXHJcbiAgaW5pdCA9IChpc1ZlcnRpY2FsOiBib29sZWFuKTogdm9pZCA9PiB7XHJcbiAgICB0aGlzLmlzVmVydGljYWwgPSBpc1ZlcnRpY2FsO1xyXG5cclxuICAgIGlmICh0aGlzLmlzVmVydGljYWwpIHtcclxuICAgICAgdGhpcy5lbGVtLmNsYXNzTGlzdC5hZGQoJ3NsaWRlcl9fYnV0dG9uLWxhYmVsX3Bvc2l0aW9uX3ZlcnRpY2FsJyk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLmVsZW0uY2xhc3NMaXN0LnJlbW92ZSgnc2xpZGVyX19idXR0b24tbGFiZWxfcG9zaXRpb25fdmVydGljYWwnKTtcclxuICAgIH1cclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IExhYmVsOyIsImNsYXNzIFBhcnNpbmdEaWdpdHMge1xyXG4gIHN0YXRpYyBwYXJzaW5nID0gKGl0ZW06IHN0cmluZ3xudW1iZXIpOiBudW1iZXJ8bnVsbCA9PiB7XHJcbiAgICBpZiAodHlwZW9mIGl0ZW0gPT09ICdudW1iZXInKSB7IFxyXG4gICAgICByZXR1cm4gaXRlbTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAodHlwZW9mIGl0ZW0gPT09ICdzdHJpbmcnKSB7XHJcbiAgICAgIGlmICgvXi0/XFxkK1tcXC4sXVxcZCskLy50ZXN0KGl0ZW0pKSB7XHJcbiAgICAgICAgcmV0dXJuIHBhcnNlRmxvYXQoaXRlbSk7XHJcbiAgICAgIH0gZWxzZSBpZiAoL14tP1xcZCskLy50ZXN0KGl0ZW0pKSB7XHJcbiAgICAgICAgcmV0dXJuIHBhcnNlSW50KGl0ZW0pO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIG51bGw7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBQYXJzaW5nRGlnaXRzOyIsImltcG9ydCBjcmVhdGVFbGVtIGZyb20gJy4uL2NyZWF0ZUVsZW0vY3JlYXRlRWxlbSc7XHJcblxyXG5jbGFzcyBTY2FsZSB7XHJcbiAgZWxlbTogSFRNTEVsZW1lbnQ7XHJcbiAgaXNWZXJ0aWNhbDogYm9vbGVhbjtcclxuXHJcbiAgY29uc3RydWN0b3IoaXNWZXJ0aWNhbDogYm9vbGVhbikge1xyXG4gICAgdGhpcy5lbGVtID0gY3JlYXRlRWxlbSgnc2xpZGVyX19zY2FsZScpO1xyXG4gICAgdGhpcy5pc1ZlcnRpY2FsID0gaXNWZXJ0aWNhbDtcclxuICB9XHJcblxyXG4gIGdldFBvc2l0aW9uID0gKCk6IG51bWJlciA9PiB7XHJcbiAgICBpZiAodGhpcy5pc1ZlcnRpY2FsKSB7XHJcbiAgICAgIHJldHVybiB0aGlzLmVsZW0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkudG9wO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB0aGlzLmVsZW0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkubGVmdDtcclxuICB9XHJcblxyXG4gIGdldERpbWVuc2lvbiA9ICgpOiBudW1iZXIgPT4ge1xyXG4gICAgaWYgKHRoaXMuaXNWZXJ0aWNhbCkge1xyXG4gICAgICByZXR1cm4gdGhpcy5lbGVtLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmhlaWdodDtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gdGhpcy5lbGVtLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLndpZHRoO1xyXG4gIH1cclxuXHJcbiAgaW5pdCA9IChpc1ZlcnRpY2FsOiBib29sZWFuKTogdm9pZCA9PiB7XHJcbiAgICB0aGlzLmlzVmVydGljYWwgPSBpc1ZlcnRpY2FsO1xyXG5cclxuICAgIGlmICh0aGlzLmlzVmVydGljYWwpIHtcclxuICAgICAgdGhpcy5lbGVtLmNsYXNzTGlzdC5hZGQoJ3NsaWRlcl9fc2NhbGVfcG9zaXRpb25fdmVydGljYWwnKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuZWxlbS5jbGFzc0xpc3QucmVtb3ZlKCdzbGlkZXJfX3NjYWxlX3Bvc2l0aW9uX3ZlcnRpY2FsJyk7XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBTY2FsZTtcclxuIiwiaW1wb3J0IGNyZWF0ZUVsZW0gZnJvbSAnLi4vY3JlYXRlRWxlbS9jcmVhdGVFbGVtJztcclxuXHJcbmNsYXNzIEdyYWR1YXRpb24ge1xyXG4gIGdyYWRFbGVtOiBIVE1MRWxlbWVudDtcclxuICBtYXJrMTogSFRNTEVsZW1lbnQ7XHJcbiAgbWFyazI6IEhUTUxFbGVtZW50O1xyXG4gIG1hcmszOiBIVE1MRWxlbWVudDtcclxuICBtYXJrNDogSFRNTEVsZW1lbnQ7XHJcblxyXG4gIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgdGhpcy5ncmFkRWxlbSA9IGNyZWF0ZUVsZW0oJ3NsaWRlcl9fZ3JhZHVhdGlvbicpO1xyXG4gICAgdGhpcy5tYXJrMSA9IGNyZWF0ZUVsZW0oJ3NsaWRlcl9fZ3JhZHVhdGlvbi1tYXJrJyk7XHJcbiAgICB0aGlzLm1hcmsyID0gY3JlYXRlRWxlbSgnc2xpZGVyX19ncmFkdWF0aW9uLW1hcmsnKTtcclxuICAgIHRoaXMubWFyazMgPSBjcmVhdGVFbGVtKCdzbGlkZXJfX2dyYWR1YXRpb24tbWFyaycpO1xyXG4gICAgdGhpcy5tYXJrNCA9IGNyZWF0ZUVsZW0oJ3NsaWRlcl9fZ3JhZHVhdGlvbi1tYXJrJyk7XHJcbiAgICB0aGlzLmdyYWRFbGVtLmFwcGVuZENoaWxkKHRoaXMubWFyazEpO1xyXG4gICAgdGhpcy5ncmFkRWxlbS5hcHBlbmRDaGlsZCh0aGlzLm1hcmsyKTtcclxuICAgIHRoaXMuZ3JhZEVsZW0uYXBwZW5kQ2hpbGQodGhpcy5tYXJrMyk7XHJcbiAgICB0aGlzLmdyYWRFbGVtLmFwcGVuZENoaWxkKHRoaXMubWFyazQpO1xyXG4gIH1cclxuXHJcbiAgaW5pdCA9IChtaW5WYWx1ZTogbnVtYmVyLCBtYXhWYWx1ZTogbnVtYmVyLCBpc1ZlcnRpY2FsOiBib29sZWFuLCBpc0Zsb2F0ID0gZmFsc2UpOiB2b2lkID0+IHtcclxuICAgIHRoaXMubWFyazEuaW5uZXJIVE1MID0gbWluVmFsdWUgKyAnJztcclxuICAgIHRoaXMubWFyazQuaW5uZXJIVE1MID0gbWF4VmFsdWUgKyAnJztcclxuXHJcbiAgICBpZiAoaXNGbG9hdCkge1xyXG4gICAgICB0aGlzLm1hcmsyLmlubmVySFRNTCA9IChtaW5WYWx1ZSArIChtYXhWYWx1ZSAtIG1pblZhbHVlKS8zKS50b0ZpeGVkKDIpO1xyXG4gICAgICB0aGlzLm1hcmszLmlubmVySFRNTCA9IChtaW5WYWx1ZSArIChtYXhWYWx1ZSAtIG1pblZhbHVlKSoyLzMpLnRvRml4ZWQoMik7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLm1hcmsyLmlubmVySFRNTCA9IG1pblZhbHVlICsgTWF0aC5yb3VuZCgobWF4VmFsdWUgLSBtaW5WYWx1ZSkvMykgKyAnJztcclxuICAgICAgdGhpcy5tYXJrMy5pbm5lckhUTUwgPSBtaW5WYWx1ZSArIE1hdGgucm91bmQoKG1heFZhbHVlIC0gbWluVmFsdWUpKjIvMykgKyAnJztcclxuICAgIH1cclxuXHJcbiAgICBpZiAoIWlzVmVydGljYWwpIHtcclxuICAgICAgdGhpcy5tYXJrMS5jbGFzc0xpc3QuYWRkKCdzbGlkZXJfX2dyYWR1YXRpb24tbWFya19vZmZzZXRfbGVmdCcpO1xyXG4gICAgICB0aGlzLm1hcmsxLmNsYXNzTGlzdC5yZW1vdmUoJ3NsaWRlcl9fZ3JhZHVhdGlvbi1tYXJrX29mZnNldF90b3AnKTtcclxuICAgICAgdGhpcy5tYXJrNC5jbGFzc0xpc3QuYWRkKCdzbGlkZXJfX2dyYWR1YXRpb24tbWFya19vZmZzZXRfcmlnaHQnKTtcclxuICAgICAgdGhpcy5tYXJrNC5jbGFzc0xpc3QucmVtb3ZlKCdzbGlkZXJfX2dyYWR1YXRpb24tbWFya19vZmZzZXRfYm90dG9tJyk7XHJcbiAgICAgIHRoaXMuZ3JhZEVsZW0uY2xhc3NMaXN0LnJlbW92ZSgnc2xpZGVyX19ncmFkdWF0aW9uX3Bvc2l0aW9uX3ZlcnRpY2FsJyk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLm1hcmsxLmNsYXNzTGlzdC5yZW1vdmUoJ3NsaWRlcl9fZ3JhZHVhdGlvbi1tYXJrX29mZnNldF9sZWZ0Jyk7XHJcbiAgICAgIHRoaXMubWFyazEuY2xhc3NMaXN0LmFkZCgnc2xpZGVyX19ncmFkdWF0aW9uLW1hcmtfb2Zmc2V0X3RvcCcpO1xyXG4gICAgICB0aGlzLm1hcms0LmNsYXNzTGlzdC5yZW1vdmUoJ3NsaWRlcl9fZ3JhZHVhdGlvbi1tYXJrX29mZnNldF9yaWdodCcpO1xyXG4gICAgICB0aGlzLm1hcms0LmNsYXNzTGlzdC5hZGQoJ3NsaWRlcl9fZ3JhZHVhdGlvbi1tYXJrX29mZnNldF9ib3R0b20nKTtcclxuICAgICAgdGhpcy5ncmFkRWxlbS5jbGFzc0xpc3QuYWRkKCdzbGlkZXJfX2dyYWR1YXRpb25fcG9zaXRpb25fdmVydGljYWwnKTtcclxuICAgIH1cclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IEdyYWR1YXRpb247IiwiaW1wb3J0IGNyZWF0ZUVsZW0gZnJvbSAnLi4vY3JlYXRlRWxlbS9jcmVhdGVFbGVtJztcclxuXHJcbmNsYXNzIFNjYWxlRmlsbGluZyB7XHJcbiAgZWxlbTogSFRNTEVsZW1lbnQ7XHJcbiAgaXNWZXJ0aWNhbDogYm9vbGVhbjtcclxuXHJcbiAgY29uc3RydWN0b3IoaXNWZXJ0aWNhbDogYm9vbGVhbikge1xyXG4gICAgdGhpcy5lbGVtID0gY3JlYXRlRWxlbSgnc2xpZGVyX19zY2FsZS1maWxsaW5nJyk7XHJcbiAgICB0aGlzLmlzVmVydGljYWwgPSBpc1ZlcnRpY2FsO1xyXG4gIH1cclxuXHJcbiAgc2V0UG9zaXRpb24gPSAob2Zmc2V0OiBudW1iZXIpOiB2b2lkID0+IHtcclxuICAgIGlmICh0aGlzLmlzVmVydGljYWwpIHtcclxuICAgICAgdGhpcy5lbGVtLnN0eWxlLmxlZnQgPSAnMCc7XHJcbiAgICAgIHRoaXMuZWxlbS5zdHlsZS53aWR0aCA9ICcxMDAlJztcclxuICAgICAgdGhpcy5lbGVtLnN0eWxlLnRvcCA9IG9mZnNldCArICdweCc7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLmVsZW0uc3R5bGUudG9wID0gJzAnO1xyXG4gICAgICB0aGlzLmVsZW0uc3R5bGUuaGVpZ2h0ID0gJzEwMCUnO1xyXG4gICAgICB0aGlzLmVsZW0uc3R5bGUubGVmdCA9IG9mZnNldCArICdweCc7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBzZXREaW1lbnNpb24gPSAoZGltZW5zaW9uOiBudW1iZXIpOiB2b2lkID0+IHtcclxuICAgIGlmICh0aGlzLmlzVmVydGljYWwpIHtcclxuICAgICAgdGhpcy5lbGVtLnN0eWxlLmhlaWdodCA9IGRpbWVuc2lvbiArICdweCc7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLmVsZW0uc3R5bGUud2lkdGggPSBkaW1lbnNpb24gKyAncHgnO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgaW5pdCA9IChpc1ZlcnRpY2FsOiBib29sZWFuKTogdm9pZCA9PiB7XHJcbiAgICB0aGlzLmlzVmVydGljYWwgPSBpc1ZlcnRpY2FsO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgU2NhbGVGaWxsaW5nO1xyXG4iLCJpbXBvcnQgeyBWaWV3IH0gZnJvbSAnLi4vdmlldy9WaWV3JztcclxuaW1wb3J0IE1vZGVsIGZyb20gJy4uL21vZGVsL01vZGVsJztcclxuaW1wb3J0IE1ha2VPYnNlcnZhYmxlT2JqZWN0IGZyb20gJy4uL21ha2VPYnNlcnZhYmxlT2JqZWN0L01ha2VPYnNlcnZhYmxlT2JqZWN0JztcclxuaW1wb3J0IFBhcnNpbmdEaWdpdHMgZnJvbSBcIi4uL3BhcnNpbmdEaWdpdHMvUGFyc2luZ0RpZ2l0c1wiO1xyXG5cclxuaW50ZXJmYWNlIGNvbmZpZ1R5cGUge1xyXG4gIC8vW2luZGV4OiBzdHJpbmddOlxyXG4gICAgW2luZGV4OiBzdHJpbmddOiBhbnksXHJcbiAgICAvKlxyXG4gICAgc3RlcDogc3RyaW5nLFxyXG4gICAgbWluVmFsdWU6IG51bWJlcixcclxuICAgIG1heFZhbHVlOiBudW1iZXIsXHJcbiAgICBzdGVwOiBzdHJpbmcsXHJcbiAgICBpc1JhbmdlOiBib29sZWFuLFxyXG4gICAgaXNWZXJ0aWNhbDogYm9vbGVhbixcclxuICAgIHNob3dMYWJlbDogYm9vbGVhbixcclxuICAgIGlzRmxvYXQ6IGJvb2xlYW4sXHJcbiAgICAqL1xyXG59XHJcblxyXG5jbGFzcyBDb250cm9sbGVyIHtcclxuICB2aWV3OiBWaWV3O1xyXG5cclxuICBtb2RlbDogTW9kZWw7XHJcblxyXG4gIG9ic2VydmVyczogTWFrZU9ic2VydmFibGVPYmplY3Q7XHJcblxyXG4gIGNvbnN0cnVjdG9yKG1pblZhbHVlID0gMCwgbWF4VmFsdWUgPSAxMDAwLCBzdGVwID0gMSwgaXNSYW5nZSA9IGZhbHNlLFxyXG4gICAgaXNWZXJ0aWNhbCA9IGZhbHNlLCBzaG93TGFiZWwgPSBmYWxzZSwgaXNGbG9hdCA9IGZhbHNlKSB7XHJcbiAgICB0aGlzLnZpZXcgPSBuZXcgVmlldyhtaW5WYWx1ZSwgbWF4VmFsdWUsIHN0ZXAsIGlzUmFuZ2UsIGlzVmVydGljYWwsIHNob3dMYWJlbCwgaXNGbG9hdCk7XHJcbiAgICB0aGlzLm1vZGVsID0gbmV3IE1vZGVsKG1pblZhbHVlLCBtYXhWYWx1ZSk7XHJcbiAgICB0aGlzLm9ic2VydmVycyA9IG5ldyBNYWtlT2JzZXJ2YWJsZU9iamVjdCgpO1xyXG5cclxuICAgIHRoaXMudmlldy5vYnNlcnZlcnMuYWRkT2JzZXJ2ZXIoKCkgPT4ge1xyXG4gICAgICB0aGlzLm1vZGVsLmN1ck1pblZhbHVlID0gdGhpcy52aWV3LmN1ck1pblZhbHVlO1xyXG4gICAgICB0aGlzLm1vZGVsLmN1ck1heFZhbHVlID0gdGhpcy52aWV3LmN1ck1heFZhbHVlO1xyXG4gICAgICB0aGlzLm9ic2VydmVycy5ub3RpZnlPYnNlcnZlcnMoKTtcclxuICAgIH0pO1xyXG5cclxuICAgIHRoaXMubW9kZWwub2JzZXJ2ZXJzLmFkZE9ic2VydmVyKCgpID0+IHtcclxuICAgICAgY29uc3QgY3VyTWluVmFsdWUgPSB0aGlzLm1vZGVsLmN1ck1pblZhbHVlO1xyXG4gICAgICBjb25zdCBjdXJNYXhWYWx1ZSA9IHRoaXMubW9kZWwuY3VyTWF4VmFsdWU7XHJcbiAgICAgIHRoaXMudmlldy5idXR0MU1vdmUodGhpcy52aWV3Lm9mZnNldFZhbHVlQ29udihjdXJNaW5WYWx1ZSksIGN1ck1pblZhbHVlKTtcclxuICAgICAgdGhpcy52aWV3LmJ1dHQyTW92ZSh0aGlzLnZpZXcub2Zmc2V0VmFsdWVDb252KGN1ck1heFZhbHVlKSwgY3VyTWF4VmFsdWUpO1xyXG4gICAgICB0aGlzLm9ic2VydmVycy5ub3RpZnlPYnNlcnZlcnMoKTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgYXBwZW5kID0gKGVudHJ5OiBKUXVlcnkpOiB2b2lkID0+IHtcclxuICAgIHRoaXMudmlldy5hcHBlbmQoZW50cnkuZ2V0KDApKTtcclxuICAgIHRoaXMudmlldy5pbml0KCk7XHJcbiAgfVxyXG5cclxuICBjaGVja1N0ZXAgPSAoc3RlcDogc3RyaW5nKTogbnVtYmVyID0+IHtcclxuICAgIGxldCBzdGVwTW9kID0gTWF0aC5hYnMoUGFyc2luZ0RpZ2l0cy5wYXJzaW5nKHN0ZXApKTtcclxuXHJcbiAgICBpZiAoc3RlcE1vZCA9PT0gbnVsbCB8fCBzdGVwTW9kID09PSAwIHx8IHN0ZXBNb2QgPj0gdGhpcy52aWV3Lm1heFZhbHVlIC0gdGhpcy52aWV3Lm1pblZhbHVlKSB7XHJcbiAgICAgIGNvbnNvbGUubG9nKCdXcm9uZyB2YWx1ZSBvZiB0aGUgc3RlcCcpO1xyXG4gICAgICByZXR1cm4gdGhpcy52aWV3LnN0ZXA7XHJcbiAgICB9IFxyXG4gIFxyXG4gICAgaWYgKHN0ZXBNb2QgJSAxICE9PSAwKSB7XHJcbiAgICAgIHRoaXMudmlldy5pc0Zsb2F0ID0gdHJ1ZTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGlmICh0aGlzLnZpZXcubWF4VmFsdWUgJSAxID09PSAwICYmIHRoaXMudmlldy5taW5WYWx1ZSAlIDEgPT09IDApIHtcclxuICAgICAgICB0aGlzLnZpZXcuaXNGbG9hdCA9IGZhbHNlO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgXHJcbiAgICByZXR1cm4gc3RlcE1vZDsgICBcclxuICB9XHJcblxyXG4gIGNoZWNrTWF4VmFsdWUgPSAobWF4VmFsdWU6IHN0cmluZyk6IG51bWJlciA9PiB7XHJcbiAgICBsZXQgbWF4VmFsdWVNb2QgPSBQYXJzaW5nRGlnaXRzLnBhcnNpbmcobWF4VmFsdWUpO1xyXG5cclxuICAgIGlmIChtYXhWYWx1ZU1vZCA9PT0gbnVsbCB8fCBtYXhWYWx1ZU1vZCA8PSB0aGlzLnZpZXcubWluVmFsdWUpIHtcclxuICAgICAgY29uc29sZS5sb2coJ1dyb25nIHZhbHVlIG9mIHRoZSBtYXhWYWx1ZScpO1xyXG4gICAgICByZXR1cm4gdGhpcy52aWV3Lm1heFZhbHVlO1xyXG4gICAgfSBcclxuICBcclxuICAgIGlmIChtYXhWYWx1ZU1vZCAlIDEgIT09IDApIHtcclxuICAgICAgdGhpcy52aWV3LmlzRmxvYXQgPSB0cnVlO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgaWYgKHRoaXMudmlldy5zdGVwICUgMSA9PT0gMCAmJiB0aGlzLnZpZXcubWluVmFsdWUgJSAxID09PSAwKSB7XHJcbiAgICAgICAgdGhpcy52aWV3LmlzRmxvYXQgPSBmYWxzZTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIFxyXG4gICAgcmV0dXJuIG1heFZhbHVlTW9kOyAgIFxyXG4gIH1cclxuXHJcbiAgY2hlY2tNaW5WYWx1ZSA9IChtaW5WYWx1ZTogc3RyaW5nKTogbnVtYmVyID0+IHtcclxuICAgIGxldCBtaW5WYWx1ZU1vZCA9IFBhcnNpbmdEaWdpdHMucGFyc2luZyhtaW5WYWx1ZSk7XHJcblxyXG4gICAgaWYgKG1pblZhbHVlTW9kID09PSBudWxsIHx8IG1pblZhbHVlTW9kID49IHRoaXMudmlldy5tYXhWYWx1ZSkge1xyXG4gICAgICBjb25zb2xlLmxvZygnV3JvbmcgdmFsdWUgb2YgdGhlIG1pblZhbHVlJyk7XHJcbiAgICAgIHJldHVybiB0aGlzLnZpZXcubWluVmFsdWU7XHJcbiAgICB9IFxyXG4gIFxyXG4gICAgaWYgKG1pblZhbHVlTW9kICUgMSAhPT0gMCkgeyAgICAgIFxyXG4gICAgICB0aGlzLnZpZXcuaXNGbG9hdCA9IHRydWU7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBpZiAodGhpcy52aWV3Lm1heFZhbHVlICUgMSA9PT0gMCAmJiB0aGlzLnZpZXcuc3RlcCAlIDEgPT09IDApIHtcclxuICAgICAgICB0aGlzLnZpZXcuaXNGbG9hdCA9IGZhbHNlO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgXHJcbiAgICByZXR1cm4gbWluVmFsdWVNb2Q7ICAgXHJcbiAgfVxyXG5cclxuICB1cGRhdGUgPSAoYXJnczogY29uZmlnVHlwZSk6IHZvaWQgPT4ge1xyXG4gICAgT2JqZWN0LmtleXMoYXJncykubWFwKChpdGVtKSA9PiB7XHJcbiAgICAgIGlmICh0aGlzLnZpZXdbaXRlbV0gIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgIGlmIChpdGVtID09PSAnc3RlcCcpIHsgICAgICAgICAgXHJcbiAgICAgICAgICB0aGlzLnZpZXcuc3RlcCA9IHRoaXMuY2hlY2tTdGVwKGFyZ3NbaXRlbV0pO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoaXRlbSA9PT0gJ21heFZhbHVlJykge1xyXG4gICAgICAgICAgdGhpcy52aWV3Lm1heFZhbHVlID0gdGhpcy5jaGVja01heFZhbHVlKGFyZ3NbaXRlbV0pO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoaXRlbSA9PT0gJ21pblZhbHVlJykge1xyXG4gICAgICAgICAgdGhpcy52aWV3Lm1pblZhbHVlID0gdGhpcy5jaGVja01pblZhbHVlKGFyZ3NbaXRlbV0pO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICB0aGlzLnZpZXdbaXRlbV0gPSBhcmdzW2l0ZW1dO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgdGhpcy52aWV3LmluaXQoKTtcclxuICAgIC8vdGhpcy52aWV3LmJ1dHQxTW92ZSh0aGlzLnZpZXcuYnV0dDFPZmZzZXRDaGVjayh0aGlzLnZpZXcub2Zmc2V0VmFsdWVDb252KHRoaXMubW9kZWwuY3VyTWluVmFsdWUpKVswXSwgdGhpcy5tb2RlbC5jdXJNaW5WYWx1ZSk7XHJcbiAgICAvL3RoaXMudmlldy5idXR0Mk1vdmUodGhpcy52aWV3LmJ1dHQyT2Zmc2V0Q2hlY2sodGhpcy52aWV3Lm9mZnNldFZhbHVlQ29udih0aGlzLm1vZGVsLmN1ck1heFZhbHVlKSlbMF0sIHRoaXMubW9kZWwuY3VyTWF4VmFsdWUpO1xyXG4gIH1cclxuXHJcbiAgZ2V0VmFsdWVzID0gKCk6IEFycmF5PG51bWJlcj4gPT4ge1xyXG4gICAgcmV0dXJuIFt0aGlzLm1vZGVsLmN1ck1pblZhbHVlLCB0aGlzLm1vZGVsLmN1ck1heFZhbHVlXTtcclxuICB9XHJcblxyXG4gIHNldFZhbHVlcyA9IChjdXJNaW5WYWx1ZTogbnVtYmVyLCBjdXJNYXhWYWx1ZTogbnVtYmVyKTogdm9pZCA9PiB7XHJcbiAgICBpZiAoY3VyTWluVmFsdWUpIHtcclxuICAgICAgdGhpcy5tb2RlbC5zZXRDdXJNaW5WYWx1ZShjdXJNaW5WYWx1ZSk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGN1ck1heFZhbHVlKSB7XHJcbiAgICAgIHRoaXMubW9kZWwuc2V0Q3VyTWF4VmFsdWUoY3VyTWF4VmFsdWUpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZ2V0Q29uZmlnID0gKCk6IGNvbmZpZ1R5cGUgPT4ge1xyXG4gICAgcmV0dXJuIHttaW5WYWx1ZTogdGhpcy52aWV3Lm1pblZhbHVlLCBtYXhWYWx1ZTogdGhpcy52aWV3Lm1heFZhbHVlLCBzdGVwOiB0aGlzLnZpZXcuc3RlcCxcclxuICAgICAgaXNSYW5nZTogdGhpcy52aWV3LmlzUmFuZ2UsIGlzVmVydGljYWw6IHRoaXMudmlldy5pc1ZlcnRpY2FsLCBzaG93TGFiZWw6IHRoaXMudmlldy5zaG93TGFiZWwsIGlzRmxvYXQ6IHRoaXMudmlldy5pc0Zsb2F0fVxyXG4gIH1cclxuXHJcbiAgYWRkT2JzZXJ2ZXIgPSAoZm46IEZ1bmN0aW9uKTogdm9pZCA9PiB7XHJcbiAgICB0aGlzLm9ic2VydmVycy5hZGRPYnNlcnZlcihmbik7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBDb250cm9sbGVyOyIsImltcG9ydCBNYWtlT2JzZXJ2YWJsZU9iamVjdCBmcm9tIFwiLi4vbWFrZU9ic2VydmFibGVPYmplY3QvTWFrZU9ic2VydmFibGVPYmplY3RcIjtcclxuaW1wb3J0IGNyZWF0ZUVsZW0gZnJvbSBcIi4uL2NyZWF0ZUVsZW0vY3JlYXRlRWxlbVwiO1xyXG5pbXBvcnQgU2NhbGUgZnJvbSBcIi4uL3NjYWxlL1NjYWxlXCI7XHJcbmltcG9ydCBHcmFkdWF0aW9uIGZyb20gXCIuLi9ncmFkdWF0aW9uL0dyYWR1YXRpb25cIjtcclxuaW1wb3J0IEJ1dHRvbiBmcm9tIFwiLi4vYnV0dG9uL0J1dHRvblwiO1xyXG5pbXBvcnQgTGFiZWwgZnJvbSBcIi4uL2xhYmVsL0xhYmVsXCI7XHJcbmltcG9ydCBTY2FsZUZpbGxpbmcgZnJvbSBcIi4uL3NjYWxlRmlsbGluZy9TY2FsZUZpbGxpbmdcIjtcclxuXHJcbmNsYXNzIFZpZXcge1xyXG4gIFtpbmRleDogc3RyaW5nXTogYW55O1xyXG4gIHNjYWxlOiBTY2FsZTtcclxuICBncmFkdWF0aW9uOiBHcmFkdWF0aW9uO1xyXG4gIHNjYWxlRmlsbGluZzogU2NhbGVGaWxsaW5nO1xyXG4gIGJ1dHRvbjE6IEJ1dHRvbjtcclxuICBidXR0b24yOiBCdXR0b247XHJcbiAgbGFiZWwxOiBMYWJlbDtcclxuICBsYWJlbDI6IExhYmVsO1xyXG4gIGlzUmFuZ2U6IGJvb2xlYW47XHJcbiAgaXNWZXJ0aWNhbDogYm9vbGVhbjtcclxuICBzaG93TGFiZWw6IGJvb2xlYW47XHJcbiAgbWluVmFsdWU6IG51bWJlcjtcclxuICBtYXhWYWx1ZTogbnVtYmVyO1xyXG4gIGN1ck1pblZhbHVlOiBudW1iZXI7XHJcbiAgY3VyTWF4VmFsdWU6IG51bWJlcjtcclxuICBzdGVwOiBudW1iZXI7XHJcbiAgaXNGbG9hdDogYm9vbGVhbjtcclxuICBvYnNlcnZlcnM6IE1ha2VPYnNlcnZhYmxlT2JqZWN0O1xyXG5cclxuICBjb25zdHJ1Y3RvcihtaW5WYWx1ZSA9IDAsIG1heFZhbHVlID0gMTAwMCwgc3RlcCA9IDEsIGlzUmFuZ2UgPSBmYWxzZSwgaXNWZXJ0aWNhbCA9IGZhbHNlLCBzaG93TGFiZWwgPSBmYWxzZSwgaXNGbG9hdCA9IGZhbHNlKSB7XHJcbiAgICB0aGlzLnNjYWxlID0gbmV3IFNjYWxlKGlzVmVydGljYWwpO1xyXG4gICAgdGhpcy5idXR0b24xID0gbmV3IEJ1dHRvbihpc1ZlcnRpY2FsKTtcclxuICAgIHRoaXMuYnV0dG9uMiA9IG5ldyBCdXR0b24oaXNWZXJ0aWNhbCk7XHJcbiAgICB0aGlzLmxhYmVsMSA9IG5ldyBMYWJlbChpc1ZlcnRpY2FsKTtcclxuICAgIHRoaXMubGFiZWwyID0gbmV3IExhYmVsKGlzVmVydGljYWwpO1xyXG4gICAgdGhpcy5zY2FsZUZpbGxpbmcgPSBuZXcgU2NhbGVGaWxsaW5nKGlzVmVydGljYWwpO1xyXG4gICAgdGhpcy5ncmFkdWF0aW9uID0gbmV3IEdyYWR1YXRpb24oKTtcclxuICAgIHRoaXMubWluVmFsdWUgPSBtaW5WYWx1ZTtcclxuICAgIHRoaXMubWF4VmFsdWUgPSBtYXhWYWx1ZTtcclxuICAgIHRoaXMuY3VyTWluVmFsdWUgPSBtaW5WYWx1ZTtcclxuICAgIHRoaXMuY3VyTWF4VmFsdWUgPSBtYXhWYWx1ZTtcclxuICAgIHRoaXMuc3RlcCA9IHN0ZXA7XHJcbiAgICB0aGlzLmlzUmFuZ2UgPSBpc1JhbmdlO1xyXG4gICAgdGhpcy5pc1ZlcnRpY2FsID0gaXNWZXJ0aWNhbDtcclxuICAgIHRoaXMuc2hvd0xhYmVsID0gc2hvd0xhYmVsO1xyXG4gICAgdGhpcy5pc0Zsb2F0ID0gaXNGbG9hdDtcclxuICAgIHRoaXMub2JzZXJ2ZXJzID0gbmV3IE1ha2VPYnNlcnZhYmxlT2JqZWN0KClcclxuICAgIC8vdGhpcy5jaGVja1ZhbHVlcygpO1xyXG4gIH1cclxuXHJcbiAgZ2V0U3RhcnQgPSAoKTogbnVtYmVyID0+IHtcclxuICAgIGlmICh0aGlzLmlzUmFuZ2UpIHtcclxuICAgICAgcmV0dXJuIHRoaXMuYnV0dG9uMS5nZXRQb3NpdGlvbigpIC0gdGhpcy5zY2FsZS5nZXRQb3NpdGlvbigpICsgdGhpcy5idXR0b24xLmdldFdpZHRoKCkvMjtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gMDtcclxuICB9XHJcblxyXG4gIGdldEVuZCA9ICgpOiBudW1iZXIgPT4ge1xyXG4gICAgcmV0dXJuIHRoaXMuYnV0dG9uMi5nZXRQb3NpdGlvbigpIC0gdGhpcy5zY2FsZS5nZXRQb3NpdGlvbigpICsgdGhpcy5idXR0b24yLmdldFdpZHRoKCkvMjtcclxuICB9XHJcblxyXG4gIHVwZGF0ZUVsZW1zID0gKCk6IHZvaWQgPT4ge1xyXG4gICAgdGhpcy5zY2FsZUZpbGxpbmcuaW5pdCh0aGlzLmlzVmVydGljYWwpO1xyXG4gICAgdGhpcy5zY2FsZUZpbGxpbmcuc2V0UG9zaXRpb24odGhpcy5nZXRTdGFydCgpKTtcclxuICAgIHRoaXMuc2NhbGVGaWxsaW5nLnNldERpbWVuc2lvbih0aGlzLmdldEVuZCgpIC0gdGhpcy5nZXRTdGFydCgpKTtcclxuXHJcbiAgICBpZiAoIXRoaXMuaXNSYW5nZSkge1xyXG4gICAgICB0aGlzLmN1ck1pblZhbHVlID0gdGhpcy5taW5WYWx1ZTtcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLm9ic2VydmVycy5ub3RpZnlPYnNlcnZlcnMoKTtcclxuICB9XHJcblxyXG4gIHJvdW5kID0gKHZhbDogbnVtYmVyLCBzdGVwOiBudW1iZXIpOiBudW1iZXIgPT4ge1xyXG4gICAgY29uc3Qgd2hvbGUgPSBNYXRoLnRydW5jKHZhbC9zdGVwKTtcclxuICAgIGNvbnN0IHJlbWluZGVyID0gKyh2YWwgLSB3aG9sZSpzdGVwKS50b0ZpeGVkKDIpO1xyXG5cclxuICAgIGlmICh2YWwgPCAwKSB7XHJcbiAgICAgIHJldHVybiBNYXRoLmFicyhyZW1pbmRlcikgPCBzdGVwLzIgPyB3aG9sZSpzdGVwIDogKHdob2xlIC0gMSkqc3RlcDtcclxuICAgIH1cclxuXHJcbiAgICBpZiAodmFsIDw9IHRoaXMubWluVmFsdWUpIHtcclxuICAgICAgcmV0dXJuIHRoaXMubWluVmFsdWU7XHJcbiAgICB9IGVsc2UgaWYgKHZhbCA+PSB0aGlzLm1heFZhbHVlKSB7XHJcbiAgICAgIHJldHVybiB0aGlzLm1heFZhbHVlO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiByZW1pbmRlciA8IHN0ZXAvMiA/IHdob2xlKnN0ZXAgOiAod2hvbGUgKyAxKSpzdGVwO1xyXG4gIH1cclxuXHJcbiAgcm91bmRPZmZzZXRCdXR0ID0gKGN1cnJPZmZzZXQ6IG51bWJlcik6IEFycmF5PG51bWJlcj4gPT4ge1xyXG4gICAgY29uc3QgY3VyclZhbHVlID0gdGhpcy5taW5WYWx1ZSArIChjdXJyT2Zmc2V0ICsgdGhpcy5idXR0b24yLmdldFdpZHRoKCkvMikqKHRoaXMubWF4VmFsdWUgLSB0aGlzLm1pblZhbHVlKS90aGlzLnNjYWxlLmdldERpbWVuc2lvbigpO1xyXG4gICAgbGV0IHJvdW5kVmFsdWUgPSB0aGlzLnJvdW5kKGN1cnJWYWx1ZSwgdGhpcy5zdGVwKTtcclxuXHJcbiAgICBpZiAodGhpcy5pc0Zsb2F0KSB7XHJcbiAgICAgIHJvdW5kVmFsdWUgPSBwYXJzZUZsb2F0KHJvdW5kVmFsdWUudG9GaXhlZCgyKSk7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3Qgcm91bmRPZmZzZXQgPSB0aGlzLm9mZnNldFZhbHVlQ29udihyb3VuZFZhbHVlKTtcclxuICAgIHJldHVybiBbcm91bmRPZmZzZXQsIHJvdW5kVmFsdWVdO1xyXG4gIH1cclxuXHJcbiAgb2Zmc2V0VmFsdWVDb252ID0gKHZhbHVlOiBudW1iZXIpOiBudW1iZXIgPT4ge1xyXG4gICAgcmV0dXJuICgodmFsdWUgLSB0aGlzLm1pblZhbHVlKS8odGhpcy5tYXhWYWx1ZSAtIHRoaXMubWluVmFsdWUpKnRoaXMuc2NhbGUuZ2V0RGltZW5zaW9uKCkgLSB0aGlzLmJ1dHRvbjIuZ2V0V2lkdGgoKS8yKTtcclxuICB9XHJcblxyXG4gIC8vQnV0dG9uMSAgSGFuZGxlcnMtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbiAgYnV0dDFNb3ZlID0gKHJvdW5kT2Zmc2V0OiBudW1iZXIsIHJvdW5kVmFsdWU6IG51bWJlcik6IHZvaWQgPT4ge1xyXG4gICAgdGhpcy5idXR0b24xLnNldFBvc2l0aW9uKHJvdW5kT2Zmc2V0KTtcclxuICAgIHRoaXMubGFiZWwxLnNldFBvc2l0aW9uKHJvdW5kT2Zmc2V0ICsgdGhpcy5idXR0b24xLmdldFdpZHRoKCkvMiwgcm91bmRWYWx1ZSk7XHJcblxyXG4gICAgaWYgKHJvdW5kVmFsdWUgPCB0aGlzLm1pblZhbHVlKSB7XHJcbiAgICAgIHJvdW5kVmFsdWUgPSB0aGlzLm1pblZhbHVlO1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXMuY3VyTWluVmFsdWUgPSByb3VuZFZhbHVlO1xyXG4gICAgdGhpcy51cGRhdGVFbGVtcygpO1xyXG4gIH1cclxuXHJcbiAgYnV0dDFPZmZzZXRDaGVjayA9IChuZXdPZmZzZXQ6IG51bWJlcik6IEFycmF5PG51bWJlcj4gPT4ge1xyXG4gICAgbGV0IHJvdW5kVmFsdWU7XHJcblxyXG4gICAgaWYgKG5ld09mZnNldCA8IC10aGlzLmJ1dHRvbjEuZ2V0V2lkdGgoKS8yKSB7XHJcbiAgICAgIG5ld09mZnNldCA9IC10aGlzLmJ1dHRvbjEuZ2V0V2lkdGgoKS8yO1xyXG4gICAgICByb3VuZFZhbHVlID0gdGhpcy5taW5WYWx1ZTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBzdGVwV2lkdGggPSB0aGlzLnN0ZXAqdGhpcy5zY2FsZS5nZXREaW1lbnNpb24oKS8odGhpcy5tYXhWYWx1ZSAtIHRoaXMubWluVmFsdWUpO1xyXG4gICAgY29uc3QgbWluT2Zmc2V0ID0gc3RlcFdpZHRoLzEuNSA+IHRoaXMuYnV0dG9uMS5nZXRXaWR0aCgpID8gc3RlcFdpZHRoLzEuNSA6IHRoaXMuYnV0dG9uMS5nZXRXaWR0aCgpO1xyXG5cclxuICAgIGlmIChuZXdPZmZzZXQgPiB0aGlzLmJ1dHRvbjIuZ2V0UG9zaXRpb24oKSAtIHRoaXMuc2NhbGUuZ2V0UG9zaXRpb24oKSAtIG1pbk9mZnNldCkge1xyXG4gICAgICBuZXdPZmZzZXQgPSB0aGlzLmJ1dHRvbjIuZ2V0UG9zaXRpb24oKSAtIHRoaXMuc2NhbGUuZ2V0UG9zaXRpb24oKSAtIG1pbk9mZnNldDtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gW25ld09mZnNldCwgcm91bmRWYWx1ZV07XHJcbiAgfVxyXG5cclxuICBvbk1vdXNlTW92ZTEgPSAoZXZlbnRNbTogTW91c2VFdmVudCk6IHZvaWQgPT4ge1xyXG4gICAgbGV0IHJvdW5kVmFsdWU7XHJcbiAgICBsZXQgcm91bmRPZmZzZXQ7XHJcbiAgICBjb25zdCBjb29yZGluYXRlID0gdGhpcy5pc1ZlcnRpY2FsID8gZXZlbnRNbS5jbGllbnRZIDogZXZlbnRNbS5jbGllbnRYO1xyXG4gICAgY29uc3QgbmV3T2Zmc2V0ID0gY29vcmRpbmF0ZSAtIHRoaXMuc2NhbGUuZ2V0UG9zaXRpb24oKSAtIHRoaXMuYnV0dG9uMi5nZXRXaWR0aCgpLzI7XHJcblxyXG4gICAgW3JvdW5kT2Zmc2V0LCByb3VuZFZhbHVlXSA9IHRoaXMuYnV0dDFPZmZzZXRDaGVjayhuZXdPZmZzZXQpO1xyXG5cclxuICAgIGlmICh0eXBlb2Ygcm91bmRWYWx1ZSA9PT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgICBbcm91bmRPZmZzZXQsIHJvdW5kVmFsdWVdID0gdGhpcy5yb3VuZE9mZnNldEJ1dHQocm91bmRPZmZzZXQpO1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXMuYnV0dDFNb3ZlKHJvdW5kT2Zmc2V0LCByb3VuZFZhbHVlKTtcclxuICB9XHJcblxyXG4gIG9uTW91c2VVcDEgPSAoKTogdm9pZCA9PiB7XHJcbiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwibW91c2V1cFwiLCB0aGlzLm9uTW91c2VVcDEpO1xyXG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1vdXNlbW92ZVwiLCB0aGlzLm9uTW91c2VNb3ZlMSk7XHJcbiAgfVxyXG5cclxuICAvL0J1dHRvbjIgIEhhbmRsZXJzLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4gIGJ1dHQyTW92ZSA9IChyb3VuZE9mZnNldDogbnVtYmVyLCByb3VuZFZhbHVlOiBudW1iZXIpOiB2b2lkID0+IHtcclxuICAgIHRoaXMuYnV0dG9uMi5zZXRQb3NpdGlvbihyb3VuZE9mZnNldCk7XHJcbiAgICB0aGlzLmxhYmVsMi5zZXRQb3NpdGlvbihyb3VuZE9mZnNldCArIHRoaXMuYnV0dG9uMi5nZXRXaWR0aCgpLzIsIHJvdW5kVmFsdWUpO1xyXG5cclxuICAgIGlmIChyb3VuZFZhbHVlIDwgdGhpcy5taW5WYWx1ZSkge1xyXG4gICAgICByb3VuZFZhbHVlID0gdGhpcy5taW5WYWx1ZTtcclxuICAgIH0gZWxzZSBpZiAocm91bmRWYWx1ZSA+IHRoaXMubWF4VmFsdWUpIHtcclxuICAgICAgcm91bmRWYWx1ZSA9IHRoaXMubWF4VmFsdWU7XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5jdXJNYXhWYWx1ZSA9IHJvdW5kVmFsdWU7XHJcbiAgICB0aGlzLnVwZGF0ZUVsZW1zKCk7XHJcbiAgfVxyXG5cclxuICBidXR0Mk9mZnNldENoZWNrID0gKG5ld09mZnNldDogbnVtYmVyKTogQXJyYXk8bnVtYmVyPiA9PiB7XHJcbiAgICBsZXQgcm91bmRWYWx1ZTtcclxuXHJcbiAgICBpZiAoIXRoaXMuaXNSYW5nZSkge1xyXG4gICAgICBpZiAobmV3T2Zmc2V0IDwgLXRoaXMuYnV0dG9uMi5nZXRXaWR0aCgpLzIpIHtcclxuICAgICAgICBuZXdPZmZzZXQgPSAtdGhpcy5idXR0b24yLmdldFdpZHRoKCkvMjtcclxuICAgICAgICByb3VuZFZhbHVlID0gdGhpcy5taW5WYWx1ZTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGlmIChuZXdPZmZzZXQgPiB0aGlzLnNjYWxlLmdldERpbWVuc2lvbigpIC0gdGhpcy5idXR0b24yLmdldFdpZHRoKCkvMikge1xyXG4gICAgICBuZXdPZmZzZXQgPSB0aGlzLnNjYWxlLmdldERpbWVuc2lvbigpIC0gdGhpcy5idXR0b24yLmdldFdpZHRoKCkvMjtcclxuICAgICAgcm91bmRWYWx1ZSA9IHRoaXMubWF4VmFsdWU7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3Qgc3RlcFdpZHRoID0gdGhpcy5zdGVwKnRoaXMuc2NhbGUuZ2V0RGltZW5zaW9uKCkvKHRoaXMubWF4VmFsdWUgLSB0aGlzLm1pblZhbHVlKTtcclxuICAgIGNvbnN0IG1pbk9mZnNldCA9IHN0ZXBXaWR0aC8xLjUgPiB0aGlzLmJ1dHRvbjEuZ2V0V2lkdGgoKSA/IHN0ZXBXaWR0aC8xLjUgOiB0aGlzLmJ1dHRvbjEuZ2V0V2lkdGgoKTtcclxuXHJcbiAgICBpZiAobmV3T2Zmc2V0IDwgdGhpcy5idXR0b24xLmdldFBvc2l0aW9uKCkgLSB0aGlzLnNjYWxlLmdldFBvc2l0aW9uKCkgKyBtaW5PZmZzZXQpIHtcclxuICAgICAgbmV3T2Zmc2V0ID0gdGhpcy5idXR0b24xLmdldFBvc2l0aW9uKCkgLSB0aGlzLnNjYWxlLmdldFBvc2l0aW9uKCkgKyBtaW5PZmZzZXQ7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIFtuZXdPZmZzZXQsIHJvdW5kVmFsdWVdO1xyXG4gIH1cclxuXHJcbiAgb25Nb3VzZU1vdmUyID0gKGV2ZW50TW06IE1vdXNlRXZlbnQpOiB2b2lkID0+IHtcclxuICAgIGxldCByb3VuZFZhbHVlO1xyXG4gICAgbGV0IHJvdW5kT2Zmc2V0O1xyXG4gICAgY29uc3QgY29vcmRpbmF0ZSA9IHRoaXMuaXNWZXJ0aWNhbCA/IGV2ZW50TW0uY2xpZW50WSA6IGV2ZW50TW0uY2xpZW50WDtcclxuICAgIGNvbnN0IG5ld09mZnNldCA9IGNvb3JkaW5hdGUgLSB0aGlzLnNjYWxlLmdldFBvc2l0aW9uKCkgLSB0aGlzLmJ1dHRvbjIuZ2V0V2lkdGgoKS8yO1xyXG5cclxuICAgIFtyb3VuZE9mZnNldCwgcm91bmRWYWx1ZV0gPSB0aGlzLmJ1dHQyT2Zmc2V0Q2hlY2sobmV3T2Zmc2V0KTtcclxuXHJcbiAgICBpZiAodHlwZW9mIHJvdW5kVmFsdWUgPT09ICd1bmRlZmluZWQnKSB7XHJcbiAgICAgIFtyb3VuZE9mZnNldCwgcm91bmRWYWx1ZV0gPSB0aGlzLnJvdW5kT2Zmc2V0QnV0dChyb3VuZE9mZnNldCk7XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5idXR0Mk1vdmUocm91bmRPZmZzZXQsIHJvdW5kVmFsdWUpO1xyXG4gIH1cclxuXHJcbiAgb25Nb3VzZVVwMiA9ICgpOiB2b2lkID0+IHtcclxuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCB0aGlzLm9uTW91c2VVcDIpO1xyXG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgdGhpcy5vbk1vdXNlTW92ZTIpO1xyXG4gIH1cclxuXHJcbiAgYnV0dDFDbG9zZXJDaGVjayA9IChjb29yZGluYXRlOiBudW1iZXIpOiBib29sZWFuID0+IHtcclxuICAgIHJldHVybiAoTWF0aC5hYnMoY29vcmRpbmF0ZSAtIHRoaXMuYnV0dG9uMS5nZXRQb3NpdGlvbigpIC0gdGhpcy5idXR0b24xLmdldFdpZHRoKCkvMilcclxuICAgICAgPCBNYXRoLmFicyhjb29yZGluYXRlIC0gdGhpcy5idXR0b24yLmdldFBvc2l0aW9uKCkgLSB0aGlzLmJ1dHRvbjIuZ2V0V2lkdGgoKS8yKSk7XHJcbiAgfVxyXG5cclxuICAvLyBTY2FsZSBFdmVudExpc3RlbmVycy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4gIHNjYWxlT25jbGljayA9IChldmVudDogTW91c2VFdmVudCk6IHZvaWQgPT4ge1xyXG4gICAgaWYodGhpcy5pc1JhbmdlKSB7XHJcbiAgICAgIGNvbnN0IGNvb3JkaW5hdGUgPSB0aGlzLmlzVmVydGljYWwgPyBldmVudC5jbGllbnRZIDogZXZlbnQuY2xpZW50WFxyXG5cclxuICAgICAgaWYgKHRoaXMuYnV0dDFDbG9zZXJDaGVjayhjb29yZGluYXRlKSkge1xyXG4gICAgICAgIHRoaXMub25Nb3VzZU1vdmUxKGV2ZW50KTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICB0aGlzLm9uTW91c2VNb3ZlMihldmVudCk7XHJcbiAgICAgIH1cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMub25Nb3VzZU1vdmUyKGV2ZW50KTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8vIEdyYWR1YXRpb24gRXZlbnRMaXN0ZW5lcnMtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbiAgaW50ZXJNYXJrSGFuZGxlciA9IChjdXJyVmFsdWU6IG51bWJlcik6IHZvaWQgPT4ge1xyXG4gICAgbGV0IHJvdW5kT2Zmc2V0O1xyXG4gICAgbGV0IHJvdW5kVmFsdWU7XHJcblxyXG4gICAgY29uc3QgbWFya09mZnNldCA9IChjdXJyVmFsdWUgLSB0aGlzLm1pblZhbHVlKS8odGhpcy5tYXhWYWx1ZSAtIHRoaXMubWluVmFsdWUpKnRoaXMuc2NhbGUuZ2V0RGltZW5zaW9uKCk7XHJcbiAgICBbcm91bmRPZmZzZXQsIHJvdW5kVmFsdWVdID0gdGhpcy5yb3VuZE9mZnNldEJ1dHQobWFya09mZnNldCAtIHRoaXMuYnV0dG9uMi5nZXRXaWR0aCgpLzIpO1xyXG5cclxuICAgIGlmKHRoaXMuaXNSYW5nZSkge1xyXG4gICAgICBjb25zdCBjb29yZGluYXRlID0gbWFya09mZnNldCArIHRoaXMuc2NhbGUuZ2V0UG9zaXRpb24oKTtcclxuXHJcbiAgICAgIGlmICh0aGlzLmJ1dHQxQ2xvc2VyQ2hlY2soY29vcmRpbmF0ZSkpIHtcclxuICAgICAgICB0aGlzLmJ1dHQxTW92ZShyb3VuZE9mZnNldCwgcm91bmRWYWx1ZSk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgdGhpcy5idXR0Mk1vdmUocm91bmRPZmZzZXQsIHJvdW5kVmFsdWUpO1xyXG4gICAgICB9XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLmJ1dHQyTW92ZShyb3VuZE9mZnNldCwgcm91bmRWYWx1ZSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBtYXJrMU9uY2xpY2sgPSAoKTogdm9pZCA9PiB7XHJcbiAgICBjb25zdCByb3VuZE9mZnNldCA9IC10aGlzLmJ1dHRvbjIuZ2V0V2lkdGgoKS8yO1xyXG4gICAgY29uc3Qgcm91bmRWYWx1ZSA9IHRoaXMubWluVmFsdWU7XHJcblxyXG4gICAgaWYgKCF0aGlzLmlzUmFuZ2UpIHtcclxuICAgICAgdGhpcy5idXR0Mk1vdmUocm91bmRPZmZzZXQsIHJvdW5kVmFsdWUpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5idXR0MU1vdmUocm91bmRPZmZzZXQsIHJvdW5kVmFsdWUpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgbWFyazRPbmNsaWNrID0gKCk6IHZvaWQgPT4ge1xyXG4gICAgY29uc3Qgcm91bmRPZmZzZXQgPSB0aGlzLnNjYWxlLmdldERpbWVuc2lvbigpIC0gdGhpcy5idXR0b24yLmdldFdpZHRoKCkvMjtcclxuICAgIHRoaXMuYnV0dDJNb3ZlKHJvdW5kT2Zmc2V0LCB0aGlzLm1heFZhbHVlKTtcclxuICB9XHJcblxyXG4gIG1hcmsyT25jbGljayA9ICgpOiB2b2lkID0+IHtcclxuICAgIGNvbnN0IHZhbCA9IHRoaXMuaXNGbG9hdCA/IHBhcnNlRmxvYXQodGhpcy5ncmFkdWF0aW9uLm1hcmsyLmlubmVySFRNTCkgOiBwYXJzZUludCh0aGlzLmdyYWR1YXRpb24ubWFyazIuaW5uZXJIVE1MKTtcclxuICAgIHRoaXMuaW50ZXJNYXJrSGFuZGxlcih2YWwpO1xyXG4gIH1cclxuXHJcbiAgbWFyazNPbmNsaWNrID0gKCk6IHZvaWQgPT4ge1xyXG4gICAgY29uc3QgdmFsID0gdGhpcy5pc0Zsb2F0ID8gcGFyc2VGbG9hdCh0aGlzLmdyYWR1YXRpb24ubWFyazMuaW5uZXJIVE1MKSA6IHBhcnNlSW50KHRoaXMuZ3JhZHVhdGlvbi5tYXJrMy5pbm5lckhUTUwpO1xyXG4gICAgdGhpcy5pbnRlck1hcmtIYW5kbGVyKHZhbCk7XHJcbiAgfVxyXG5cclxuICAvKlxyXG4gIGNoZWNrU3RlcCA9ICgpOiB2b2lkID0+IHtcclxuICAgIGxldCBzdGVwTW9kID0gTWF0aC5hYnMoUGFyc2luZ0RpZ2l0cy5wYXJzaW5nKHRoaXMuc3RlcCkpO1xyXG4gICAgaWYgKHN0ZXBNb2QgPT09IG51bGwgfHwgc3RlcE1vZCA9PT0gMCB8fCBzdGVwTW9kID49IHRoaXMubWF4VmFsdWUgLSB0aGlzLm1pblZhbHVlKSB7XHJcbiAgICAgIHRoaXMuc3RlcCA9ICh0aGlzLm1heFZhbHVlIC0gdGhpcy5taW5WYWx1ZSkvMjtcclxuICAgICAgY29uc29sZS5sb2coXCJXcm9uZyB2YWx1ZSBvZiB0aGUgc3RlcC4gSXQncyBzZXR0ZWQgdG8gdGhlIGhhbGYgb2YgKG1heFZhbHVlIC0gbWluVmFsdWUpXCIpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgaWYgKHN0ZXBNb2QgJSAxICE9PSAwKSB7XHJcbiAgICAgICAgdGhpcy5pc0Zsb2F0ID0gdHJ1ZTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICB0aGlzLmlzRmxvYXQgPSBmYWxzZTtcclxuICAgICAgfVxyXG5cclxuICAgICAgdGhpcy5zdGVwID0gc3RlcE1vZDtcclxuICAgIH1cclxuICB9XHJcbiAgXHJcblxyXG4gIGNoZWNrTWF4VmFsdWUgPSAoKTogdm9pZCA9PiB7XHJcbiAgICBsZXQgbWF4TW9kID0gTWF0aC5hYnMoUGFyc2luZ0RpZ2l0cy5wYXJzaW5nKHRoaXMubWF4VmFsdWUpKTtcclxuICAgIGlmIChtYXhNb2QgPT09IG51bGwpIHtcclxuXHJcbiAgICB9XHJcbiAgICBpZiAobWF4TW9kICA8IHRoaXMubWluVmFsdWUpIHtcclxuICAgICAgdGhpcy5zdGVwID0gKHRoaXMubWF4VmFsdWUgLSB0aGlzLm1pblZhbHVlKS8yO1xyXG4gICAgICBjb25zb2xlLmxvZyhcIldyb25nIHZhbHVlIG9mIHRoZSBzdGVwLiBJdCdzIHNldHRlZCB0byB0aGUgaGFsZiBvZiAobWF4VmFsdWUgLSBtaW5WYWx1ZSlcIik7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBpZiAoc3RlcE1vZCAlIDEgIT09IDApIHtcclxuICAgICAgICB0aGlzLmlzRmxvYXQgPSB0cnVlO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHRoaXMuaXNGbG9hdCA9IGZhbHNlO1xyXG4gICAgICB9XHJcblxyXG4gICAgICB0aGlzLnN0ZXAgPSBzdGVwTW9kO1xyXG4gICAgfVxyXG4gIH1cclxuICAqL1xyXG5cclxuICBjaGVja1ZhbHVlcyA9ICgpOiB2b2lkID0+IHtcclxuICAgIGlmICh0eXBlb2YgdGhpcy5tYXhWYWx1ZSAhPT0gXCJudW1iZXJcIikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKFwiTWF4dmFsdWUgc2hvdWxkIGJlIGEgbnVtYmVyXCIpO1xyXG4gICAgfVxyXG4gICAgaWYgKHR5cGVvZiB0aGlzLm1pblZhbHVlICE9PSBcIm51bWJlclwiKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJNYXh2YWx1ZSBzaG91bGQgYmUgYSBudW1iZXJcIik7XHJcbiAgICB9XHJcbiAgICBpZiAodHlwZW9mIHRoaXMuc3RlcCAhPT0gXCJudW1iZXJcIikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKFwiU3RlcCBzaG91bGQgYmUgYSBudW1iZXJcIik7XHJcbiAgICB9XHJcbiAgICBpZiAodHlwZW9mIHRoaXMuaXNSYW5nZSAhPT0gXCJib29sZWFuXCIpIHtcclxuICAgICAgY29uc29sZS5lcnJvcihcImlzUmFuZ2Ugc2hvdWxkIGJlIGEgYm9vbGVhblwiKTtcclxuICAgIH1cclxuICAgIGlmICh0eXBlb2YgdGhpcy5pc1ZlcnRpY2FsICE9PSBcImJvb2xlYW5cIikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKFwiaXNWZXJ0aWNhbCBzaG91bGQgYmUgYSBib29sZWFuXCIpO1xyXG4gICAgfVxyXG4gICAgaWYgKHR5cGVvZiB0aGlzLnNob3dMYWJlbCAhPT0gXCJib29sZWFuXCIpIHtcclxuICAgICAgY29uc29sZS5lcnJvcihcIlNob3dMYWJlbCBzaG91bGQgYmUgYSBib29sZWFuXCIpO1xyXG4gICAgfVxyXG4gICAgaWYgKHRoaXMuc3RlcCA+IHRoaXMubWF4VmFsdWUgLSB0aGlzLm1pblZhbHVlKSB7XHJcbiAgICAgIHRoaXMuc3RlcCA9IHRoaXMubWF4VmFsdWUgLSB0aGlzLm1pblZhbHVlO1xyXG4gICAgICBjb25zb2xlLmVycm9yKFwiU3RlcCBpcyBzZXR0ZWQgdG8gdGhlIG1heFwiKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHJlbmV3KCkge1xyXG4gICAgbGV0IHJvdW5kVmFsdWU7XHJcbiAgICBsZXQgcm91bmRPZmZzZXQ7ICAgIFxyXG4gICAgY29uc3QgbmV3T2Zmc2V0ID0gdGhpcy5vZmZzZXRWYWx1ZUNvbnYodGhpcy5jdXJNYXhWYWx1ZSk7XHJcbiAgICBbcm91bmRPZmZzZXQsIHJvdW5kVmFsdWVdID0gdGhpcy5idXR0Mk9mZnNldENoZWNrKG5ld09mZnNldCk7XHJcblxyXG4gICAgaWYgKHR5cGVvZiByb3VuZFZhbHVlID09PSAndW5kZWZpbmVkJykge1xyXG4gICAgICBbcm91bmRPZmZzZXQsIHJvdW5kVmFsdWVdID0gdGhpcy5yb3VuZE9mZnNldEJ1dHQocm91bmRPZmZzZXQpO1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXMuYnV0dDJNb3ZlKHJvdW5kT2Zmc2V0LCByb3VuZFZhbHVlKTtcclxuXHJcbiAgICBpZiAodGhpcy5pc1JhbmdlKSB7XHJcbiAgICAgIGxldCByb3VuZFZhbHVlO1xyXG4gICAgICBsZXQgcm91bmRPZmZzZXQ7O1xyXG4gICAgICBjb25zdCBuZXdPZmZzZXQgPSB0aGlzLm9mZnNldFZhbHVlQ29udih0aGlzLmN1ck1pblZhbHVlKTtcclxuICAgICAgW3JvdW5kT2Zmc2V0LCByb3VuZFZhbHVlXSA9IHRoaXMuYnV0dDFPZmZzZXRDaGVjayhuZXdPZmZzZXQpO1xyXG5cclxuICAgICAgaWYgKHR5cGVvZiByb3VuZFZhbHVlID09PSAndW5kZWZpbmVkJykge1xyXG4gICAgICAgIFtyb3VuZE9mZnNldCwgcm91bmRWYWx1ZV0gPSB0aGlzLnJvdW5kT2Zmc2V0QnV0dChyb3VuZE9mZnNldCk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHRoaXMuYnV0dDFNb3ZlKHJvdW5kT2Zmc2V0LCByb3VuZFZhbHVlKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGluaXQgPSAoKTogdm9pZCA9PiB7XHJcbiAgICAvL3RoaXMuY2hlY2tWYWx1ZXMoKTsgICAgXHJcbiAgICB0aGlzLnNjYWxlLmluaXQodGhpcy5pc1ZlcnRpY2FsKTtcclxuICAgIHRoaXMuc2NhbGVGaWxsaW5nLmluaXQodGhpcy5pc1ZlcnRpY2FsKTtcclxuICAgIHRoaXMuZ3JhZHVhdGlvbi5pbml0KHRoaXMubWluVmFsdWUsIHRoaXMubWF4VmFsdWUsIHRoaXMuaXNWZXJ0aWNhbCwgdGhpcy5pc0Zsb2F0KTtcclxuICAgIHRoaXMuYnV0dG9uMS5pbml0KHRoaXMuaXNWZXJ0aWNhbCk7XHJcbiAgICB0aGlzLmJ1dHRvbjIuaW5pdCh0aGlzLmlzVmVydGljYWwpO1xyXG4gICAgdGhpcy5sYWJlbDEuaW5pdCh0aGlzLmlzVmVydGljYWwpO1xyXG4gICAgdGhpcy5sYWJlbDIuaW5pdCh0aGlzLmlzVmVydGljYWwpO1xyXG5cclxuICAgIHRoaXMuYnV0dG9uMS5lbGVtLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcclxuICAgIHRoaXMubGFiZWwxLmVsZW0uc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xyXG5cclxuICAgIGlmICh0aGlzLnNob3dMYWJlbCkge1xyXG4gICAgICB0aGlzLmxhYmVsMS5lbGVtLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XHJcbiAgICAgIHRoaXMubGFiZWwyLmVsZW0uc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMubGFiZWwxLmVsZW0uc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xyXG4gICAgICB0aGlzLmxhYmVsMi5lbGVtLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcclxuICAgIH1cclxuXHJcbiAgICBpZiAodGhpcy5pc1JhbmdlKSB7XHJcbiAgICAgIHRoaXMuYnV0dG9uMS5lbGVtLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLmJ1dHRvbjEuZWxlbS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XHJcbiAgICAgIHRoaXMubGFiZWwxLmVsZW0uc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICB0aGlzLmJ1dHRvbjEuc2V0UG9zaXRpb24oLXRoaXMuYnV0dG9uMS5nZXRXaWR0aCgpLzIpO1xyXG4gICAgdGhpcy5idXR0b24yLnNldFBvc2l0aW9uKHRoaXMuc2NhbGUuZ2V0RGltZW5zaW9uKCkgLSB0aGlzLmJ1dHRvbjIuZ2V0V2lkdGgoKS8yKTtcclxuICAgIHRoaXMubGFiZWwxLnNldFBvc2l0aW9uKHRoaXMuZ2V0U3RhcnQoKSwgdGhpcy5taW5WYWx1ZSk7XHJcbiAgICB0aGlzLmxhYmVsMi5zZXRQb3NpdGlvbih0aGlzLmdldEVuZCgpLCB0aGlzLm1heFZhbHVlKTtcclxuXHJcbiAgICBpZiAodGhpcy5pc1ZlcnRpY2FsKSB7XHJcbiAgICAgIHRoaXMuZ3JhZHVhdGlvbi5ncmFkRWxlbS5zdHlsZS5oZWlnaHQgPSB0aGlzLnNjYWxlLmdldERpbWVuc2lvbigpICtcInB4XCI7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLmdyYWR1YXRpb24uZ3JhZEVsZW0uc3R5bGUuaGVpZ2h0ID0gMjAgK1wicHhcIjtcclxuICAgIH1cclxuICAgIFxyXG4gICAgdGhpcy5yZW5ldygpO1xyXG4gICAgdGhpcy51cGRhdGVFbGVtcygpO1xyXG4gICAgXHJcbiAgfVxyXG5cclxuICBhcHBlbmQgPSAoZW50cnk6IEhUTUxFbGVtZW50KTogdm9pZCA9PiB7XHJcbiAgICBlbnRyeS5hcHBlbmRDaGlsZCh0aGlzLnNjYWxlLmVsZW0pLmFwcGVuZENoaWxkKHRoaXMuc2NhbGVGaWxsaW5nLmVsZW0pO1xyXG4gICAgZW50cnkuYXBwZW5kQ2hpbGQodGhpcy5idXR0b24xLmVsZW0pO1xyXG4gICAgZW50cnkuYXBwZW5kQ2hpbGQodGhpcy5sYWJlbDEuZWxlbSk7XHJcbiAgICBlbnRyeS5hcHBlbmRDaGlsZCh0aGlzLmdyYWR1YXRpb24uZ3JhZEVsZW0pO1xyXG4gICAgZW50cnkuYXBwZW5kQ2hpbGQodGhpcy5idXR0b24yLmVsZW0pO1xyXG4gICAgZW50cnkuYXBwZW5kQ2hpbGQodGhpcy5sYWJlbDIuZWxlbSk7XHJcblxyXG4gICAgdGhpcy5zY2FsZS5lbGVtLm9uY2xpY2sgPSB0aGlzLnNjYWxlT25jbGljaztcclxuICAgIHRoaXMuZ3JhZHVhdGlvbi5tYXJrMS5vbmNsaWNrID0gdGhpcy5tYXJrMU9uY2xpY2s7XHJcbiAgICB0aGlzLmdyYWR1YXRpb24ubWFyazIub25jbGljayA9IHRoaXMubWFyazJPbmNsaWNrO1xyXG4gICAgdGhpcy5ncmFkdWF0aW9uLm1hcmszLm9uY2xpY2sgPSB0aGlzLm1hcmszT25jbGljaztcclxuICAgIHRoaXMuZ3JhZHVhdGlvbi5tYXJrNC5vbmNsaWNrID0gdGhpcy5tYXJrNE9uY2xpY2s7XHJcblxyXG4gICAgdGhpcy5idXR0b24xLmVsZW0ub25tb3VzZWRvd24gPSAoZXZlbnRNZDogTW91c2VFdmVudCkgPT4ge1xyXG4gICAgICBldmVudE1kLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZW1vdmVcIiwgdGhpcy5vbk1vdXNlTW92ZTEpO1xyXG4gICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwibW91c2V1cFwiLCB0aGlzLm9uTW91c2VVcDEpO1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXMuYnV0dG9uMi5lbGVtLm9ubW91c2Vkb3duID0gKGV2ZW50TWQ6IE1vdXNlRXZlbnQpID0+IHtcclxuICAgICAgZXZlbnRNZC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vtb3ZlXCIsIHRoaXMub25Nb3VzZU1vdmUyKTtcclxuICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNldXBcIiwgdGhpcy5vbk1vdXNlVXAyKTtcclxuICAgIH1cclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCB7Y3JlYXRlRWxlbSwgU2NhbGUsIExhYmVsLCBCdXR0b24sIFNjYWxlRmlsbGluZywgVmlldywgR3JhZHVhdGlvbn07XHJcbiIsImltcG9ydCBNYWtlT2JzZXJ2YWJsZU9iamVjdCBmcm9tICcuLi9tYWtlT2JzZXJ2YWJsZU9iamVjdC9NYWtlT2JzZXJ2YWJsZU9iamVjdCc7XHJcblxyXG5jbGFzcyBNb2RlbCB7XHJcbiAgY3VyTWluVmFsdWU6IG51bWJlcjtcclxuICBjdXJNYXhWYWx1ZTogbnVtYmVyO1xyXG4gIG9ic2VydmVyczogTWFrZU9ic2VydmFibGVPYmplY3Q7XHJcblxyXG4gIGNvbnN0cnVjdG9yKGN1ck1pblZhbHVlID0gMCwgY3VyTWF4VmFsdWUgPSAxMDAwKSB7XHJcbiAgICB0aGlzLmN1ck1pblZhbHVlID0gY3VyTWluVmFsdWU7XHJcbiAgICB0aGlzLmN1ck1heFZhbHVlID0gY3VyTWF4VmFsdWU7XHJcbiAgICB0aGlzLm9ic2VydmVycyA9IG5ldyBNYWtlT2JzZXJ2YWJsZU9iamVjdCgpO1xyXG4gIH1cclxuXHJcbiAgc2V0Q3VyTWluVmFsdWUoZGF0YTogbnVtYmVyKTogdm9pZCB7XHJcbiAgICBpZiAodGhpcy5jdXJNaW5WYWx1ZSAhPSBkYXRhKSB7XHJcbiAgICAgIHRoaXMuY3VyTWluVmFsdWUgPSBkYXRhO1xyXG4gICAgICB0aGlzLm9ic2VydmVycy5ub3RpZnlPYnNlcnZlcnMoKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHNldEN1ck1heFZhbHVlKGRhdGE6IG51bWJlcik6IHZvaWQge1xyXG4gICAgaWYgKHRoaXMuY3VyTWF4VmFsdWUgIT0gZGF0YSkge1xyXG4gICAgICB0aGlzLmN1ck1heFZhbHVlID0gZGF0YTtcclxuICAgICAgdGhpcy5vYnNlcnZlcnMubm90aWZ5T2JzZXJ2ZXJzKCk7XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBNb2RlbDsiLCJ2YXIgbWFwID0ge1xuXHRcIi4vYmxvY2tzL2J1dHRvbi9CdXR0b24udHNcIjogMixcblx0XCIuL2Jsb2Nrcy9jb250cm9sbGVyL0NvbnRyb2xsZXIudHNcIjogOCxcblx0XCIuL2Jsb2Nrcy9jcmVhdGVFbGVtL2NyZWF0ZUVsZW0udHNcIjogMCxcblx0XCIuL2Jsb2Nrcy9ncmFkdWF0aW9uL0dyYWR1YXRpb24udHNcIjogNixcblx0XCIuL2Jsb2Nrcy9sYWJlbC9MYWJlbC50c1wiOiAzLFxuXHRcIi4vYmxvY2tzL21ha2VPYnNlcnZhYmxlT2JqZWN0L01ha2VPYnNlcnZhYmxlT2JqZWN0LnRzXCI6IDEsXG5cdFwiLi9ibG9ja3MvbW9kZWwvTW9kZWwudHNcIjogMTAsXG5cdFwiLi9ibG9ja3MvcGFyc2luZ0RpZ2l0cy9QYXJzaW5nRGlnaXRzLnRzXCI6IDQsXG5cdFwiLi9ibG9ja3Mvc2NhbGUvU2NhbGUudHNcIjogNSxcblx0XCIuL2Jsb2Nrcy9zY2FsZUZpbGxpbmcvU2NhbGVGaWxsaW5nLnRzXCI6IDcsXG5cdFwiLi9ibG9ja3Mvdmlldy9WaWV3LnRzXCI6IDksXG5cdFwiLi9wbHVnaW5XcmFwcGVyLnRzXCI6IDEyLFxuXHRcIi4vc3R5bGVzL3N0eWxlLnNjc3NcIjogMTNcbn07XG5cblxuZnVuY3Rpb24gd2VicGFja0NvbnRleHQocmVxKSB7XG5cdHZhciBpZCA9IHdlYnBhY2tDb250ZXh0UmVzb2x2ZShyZXEpO1xuXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhpZCk7XG59XG5mdW5jdGlvbiB3ZWJwYWNrQ29udGV4dFJlc29sdmUocmVxKSB7XG5cdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8obWFwLCByZXEpKSB7XG5cdFx0dmFyIGUgPSBuZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiICsgcmVxICsgXCInXCIpO1xuXHRcdGUuY29kZSA9ICdNT0RVTEVfTk9UX0ZPVU5EJztcblx0XHR0aHJvdyBlO1xuXHR9XG5cdHJldHVybiBtYXBbcmVxXTtcbn1cbndlYnBhY2tDb250ZXh0LmtleXMgPSBmdW5jdGlvbiB3ZWJwYWNrQ29udGV4dEtleXMoKSB7XG5cdHJldHVybiBPYmplY3Qua2V5cyhtYXApO1xufTtcbndlYnBhY2tDb250ZXh0LnJlc29sdmUgPSB3ZWJwYWNrQ29udGV4dFJlc29sdmU7XG5tb2R1bGUuZXhwb3J0cyA9IHdlYnBhY2tDb250ZXh0O1xud2VicGFja0NvbnRleHQuaWQgPSAxMTsiLCJpbXBvcnQgQ29udHJvbGxlciBmcm9tICcuL2Jsb2Nrcy9jb250cm9sbGVyL0NvbnRyb2xsZXInO1xyXG5cclxuKGZ1bmN0aW9uKCQpIHtcclxuICBjb25zdCBjb25maWcgPSB7XHJcbiAgICBtaW5WYWx1ZTogMCxcclxuICAgIG1heFZhbHVlOiAxMDAwLFxyXG4gICAgc3RlcDogMSxcclxuICAgIGlzUmFuZ2U6IGZhbHNlLFxyXG4gICAgaXNWZXJ0aWNhbDogZmFsc2UsXHJcbiAgICBzaG93TGFiZWw6IGZhbHNlLFxyXG4gICAgaXNGbG9hdDogZmFsc2UsXHJcbiAgfTtcclxuXHJcbiAgY29uc3QgbWV0aG9kczogTWV0aG9kcyA9IHtcclxuICAgIGluaXQ6IGZ1bmN0aW9uKG9wdDogQ29uZmlnKSB7XHJcbiAgICAgIGlmICghJCh0aGlzKS5kYXRhKCdzbGlkZXInKSkge1xyXG4gICAgICAgIGNvbnN0IG5ld0NvbmZpZyA9IHsgLi4uY29uZmlnIH07XHJcbiAgICAgICAgY29uc3Qgc2xpZGVyID0gbmV3IENvbnRyb2xsZXIoLi4uT2JqZWN0LnZhbHVlcygkLmV4dGVuZChuZXdDb25maWcsIG9wdCkpKTtcclxuICAgICAgICAkKHRoaXMpLmRhdGEoJ3NsaWRlcicsIHNsaWRlcik7XHJcblxyXG4gICAgICAgIHNsaWRlci5hcHBlbmQoJCh0aGlzKSk7XHJcbiAgICAgIH1cclxuICAgIH0sXHJcblxyXG4gICAgdXBkYXRlOiBmdW5jdGlvbihvcHQ6IENvbmZpZykge1xyXG4gICAgICBjb25zdCBzbGlkZXIgPSAkKHRoaXMpLmRhdGEoJ3NsaWRlcicpO1xyXG4gICAgICBzbGlkZXIudXBkYXRlKG9wdCk7XHJcbiAgICB9LFxyXG5cclxuICAgIGdldENvbmZpZzogZnVuY3Rpb24oKSB7XHJcbiAgICAgIGNvbnN0IHNsaWRlciA9ICQodGhpcykuZGF0YSgnc2xpZGVyJyk7XHJcbiAgICAgIHJldHVybiBzbGlkZXIuZ2V0Q29uZmlnKCk7XHJcbiAgICB9LFxyXG5cclxuICAgIHNldFZhbHVlczogZnVuY3Rpb24ob3B0OiBDb25maWcpIHtcclxuICAgICAgY29uc3Qgc2xpZGVyID0gJCh0aGlzKS5kYXRhKCdzbGlkZXInKTtcclxuICAgICAgc2xpZGVyLnNldFZhbHVlcyhvcHQuY3VyTWluVmFsdWUsIG9wdC5jdXJNYXhWYWx1ZSk7XHJcbiAgICB9LFxyXG5cclxuICAgIGlucHV0c0F0dGFjaDogZnVuY3Rpb24ob3B0OiBJbnB1dHNPYmplY3QpIHtcclxuICAgICAgY29uc3Qgc2xpZGVyID0gJCh0aGlzKS5kYXRhKCdzbGlkZXInKTtcclxuICAgICAgc2xpZGVyLmFkZE9ic2VydmVyKCgpID0+IHtcclxuICAgICAgICBvcHQubWluVmFsdWVJbi52YWwoc2xpZGVyLmdldFZhbHVlcygpWzBdKTtcclxuICAgICAgICBvcHQubWF4VmFsdWVJbi52YWwoc2xpZGVyLmdldFZhbHVlcygpWzFdKTtcclxuICAgICAgfSlcclxuICAgIH0sXHJcbiAgfVxyXG5cclxuICAkLmZuLm9tZmdzbGlkZXIgPSBmdW5jdGlvbihtZXRob2Q6IHN0cmluZykge1xyXG4gICAgaWYgKG1ldGhvZHNbbWV0aG9kXSkge1xyXG4gICAgICByZXR1cm4gbWV0aG9kc1ttZXRob2RdLmFwcGx5KHRoaXMsIEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMSkpO1xyXG4gICAgfSBlbHNlIGlmICh0eXBlb2YgbWV0aG9kID09PSAnb2JqZWN0JyB8fCAhbWV0aG9kKSB7XHJcbiAgICAgIHJldHVybiBtZXRob2RzLmluaXQuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICQuZXJyb3IoYNCc0LXRgtC+0LQgJHttZXRob2R9INC90LUg0L3QsNC50LTQtdC9INCyINC/0LvQsNCz0LjQvdC1IGpRdWVyeS5vbWZnc2xpZGVyYCk7XHJcbiAgICB9XHJcbiAgfTtcclxufSkoalF1ZXJ5KTtcclxuIiwiZXhwb3J0IGRlZmF1bHQgX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcImluZGV4Lmh0bWxcIjsiLCJpbXBvcnQgJy4vcGFnZS9pbmRleC5odG1sJztcclxuXHJcbmZ1bmN0aW9uIGltcG9ydEFsbChyOiAgX19XZWJwYWNrTW9kdWxlQXBpLlJlcXVpcmVDb250ZXh0KSB7XHJcbiAgICByLmtleXMoKS5mb3JFYWNoKHIpO1xyXG59XHJcbiAgXHJcbmltcG9ydEFsbChyZXF1aXJlLmNvbnRleHQoJy4vc2xpZGVyJywgdHJ1ZSwgLyg/PCFcXC5kKVxcLihqc3x0c3xzY3NzKSQvaSkpOyJdLCJzb3VyY2VSb290IjoiIn0=