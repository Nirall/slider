!function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=19)}([function(e,t,r){"use strict";r.r(t);var n=function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var n=Array(e),i=0;for(t=0;t<r;t++)for(var a=arguments[t],s=0,u=a.length;s<u;s++,i++)n[i]=a[s];return n},i=function(){function e(){this.observers=[]}return e.prototype.addObserver=function(e){if("function"!=typeof e)throw new Error("observer must be a function");this.observers.forEach((function(t){if(t===e)throw new Error("observer already in the list")})),this.observers.push(e)},e.prototype.removeObserver=function(e){for(var t=0;t<this.observers.length;t+=1){if(this.observers[t]===e)return void this.observers.splice(t,1)}throw new Error("could not find observer in list of observers")},e.prototype.notifyObservers=function(e){void 0===e&&(e=null),n(this.observers).map((function(t){return t(e)}))},e}();t.default=i},function(e,t,r){"use strict";r.r(t),t.default=function(e){var t=document.createElement("div");return t.ondragstart=function(){return!1},t.classList.add(e),t}},function(e,t,r){"use strict";r.r(t),r.d(t,"defaultParameters",(function(){return n}));var n={minValue:0,maxValue:1e3,step:1,isRange:!1,isVertical:!1,showLabel:!0,isFloat:!1}},function(e,t,r){"use strict";r.r(t);var n=function(){function e(){}return e.parsing=function(e){if("number"==typeof e)return e;if("string"==typeof e){if(/^-?\d+[.,]\d+$/.test(e))return parseFloat(e);if(/^-?\d+$/.test(e))return parseInt(e,10)}return null},e}();t.default=n},function(e,t,r){"use strict";r.r(t);var n=r(9),i=r(10),a=r(0),s=function(e,t){var r=this;this.getPosition=function(){return r.knob.getPosition()},this.setPosition=function(e,t){r.tooltip.setPosition(e+r.knob.getWidth()/2,t),r.knob.setPosition(e)},this.update=function(e){r.knob.update(e),r.tooltip.update(e)},this.getWidth=function(){return r.knob.getWidth()},this.hideRunner=function(){r.knob.elem.style.display="none",r.tooltip.elem.style.display="none"},this.hideLabel=function(){r.tooltip.elem.style.display="none"},this.showLabel=function(){r.tooltip.elem.style.display="block"},this.showRunner=function(){r.knob.elem.style.display="block"},this.appendToNode=function(e){[r.knob.elem,r.tooltip.elem].forEach((function(t){e.appendChild(t),t.onmousedown=r.handleRunnerMouseDown}))},this.handleRunnerMouseDown=function(e){e.preventDefault(),document.addEventListener("mousemove",r.handleRunnerMouseMove),document.addEventListener("mouseup",r.handleRunnerMouseUp)},this.handleRunnerMouseMove=function(e){r.observers.notifyObservers({event:e,runner:r})},this.handleRunnerMouseUp=function(){document.removeEventListener("mouseup",r.handleRunnerMouseUp),document.removeEventListener("mousemove",r.handleRunnerMouseMove)},this.isVertical=e,this.knob=new n.default(e),this.tooltip=new i.default(e),this.observers=new a.default,this.observers.addObserver(t)};t.default=s},function(e,t,r){"use strict";r.r(t);var n=r(2),i=r(6),a=r(14),s=r(0),u=r(3),o=function(e,t){switch(t){case"step":return e.view.parameters.maxValue%1!=0||e.view.parameters.minValue%1!=0;case"maxValue":return e.view.parameters.step%1!=0||e.view.parameters.minValue%1!=0;case"minValue":return e.view.parameters.step%1!=0||e.view.parameters.maxValue%1!=0;default:return!1}},l=function(e){var t=this;void 0===e&&(e=n.defaultParameters),this.appendToNode=function(e){t.view.appendToNode(e.get(0)),t.view.update()},this.updateConfig=function(e){var r=e;Object.keys(e).forEach((function(n){"step"===n?r.step=t.checkStep(e.step):"maxValue"===n?r.maxValue=t.checkMaxValue(e.maxValue):"minValue"===n&&(r.minValue=t.checkMinValue(e.minValue))})),t.view.parameters=Object.assign(t.view.parameters,r),t.view.update()},this.getValues=function(){return t.model.currentValues},this.setValues=function(e,r){(e||0===e)&&t.model.setCurrentMinValue(e),(r||0===r)&&t.model.setCurrentMaxValue(r)},this.getConfig=function(){return t.view.parameters},this.addObserver=function(e){t.observers.addObserver(e)},this.checkStep=function(e){var r=Math.abs(u.default.parsing(e)),n=null!==r&&0!==r,i=r>(t.view.parameters.maxValue-t.view.parameters.minValue)/2;return!n||i?t.view.parameters.step:(r%1!=0?t.view.parameters.isFloat=!0:o(t,"step")||(t.view.parameters.isFloat=!1),r)},this.checkMaxValue=function(e){var r=u.default.parsing(e);return null===r||r<=t.view.parameters.minValue?t.view.parameters.maxValue:(r%1!=0?t.view.parameters.isFloat=!0:o(t,"maxValue")||(t.view.parameters.isFloat=!1),r)},this.checkMinValue=function(e){var r=u.default.parsing(e);return null===r||r>=t.view.parameters.maxValue?t.view.parameters.minValue:(r%1!=0?t.view.parameters.isFloat=!0:o(t,"minValue")||(t.view.parameters.isFloat=!1),r)},this.addViewObserver=function(){t.view.observers.addObserver((function(){t.model.currentValues=t.view.currentValues,t.observers.notifyObservers()}))},this.addModelObserver=function(){t.model.observers.addObserver((function(){t.view.currentValues=t.model.currentValues,t.view.update()}))},this.view=new i.default(e),this.model=new a.default({currentMinValue:e.minValue,currentMaxValue:e.maxValue}),this.observers=new s.default,this.addViewObserver(),this.addModelObserver()};t.default=l},function(e,t,r){"use strict";r.r(t);var n=r(2),i=r(0),a=r(7),s=function(e){var t=this;void 0===e&&(e=n.defaultParameters),this.update=function(){t.track.update(t.parameters),t.track.renewRunners(t.currentValues)},this.handleTrackValueChanging=function(e){"minValue"===e.typeOfValue?t.currentValues.currentMinValue=e.value:"maxValue"===e.typeOfValue&&(t.currentValues.currentMaxValue=e.value),t.observers.notifyObservers()},this.appendToNode=function(e){t.track.appendToNode(e)},this.init=function(){t.currentValues={currentMinValue:t.parameters.minValue,currentMaxValue:t.parameters.maxValue},t.track.observers.addObserver(t.handleTrackValueChanging)},this.parameters=e,this.observers=new i.default,this.track=new a.default(this.parameters),this.init()};t.default=s},function(e,t,r){"use strict";r.r(t);var n=r(8),i=r(4),a=r(11),s=r(13),u=r(0),o=function(){function e(e){var t=this;this.update=function(e){t.parameters=e,t.bar.update(t.parameters.isVertical),t.progressBar.update(t.parameters.isVertical),t.runnerAdditional.update(t.parameters.isVertical),t.runnerMain.update(t.parameters.isVertical),t.scale.update(t.parameters),t.runnerAdditional.hideRunner(),t.parameters.showLabel?(t.runnerAdditional.showLabel(),t.runnerMain.showLabel()):(t.runnerAdditional.hideLabel(),t.runnerMain.hideLabel()),t.parameters.isRange?t.runnerAdditional.showRunner():t.runnerAdditional.hideRunner(),t.runnerAdditional.setPosition(-t.runnerAdditional.getWidth()/2,t.parameters.minValue),t.runnerMain.setPosition(t.bar.getDimension()-t.runnerMain.getWidth()/2,t.parameters.maxValue)},this.appendToNode=function(e){e.appendChild(t.bar.elem).appendChild(t.progressBar.elem),t.bar.elem.onclick=t.handleBarClick,t.runnerMain.appendToNode(e),t.runnerAdditional.appendToNode(e),t.scale.marks.forEach((function(t){e.appendChild(t.elem)})),t.scale.moveMarks()},this.convertOffsetToValue=function(e){return(e-t.parameters.minValue)*t.bar.getDimension()/(t.parameters.maxValue-t.parameters.minValue)-t.runnerMain.getWidth()/2},this.getMainRunnerOffset=function(){var e=t.runnerMain.getPosition()-t.bar.getPosition()+t.runnerMain.getWidth()/2;return e<0?0:e},this.getAdditionalRunnerOffset=function(){return t.parameters.isRange?t.runnerAdditional.getPosition()-t.bar.getPosition()+t.runnerMain.getWidth()/2:0},this.handleRunnerMove=function(e){var r=e.event,n=e.runner;t.moveRunner(t.processRunnerMouseEvent(r,n))},this.moveRunner=function(e){e.runner.setPosition(e.offset,e.value),e.runner===t.runnerAdditional&&t.observers.notifyObservers({typeOfValue:"minValue",value:e.value}),e.runner===t.runnerMain&&t.observers.notifyObservers({typeOfValue:"maxValue",value:e.value}),t.updateProgressBar()},this.processRunnerMouseEvent=function(e,r){var n=(t.parameters.isVertical?e.clientY:e.clientX)-t.bar.getPosition()-t.runnerAdditional.getWidth()/2;return t.processRunnerOffset(n,r)},this.processRunnerOffset=function(e,r){var n,i;return i=t.checkRunnerOffset(e,r),{runner:r,offset:i=(n=t.roundOffsetRunner(i))[0],value:n[1]}},this.checkRunnerOffset=function(e,r){var n=t.parameters.step*t.bar.getDimension()/(t.parameters.maxValue-t.parameters.minValue),i=n/1.5>t.runnerMain.getWidth()?n/1.5:t.runnerMain.getWidth(),a=e;return r===t.runnerAdditional?e>t.runnerMain.getPosition()-t.bar.getPosition()-i&&(a=t.runnerMain.getPosition()-t.bar.getPosition()-i):r===t.runnerMain&&e<t.runnerAdditional.getPosition()-t.bar.getPosition()+i&&(a=t.runnerAdditional.getPosition()-t.bar.getPosition()+i),a},this.roundOffsetRunner=function(e){var r=t.parameters.minValue+(e+t.runnerMain.getWidth()/2)*(t.parameters.maxValue-t.parameters.minValue)/t.bar.getDimension(),n=t.round(r,t.parameters.step);t.parameters.isFloat&&(n=parseFloat(n.toFixed(2)));var i=t.convertOffsetToValue(n);return i<-t.runnerMain.getWidth()/2&&(i=-t.runnerMain.getWidth()/2,n=t.parameters.minValue),i>t.bar.getDimension()-t.runnerMain.getWidth()/2&&(i=t.bar.getDimension()-t.runnerMain.getWidth()/2,n=t.parameters.maxValue),[i,n]},this.round=function(e,r){var n=Math.trunc(e/r),i=+(e-n*r).toFixed(2);return e<0?Math.abs(i)<r/2?n*r:(n-1)*r:e<=t.parameters.minValue?t.parameters.minValue:e>=t.parameters.maxValue?t.parameters.maxValue:i<r/2?n*r:(n+1)*r},this.handleScaleClick=function(e){var r,n=t.convertOffsetToValue(e);r=t.parameters.isRange?t.checkRunnerCloser(n):t.runnerMain,t.moveRunner(t.processRunnerOffset(n,r))},this.checkRunnerCloser=function(e){return Math.abs(e-t.getMainRunnerOffset())<Math.abs(e-t.getAdditionalRunnerOffset())?t.runnerMain:t.runnerAdditional},this.handleBarClick=function(e){var r=(t.parameters.isVertical?e.clientY:e.clientX)-t.bar.getPosition()-t.runnerMain.getWidth()/2;t.moveRunner(t.processRunnerOffset(r,t.checkRunnerCloser(r)))},this.updateProgressBar=function(){t.progressBar.update(t.parameters.isVertical),t.progressBar.setPosition(t.getAdditionalRunnerOffset()),t.progressBar.setDimension(t.getMainRunnerOffset()-t.getAdditionalRunnerOffset())},this.parameters=e,this.runnerMain=new i.default(this.parameters.isVertical,this.handleRunnerMove),this.runnerAdditional=new i.default(this.parameters.isVertical,this.handleRunnerMove),this.progressBar=new s.default(this.parameters.isVertical),this.bar=new n.default(this.parameters.isVertical),this.scale=new a.default(this.parameters,this.handleScaleClick),this.observers=new u.default}return e.prototype.renewRunners=function(e){this.moveRunner(this.processRunnerOffset(this.convertOffsetToValue(e.currentMaxValue),this.runnerMain)),this.moveRunner(this.processRunnerOffset(this.convertOffsetToValue(e.currentMinValue),this.runnerAdditional))},e}();t.default=o},function(e,t,r){"use strict";r.r(t);var n=r(1),i=function(e){var t=this;this.getPosition=function(){return t.isVertical?t.elem.getBoundingClientRect().top:t.elem.getBoundingClientRect().left},this.getDimension=function(){return t.isVertical?t.elem.getBoundingClientRect().height:t.elem.getBoundingClientRect().width},this.update=function(e){t.isVertical=e,t.isVertical?t.elem.classList.add("slider__bar_position_vertical"):t.elem.classList.remove("slider__bar_position_vertical")},this.elem=Object(n.default)("slider__bar"),this.isVertical=e};t.default=i},function(e,t,r){"use strict";r.r(t);var n=r(1),i=function(e){var t=this;this.getWidth=function(){return t.elem.getBoundingClientRect().width},this.getPosition=function(){return t.isVertical?t.elem.getBoundingClientRect().top:t.elem.getBoundingClientRect().left},this.setPosition=function(e){t.isVertical?(t.elem.style.left="50%",t.elem.style.top=e+"px"):(t.elem.style.top="50%",t.elem.style.left=e+"px")},this.update=function(e){t.isVertical=e,t.isVertical?t.elem.classList.add("slider__button_position_vertical"):t.elem.classList.remove("slider__button_position_vertical")},this.elem=Object(n.default)("slider__button"),this.isVertical=e};t.default=i},function(e,t,r){"use strict";r.r(t);var n=r(1),i=function(e){var t=this;this.getPosition=function(){return t.isVertical?t.elem.getBoundingClientRect().top:t.elem.getBoundingClientRect().left},this.setPosition=function(e,r){t.elem.innerHTML=r+"",t.isVertical?(t.elem.style.left="50%",t.elem.style.top=e-t.getDimension()/2+"px"):(t.elem.style.top="50%",t.elem.style.left=e-t.getDimension()/2+"px")},this.getDimension=function(){return t.isVertical?t.elem.getBoundingClientRect().height:t.elem.getBoundingClientRect().width},this.update=function(e){t.isVertical=e,t.isVertical?t.elem.classList.add("slider__button-label_position_vertical"):t.elem.classList.remove("slider__button-label_position_vertical")},this.elem=Object(n.default)("slider__button-label"),this.isVertical=e};t.default=i},function(e,t,r){"use strict";r.r(t);var n=r(12),i=r(0),a=function(e,t){var r=this;this.update=function(e){r.parameters=e,r.moveMarks()},this.moveMarks=function(){r.marks.forEach((function(e,t){if(e.update(r.parameters.isVertical),0===t)e.setPosition(0,r.parameters.minValue);else if(t===r.marks.length-1)e.setPosition(100,r.parameters.maxValue);else{var n=r.round(r.parameters.minValue+(r.parameters.maxValue-r.parameters.minValue)*t/(r.marks.length-1));r.parameters.isFloat&&(n=parseFloat(n.toFixed(2)));var i=(n-r.parameters.minValue)/(r.parameters.maxValue-r.parameters.minValue);e.setPosition(100*i,n)}}))},this.init=function(e){r.moveMarks(),r.createMarks(),r.observers.addObserver(e)},this.handleScaleClick=function(e){r.observers.notifyObservers(e)},this.createMarks=function(){for(var e=0;e<5;e+=1){var t=new n.default(r.parameters.isVertical,r.handleScaleClick);r.marks.push(t)}},this.round=function(e){var t=Math.trunc(e/r.parameters.step),n=+(e-t*r.parameters.step).toFixed(2);return e<0?Math.abs(n)<r.parameters.step/2?t*r.parameters.step:(t-1)*r.parameters.step:n<r.parameters.step/2?t*r.parameters.step:(t+1)*r.parameters.step},this.parameters=e,this.marks=[],this.observers=new i.default,this.init(t)};t.default=a},function(e,t,r){"use strict";r.r(t);var n=r(1),i=r(0),a=function(e,t){var r=this;this.getPosition=function(){return r.isVertical?r.elem.getBoundingClientRect().top:r.elem.getBoundingClientRect().left},this.setPosition=function(e,t){r.elem.innerHTML=t+"",r.value=t,r.isVertical?(r.elem.style.left="50%",r.elem.style.top=e+"%",r.elem.style.marginTop=-r.getDimension()/2+"px",r.elem.style.marginLeft="-45px"):(r.elem.style.top="50%",r.elem.style.left=e+"%",r.elem.style.marginLeft=-r.getDimension()/2+"px",r.elem.style.marginTop="15px")},this.getDimension=function(){return r.isVertical?r.elem.getBoundingClientRect().height:r.elem.getBoundingClientRect().width},this.update=function(e){r.isVertical=e,r.isVertical?r.elem.classList.add("slider__mark_position_vertical"):r.elem.classList.remove("slider__mark_position_vertical")},this.init=function(e){r.elem.onclick=r.handleMarkClick,r.observers.addObserver(e)},this.handleMarkClick=function(){r.observers.notifyObservers(r.value)},this.elem=Object(n.default)("slider__mark"),this.isVertical=e,this.observers=new i.default,this.init(t)};t.default=a},function(e,t,r){"use strict";r.r(t);var n=r(1),i=function(e){var t=this;this.setPosition=function(e){t.isVertical?(t.elem.style.left="0",t.elem.style.width="100%",t.elem.style.top=e+"px"):(t.elem.style.top="0",t.elem.style.height="100%",t.elem.style.left=e+"px")},this.setDimension=function(e){t.isVertical?t.elem.style.height=e+"px":t.elem.style.width=e+"px"},this.update=function(e){t.isVertical=e},this.elem=Object(n.default)("slider__progress-bar"),this.isVertical=e};t.default=i},function(e,t,r){"use strict";r.r(t);var n=r(0),i=function(){function e(e){this.currentValues=e,this.observers=new n.default}return e.prototype.setCurrentMinValue=function(e){this.currentValues.currentMinValue!==e&&(this.currentValues.currentMinValue=e,this.observers.notifyObservers())},e.prototype.setCurrentMaxValue=function(e){this.currentValues.currentMaxValue!==e&&(this.currentValues.currentMaxValue=e,this.observers.notifyObservers())},e}();t.default=i},function(e,t,r){var n={"./Controller/Controller.ts":5,"./Controller/blocks/parsingDigits/ParsingDigits.ts":3,"./Model/Model.ts":14,"./View/View.ts":6,"./View/blocks/Bar/Bar.ts":8,"./View/blocks/Knob/Knob.ts":9,"./View/blocks/ProgressBar/ProgressBar.ts":13,"./View/blocks/Runner/Runner.ts":4,"./View/blocks/Scale/Mark/Mark.ts":12,"./View/blocks/Scale/Scale.ts":11,"./View/blocks/Tooltip/Tooltip.ts":10,"./View/blocks/Track/Track.ts":7,"./View/blocks/createElem/createElem.ts":1,"./makeObservableObject/MakeObservableObject.ts":0,"./slider.ts":16,"./style.scss":17,"./types.ts":2};function i(e){var t=a(e);return r(t)}function a(e){if(!r.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}i.keys=function(){return Object.keys(n)},i.resolve=a,e.exports=i,i.id=15},function(e,t,r){"use strict";r.r(t);var n,i,a=r(2),s=r(5),u=function(){return(u=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};n=jQuery,i={init:function(e){if(!n(this).data("slider")){var t=u({},a.defaultParameters),r=new s.default(n.extend(t,e));n(this).data("slider",r),r.appendToNode(n(this))}},update:function(e){n(this).data("slider").updateConfig(e)},getConfig:function(){return n(this).data("slider").getConfig()},setValues:function(e){n(this).data("slider").setValues(e.currentMinValue,e.currentMaxValue)},inputsAttach:function(e){var t=n(this).data("slider");t.addObserver((function(){e.minValueInput.val(t.getValues().currentMinValue),e.maxValueInput.val(t.getValues().currentMaxValue),e.maxValue.val(t.getConfig().maxValue),e.minValue.val(t.getConfig().minValue),e.step.val(t.getConfig().step)}))}},n.fn.omfgslider=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return i[e]?i[e].apply(this,t):"object"!=typeof e&&e?(n.error("Метод "+e+" не найден в плагине jQuery.omfgslider"),null):i.init.apply(this,e)}},function(e,t,r){},,function(e,t,r){"use strict";r.r(t);var n;r.p;(n=r(15)).keys().forEach(n)}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL3BsdWdpbi9tYWtlT2JzZXJ2YWJsZU9iamVjdC9NYWtlT2JzZXJ2YWJsZU9iamVjdC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvcGx1Z2luL1ZpZXcvYmxvY2tzL2NyZWF0ZUVsZW0vY3JlYXRlRWxlbS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvcGx1Z2luL3R5cGVzLnRzIiwid2VicGFjazovLy8uL3NyYy9wbHVnaW4vQ29udHJvbGxlci9ibG9ja3MvcGFyc2luZ0RpZ2l0cy9QYXJzaW5nRGlnaXRzLnRzIiwid2VicGFjazovLy8uL3NyYy9wbHVnaW4vVmlldy9ibG9ja3MvUnVubmVyL1J1bm5lci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvcGx1Z2luL0NvbnRyb2xsZXIvQ29udHJvbGxlci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvcGx1Z2luL1ZpZXcvVmlldy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvcGx1Z2luL1ZpZXcvYmxvY2tzL1RyYWNrL1RyYWNrLnRzIiwid2VicGFjazovLy8uL3NyYy9wbHVnaW4vVmlldy9ibG9ja3MvQmFyL0Jhci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvcGx1Z2luL1ZpZXcvYmxvY2tzL0tub2IvS25vYi50cyIsIndlYnBhY2s6Ly8vLi9zcmMvcGx1Z2luL1ZpZXcvYmxvY2tzL1Rvb2x0aXAvVG9vbHRpcC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvcGx1Z2luL1ZpZXcvYmxvY2tzL1NjYWxlL1NjYWxlLnRzIiwid2VicGFjazovLy8uL3NyYy9wbHVnaW4vVmlldy9ibG9ja3MvU2NhbGUvTWFyay9NYXJrLnRzIiwid2VicGFjazovLy8uL3NyYy9wbHVnaW4vVmlldy9ibG9ja3MvUHJvZ3Jlc3NCYXIvUHJvZ3Jlc3NCYXIudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3BsdWdpbi9Nb2RlbC9Nb2RlbC50cyIsIndlYnBhY2s6Ly8vXFwuZClcXC4oanN8dHN8c2NzcykkLyIsIndlYnBhY2s6Ly8vLi9zcmMvcGx1Z2luL3NsaWRlci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZGVtby1wYWdlL2luZGV4Lmh0bWwiLCJ3ZWJwYWNrOi8vLy4vc3JjL2luZGV4LnRzIl0sIm5hbWVzIjpbImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJleHBvcnRzIiwibW9kdWxlIiwiaSIsImwiLCJtb2R1bGVzIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJ0IiwibW9kZSIsIl9fZXNNb2R1bGUiLCJucyIsImNyZWF0ZSIsImtleSIsImJpbmQiLCJuIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwidGhpcyIsIm9ic2VydmVycyIsImFkZE9ic2VydmVyIiwiZm4iLCJFcnJvciIsImZvckVhY2giLCJvYnNlcnZlciIsInB1c2giLCJyZW1vdmVPYnNlcnZlciIsImxlbmd0aCIsInNwbGljZSIsIm5vdGlmeU9ic2VydmVycyIsImRhdGEiLCJtYXAiLCJjbGFzc05hbWUiLCJlbGVtIiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50Iiwib25kcmFnc3RhcnQiLCJjbGFzc0xpc3QiLCJhZGQiLCJkZWZhdWx0UGFyYW1ldGVycyIsIm1pblZhbHVlIiwibWF4VmFsdWUiLCJzdGVwIiwiaXNSYW5nZSIsImlzVmVydGljYWwiLCJzaG93TGFiZWwiLCJpc0Zsb2F0IiwicGFyc2luZyIsIml0ZW0iLCJ0ZXN0IiwicGFyc2VGbG9hdCIsInBhcnNlSW50IiwibW92ZU9ic2VydmVyIiwiZ2V0UG9zaXRpb24iLCJrbm9iIiwic2V0UG9zaXRpb24iLCJvZmZzZXQiLCJ0b29sdGlwIiwiZ2V0V2lkdGgiLCJ1cGRhdGUiLCJoaWRlUnVubmVyIiwic3R5bGUiLCJkaXNwbGF5IiwiaGlkZUxhYmVsIiwic2hvd1J1bm5lciIsImFwcGVuZFRvTm9kZSIsImVudHJ5IiwiYXBwZW5kQ2hpbGQiLCJvbm1vdXNlZG93biIsImhhbmRsZVJ1bm5lck1vdXNlRG93biIsImV2ZW50IiwicHJldmVudERlZmF1bHQiLCJhZGRFdmVudExpc3RlbmVyIiwiaGFuZGxlUnVubmVyTW91c2VNb3ZlIiwiaGFuZGxlUnVubmVyTW91c2VVcCIsInJ1bm5lciIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJpc090aGVyc1ZhbHVlc0Zsb2F0IiwicGFyYW1ldGVyIiwidmlldyIsInBhcmFtZXRlcnMiLCJ1cGRhdGVDb25maWciLCJwYXJhbWV0ZXJzU25hcHNob3QiLCJrZXlzIiwiY2hlY2tTdGVwIiwiY2hlY2tNYXhWYWx1ZSIsImNoZWNrTWluVmFsdWUiLCJhc3NpZ24iLCJnZXRWYWx1ZXMiLCJtb2RlbCIsImN1cnJlbnRWYWx1ZXMiLCJzZXRWYWx1ZXMiLCJjdXJyZW50TWluVmFsdWUiLCJjdXJyZW50TWF4VmFsdWUiLCJzZXRDdXJyZW50TWluVmFsdWUiLCJzZXRDdXJyZW50TWF4VmFsdWUiLCJnZXRDb25maWciLCJzdGVwQ2hlY2tlZCIsIk1hdGgiLCJhYnMiLCJpc1N0ZXBOdW1iZXIiLCJpc1N0ZXBNb3JlVGhhbkhhbGYiLCJtYXhWYWx1ZUNoZWNrZWQiLCJtaW5WYWx1ZUNoZWNrZWQiLCJhZGRWaWV3T2JzZXJ2ZXIiLCJhZGRNb2RlbE9ic2VydmVyIiwidHJhY2siLCJyZW5ld1J1bm5lcnMiLCJoYW5kbGVUcmFja1ZhbHVlQ2hhbmdpbmciLCJ0eXBlT2ZWYWx1ZSIsImluaXQiLCJiYXIiLCJwcm9ncmVzc0JhciIsInJ1bm5lckFkZGl0aW9uYWwiLCJydW5uZXJNYWluIiwic2NhbGUiLCJnZXREaW1lbnNpb24iLCJvbmNsaWNrIiwiaGFuZGxlQmFyQ2xpY2siLCJtYXJrcyIsIm1hcmsiLCJtb3ZlTWFya3MiLCJjb252ZXJ0T2Zmc2V0VG9WYWx1ZSIsImdldE1haW5SdW5uZXJPZmZzZXQiLCJnZXRBZGRpdGlvbmFsUnVubmVyT2Zmc2V0IiwiaGFuZGxlUnVubmVyTW92ZSIsIm1vdmVSdW5uZXIiLCJwcm9jZXNzUnVubmVyTW91c2VFdmVudCIsIm9iaiIsInVwZGF0ZVByb2dyZXNzQmFyIiwiZXZlbnRNbSIsImNsaWVudFkiLCJjbGllbnRYIiwicHJvY2Vzc1J1bm5lck9mZnNldCIsInJvdW5kT2Zmc2V0IiwiY2hlY2tSdW5uZXJPZmZzZXQiLCJyb3VuZE9mZnNldFJ1bm5lciIsInN0ZXBXaWR0aCIsIm1pbk9mZnNldCIsIm5ld09mZnNldCIsImN1cnJlbnRPZmZzZXQiLCJjdXJyZW50VmFsdWUiLCJyb3VuZFZhbHVlIiwicm91bmQiLCJ0b0ZpeGVkIiwid2hvbGUiLCJ0cnVuYyIsInJlbWluZGVyIiwiaGFuZGxlU2NhbGVDbGljayIsImNoZWNrUnVubmVyQ2xvc2VyIiwic2V0RGltZW5zaW9uIiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwidG9wIiwibGVmdCIsImhlaWdodCIsIndpZHRoIiwicmVtb3ZlIiwiaW5uZXJIVE1MIiwib3B0aW9ucyIsImluZGV4IiwiY3JlYXRlTWFya3MiLCJtYXJnaW5Ub3AiLCJtYXJnaW5MZWZ0IiwiaGFuZGxlTWFya0NsaWNrIiwiZGltZW5zaW9uIiwid2VicGFja0NvbnRleHQiLCJyZXEiLCJpZCIsIndlYnBhY2tDb250ZXh0UmVzb2x2ZSIsImUiLCJjb2RlIiwicmVzb2x2ZSIsIiQiLCJtZXRob2RzIiwialF1ZXJ5Iiwib3B0IiwibmV3Q29uZmlnIiwic2xpZGVyIiwiZXh0ZW5kIiwiaW5wdXRzQXR0YWNoIiwibWluVmFsdWVJbnB1dCIsInZhbCIsIm1heFZhbHVlSW5wdXQiLCJvbWZnc2xpZGVyIiwibWV0aG9kIiwiYXBwbHkiLCJhcmdzIiwiZXJyb3IiXSwibWFwcGluZ3MiOiJhQUNFLElBQUlBLEVBQW1CLEdBR3ZCLFNBQVNDLEVBQW9CQyxHQUc1QixHQUFHRixFQUFpQkUsR0FDbkIsT0FBT0YsRUFBaUJFLEdBQVVDLFFBR25DLElB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Q0FDaEIsTUFIRVgsRUFBUS9ELEtBQUsyRSxNQUFNdkssS0FBTXNLLEssdURDL0N2QixJQ0VJeEwsRURGSixLQ0VJQSxFQUlULE9BSE5tRixPQUFPNUQsUUFBUXZCIiwiZmlsZSI6ImJ1bmRsZS5qcyIsInNvdXJjZXNDb250ZW50IjpbIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSAxOSk7XG4iLCJpbXBvcnQgKiBhcyB0eXBlcyBmcm9tICcuLi90eXBlcyc7XHJcblxyXG5jbGFzcyBNYWtlT2JzZXJ2YWJsZU9iamVjdCB7XHJcbiAgb2JzZXJ2ZXJzOiBBcnJheTx0eXBlcy5GdW5jdGlvbkNhbGxiYWNrRGF0YT47XHJcblxyXG4gIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgdGhpcy5vYnNlcnZlcnMgPSBbXTtcclxuICB9XHJcblxyXG4gIGFkZE9ic2VydmVyKGZuOiB0eXBlcy5GdW5jdGlvbkNhbGxiYWNrRGF0YSk6IHZvaWQge1xyXG4gICAgaWYgKHR5cGVvZiBmbiAhPT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ29ic2VydmVyIG11c3QgYmUgYSBmdW5jdGlvbicpO1xyXG4gICAgfVxyXG4gICAgdGhpcy5vYnNlcnZlcnMuZm9yRWFjaCgob2JzZXJ2ZXIpID0+IHtcclxuICAgICAgaWYgKG9ic2VydmVyID09PSBmbikge1xyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcignb2JzZXJ2ZXIgYWxyZWFkeSBpbiB0aGUgbGlzdCcpO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICAgIHRoaXMub2JzZXJ2ZXJzLnB1c2goZm4pO1xyXG4gIH1cclxuXHJcbiAgcmVtb3ZlT2JzZXJ2ZXIoZm46IHR5cGVzLkZ1bmN0aW9uQ2FsbGJhY2tEYXRhKTogdm9pZCB7XHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMub2JzZXJ2ZXJzLmxlbmd0aDsgaSArPSAxKSB7XHJcbiAgICAgIGNvbnN0IG9ic2VydmVyID0gdGhpcy5vYnNlcnZlcnNbaV07XHJcbiAgICAgIGlmIChvYnNlcnZlciA9PT0gZm4pIHtcclxuICAgICAgICB0aGlzLm9ic2VydmVycy5zcGxpY2UoaSwgMSk7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ2NvdWxkIG5vdCBmaW5kIG9ic2VydmVyIGluIGxpc3Qgb2Ygb2JzZXJ2ZXJzJyk7XHJcbiAgfVxyXG5cclxuICBub3RpZnlPYnNlcnZlcnMoZGF0YTogYW55ID0gbnVsbCk6IHZvaWQge1xyXG4gICAgY29uc3Qgb2JzZXJ2ZXJzU25hcHNob3QgPSBbLi4udGhpcy5vYnNlcnZlcnNdO1xyXG4gICAgb2JzZXJ2ZXJzU25hcHNob3QubWFwKChvYnNlcnZlcikgPT4gb2JzZXJ2ZXIoZGF0YSkpO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgTWFrZU9ic2VydmFibGVPYmplY3Q7XHJcbiIsImZ1bmN0aW9uIGNyZWF0ZUVsZW0oY2xhc3NOYW1lOiBzdHJpbmcpIDpIVE1MRWxlbWVudCB7XHJcbiAgY29uc3QgZWxlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gIGVsZW0ub25kcmFnc3RhcnQgPSAoKSA9PiBmYWxzZTtcclxuICBlbGVtLmNsYXNzTGlzdC5hZGQoY2xhc3NOYW1lKTtcclxuICByZXR1cm4gZWxlbTtcclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgY3JlYXRlRWxlbTtcclxuIiwiaW1wb3J0IFJ1bm5lciBmcm9tICcuL1ZpZXcvYmxvY2tzL1J1bm5lci9SdW5uZXInO1xyXG5cclxuZXhwb3J0IHR5cGUgRnVuY3Rpb25DYWxsYmFja0RhdGEgPSAoYXJnOiBhbnkpID0+IHZvaWQ7XHJcblxyXG5leHBvcnQgdHlwZSBjb25maWdVcGRhdGVEYXRhID0ge1xyXG4gIFtpbmRleDogc3RyaW5nXTogbnVtYmVyfHN0cmluZ3xib29sZWFuO1xyXG59XHJcblxyXG5leHBvcnQgdHlwZSBSdW5uZXJNb3ZlRGF0YSA9IHtcclxuICBydW5uZXI6IFJ1bm5lcixcclxuICBvZmZzZXQ6IG51bWJlcixcclxuICB2YWx1ZTogbnVtYmVyLFxyXG59XHJcblxyXG5leHBvcnQgdHlwZSBDdXJyZW50VmFsdWVzID0ge1xyXG4gIGN1cnJlbnRNaW5WYWx1ZTogbnVtYmVyLFxyXG4gIGN1cnJlbnRNYXhWYWx1ZTogbnVtYmVyLFxyXG59XHJcblxyXG5leHBvcnQgdHlwZSBDdXJyZW50VmFsdWVDaGFuZ2luZ0RhdGEgPSB7XHJcbiAgdHlwZU9mVmFsdWU6IHN0cmluZyxcclxuICB2YWx1ZTogbnVtYmVyLFxyXG59XHJcblxyXG5leHBvcnQgdHlwZSBSdW5uZXJPYnNlcnZlckRhdGEgPSB7XHJcbiAgZXZlbnQ6IE1vdXNlRXZlbnQsXHJcbiAgcnVubmVyOiBSdW5uZXIsXHJcbn1cclxuXHJcbmV4cG9ydCB0eXBlIFBhcmFtZXRlcnMgPSB7XHJcbiAgbWluVmFsdWU6IG51bWJlcixcclxuICBtYXhWYWx1ZTogbnVtYmVyLFxyXG4gIHN0ZXA6IG51bWJlcixcclxuICBpc1JhbmdlOiBib29sZWFuLFxyXG4gIGlzVmVydGljYWw6IGJvb2xlYW4sXHJcbiAgc2hvd0xhYmVsOiBib29sZWFuLFxyXG4gIGlzRmxvYXQ6IGJvb2xlYW5cclxufVxyXG5cclxuZXhwb3J0IHR5cGUgUmF3UGFyYW1ldGVycyA9IHtcclxuICBtaW5WYWx1ZTogc3RyaW5nfG51bWJlcixcclxuICBtYXhWYWx1ZTogc3RyaW5nfG51bWJlcixcclxuICBzdGVwOiBzdHJpbmd8bnVtYmVyLFxyXG4gIGlzUmFuZ2U6IGJvb2xlYW4sXHJcbiAgaXNWZXJ0aWNhbDogYm9vbGVhbixcclxuICBzaG93TGFiZWw6IGJvb2xlYW4sXHJcbiAgaXNGbG9hdDogYm9vbGVhblxyXG59XHJcblxyXG5leHBvcnQgY29uc3QgZGVmYXVsdFBhcmFtZXRlcnMgPSB7XHJcbiAgbWluVmFsdWU6IDAsXHJcbiAgbWF4VmFsdWU6IDEwMDAsXHJcbiAgc3RlcDogMSxcclxuICBpc1JhbmdlOiBmYWxzZSxcclxuICBpc1ZlcnRpY2FsOiBmYWxzZSxcclxuICBzaG93TGFiZWw6IHRydWUsXHJcbiAgaXNGbG9hdDogZmFsc2VcclxufTtcclxuIiwiY2xhc3MgUGFyc2luZ0RpZ2l0cyB7XHJcbiAgc3RhdGljIHBhcnNpbmcgPSAoaXRlbTogc3RyaW5nfG51bWJlcik6IG51bWJlcnxudWxsID0+IHtcclxuICAgIGlmICh0eXBlb2YgaXRlbSA9PT0gJ251bWJlcicpIHtcclxuICAgICAgcmV0dXJuIGl0ZW07XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHR5cGVvZiBpdGVtID09PSAnc3RyaW5nJykge1xyXG4gICAgICBpZiAoL14tP1xcZCtbLixdXFxkKyQvLnRlc3QoaXRlbSkpIHtcclxuICAgICAgICByZXR1cm4gcGFyc2VGbG9hdChpdGVtKTtcclxuICAgICAgfSBpZiAoL14tP1xcZCskLy50ZXN0KGl0ZW0pKSB7XHJcbiAgICAgICAgcmV0dXJuIHBhcnNlSW50KGl0ZW0sIDEwKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBudWxsO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgUGFyc2luZ0RpZ2l0cztcclxuIiwiaW1wb3J0ICogYXMgdHlwZXMgZnJvbSAnLi4vLi4vLi4vdHlwZXMnO1xyXG5pbXBvcnQgS25vYiBmcm9tICcuLi9Lbm9iL0tub2InO1xyXG5pbXBvcnQgVG9vbHRpcCBmcm9tICcuLi9Ub29sdGlwL1Rvb2x0aXAnO1xyXG5pbXBvcnQgTWFrZU9ic2VydmFibGVPYmplY3QgZnJvbSAnLi4vLi4vLi4vbWFrZU9ic2VydmFibGVPYmplY3QvTWFrZU9ic2VydmFibGVPYmplY3QnO1xyXG5cclxuY2xhc3MgUnVubmVyIHtcclxuICBrbm9iOiBLbm9iO1xyXG5cclxuICB0b29sdGlwOiBUb29sdGlwO1xyXG5cclxuICBpc1ZlcnRpY2FsOiBib29sZWFuO1xyXG5cclxuICBvYnNlcnZlcnM6IE1ha2VPYnNlcnZhYmxlT2JqZWN0O1xyXG5cclxuICBjb25zdHJ1Y3Rvcihpc1ZlcnRpY2FsOiBib29sZWFuLCBtb3ZlT2JzZXJ2ZXI6IHR5cGVzLkZ1bmN0aW9uQ2FsbGJhY2tEYXRhKSB7XHJcbiAgICB0aGlzLmlzVmVydGljYWwgPSBpc1ZlcnRpY2FsO1xyXG4gICAgdGhpcy5rbm9iID0gbmV3IEtub2IoaXNWZXJ0aWNhbCk7XHJcbiAgICB0aGlzLnRvb2x0aXAgPSBuZXcgVG9vbHRpcChpc1ZlcnRpY2FsKTtcclxuICAgIHRoaXMub2JzZXJ2ZXJzID0gbmV3IE1ha2VPYnNlcnZhYmxlT2JqZWN0KCk7XHJcbiAgICB0aGlzLm9ic2VydmVycy5hZGRPYnNlcnZlcihtb3ZlT2JzZXJ2ZXIpO1xyXG4gIH1cclxuXHJcbiAgZ2V0UG9zaXRpb24gPSAoKTogbnVtYmVyID0+IHtcclxuICAgIHJldHVybiB0aGlzLmtub2IuZ2V0UG9zaXRpb24oKTtcclxuICB9XHJcblxyXG4gIHNldFBvc2l0aW9uID0gKG9mZnNldDogbnVtYmVyLCB2YWx1ZTogbnVtYmVyKTogdm9pZCA9PiB7XHJcbiAgICB0aGlzLnRvb2x0aXAuc2V0UG9zaXRpb24ob2Zmc2V0ICsgdGhpcy5rbm9iLmdldFdpZHRoKCkgLyAyLCB2YWx1ZSk7XHJcbiAgICB0aGlzLmtub2Iuc2V0UG9zaXRpb24ob2Zmc2V0KTtcclxuICB9XHJcblxyXG4gIHVwZGF0ZSA9IChpc1ZlcnRpY2FsOiBib29sZWFuKTogdm9pZCA9PiB7XHJcbiAgICB0aGlzLmtub2IudXBkYXRlKGlzVmVydGljYWwpO1xyXG4gICAgdGhpcy50b29sdGlwLnVwZGF0ZShpc1ZlcnRpY2FsKTtcclxuICB9XHJcblxyXG4gIGdldFdpZHRoID0gKCk6IG51bWJlciA9PiB7XHJcbiAgICByZXR1cm4gdGhpcy5rbm9iLmdldFdpZHRoKCk7XHJcbiAgfVxyXG5cclxuICBoaWRlUnVubmVyID0gKCk6IHZvaWQgPT4ge1xyXG4gICAgdGhpcy5rbm9iLmVsZW0uc3R5bGUuZGlzcGxheSA9ICdub25lJztcclxuICAgIHRoaXMudG9vbHRpcC5lbGVtLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XHJcbiAgfVxyXG5cclxuICBoaWRlTGFiZWwgPSAoKTogdm9pZCA9PiB7XHJcbiAgICB0aGlzLnRvb2x0aXAuZWxlbS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xyXG4gIH1cclxuXHJcbiAgc2hvd0xhYmVsID0gKCk6IHZvaWQgPT4ge1xyXG4gICAgdGhpcy50b29sdGlwLmVsZW0uc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XHJcbiAgfVxyXG5cclxuICBzaG93UnVubmVyID0gKCk6IHZvaWQgPT4ge1xyXG4gICAgdGhpcy5rbm9iLmVsZW0uc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XHJcbiAgfVxyXG5cclxuICBhcHBlbmRUb05vZGUgPSAoZW50cnk6IEhUTUxFbGVtZW50KTogdm9pZCA9PiB7XHJcbiAgICBbdGhpcy5rbm9iLmVsZW0sIHRoaXMudG9vbHRpcC5lbGVtXS5mb3JFYWNoKChlbGVtKSA9PiB7XHJcbiAgICAgIGVudHJ5LmFwcGVuZENoaWxkKGVsZW0pO1xyXG4gICAgICBlbGVtLm9ubW91c2Vkb3duID0gdGhpcy5oYW5kbGVSdW5uZXJNb3VzZURvd247IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tcGFyYW0tcmVhc3NpZ25cclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBoYW5kbGVSdW5uZXJNb3VzZURvd24gPSAoZXZlbnQ6IE1vdXNlRXZlbnQpOiB2b2lkID0+IHtcclxuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCB0aGlzLmhhbmRsZVJ1bm5lck1vdXNlTW92ZSk7XHJcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgdGhpcy5oYW5kbGVSdW5uZXJNb3VzZVVwKTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgaGFuZGxlUnVubmVyTW91c2VNb3ZlID0gKGV2ZW50OiBNb3VzZUV2ZW50KTogdm9pZCA9PiB7XHJcbiAgICB0aGlzLm9ic2VydmVycy5ub3RpZnlPYnNlcnZlcnMoeyBldmVudDogZXZlbnQsIHJ1bm5lcjogdGhpcyB9KTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgaGFuZGxlUnVubmVyTW91c2VVcCA9ICgpOiB2b2lkID0+IHtcclxuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCB0aGlzLmhhbmRsZVJ1bm5lck1vdXNlVXApO1xyXG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgdGhpcy5oYW5kbGVSdW5uZXJNb3VzZU1vdmUpO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgUnVubmVyO1xyXG4iLCJpbXBvcnQgKiBhcyB0eXBlcyBmcm9tICcuLi90eXBlcyc7XHJcbmltcG9ydCBWaWV3IGZyb20gJy4uL1ZpZXcvVmlldyc7XHJcbmltcG9ydCBNb2RlbCBmcm9tICcuLi9Nb2RlbC9Nb2RlbCc7XHJcbmltcG9ydCBNYWtlT2JzZXJ2YWJsZU9iamVjdCBmcm9tICcuLi9tYWtlT2JzZXJ2YWJsZU9iamVjdC9NYWtlT2JzZXJ2YWJsZU9iamVjdCc7XHJcbmltcG9ydCBQYXJzaW5nRGlnaXRzIGZyb20gJy4vYmxvY2tzL3BhcnNpbmdEaWdpdHMvUGFyc2luZ0RpZ2l0cyc7XHJcblxyXG5jb25zdCBpc090aGVyc1ZhbHVlc0Zsb2F0ID0gKGl0ZW06IENvbnRyb2xsZXIsIHBhcmFtZXRlcjogc3RyaW5nKTogYm9vbGVhbiA9PiB7XHJcbiAgc3dpdGNoIChwYXJhbWV0ZXIpIHtcclxuICAgIGNhc2UgJ3N0ZXAnOlxyXG4gICAgICByZXR1cm4gKGl0ZW0udmlldy5wYXJhbWV0ZXJzLm1heFZhbHVlICUgMSAhPT0gMCB8fCBpdGVtLnZpZXcucGFyYW1ldGVycy5taW5WYWx1ZSAlIDEgIT09IDApO1xyXG4gICAgY2FzZSAnbWF4VmFsdWUnOlxyXG4gICAgICByZXR1cm4gKGl0ZW0udmlldy5wYXJhbWV0ZXJzLnN0ZXAgJSAxICE9PSAwIHx8IGl0ZW0udmlldy5wYXJhbWV0ZXJzLm1pblZhbHVlICUgMSAhPT0gMCk7XHJcbiAgICBjYXNlICdtaW5WYWx1ZSc6XHJcbiAgICAgIHJldHVybiAoaXRlbS52aWV3LnBhcmFtZXRlcnMuc3RlcCAlIDEgIT09IDAgfHwgaXRlbS52aWV3LnBhcmFtZXRlcnMubWF4VmFsdWUgJSAxICE9PSAwKTtcclxuICAgIGRlZmF1bHQ6XHJcbiAgICAgIHJldHVybiBmYWxzZTtcclxuICB9XHJcbn07XHJcblxyXG5jbGFzcyBDb250cm9sbGVyIHtcclxuICB2aWV3OiBWaWV3O1xyXG5cclxuICBtb2RlbDogTW9kZWw7XHJcblxyXG4gIG9ic2VydmVyczogTWFrZU9ic2VydmFibGVPYmplY3Q7XHJcblxyXG4gIGNvbnN0cnVjdG9yKHBhcmFtZXRlcnMgPSB0eXBlcy5kZWZhdWx0UGFyYW1ldGVycykge1xyXG4gICAgdGhpcy52aWV3ID0gbmV3IFZpZXcocGFyYW1ldGVycyk7XHJcbiAgICB0aGlzLm1vZGVsID0gbmV3IE1vZGVsKHtcclxuICAgICAgY3VycmVudE1pblZhbHVlOiBwYXJhbWV0ZXJzLm1pblZhbHVlLFxyXG4gICAgICBjdXJyZW50TWF4VmFsdWU6IHBhcmFtZXRlcnMubWF4VmFsdWVcclxuICAgIH0pO1xyXG4gICAgdGhpcy5vYnNlcnZlcnMgPSBuZXcgTWFrZU9ic2VydmFibGVPYmplY3QoKTtcclxuICAgIHRoaXMuYWRkVmlld09ic2VydmVyKCk7XHJcbiAgICB0aGlzLmFkZE1vZGVsT2JzZXJ2ZXIoKTtcclxuICB9XHJcblxyXG4gIGFwcGVuZFRvTm9kZSA9IChlbnRyeTogSlF1ZXJ5KTogdm9pZCA9PiB7XHJcbiAgICB0aGlzLnZpZXcuYXBwZW5kVG9Ob2RlKGVudHJ5LmdldCgwKSk7XHJcbiAgICB0aGlzLnZpZXcudXBkYXRlKCk7XHJcbiAgfVxyXG5cclxuICB1cGRhdGVDb25maWcgPSAocGFyYW1ldGVyczogdHlwZXMuUmF3UGFyYW1ldGVycyk6IHZvaWQgPT4ge1xyXG4gICAgY29uc3QgcGFyYW1ldGVyc1NuYXBzaG90ID0gcGFyYW1ldGVycztcclxuICAgIE9iamVjdC5rZXlzKHBhcmFtZXRlcnMpLmZvckVhY2goKGtleSkgPT4ge1xyXG4gICAgICBpZiAoa2V5ID09PSAnc3RlcCcpIHtcclxuICAgICAgICBwYXJhbWV0ZXJzU25hcHNob3Quc3RlcCA9IHRoaXMuY2hlY2tTdGVwKHBhcmFtZXRlcnMuc3RlcCBhcyBzdHJpbmcpO1xyXG4gICAgICB9IGVsc2UgaWYgKGtleSA9PT0gJ21heFZhbHVlJykge1xyXG4gICAgICAgIHBhcmFtZXRlcnNTbmFwc2hvdC5tYXhWYWx1ZSA9IHRoaXMuY2hlY2tNYXhWYWx1ZShwYXJhbWV0ZXJzLm1heFZhbHVlIGFzIHN0cmluZyk7XHJcbiAgICAgIH0gZWxzZSBpZiAoa2V5ID09PSAnbWluVmFsdWUnKSB7XHJcbiAgICAgICAgcGFyYW1ldGVyc1NuYXBzaG90Lm1pblZhbHVlID0gdGhpcy5jaGVja01pblZhbHVlKHBhcmFtZXRlcnMubWluVmFsdWUgYXMgc3RyaW5nKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgdGhpcy52aWV3LnBhcmFtZXRlcnMgPSBPYmplY3QuYXNzaWduKHRoaXMudmlldy5wYXJhbWV0ZXJzLCBwYXJhbWV0ZXJzU25hcHNob3QpO1xyXG4gICAgdGhpcy52aWV3LnVwZGF0ZSgpO1xyXG4gIH1cclxuXHJcbiAgZ2V0VmFsdWVzID0gKCk6IHR5cGVzLkN1cnJlbnRWYWx1ZXMgPT4ge1xyXG4gICAgcmV0dXJuIHRoaXMubW9kZWwuY3VycmVudFZhbHVlcztcclxuICB9XHJcblxyXG4gIHNldFZhbHVlcyA9IChjdXJyZW50TWluVmFsdWU6IG51bWJlciwgY3VycmVudE1heFZhbHVlOiBudW1iZXIpOiB2b2lkID0+IHtcclxuICAgIGlmIChjdXJyZW50TWluVmFsdWUgfHwgY3VycmVudE1pblZhbHVlID09PSAwKSB7XHJcbiAgICAgIHRoaXMubW9kZWwuc2V0Q3VycmVudE1pblZhbHVlKGN1cnJlbnRNaW5WYWx1ZSk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGN1cnJlbnRNYXhWYWx1ZSB8fCBjdXJyZW50TWF4VmFsdWUgPT09IDApIHtcclxuICAgICAgdGhpcy5tb2RlbC5zZXRDdXJyZW50TWF4VmFsdWUoY3VycmVudE1heFZhbHVlKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGdldENvbmZpZyA9ICgpOiB0eXBlcy5QYXJhbWV0ZXJzID0+IHtcclxuICAgIHJldHVybiB0aGlzLnZpZXcucGFyYW1ldGVycztcclxuICB9XHJcblxyXG4gIGFkZE9ic2VydmVyID0gKGZuOiB0eXBlcy5GdW5jdGlvbkNhbGxiYWNrRGF0YSk6IHZvaWQgPT4ge1xyXG4gICAgdGhpcy5vYnNlcnZlcnMuYWRkT2JzZXJ2ZXIoZm4pO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBjaGVja1N0ZXAgPSAoc3RlcDogc3RyaW5nKTogbnVtYmVyID0+IHtcclxuICAgIGNvbnN0IHN0ZXBDaGVja2VkID0gTWF0aC5hYnMoUGFyc2luZ0RpZ2l0cy5wYXJzaW5nKHN0ZXApKTtcclxuICAgIGNvbnN0IGlzU3RlcE51bWJlciA9IHN0ZXBDaGVja2VkICE9PSBudWxsICYmIHN0ZXBDaGVja2VkICE9PSAwO1xyXG4gICAgY29uc3QgaXNTdGVwTW9yZVRoYW5IYWxmID0gc3RlcENoZWNrZWRcclxuICAgICAgPiAodGhpcy52aWV3LnBhcmFtZXRlcnMubWF4VmFsdWUgLSB0aGlzLnZpZXcucGFyYW1ldGVycy5taW5WYWx1ZSkgLyAyO1xyXG5cclxuICAgIGlmICghaXNTdGVwTnVtYmVyIHx8IGlzU3RlcE1vcmVUaGFuSGFsZikge1xyXG4gICAgICByZXR1cm4gdGhpcy52aWV3LnBhcmFtZXRlcnMuc3RlcDtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoc3RlcENoZWNrZWQgJSAxICE9PSAwKSB7XHJcbiAgICAgIHRoaXMudmlldy5wYXJhbWV0ZXJzLmlzRmxvYXQgPSB0cnVlO1xyXG4gICAgfSBlbHNlIGlmICghaXNPdGhlcnNWYWx1ZXNGbG9hdCh0aGlzLCAnc3RlcCcpKSB7XHJcbiAgICAgIHRoaXMudmlldy5wYXJhbWV0ZXJzLmlzRmxvYXQgPSBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gc3RlcENoZWNrZWQ7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGNoZWNrTWF4VmFsdWUgPSAobWF4VmFsdWU6IHN0cmluZyk6IG51bWJlciA9PiB7XHJcbiAgICBjb25zdCBtYXhWYWx1ZUNoZWNrZWQgPSBQYXJzaW5nRGlnaXRzLnBhcnNpbmcobWF4VmFsdWUpO1xyXG5cclxuICAgIGlmIChtYXhWYWx1ZUNoZWNrZWQgPT09IG51bGwgfHwgbWF4VmFsdWVDaGVja2VkIDw9IHRoaXMudmlldy5wYXJhbWV0ZXJzLm1pblZhbHVlKSB7XHJcbiAgICAgIHJldHVybiB0aGlzLnZpZXcucGFyYW1ldGVycy5tYXhWYWx1ZTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAobWF4VmFsdWVDaGVja2VkICUgMSAhPT0gMCkge1xyXG4gICAgICB0aGlzLnZpZXcucGFyYW1ldGVycy5pc0Zsb2F0ID0gdHJ1ZTtcclxuICAgIH0gZWxzZSBpZiAoIWlzT3RoZXJzVmFsdWVzRmxvYXQodGhpcywgJ21heFZhbHVlJykpIHtcclxuICAgICAgdGhpcy52aWV3LnBhcmFtZXRlcnMuaXNGbG9hdCA9IGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBtYXhWYWx1ZUNoZWNrZWQ7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGNoZWNrTWluVmFsdWUgPSAobWluVmFsdWU6IHN0cmluZyk6IG51bWJlciA9PiB7XHJcbiAgICBjb25zdCBtaW5WYWx1ZUNoZWNrZWQgPSBQYXJzaW5nRGlnaXRzLnBhcnNpbmcobWluVmFsdWUpO1xyXG5cclxuICAgIGlmIChtaW5WYWx1ZUNoZWNrZWQgPT09IG51bGwgfHwgbWluVmFsdWVDaGVja2VkID49IHRoaXMudmlldy5wYXJhbWV0ZXJzLm1heFZhbHVlKSB7XHJcbiAgICAgIHJldHVybiB0aGlzLnZpZXcucGFyYW1ldGVycy5taW5WYWx1ZTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAobWluVmFsdWVDaGVja2VkICUgMSAhPT0gMCkge1xyXG4gICAgICB0aGlzLnZpZXcucGFyYW1ldGVycy5pc0Zsb2F0ID0gdHJ1ZTtcclxuICAgIH0gZWxzZSBpZiAoIWlzT3RoZXJzVmFsdWVzRmxvYXQodGhpcywgJ21pblZhbHVlJykpIHtcclxuICAgICAgdGhpcy52aWV3LnBhcmFtZXRlcnMuaXNGbG9hdCA9IGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBtaW5WYWx1ZUNoZWNrZWQ7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGFkZFZpZXdPYnNlcnZlciA9ICgpOiB2b2lkID0+IHtcclxuICAgIHRoaXMudmlldy5vYnNlcnZlcnMuYWRkT2JzZXJ2ZXIoKCkgPT4ge1xyXG4gICAgICB0aGlzLm1vZGVsLmN1cnJlbnRWYWx1ZXMgPSB0aGlzLnZpZXcuY3VycmVudFZhbHVlcztcclxuICAgICAgdGhpcy5vYnNlcnZlcnMubm90aWZ5T2JzZXJ2ZXJzKCk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgYWRkTW9kZWxPYnNlcnZlciA9ICgpOiB2b2lkID0+IHtcclxuICAgIHRoaXMubW9kZWwub2JzZXJ2ZXJzLmFkZE9ic2VydmVyKCgpID0+IHtcclxuICAgICAgdGhpcy52aWV3LmN1cnJlbnRWYWx1ZXMgPSB0aGlzLm1vZGVsLmN1cnJlbnRWYWx1ZXM7XHJcbiAgICAgIHRoaXMudmlldy51cGRhdGUoKTtcclxuICAgIH0pO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgQ29udHJvbGxlcjtcclxuIiwiaW1wb3J0ICogYXMgdHlwZXMgZnJvbSAnLi4vdHlwZXMnO1xyXG5pbXBvcnQgTWFrZU9ic2VydmFibGVPYmplY3QgZnJvbSAnLi4vbWFrZU9ic2VydmFibGVPYmplY3QvTWFrZU9ic2VydmFibGVPYmplY3QnO1xyXG5pbXBvcnQgVHJhY2sgZnJvbSAnLi9ibG9ja3MvVHJhY2svVHJhY2snO1xyXG5cclxuY2xhc3MgVmlldyB7XHJcbiAgcGFyYW1ldGVyczogdHlwZXMuUGFyYW1ldGVycztcclxuXHJcbiAgY3VycmVudFZhbHVlczogdHlwZXMuQ3VycmVudFZhbHVlcztcclxuXHJcbiAgb2JzZXJ2ZXJzOiBNYWtlT2JzZXJ2YWJsZU9iamVjdDtcclxuXHJcbiAgdHJhY2s6IFRyYWNrO1xyXG5cclxuICBjb25zdHJ1Y3RvcihwYXJhbWV0ZXJzID0gdHlwZXMuZGVmYXVsdFBhcmFtZXRlcnMpIHtcclxuICAgIHRoaXMucGFyYW1ldGVycyA9IHBhcmFtZXRlcnM7XHJcbiAgICB0aGlzLm9ic2VydmVycyA9IG5ldyBNYWtlT2JzZXJ2YWJsZU9iamVjdCgpO1xyXG4gICAgdGhpcy50cmFjayA9IG5ldyBUcmFjayh0aGlzLnBhcmFtZXRlcnMpO1xyXG4gICAgdGhpcy5pbml0KCk7XHJcbiAgfVxyXG5cclxuICB1cGRhdGUgPSAoKTogdm9pZCA9PiB7XHJcbiAgICB0aGlzLnRyYWNrLnVwZGF0ZSh0aGlzLnBhcmFtZXRlcnMpO1xyXG4gICAgdGhpcy50cmFjay5yZW5ld1J1bm5lcnModGhpcy5jdXJyZW50VmFsdWVzKTtcclxuICB9XHJcblxyXG4gIGhhbmRsZVRyYWNrVmFsdWVDaGFuZ2luZyA9IChkYXRhOiB0eXBlcy5DdXJyZW50VmFsdWVDaGFuZ2luZ0RhdGEpOiB2b2lkID0+IHtcclxuICAgIGlmIChkYXRhLnR5cGVPZlZhbHVlID09PSAnbWluVmFsdWUnKSB7XHJcbiAgICAgIHRoaXMuY3VycmVudFZhbHVlcy5jdXJyZW50TWluVmFsdWUgPSBkYXRhLnZhbHVlO1xyXG4gICAgfSBlbHNlIGlmIChkYXRhLnR5cGVPZlZhbHVlID09PSAnbWF4VmFsdWUnKSB7XHJcbiAgICAgIHRoaXMuY3VycmVudFZhbHVlcy5jdXJyZW50TWF4VmFsdWUgPSBkYXRhLnZhbHVlO1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXMub2JzZXJ2ZXJzLm5vdGlmeU9ic2VydmVycygpO1xyXG4gIH1cclxuXHJcbiAgYXBwZW5kVG9Ob2RlID0gKGVudHJ5OiBIVE1MRWxlbWVudCk6IHZvaWQgPT4ge1xyXG4gICAgdGhpcy50cmFjay5hcHBlbmRUb05vZGUoZW50cnkpO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBpbml0ID0gKCk6IHZvaWQgPT4ge1xyXG4gICAgdGhpcy5jdXJyZW50VmFsdWVzID0ge1xyXG4gICAgICBjdXJyZW50TWluVmFsdWU6IHRoaXMucGFyYW1ldGVycy5taW5WYWx1ZSxcclxuICAgICAgY3VycmVudE1heFZhbHVlOiB0aGlzLnBhcmFtZXRlcnMubWF4VmFsdWVcclxuICAgIH07XHJcblxyXG4gICAgdGhpcy50cmFjay5vYnNlcnZlcnMuYWRkT2JzZXJ2ZXIodGhpcy5oYW5kbGVUcmFja1ZhbHVlQ2hhbmdpbmcpO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgVmlldztcclxuIiwiaW1wb3J0ICogYXMgdHlwZXMgZnJvbSAnLi4vLi4vLi4vdHlwZXMnO1xyXG5pbXBvcnQgQmFyIGZyb20gJy4uL0Jhci9CYXInO1xyXG5pbXBvcnQgUnVubmVyIGZyb20gJy4uL1J1bm5lci9SdW5uZXInO1xyXG5pbXBvcnQgU2NhbGUgZnJvbSAnLi4vU2NhbGUvU2NhbGUnO1xyXG5pbXBvcnQgUHJvZ3Jlc3NCYXIgZnJvbSAnLi4vUHJvZ3Jlc3NCYXIvUHJvZ3Jlc3NCYXInO1xyXG5pbXBvcnQgTWFrZU9ic2VydmFibGVPYmplY3QgZnJvbSAnLi4vLi4vLi4vbWFrZU9ic2VydmFibGVPYmplY3QvTWFrZU9ic2VydmFibGVPYmplY3QnO1xyXG5cclxuY2xhc3MgVHJhY2sge1xyXG4gIHBhcmFtZXRlcnM6IHR5cGVzLlBhcmFtZXRlcnM7XHJcblxyXG4gIHJ1bm5lck1haW46IFJ1bm5lcjtcclxuXHJcbiAgcnVubmVyQWRkaXRpb25hbDogUnVubmVyO1xyXG5cclxuICBwcm9ncmVzc0JhcjogUHJvZ3Jlc3NCYXI7XHJcblxyXG4gIGJhcjogQmFyO1xyXG5cclxuICBzY2FsZTogU2NhbGU7XHJcblxyXG4gIG9ic2VydmVyczogTWFrZU9ic2VydmFibGVPYmplY3Q7XHJcblxyXG4gIGNvbnN0cnVjdG9yKHBhcmFtZXRlcnM6IHR5cGVzLlBhcmFtZXRlcnMpIHtcclxuICAgIHRoaXMucGFyYW1ldGVycyA9IHBhcmFtZXRlcnM7XHJcbiAgICB0aGlzLnJ1bm5lck1haW4gPSBuZXcgUnVubmVyKHRoaXMucGFyYW1ldGVycy5pc1ZlcnRpY2FsLCB0aGlzLmhhbmRsZVJ1bm5lck1vdmUpO1xyXG4gICAgdGhpcy5ydW5uZXJBZGRpdGlvbmFsID0gbmV3IFJ1bm5lcih0aGlzLnBhcmFtZXRlcnMuaXNWZXJ0aWNhbCwgdGhpcy5oYW5kbGVSdW5uZXJNb3ZlKTtcclxuICAgIHRoaXMucHJvZ3Jlc3NCYXIgPSBuZXcgUHJvZ3Jlc3NCYXIodGhpcy5wYXJhbWV0ZXJzLmlzVmVydGljYWwpO1xyXG4gICAgdGhpcy5iYXIgPSBuZXcgQmFyKHRoaXMucGFyYW1ldGVycy5pc1ZlcnRpY2FsKTtcclxuICAgIHRoaXMuc2NhbGUgPSBuZXcgU2NhbGUodGhpcy5wYXJhbWV0ZXJzLCB0aGlzLmhhbmRsZVNjYWxlQ2xpY2spO1xyXG4gICAgdGhpcy5vYnNlcnZlcnMgPSBuZXcgTWFrZU9ic2VydmFibGVPYmplY3QoKTtcclxuICB9XHJcblxyXG4gIHVwZGF0ZSA9IChwYXJhbWV0ZXJzOiB0eXBlcy5QYXJhbWV0ZXJzKTogdm9pZCA9PiB7XHJcbiAgICB0aGlzLnBhcmFtZXRlcnMgPSBwYXJhbWV0ZXJzO1xyXG4gICAgdGhpcy5iYXIudXBkYXRlKHRoaXMucGFyYW1ldGVycy5pc1ZlcnRpY2FsKTtcclxuICAgIHRoaXMucHJvZ3Jlc3NCYXIudXBkYXRlKHRoaXMucGFyYW1ldGVycy5pc1ZlcnRpY2FsKTtcclxuICAgIHRoaXMucnVubmVyQWRkaXRpb25hbC51cGRhdGUodGhpcy5wYXJhbWV0ZXJzLmlzVmVydGljYWwpO1xyXG4gICAgdGhpcy5ydW5uZXJNYWluLnVwZGF0ZSh0aGlzLnBhcmFtZXRlcnMuaXNWZXJ0aWNhbCk7XHJcbiAgICB0aGlzLnNjYWxlLnVwZGF0ZSh0aGlzLnBhcmFtZXRlcnMpO1xyXG4gICAgdGhpcy5ydW5uZXJBZGRpdGlvbmFsLmhpZGVSdW5uZXIoKTtcclxuXHJcbiAgICBpZiAodGhpcy5wYXJhbWV0ZXJzLnNob3dMYWJlbCkge1xyXG4gICAgICB0aGlzLnJ1bm5lckFkZGl0aW9uYWwuc2hvd0xhYmVsKCk7XHJcbiAgICAgIHRoaXMucnVubmVyTWFpbi5zaG93TGFiZWwoKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMucnVubmVyQWRkaXRpb25hbC5oaWRlTGFiZWwoKTtcclxuICAgICAgdGhpcy5ydW5uZXJNYWluLmhpZGVMYWJlbCgpO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICh0aGlzLnBhcmFtZXRlcnMuaXNSYW5nZSkge1xyXG4gICAgICB0aGlzLnJ1bm5lckFkZGl0aW9uYWwuc2hvd1J1bm5lcigpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5ydW5uZXJBZGRpdGlvbmFsLmhpZGVSdW5uZXIoKTtcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLnJ1bm5lckFkZGl0aW9uYWwuc2V0UG9zaXRpb24oXHJcbiAgICAgIC10aGlzLnJ1bm5lckFkZGl0aW9uYWwuZ2V0V2lkdGgoKSAvIDIsXHJcbiAgICAgIHRoaXMucGFyYW1ldGVycy5taW5WYWx1ZVxyXG4gICAgKTtcclxuICAgIHRoaXMucnVubmVyTWFpbi5zZXRQb3NpdGlvbihcclxuICAgICAgdGhpcy5iYXIuZ2V0RGltZW5zaW9uKCkgLSB0aGlzLnJ1bm5lck1haW4uZ2V0V2lkdGgoKSAvIDIsXHJcbiAgICAgIHRoaXMucGFyYW1ldGVycy5tYXhWYWx1ZVxyXG4gICAgKTtcclxuICB9XHJcblxyXG4gIHJlbmV3UnVubmVycyhjdXJyZW50VmFsdWVzOiB0eXBlcy5DdXJyZW50VmFsdWVzKTogdm9pZCB7XHJcbiAgICB0aGlzLm1vdmVSdW5uZXIoXHJcbiAgICAgIHRoaXMucHJvY2Vzc1J1bm5lck9mZnNldChcclxuICAgICAgICB0aGlzLmNvbnZlcnRPZmZzZXRUb1ZhbHVlKGN1cnJlbnRWYWx1ZXMuY3VycmVudE1heFZhbHVlKSxcclxuICAgICAgICB0aGlzLnJ1bm5lck1haW5cclxuICAgICAgKVxyXG4gICAgKTtcclxuICAgIHRoaXMubW92ZVJ1bm5lcihcclxuICAgICAgdGhpcy5wcm9jZXNzUnVubmVyT2Zmc2V0KFxyXG4gICAgICAgIHRoaXMuY29udmVydE9mZnNldFRvVmFsdWUoY3VycmVudFZhbHVlcy5jdXJyZW50TWluVmFsdWUpLFxyXG4gICAgICAgIHRoaXMucnVubmVyQWRkaXRpb25hbFxyXG4gICAgICApXHJcbiAgICApO1xyXG4gIH1cclxuXHJcbiAgYXBwZW5kVG9Ob2RlID0gKGVudHJ5OiBIVE1MRWxlbWVudCk6IHZvaWQgPT4ge1xyXG4gICAgZW50cnkuYXBwZW5kQ2hpbGQodGhpcy5iYXIuZWxlbSkuYXBwZW5kQ2hpbGQodGhpcy5wcm9ncmVzc0Jhci5lbGVtKTtcclxuICAgIHRoaXMuYmFyLmVsZW0ub25jbGljayA9IHRoaXMuaGFuZGxlQmFyQ2xpY2s7XHJcbiAgICB0aGlzLnJ1bm5lck1haW4uYXBwZW5kVG9Ob2RlKGVudHJ5KTtcclxuICAgIHRoaXMucnVubmVyQWRkaXRpb25hbC5hcHBlbmRUb05vZGUoZW50cnkpO1xyXG5cclxuICAgIHRoaXMuc2NhbGUubWFya3MuZm9yRWFjaCgobWFyaykgPT4ge1xyXG4gICAgICBlbnRyeS5hcHBlbmRDaGlsZChtYXJrLmVsZW0pO1xyXG4gICAgfSk7XHJcblxyXG4gICAgdGhpcy5zY2FsZS5tb3ZlTWFya3MoKTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgY29udmVydE9mZnNldFRvVmFsdWUgPSAodmFsdWU6IG51bWJlcik6IG51bWJlciA9PiB7XHJcbiAgICByZXR1cm4gKCgodmFsdWUgLSB0aGlzLnBhcmFtZXRlcnMubWluVmFsdWUpICogdGhpcy5iYXIuZ2V0RGltZW5zaW9uKCkpXHJcbiAgICAgIC8gKHRoaXMucGFyYW1ldGVycy5tYXhWYWx1ZSAtIHRoaXMucGFyYW1ldGVycy5taW5WYWx1ZSlcclxuICAgICAgLSB0aGlzLnJ1bm5lck1haW4uZ2V0V2lkdGgoKSAvIDIpO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBnZXRNYWluUnVubmVyT2Zmc2V0ID0gKCk6IG51bWJlciA9PiB7XHJcbiAgICBjb25zdCBvZmZzZXQgPSB0aGlzLnJ1bm5lck1haW4uZ2V0UG9zaXRpb24oKSAtIHRoaXMuYmFyLmdldFBvc2l0aW9uKClcclxuICAgICAgKyB0aGlzLnJ1bm5lck1haW4uZ2V0V2lkdGgoKSAvIDI7XHJcbiAgICByZXR1cm4gb2Zmc2V0IDwgMCA/IDAgOiBvZmZzZXQ7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGdldEFkZGl0aW9uYWxSdW5uZXJPZmZzZXQgPSAoKTogbnVtYmVyID0+IHtcclxuICAgIGlmICh0aGlzLnBhcmFtZXRlcnMuaXNSYW5nZSkge1xyXG4gICAgICByZXR1cm4gdGhpcy5ydW5uZXJBZGRpdGlvbmFsLmdldFBvc2l0aW9uKCkgLSB0aGlzLmJhci5nZXRQb3NpdGlvbigpXHJcbiAgICAgICAgKyB0aGlzLnJ1bm5lck1haW4uZ2V0V2lkdGgoKSAvIDI7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIDA7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGhhbmRsZVJ1bm5lck1vdmUgPSAoeyBldmVudCwgcnVubmVyIH06IHR5cGVzLlJ1bm5lck9ic2VydmVyRGF0YSk6IHZvaWQgPT4ge1xyXG4gICAgdGhpcy5tb3ZlUnVubmVyKHRoaXMucHJvY2Vzc1J1bm5lck1vdXNlRXZlbnQoZXZlbnQsIHJ1bm5lcikpO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBtb3ZlUnVubmVyID0gKG9iajogdHlwZXMuUnVubmVyTW92ZURhdGEpOiB2b2lkID0+IHtcclxuICAgIG9iai5ydW5uZXIuc2V0UG9zaXRpb24ob2JqLm9mZnNldCwgb2JqLnZhbHVlKTtcclxuXHJcbiAgICBpZiAob2JqLnJ1bm5lciA9PT0gdGhpcy5ydW5uZXJBZGRpdGlvbmFsKSB7XHJcbiAgICAgIHRoaXMub2JzZXJ2ZXJzLm5vdGlmeU9ic2VydmVycyh7IHR5cGVPZlZhbHVlOiAnbWluVmFsdWUnLCB2YWx1ZTogb2JqLnZhbHVlIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChvYmoucnVubmVyID09PSB0aGlzLnJ1bm5lck1haW4pIHtcclxuICAgICAgdGhpcy5vYnNlcnZlcnMubm90aWZ5T2JzZXJ2ZXJzKHsgdHlwZU9mVmFsdWU6ICdtYXhWYWx1ZScsIHZhbHVlOiBvYmoudmFsdWUgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy51cGRhdGVQcm9ncmVzc0JhcigpO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBwcm9jZXNzUnVubmVyTW91c2VFdmVudCA9IChldmVudE1tOiBNb3VzZUV2ZW50LCBydW5uZXI6IFJ1bm5lcik6IHR5cGVzLlJ1bm5lck1vdmVEYXRhID0+IHtcclxuICAgIGNvbnN0IGNvb3JkaW5hdGUgPSB0aGlzLnBhcmFtZXRlcnMuaXNWZXJ0aWNhbCA/IGV2ZW50TW0uY2xpZW50WSA6IGV2ZW50TW0uY2xpZW50WDtcclxuICAgIGNvbnN0IG9mZnNldCA9IGNvb3JkaW5hdGUgLSB0aGlzLmJhci5nZXRQb3NpdGlvbigpIC0gdGhpcy5ydW5uZXJBZGRpdGlvbmFsLmdldFdpZHRoKCkgLyAyO1xyXG5cclxuICAgIHJldHVybiB0aGlzLnByb2Nlc3NSdW5uZXJPZmZzZXQob2Zmc2V0LCBydW5uZXIpO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBwcm9jZXNzUnVubmVyT2Zmc2V0ID0gKG9mZnNldDogbnVtYmVyLCBydW5uZXI6IFJ1bm5lcik6IHR5cGVzLlJ1bm5lck1vdmVEYXRhID0+IHtcclxuICAgIGxldCByb3VuZFZhbHVlID0gMDtcclxuICAgIGxldCByb3VuZE9mZnNldDtcclxuICAgIHJvdW5kT2Zmc2V0ID0gdGhpcy5jaGVja1J1bm5lck9mZnNldChvZmZzZXQsIHJ1bm5lcik7XHJcbiAgICBbcm91bmRPZmZzZXQsIHJvdW5kVmFsdWVdID0gdGhpcy5yb3VuZE9mZnNldFJ1bm5lcihyb3VuZE9mZnNldCk7XHJcblxyXG4gICAgcmV0dXJuIHtcclxuICAgICAgcnVubmVyOiBydW5uZXIsXHJcbiAgICAgIG9mZnNldDogcm91bmRPZmZzZXQsXHJcbiAgICAgIHZhbHVlOiByb3VuZFZhbHVlXHJcbiAgICB9O1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBjaGVja1J1bm5lck9mZnNldCA9IChvZmZzZXQ6IG51bWJlciwgcnVubmVyOiBSdW5uZXIpOiBudW1iZXIgPT4ge1xyXG4gICAgY29uc3Qgc3RlcFdpZHRoID0gKHRoaXMucGFyYW1ldGVycy5zdGVwICogdGhpcy5iYXIuZ2V0RGltZW5zaW9uKCkpXHJcbiAgICAgIC8gKHRoaXMucGFyYW1ldGVycy5tYXhWYWx1ZSAtIHRoaXMucGFyYW1ldGVycy5taW5WYWx1ZSk7XHJcbiAgICBjb25zdCBtaW5PZmZzZXQgPSBzdGVwV2lkdGggLyAxLjUgPiB0aGlzLnJ1bm5lck1haW4uZ2V0V2lkdGgoKVxyXG4gICAgICA/IHN0ZXBXaWR0aCAvIDEuNVxyXG4gICAgICA6IHRoaXMucnVubmVyTWFpbi5nZXRXaWR0aCgpO1xyXG4gICAgbGV0IG5ld09mZnNldCA9IG9mZnNldDtcclxuXHJcbiAgICBpZiAocnVubmVyID09PSB0aGlzLnJ1bm5lckFkZGl0aW9uYWwpIHtcclxuICAgICAgaWYgKG9mZnNldCA+IHRoaXMucnVubmVyTWFpbi5nZXRQb3NpdGlvbigpIC0gdGhpcy5iYXIuZ2V0UG9zaXRpb24oKSAtIG1pbk9mZnNldCkge1xyXG4gICAgICAgIG5ld09mZnNldCA9IHRoaXMucnVubmVyTWFpbi5nZXRQb3NpdGlvbigpIC0gdGhpcy5iYXIuZ2V0UG9zaXRpb24oKSAtIG1pbk9mZnNldDtcclxuICAgICAgfVxyXG4gICAgfSBlbHNlIGlmIChydW5uZXIgPT09IHRoaXMucnVubmVyTWFpbikge1xyXG4gICAgICBpZiAob2Zmc2V0IDwgdGhpcy5ydW5uZXJBZGRpdGlvbmFsLmdldFBvc2l0aW9uKCkgLSB0aGlzLmJhci5nZXRQb3NpdGlvbigpICsgbWluT2Zmc2V0KSB7XHJcbiAgICAgICAgbmV3T2Zmc2V0ID0gdGhpcy5ydW5uZXJBZGRpdGlvbmFsLmdldFBvc2l0aW9uKCkgLSB0aGlzLmJhci5nZXRQb3NpdGlvbigpICsgbWluT2Zmc2V0O1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIG5ld09mZnNldDtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgcm91bmRPZmZzZXRSdW5uZXIgPSAoY3VycmVudE9mZnNldDogbnVtYmVyKTogW251bWJlciwgbnVtYmVyXSA9PiB7XHJcbiAgICBjb25zdCBjdXJyZW50VmFsdWUgPSB0aGlzLnBhcmFtZXRlcnMubWluVmFsdWVcclxuICAgICAgKyAoKGN1cnJlbnRPZmZzZXQgKyB0aGlzLnJ1bm5lck1haW4uZ2V0V2lkdGgoKSAvIDIpXHJcbiAgICAgICogKHRoaXMucGFyYW1ldGVycy5tYXhWYWx1ZSAtIHRoaXMucGFyYW1ldGVycy5taW5WYWx1ZSkpXHJcbiAgICAgIC8gdGhpcy5iYXIuZ2V0RGltZW5zaW9uKCk7XHJcbiAgICBsZXQgcm91bmRWYWx1ZSA9IHRoaXMucm91bmQoY3VycmVudFZhbHVlLCB0aGlzLnBhcmFtZXRlcnMuc3RlcCk7XHJcblxyXG4gICAgaWYgKHRoaXMucGFyYW1ldGVycy5pc0Zsb2F0KSB7XHJcbiAgICAgIHJvdW5kVmFsdWUgPSBwYXJzZUZsb2F0KHJvdW5kVmFsdWUudG9GaXhlZCgyKSk7XHJcbiAgICB9XHJcblxyXG4gICAgbGV0IHJvdW5kT2Zmc2V0ID0gdGhpcy5jb252ZXJ0T2Zmc2V0VG9WYWx1ZShyb3VuZFZhbHVlKTtcclxuXHJcbiAgICBpZiAocm91bmRPZmZzZXQgPCAtdGhpcy5ydW5uZXJNYWluLmdldFdpZHRoKCkgLyAyKSB7XHJcbiAgICAgIHJvdW5kT2Zmc2V0ID0gLXRoaXMucnVubmVyTWFpbi5nZXRXaWR0aCgpIC8gMjtcclxuICAgICAgcm91bmRWYWx1ZSA9IHRoaXMucGFyYW1ldGVycy5taW5WYWx1ZTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAocm91bmRPZmZzZXQgPiB0aGlzLmJhci5nZXREaW1lbnNpb24oKSAtIHRoaXMucnVubmVyTWFpbi5nZXRXaWR0aCgpIC8gMikge1xyXG4gICAgICByb3VuZE9mZnNldCA9IHRoaXMuYmFyLmdldERpbWVuc2lvbigpIC0gdGhpcy5ydW5uZXJNYWluLmdldFdpZHRoKCkgLyAyO1xyXG4gICAgICByb3VuZFZhbHVlID0gdGhpcy5wYXJhbWV0ZXJzLm1heFZhbHVlO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBbcm91bmRPZmZzZXQsIHJvdW5kVmFsdWVdO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSByb3VuZCA9ICh2YWx1ZTogbnVtYmVyLCBzdGVwOiBudW1iZXIpOiBudW1iZXIgPT4ge1xyXG4gICAgY29uc3Qgd2hvbGUgPSBNYXRoLnRydW5jKHZhbHVlIC8gc3RlcCk7XHJcbiAgICBjb25zdCByZW1pbmRlciA9ICsodmFsdWUgLSB3aG9sZSAqIHN0ZXApLnRvRml4ZWQoMik7XHJcblxyXG4gICAgaWYgKHZhbHVlIDwgMCkge1xyXG4gICAgICByZXR1cm4gTWF0aC5hYnMocmVtaW5kZXIpIDwgc3RlcCAvIDIgPyB3aG9sZSAqIHN0ZXAgOiAod2hvbGUgLSAxKSAqIHN0ZXA7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHZhbHVlIDw9IHRoaXMucGFyYW1ldGVycy5taW5WYWx1ZSkge1xyXG4gICAgICByZXR1cm4gdGhpcy5wYXJhbWV0ZXJzLm1pblZhbHVlO1xyXG4gICAgfSBpZiAodmFsdWUgPj0gdGhpcy5wYXJhbWV0ZXJzLm1heFZhbHVlKSB7XHJcbiAgICAgIHJldHVybiB0aGlzLnBhcmFtZXRlcnMubWF4VmFsdWU7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHJlbWluZGVyIDwgc3RlcCAvIDIgPyB3aG9sZSAqIHN0ZXAgOiAod2hvbGUgKyAxKSAqIHN0ZXA7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGhhbmRsZVNjYWxlQ2xpY2sgPSAodmFsdWU6IG51bWJlcikgPT4ge1xyXG4gICAgY29uc3Qgb2Zmc2V0ID0gdGhpcy5jb252ZXJ0T2Zmc2V0VG9WYWx1ZSh2YWx1ZSk7XHJcbiAgICBsZXQgcnVubmVyO1xyXG5cclxuICAgIGlmICh0aGlzLnBhcmFtZXRlcnMuaXNSYW5nZSkge1xyXG4gICAgICBydW5uZXIgPSB0aGlzLmNoZWNrUnVubmVyQ2xvc2VyKG9mZnNldCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBydW5uZXIgPSB0aGlzLnJ1bm5lck1haW47XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5tb3ZlUnVubmVyKHRoaXMucHJvY2Vzc1J1bm5lck9mZnNldChvZmZzZXQsIHJ1bm5lcikpO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBjaGVja1J1bm5lckNsb3NlciA9IChvZmZzZXQ6IG51bWJlcik6IFJ1bm5lciA9PiB7XHJcbiAgICBpZiAoTWF0aC5hYnMob2Zmc2V0IC0gdGhpcy5nZXRNYWluUnVubmVyT2Zmc2V0KCkpXHJcbiAgICAgIDwgTWF0aC5hYnMob2Zmc2V0IC0gdGhpcy5nZXRBZGRpdGlvbmFsUnVubmVyT2Zmc2V0KCkpKSB7XHJcbiAgICAgIHJldHVybiB0aGlzLnJ1bm5lck1haW47XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHRoaXMucnVubmVyQWRkaXRpb25hbDtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgaGFuZGxlQmFyQ2xpY2sgPSAoZXZlbnQ6IE1vdXNlRXZlbnQpOiB2b2lkID0+IHtcclxuICAgIGNvbnN0IGNvb3JkaW5hdGUgPSB0aGlzLnBhcmFtZXRlcnMuaXNWZXJ0aWNhbCA/IGV2ZW50LmNsaWVudFkgOiBldmVudC5jbGllbnRYO1xyXG4gICAgY29uc3Qgb2Zmc2V0ID0gY29vcmRpbmF0ZSAtIHRoaXMuYmFyLmdldFBvc2l0aW9uKCkgLSB0aGlzLnJ1bm5lck1haW4uZ2V0V2lkdGgoKSAvIDI7XHJcblxyXG4gICAgdGhpcy5tb3ZlUnVubmVyKHRoaXMucHJvY2Vzc1J1bm5lck9mZnNldChvZmZzZXQsIHRoaXMuY2hlY2tSdW5uZXJDbG9zZXIob2Zmc2V0KSkpO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSB1cGRhdGVQcm9ncmVzc0JhciA9ICgpOiB2b2lkID0+IHtcclxuICAgIHRoaXMucHJvZ3Jlc3NCYXIudXBkYXRlKHRoaXMucGFyYW1ldGVycy5pc1ZlcnRpY2FsKTtcclxuICAgIHRoaXMucHJvZ3Jlc3NCYXIuc2V0UG9zaXRpb24odGhpcy5nZXRBZGRpdGlvbmFsUnVubmVyT2Zmc2V0KCkpO1xyXG4gICAgdGhpcy5wcm9ncmVzc0Jhci5zZXREaW1lbnNpb24odGhpcy5nZXRNYWluUnVubmVyT2Zmc2V0KCkgLSB0aGlzLmdldEFkZGl0aW9uYWxSdW5uZXJPZmZzZXQoKSk7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBUcmFjaztcclxuIiwiaW1wb3J0IGNyZWF0ZUVsZW0gZnJvbSAnLi4vY3JlYXRlRWxlbS9jcmVhdGVFbGVtJztcclxuXHJcbmNsYXNzIEJhciB7XHJcbiAgZWxlbTogSFRNTEVsZW1lbnQ7XHJcblxyXG4gIGlzVmVydGljYWw6IGJvb2xlYW47XHJcblxyXG4gIGNvbnN0cnVjdG9yKGlzVmVydGljYWw6IGJvb2xlYW4pIHtcclxuICAgIHRoaXMuZWxlbSA9IGNyZWF0ZUVsZW0oJ3NsaWRlcl9fYmFyJyk7XHJcbiAgICB0aGlzLmlzVmVydGljYWwgPSBpc1ZlcnRpY2FsO1xyXG4gIH1cclxuXHJcbiAgZ2V0UG9zaXRpb24gPSAoKTogbnVtYmVyID0+IHtcclxuICAgIGlmICh0aGlzLmlzVmVydGljYWwpIHtcclxuICAgICAgcmV0dXJuIHRoaXMuZWxlbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS50b3A7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHRoaXMuZWxlbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5sZWZ0O1xyXG4gIH1cclxuXHJcbiAgZ2V0RGltZW5zaW9uID0gKCk6IG51bWJlciA9PiB7XHJcbiAgICBpZiAodGhpcy5pc1ZlcnRpY2FsKSB7XHJcbiAgICAgIHJldHVybiB0aGlzLmVsZW0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkuaGVpZ2h0O1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB0aGlzLmVsZW0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkud2lkdGg7XHJcbiAgfVxyXG5cclxuICB1cGRhdGUgPSAoaXNWZXJ0aWNhbDogYm9vbGVhbik6IHZvaWQgPT4ge1xyXG4gICAgdGhpcy5pc1ZlcnRpY2FsID0gaXNWZXJ0aWNhbDtcclxuXHJcbiAgICBpZiAodGhpcy5pc1ZlcnRpY2FsKSB7XHJcbiAgICAgIHRoaXMuZWxlbS5jbGFzc0xpc3QuYWRkKCdzbGlkZXJfX2Jhcl9wb3NpdGlvbl92ZXJ0aWNhbCcpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5lbGVtLmNsYXNzTGlzdC5yZW1vdmUoJ3NsaWRlcl9fYmFyX3Bvc2l0aW9uX3ZlcnRpY2FsJyk7XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBCYXI7XHJcbiIsImltcG9ydCBjcmVhdGVFbGVtIGZyb20gJy4uL2NyZWF0ZUVsZW0vY3JlYXRlRWxlbSc7XHJcblxyXG5jbGFzcyBLbm9iIHtcclxuICBlbGVtOiBIVE1MRWxlbWVudDtcclxuXHJcbiAgaXNWZXJ0aWNhbDogYm9vbGVhbjtcclxuXHJcbiAgY29uc3RydWN0b3IoaXNWZXJ0aWNhbDogYm9vbGVhbikge1xyXG4gICAgdGhpcy5lbGVtID0gY3JlYXRlRWxlbSgnc2xpZGVyX19idXR0b24nKTtcclxuICAgIHRoaXMuaXNWZXJ0aWNhbCA9IGlzVmVydGljYWw7XHJcbiAgfVxyXG5cclxuICBnZXRXaWR0aCA9ICgpOiBudW1iZXIgPT4ge1xyXG4gICAgcmV0dXJuIHRoaXMuZWxlbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS53aWR0aDtcclxuICB9XHJcblxyXG4gIGdldFBvc2l0aW9uID0gKCk6IG51bWJlciA9PiB7XHJcbiAgICBpZiAodGhpcy5pc1ZlcnRpY2FsKSB7XHJcbiAgICAgIHJldHVybiB0aGlzLmVsZW0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkudG9wO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB0aGlzLmVsZW0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkubGVmdDtcclxuICB9XHJcblxyXG4gIHNldFBvc2l0aW9uID0gKG9mZnNldDogbnVtYmVyKTogdm9pZCA9PiB7XHJcbiAgICBpZiAodGhpcy5pc1ZlcnRpY2FsKSB7XHJcbiAgICAgIHRoaXMuZWxlbS5zdHlsZS5sZWZ0ID0gJzUwJSc7XHJcbiAgICAgIHRoaXMuZWxlbS5zdHlsZS50b3AgPSBvZmZzZXQgKyAncHgnO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5lbGVtLnN0eWxlLnRvcCA9ICc1MCUnO1xyXG4gICAgICB0aGlzLmVsZW0uc3R5bGUubGVmdCA9IG9mZnNldCArICdweCc7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICB1cGRhdGUgPSAoaXNWZXJ0aWNhbDogYm9vbGVhbik6IHZvaWQgPT4ge1xyXG4gICAgdGhpcy5pc1ZlcnRpY2FsID0gaXNWZXJ0aWNhbDtcclxuXHJcbiAgICBpZiAodGhpcy5pc1ZlcnRpY2FsKSB7XHJcbiAgICAgIHRoaXMuZWxlbS5jbGFzc0xpc3QuYWRkKCdzbGlkZXJfX2J1dHRvbl9wb3NpdGlvbl92ZXJ0aWNhbCcpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5lbGVtLmNsYXNzTGlzdC5yZW1vdmUoJ3NsaWRlcl9fYnV0dG9uX3Bvc2l0aW9uX3ZlcnRpY2FsJyk7XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBLbm9iO1xyXG4iLCJpbXBvcnQgY3JlYXRlRWxlbSBmcm9tICcuLi9jcmVhdGVFbGVtL2NyZWF0ZUVsZW0nO1xyXG5cclxuY2xhc3MgVG9vbHRpcCB7XHJcbiAgZWxlbTogSFRNTEVsZW1lbnQ7XHJcblxyXG4gIGlzVmVydGljYWw6IGJvb2xlYW47XHJcblxyXG4gIGNvbnN0cnVjdG9yKGlzVmVydGljYWw6IGJvb2xlYW4pIHtcclxuICAgIHRoaXMuZWxlbSA9IGNyZWF0ZUVsZW0oJ3NsaWRlcl9fYnV0dG9uLWxhYmVsJyk7XHJcbiAgICB0aGlzLmlzVmVydGljYWwgPSBpc1ZlcnRpY2FsO1xyXG4gIH1cclxuXHJcbiAgZ2V0UG9zaXRpb24gPSAoKTogbnVtYmVyID0+IHtcclxuICAgIGlmICh0aGlzLmlzVmVydGljYWwpIHtcclxuICAgICAgcmV0dXJuIHRoaXMuZWxlbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS50b3A7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHRoaXMuZWxlbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5sZWZ0O1xyXG4gIH1cclxuXHJcbiAgc2V0UG9zaXRpb24gPSAob2Zmc2V0OiBudW1iZXIsIHZhbHVlOiBudW1iZXIpOiB2b2lkID0+IHtcclxuICAgIHRoaXMuZWxlbS5pbm5lckhUTUwgPSB2YWx1ZSArICcnO1xyXG5cclxuICAgIGlmICh0aGlzLmlzVmVydGljYWwpIHtcclxuICAgICAgdGhpcy5lbGVtLnN0eWxlLmxlZnQgPSAnNTAlJztcclxuICAgICAgdGhpcy5lbGVtLnN0eWxlLnRvcCA9IG9mZnNldCAtIHRoaXMuZ2V0RGltZW5zaW9uKCkgLyAyICsgJ3B4JztcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuZWxlbS5zdHlsZS50b3AgPSAnNTAlJztcclxuICAgICAgdGhpcy5lbGVtLnN0eWxlLmxlZnQgPSBvZmZzZXQgLSB0aGlzLmdldERpbWVuc2lvbigpIC8gMiArICdweCc7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBnZXREaW1lbnNpb24gPSAoKTogbnVtYmVyID0+IHtcclxuICAgIGlmICh0aGlzLmlzVmVydGljYWwpIHtcclxuICAgICAgcmV0dXJuIHRoaXMuZWxlbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5oZWlnaHQ7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHRoaXMuZWxlbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS53aWR0aDtcclxuICB9XHJcblxyXG4gIHVwZGF0ZSA9IChpc1ZlcnRpY2FsOiBib29sZWFuKTogdm9pZCA9PiB7XHJcbiAgICB0aGlzLmlzVmVydGljYWwgPSBpc1ZlcnRpY2FsO1xyXG5cclxuICAgIGlmICh0aGlzLmlzVmVydGljYWwpIHtcclxuICAgICAgdGhpcy5lbGVtLmNsYXNzTGlzdC5hZGQoJ3NsaWRlcl9fYnV0dG9uLWxhYmVsX3Bvc2l0aW9uX3ZlcnRpY2FsJyk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLmVsZW0uY2xhc3NMaXN0LnJlbW92ZSgnc2xpZGVyX19idXR0b24tbGFiZWxfcG9zaXRpb25fdmVydGljYWwnKTtcclxuICAgIH1cclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IFRvb2x0aXA7XHJcbiIsImltcG9ydCAqIGFzIHR5cGVzIGZyb20gJy4uLy4uLy4uL3R5cGVzJztcclxuaW1wb3J0IE1hcmsgZnJvbSAnLi9NYXJrL01hcmsnO1xyXG5pbXBvcnQgTWFrZU9ic2VydmFibGVPYmplY3QgZnJvbSAnLi4vLi4vLi4vbWFrZU9ic2VydmFibGVPYmplY3QvTWFrZU9ic2VydmFibGVPYmplY3QnO1xyXG5cclxuY2xhc3MgU2NhbGUge1xyXG4gIHBhcmFtZXRlcnM6IHR5cGVzLlBhcmFtZXRlcnM7XHJcblxyXG4gIG1hcmtzOiBBcnJheTxNYXJrPjtcclxuXHJcbiAgb2JzZXJ2ZXJzOiBNYWtlT2JzZXJ2YWJsZU9iamVjdDtcclxuXHJcbiAgY29uc3RydWN0b3IocGFyYW1ldGVyczogdHlwZXMuUGFyYW1ldGVycywgb2JzZXJ2ZXI6IHR5cGVzLkZ1bmN0aW9uQ2FsbGJhY2tEYXRhKSB7XHJcbiAgICB0aGlzLnBhcmFtZXRlcnMgPSBwYXJhbWV0ZXJzO1xyXG4gICAgdGhpcy5tYXJrcyA9IFtdO1xyXG4gICAgdGhpcy5vYnNlcnZlcnMgPSBuZXcgTWFrZU9ic2VydmFibGVPYmplY3QoKTtcclxuICAgIHRoaXMuaW5pdChvYnNlcnZlcik7XHJcbiAgfVxyXG5cclxuICB1cGRhdGUgPSAob3B0aW9uczogdHlwZXMuUGFyYW1ldGVycyk6IHZvaWQgPT4ge1xyXG4gICAgdGhpcy5wYXJhbWV0ZXJzID0gb3B0aW9ucztcclxuICAgIHRoaXMubW92ZU1hcmtzKCk7XHJcbiAgfVxyXG5cclxuICBtb3ZlTWFya3MgPSAoKTogdm9pZCA9PiB7XHJcbiAgICB0aGlzLm1hcmtzLmZvckVhY2goKG1hcmssIGluZGV4KSA9PiB7XHJcbiAgICAgIG1hcmsudXBkYXRlKHRoaXMucGFyYW1ldGVycy5pc1ZlcnRpY2FsKTtcclxuICAgICAgaWYgKGluZGV4ID09PSAwKSB7XHJcbiAgICAgICAgbWFyay5zZXRQb3NpdGlvbigwLCB0aGlzLnBhcmFtZXRlcnMubWluVmFsdWUpO1xyXG4gICAgICB9IGVsc2UgaWYgKGluZGV4ID09PSB0aGlzLm1hcmtzLmxlbmd0aCAtIDEpIHtcclxuICAgICAgICBtYXJrLnNldFBvc2l0aW9uKDEwMCwgdGhpcy5wYXJhbWV0ZXJzLm1heFZhbHVlKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBsZXQgcm91bmRWYWx1ZSA9IHRoaXMucm91bmQodGhpcy5wYXJhbWV0ZXJzLm1pblZhbHVlXHJcbiAgICAgICAgICArICgodGhpcy5wYXJhbWV0ZXJzLm1heFZhbHVlIC0gdGhpcy5wYXJhbWV0ZXJzLm1pblZhbHVlKSAqIGluZGV4KVxyXG4gICAgICAgICAgLyAodGhpcy5tYXJrcy5sZW5ndGggLSAxKSk7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLnBhcmFtZXRlcnMuaXNGbG9hdCkge1xyXG4gICAgICAgICAgcm91bmRWYWx1ZSA9IHBhcnNlRmxvYXQocm91bmRWYWx1ZS50b0ZpeGVkKDIpKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnN0IG9mZnNldCA9IChyb3VuZFZhbHVlIC0gdGhpcy5wYXJhbWV0ZXJzLm1pblZhbHVlKVxyXG4gICAgICAgICAgLyAodGhpcy5wYXJhbWV0ZXJzLm1heFZhbHVlIC0gdGhpcy5wYXJhbWV0ZXJzLm1pblZhbHVlKTtcclxuICAgICAgICBtYXJrLnNldFBvc2l0aW9uKG9mZnNldCAqIDEwMCwgcm91bmRWYWx1ZSk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBpbml0ID0gKG9ic2VydmVyOiB0eXBlcy5GdW5jdGlvbkNhbGxiYWNrRGF0YSk6IHZvaWQgPT4ge1xyXG4gICAgdGhpcy5tb3ZlTWFya3MoKTtcclxuICAgIHRoaXMuY3JlYXRlTWFya3MoKTtcclxuICAgIHRoaXMub2JzZXJ2ZXJzLmFkZE9ic2VydmVyKG9ic2VydmVyKTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgaGFuZGxlU2NhbGVDbGljayA9ICh2YWx1ZTogbnVtYmVyKTogdm9pZCA9PiB7XHJcbiAgICB0aGlzLm9ic2VydmVycy5ub3RpZnlPYnNlcnZlcnModmFsdWUpO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBjcmVhdGVNYXJrcyA9ICgpOiB2b2lkID0+IHtcclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgNTsgaSArPSAxKSB7XHJcbiAgICAgIGNvbnN0IG1hcmsgPSBuZXcgTWFyayh0aGlzLnBhcmFtZXRlcnMuaXNWZXJ0aWNhbCwgdGhpcy5oYW5kbGVTY2FsZUNsaWNrKTtcclxuICAgICAgdGhpcy5tYXJrcy5wdXNoKG1hcmspO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSByb3VuZCA9ICh2YWx1ZTogbnVtYmVyKTogbnVtYmVyID0+IHtcclxuICAgIGNvbnN0IHdob2xlID0gTWF0aC50cnVuYyh2YWx1ZSAvIHRoaXMucGFyYW1ldGVycy5zdGVwKTtcclxuXHJcbiAgICBjb25zdCByZW1pbmRlciA9ICsodmFsdWUgLSB3aG9sZSAqIHRoaXMucGFyYW1ldGVycy5zdGVwKS50b0ZpeGVkKDIpO1xyXG4gICAgaWYgKHZhbHVlIDwgMCkge1xyXG4gICAgICByZXR1cm4gTWF0aC5hYnMocmVtaW5kZXIpIDwgdGhpcy5wYXJhbWV0ZXJzLnN0ZXAgLyAyXHJcbiAgICAgICAgPyB3aG9sZSAqIHRoaXMucGFyYW1ldGVycy5zdGVwXHJcbiAgICAgICAgOiAod2hvbGUgLSAxKSAqIHRoaXMucGFyYW1ldGVycy5zdGVwO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiByZW1pbmRlciA8IHRoaXMucGFyYW1ldGVycy5zdGVwIC8gMlxyXG4gICAgICA/IHdob2xlICogdGhpcy5wYXJhbWV0ZXJzLnN0ZXBcclxuICAgICAgOiAod2hvbGUgKyAxKSAqIHRoaXMucGFyYW1ldGVycy5zdGVwO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgU2NhbGU7XHJcbiIsImltcG9ydCAqIGFzIHR5cGVzIGZyb20gJy4uLy4uLy4uLy4uL3R5cGVzJztcclxuaW1wb3J0IGNyZWF0ZUVsZW0gZnJvbSAnLi4vLi4vY3JlYXRlRWxlbS9jcmVhdGVFbGVtJztcclxuaW1wb3J0IE1ha2VPYnNlcnZhYmxlT2JqZWN0IGZyb20gJy4uLy4uLy4uLy4uL21ha2VPYnNlcnZhYmxlT2JqZWN0L01ha2VPYnNlcnZhYmxlT2JqZWN0JztcclxuXHJcbmNsYXNzIE1hcmsge1xyXG4gIGVsZW06IEhUTUxFbGVtZW50O1xyXG5cclxuICBpc1ZlcnRpY2FsOiBib29sZWFuO1xyXG5cclxuICB2YWx1ZTogbnVtYmVyO1xyXG5cclxuICBvYnNlcnZlcnM6IE1ha2VPYnNlcnZhYmxlT2JqZWN0O1xyXG5cclxuICBjb25zdHJ1Y3Rvcihpc1ZlcnRpY2FsOiBib29sZWFuLCBvYnNlcnZlcjogdHlwZXMuRnVuY3Rpb25DYWxsYmFja0RhdGEpIHtcclxuICAgIHRoaXMuZWxlbSA9IGNyZWF0ZUVsZW0oJ3NsaWRlcl9fbWFyaycpO1xyXG4gICAgdGhpcy5pc1ZlcnRpY2FsID0gaXNWZXJ0aWNhbDtcclxuICAgIHRoaXMub2JzZXJ2ZXJzID0gbmV3IE1ha2VPYnNlcnZhYmxlT2JqZWN0KCk7XHJcbiAgICB0aGlzLmluaXQob2JzZXJ2ZXIpO1xyXG4gIH1cclxuXHJcbiAgZ2V0UG9zaXRpb24gPSAoKTogbnVtYmVyID0+IHtcclxuICAgIGlmICh0aGlzLmlzVmVydGljYWwpIHtcclxuICAgICAgcmV0dXJuIHRoaXMuZWxlbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS50b3A7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHRoaXMuZWxlbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5sZWZ0O1xyXG4gIH1cclxuXHJcbiAgc2V0UG9zaXRpb24gPSAob2Zmc2V0OiBudW1iZXIsIHZhbHVlOiBudW1iZXIpOiB2b2lkID0+IHtcclxuICAgIHRoaXMuZWxlbS5pbm5lckhUTUwgPSB2YWx1ZSArICcnO1xyXG4gICAgdGhpcy52YWx1ZSA9IHZhbHVlO1xyXG5cclxuICAgIGlmICh0aGlzLmlzVmVydGljYWwpIHtcclxuICAgICAgdGhpcy5lbGVtLnN0eWxlLmxlZnQgPSAnNTAlJztcclxuICAgICAgdGhpcy5lbGVtLnN0eWxlLnRvcCA9IG9mZnNldCArICclJztcclxuICAgICAgdGhpcy5lbGVtLnN0eWxlLm1hcmdpblRvcCA9IC10aGlzLmdldERpbWVuc2lvbigpIC8gMiArICdweCc7XHJcbiAgICAgIHRoaXMuZWxlbS5zdHlsZS5tYXJnaW5MZWZ0ID0gJy00NXB4JztcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuZWxlbS5zdHlsZS50b3AgPSAnNTAlJztcclxuICAgICAgdGhpcy5lbGVtLnN0eWxlLmxlZnQgPSBvZmZzZXQgKyAnJSc7XHJcbiAgICAgIHRoaXMuZWxlbS5zdHlsZS5tYXJnaW5MZWZ0ID0gLXRoaXMuZ2V0RGltZW5zaW9uKCkgLyAyICsgJ3B4JztcclxuICAgICAgdGhpcy5lbGVtLnN0eWxlLm1hcmdpblRvcCA9ICcxNXB4JztcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGdldERpbWVuc2lvbiA9ICgpOiBudW1iZXIgPT4ge1xyXG4gICAgaWYgKHRoaXMuaXNWZXJ0aWNhbCkge1xyXG4gICAgICByZXR1cm4gdGhpcy5lbGVtLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmhlaWdodDtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gdGhpcy5lbGVtLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLndpZHRoO1xyXG4gIH1cclxuXHJcbiAgdXBkYXRlID0gKGlzVmVydGljYWw6IGJvb2xlYW4pOiB2b2lkID0+IHtcclxuICAgIHRoaXMuaXNWZXJ0aWNhbCA9IGlzVmVydGljYWw7XHJcblxyXG4gICAgaWYgKHRoaXMuaXNWZXJ0aWNhbCkge1xyXG4gICAgICB0aGlzLmVsZW0uY2xhc3NMaXN0LmFkZCgnc2xpZGVyX19tYXJrX3Bvc2l0aW9uX3ZlcnRpY2FsJyk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLmVsZW0uY2xhc3NMaXN0LnJlbW92ZSgnc2xpZGVyX19tYXJrX3Bvc2l0aW9uX3ZlcnRpY2FsJyk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGluaXQgPSAob2JzZXJ2ZXI6IHR5cGVzLkZ1bmN0aW9uQ2FsbGJhY2tEYXRhKTogdm9pZCA9PiB7XHJcbiAgICB0aGlzLmVsZW0ub25jbGljayA9IHRoaXMuaGFuZGxlTWFya0NsaWNrO1xyXG4gICAgdGhpcy5vYnNlcnZlcnMuYWRkT2JzZXJ2ZXIob2JzZXJ2ZXIpO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBoYW5kbGVNYXJrQ2xpY2sgPSAoKTogdm9pZCA9PiB7XHJcbiAgICB0aGlzLm9ic2VydmVycy5ub3RpZnlPYnNlcnZlcnModGhpcy52YWx1ZSk7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBNYXJrO1xyXG4iLCJpbXBvcnQgY3JlYXRlRWxlbSBmcm9tICcuLi9jcmVhdGVFbGVtL2NyZWF0ZUVsZW0nO1xyXG5cclxuY2xhc3MgUHJvZ3Jlc3NCYXIge1xyXG4gIGVsZW06IEhUTUxFbGVtZW50O1xyXG5cclxuICBpc1ZlcnRpY2FsOiBib29sZWFuO1xyXG5cclxuICBjb25zdHJ1Y3Rvcihpc1ZlcnRpY2FsOiBib29sZWFuKSB7XHJcbiAgICB0aGlzLmVsZW0gPSBjcmVhdGVFbGVtKCdzbGlkZXJfX3Byb2dyZXNzLWJhcicpO1xyXG4gICAgdGhpcy5pc1ZlcnRpY2FsID0gaXNWZXJ0aWNhbDtcclxuICB9XHJcblxyXG4gIHNldFBvc2l0aW9uID0gKG9mZnNldDogbnVtYmVyKTogdm9pZCA9PiB7XHJcbiAgICBpZiAodGhpcy5pc1ZlcnRpY2FsKSB7XHJcbiAgICAgIHRoaXMuZWxlbS5zdHlsZS5sZWZ0ID0gJzAnO1xyXG4gICAgICB0aGlzLmVsZW0uc3R5bGUud2lkdGggPSAnMTAwJSc7XHJcbiAgICAgIHRoaXMuZWxlbS5zdHlsZS50b3AgPSBvZmZzZXQgKyAncHgnO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5lbGVtLnN0eWxlLnRvcCA9ICcwJztcclxuICAgICAgdGhpcy5lbGVtLnN0eWxlLmhlaWdodCA9ICcxMDAlJztcclxuICAgICAgdGhpcy5lbGVtLnN0eWxlLmxlZnQgPSBvZmZzZXQgKyAncHgnO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgc2V0RGltZW5zaW9uID0gKGRpbWVuc2lvbjogbnVtYmVyKTogdm9pZCA9PiB7XHJcbiAgICBpZiAodGhpcy5pc1ZlcnRpY2FsKSB7XHJcbiAgICAgIHRoaXMuZWxlbS5zdHlsZS5oZWlnaHQgPSBkaW1lbnNpb24gKyAncHgnO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5lbGVtLnN0eWxlLndpZHRoID0gZGltZW5zaW9uICsgJ3B4JztcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHVwZGF0ZSA9IChpc1ZlcnRpY2FsOiBib29sZWFuKTogdm9pZCA9PiB7XHJcbiAgICB0aGlzLmlzVmVydGljYWwgPSBpc1ZlcnRpY2FsO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgUHJvZ3Jlc3NCYXI7XHJcbiIsImltcG9ydCAqIGFzIHR5cGVzIGZyb20gJy4uL3R5cGVzJztcclxuaW1wb3J0IE1ha2VPYnNlcnZhYmxlT2JqZWN0IGZyb20gJy4uL21ha2VPYnNlcnZhYmxlT2JqZWN0L01ha2VPYnNlcnZhYmxlT2JqZWN0JztcclxuXHJcbmNsYXNzIE1vZGVsIHtcclxuICBjdXJyZW50VmFsdWVzOiB0eXBlcy5DdXJyZW50VmFsdWVzO1xyXG5cclxuICBvYnNlcnZlcnM6IE1ha2VPYnNlcnZhYmxlT2JqZWN0O1xyXG5cclxuICBjb25zdHJ1Y3RvcihjdXJyZW50VmFsdWVzOiB0eXBlcy5DdXJyZW50VmFsdWVzKSB7XHJcbiAgICB0aGlzLmN1cnJlbnRWYWx1ZXMgPSBjdXJyZW50VmFsdWVzO1xyXG4gICAgdGhpcy5vYnNlcnZlcnMgPSBuZXcgTWFrZU9ic2VydmFibGVPYmplY3QoKTtcclxuICB9XHJcblxyXG4gIHNldEN1cnJlbnRNaW5WYWx1ZShkYXRhOiBudW1iZXIpOiB2b2lkIHtcclxuICAgIGlmICh0aGlzLmN1cnJlbnRWYWx1ZXMuY3VycmVudE1pblZhbHVlICE9PSBkYXRhKSB7XHJcbiAgICAgIHRoaXMuY3VycmVudFZhbHVlcy5jdXJyZW50TWluVmFsdWUgPSBkYXRhO1xyXG4gICAgICB0aGlzLm9ic2VydmVycy5ub3RpZnlPYnNlcnZlcnMoKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHNldEN1cnJlbnRNYXhWYWx1ZShkYXRhOiBudW1iZXIpOiB2b2lkIHtcclxuICAgIGlmICh0aGlzLmN1cnJlbnRWYWx1ZXMuY3VycmVudE1heFZhbHVlICE9PSBkYXRhKSB7XHJcbiAgICAgIHRoaXMuY3VycmVudFZhbHVlcy5jdXJyZW50TWF4VmFsdWUgPSBkYXRhO1xyXG4gICAgICB0aGlzLm9ic2VydmVycy5ub3RpZnlPYnNlcnZlcnMoKTtcclxuICAgIH1cclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IE1vZGVsO1xyXG4iLCJ2YXIgbWFwID0ge1xuXHRcIi4vQ29udHJvbGxlci9Db250cm9sbGVyLnRzXCI6IDUsXG5cdFwiLi9Db250cm9sbGVyL2Jsb2Nrcy9wYXJzaW5nRGlnaXRzL1BhcnNpbmdEaWdpdHMudHNcIjogMyxcblx0XCIuL01vZGVsL01vZGVsLnRzXCI6IDE0LFxuXHRcIi4vVmlldy9WaWV3LnRzXCI6IDYsXG5cdFwiLi9WaWV3L2Jsb2Nrcy9CYXIvQmFyLnRzXCI6IDgsXG5cdFwiLi9WaWV3L2Jsb2Nrcy9Lbm9iL0tub2IudHNcIjogOSxcblx0XCIuL1ZpZXcvYmxvY2tzL1Byb2dyZXNzQmFyL1Byb2dyZXNzQmFyLnRzXCI6IDEzLFxuXHRcIi4vVmlldy9ibG9ja3MvUnVubmVyL1J1bm5lci50c1wiOiA0LFxuXHRcIi4vVmlldy9ibG9ja3MvU2NhbGUvTWFyay9NYXJrLnRzXCI6IDEyLFxuXHRcIi4vVmlldy9ibG9ja3MvU2NhbGUvU2NhbGUudHNcIjogMTEsXG5cdFwiLi9WaWV3L2Jsb2Nrcy9Ub29sdGlwL1Rvb2x0aXAudHNcIjogMTAsXG5cdFwiLi9WaWV3L2Jsb2Nrcy9UcmFjay9UcmFjay50c1wiOiA3LFxuXHRcIi4vVmlldy9ibG9ja3MvY3JlYXRlRWxlbS9jcmVhdGVFbGVtLnRzXCI6IDEsXG5cdFwiLi9tYWtlT2JzZXJ2YWJsZU9iamVjdC9NYWtlT2JzZXJ2YWJsZU9iamVjdC50c1wiOiAwLFxuXHRcIi4vc2xpZGVyLnRzXCI6IDE2LFxuXHRcIi4vc3R5bGUuc2Nzc1wiOiAxNyxcblx0XCIuL3R5cGVzLnRzXCI6IDJcbn07XG5cblxuZnVuY3Rpb24gd2VicGFja0NvbnRleHQocmVxKSB7XG5cdHZhciBpZCA9IHdlYnBhY2tDb250ZXh0UmVzb2x2ZShyZXEpO1xuXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhpZCk7XG59XG5mdW5jdGlvbiB3ZWJwYWNrQ29udGV4dFJlc29sdmUocmVxKSB7XG5cdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8obWFwLCByZXEpKSB7XG5cdFx0dmFyIGUgPSBuZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiICsgcmVxICsgXCInXCIpO1xuXHRcdGUuY29kZSA9ICdNT0RVTEVfTk9UX0ZPVU5EJztcblx0XHR0aHJvdyBlO1xuXHR9XG5cdHJldHVybiBtYXBbcmVxXTtcbn1cbndlYnBhY2tDb250ZXh0LmtleXMgPSBmdW5jdGlvbiB3ZWJwYWNrQ29udGV4dEtleXMoKSB7XG5cdHJldHVybiBPYmplY3Qua2V5cyhtYXApO1xufTtcbndlYnBhY2tDb250ZXh0LnJlc29sdmUgPSB3ZWJwYWNrQ29udGV4dFJlc29sdmU7XG5tb2R1bGUuZXhwb3J0cyA9IHdlYnBhY2tDb250ZXh0O1xud2VicGFja0NvbnRleHQuaWQgPSAxNTsiLCIvKiBnbG9iYWwgalF1ZXJ5ICovXHJcbmltcG9ydCAqIGFzIHR5cGVzIGZyb20gJy4vdHlwZXMnO1xyXG5pbXBvcnQgQ29udHJvbGxlciBmcm9tICcuL0NvbnRyb2xsZXIvQ29udHJvbGxlcic7XHJcblxyXG4oZnVuY3Rpb24gcGx1Z2luV3JhcHBlcigkKSB7XHJcbiAgY29uc3QgbWV0aG9kczogTWV0aG9kcyA9IHtcclxuICAgIGluaXQ6IGZ1bmN0aW9uIGluaXQob3B0OiB0eXBlcy5QYXJhbWV0ZXJzKSB7XHJcbiAgICAgIGlmICghJCh0aGlzKS5kYXRhKCdzbGlkZXInKSkge1xyXG4gICAgICAgIGNvbnN0IG5ld0NvbmZpZyA9IHsgLi4udHlwZXMuZGVmYXVsdFBhcmFtZXRlcnMgfTtcclxuICAgICAgICBjb25zdCBzbGlkZXIgPSBuZXcgQ29udHJvbGxlcigkLmV4dGVuZChuZXdDb25maWcsIG9wdCkpO1xyXG4gICAgICAgICQodGhpcykuZGF0YSgnc2xpZGVyJywgc2xpZGVyKTtcclxuICAgICAgICBzbGlkZXIuYXBwZW5kVG9Ob2RlKCQodGhpcykpO1xyXG4gICAgICB9XHJcbiAgICB9LFxyXG5cclxuICAgIHVwZGF0ZTogZnVuY3Rpb24gdXBkYXRlKG9wdDogdHlwZXMuUGFyYW1ldGVycykge1xyXG4gICAgICBjb25zdCBzbGlkZXIgPSAkKHRoaXMpLmRhdGEoJ3NsaWRlcicpO1xyXG4gICAgICBzbGlkZXIudXBkYXRlQ29uZmlnKG9wdCk7XHJcbiAgICB9LFxyXG5cclxuICAgIGdldENvbmZpZzogZnVuY3Rpb24gZ2V0Q29uZmlnKCkge1xyXG4gICAgICBjb25zdCBzbGlkZXIgPSAkKHRoaXMpLmRhdGEoJ3NsaWRlcicpO1xyXG4gICAgICByZXR1cm4gc2xpZGVyLmdldENvbmZpZygpO1xyXG4gICAgfSxcclxuXHJcbiAgICBzZXRWYWx1ZXM6IGZ1bmN0aW9uIHNldFZhbHVlcyhvcHQ6IHR5cGVzLkN1cnJlbnRWYWx1ZXMpIHtcclxuICAgICAgY29uc3Qgc2xpZGVyID0gJCh0aGlzKS5kYXRhKCdzbGlkZXInKTtcclxuICAgICAgc2xpZGVyLnNldFZhbHVlcyhvcHQuY3VycmVudE1pblZhbHVlLCBvcHQuY3VycmVudE1heFZhbHVlKTtcclxuICAgIH0sXHJcblxyXG4gICAgaW5wdXRzQXR0YWNoOiBmdW5jdGlvbiBpbnB1dHNBdHRhY2gob3B0OiBJbnB1dHNPYmplY3QpIHtcclxuICAgICAgY29uc3Qgc2xpZGVyID0gJCh0aGlzKS5kYXRhKCdzbGlkZXInKTtcclxuICAgICAgc2xpZGVyLmFkZE9ic2VydmVyKCgpID0+IHtcclxuICAgICAgICBvcHQubWluVmFsdWVJbnB1dC52YWwoc2xpZGVyLmdldFZhbHVlcygpLmN1cnJlbnRNaW5WYWx1ZSk7XHJcbiAgICAgICAgb3B0Lm1heFZhbHVlSW5wdXQudmFsKHNsaWRlci5nZXRWYWx1ZXMoKS5jdXJyZW50TWF4VmFsdWUpO1xyXG4gICAgICAgIG9wdC5tYXhWYWx1ZS52YWwoc2xpZGVyLmdldENvbmZpZygpLm1heFZhbHVlKTtcclxuICAgICAgICBvcHQubWluVmFsdWUudmFsKHNsaWRlci5nZXRDb25maWcoKS5taW5WYWx1ZSk7XHJcbiAgICAgICAgb3B0LnN0ZXAudmFsKHNsaWRlci5nZXRDb25maWcoKS5zdGVwKTtcclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgJC5mbi5vbWZnc2xpZGVyID0gZnVuY3Rpb24gcHJvY2Vzc01ldGhvZChtZXRob2Q6IHN0cmluZywgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1wYXJhbS1yZWFzc2lnblxyXG4gICAgLi4uYXJnczogQXJyYXk8dHlwZXMuY29uZmlnVXBkYXRlRGF0YT4pIHtcclxuICAgIGlmIChtZXRob2RzW21ldGhvZF0pIHtcclxuICAgICAgcmV0dXJuIG1ldGhvZHNbbWV0aG9kXS5hcHBseSh0aGlzLCBhcmdzKTtcclxuICAgIH0gaWYgKHR5cGVvZiBtZXRob2QgPT09ICdvYmplY3QnIHx8ICFtZXRob2QpIHtcclxuICAgICAgcmV0dXJuIG1ldGhvZHMuaW5pdC5hcHBseSh0aGlzLCBtZXRob2QpO1xyXG4gICAgfVxyXG4gICAgJC5lcnJvcihg0JzQtdGC0L7QtCAke21ldGhvZH0g0L3QtSDQvdCw0LnQtNC10L0g0LIg0L/Qu9Cw0LPQuNC90LUgalF1ZXJ5Lm9tZmdzbGlkZXJgKTtcclxuICAgIHJldHVybiBudWxsO1xyXG4gIH07XHJcbn0oalF1ZXJ5KSk7XHJcbiIsImV4cG9ydCBkZWZhdWx0IF9fd2VicGFja19wdWJsaWNfcGF0aF9fICsgXCJpbmRleC5odG1sXCI7IiwiaW1wb3J0ICcuL2RlbW8tcGFnZS9pbmRleC5odG1sJztcclxuXHJcbmZ1bmN0aW9uIGltcG9ydEFsbChyOiBfX1dlYnBhY2tNb2R1bGVBcGkuUmVxdWlyZUNvbnRleHQpIHtcclxuICByLmtleXMoKS5mb3JFYWNoKHIpO1xyXG59XHJcblxyXG5pbXBvcnRBbGwocmVxdWlyZS5jb250ZXh0KCcuL3BsdWdpbicsIHRydWUsIC8oPzwhXFwuZClcXC4oanN8dHN8c2NzcykkL2kpKTtcclxuIl0sInNvdXJjZVJvb3QiOiIifQ==