!function(e){var t={};function i(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,i),o.l=!0,o.exports}i.m=e,i.c=t,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)i.d(n,o,function(t){return e[t]}.bind(null,o));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=14)}([function(e,t,i){"use strict";i.r(t),t.default=function(e){var t=document.createElement("div");return t.ondragstart=function(){return!1},t.classList.add(e),t}},function(e,t,i){"use strict";i.r(t);var n=function(){for(var e=0,t=0,i=arguments.length;t<i;t++)e+=arguments[t].length;var n=Array(e),o=0;for(t=0;t<i;t++)for(var s=arguments[t],a=0,l=s.length;a<l;a++,o++)n[o]=s[a];return n},o=function(){function e(){this.observers=[]}return e.prototype.addObserver=function(e){if("function"!=typeof e)throw new Error("observer must be a function");this.observers.map((function(t){if(t===e)throw new Error("observer already in the list")})),this.observers.push(e)},e.prototype.removeObserver=function(e){for(var t=0;t<this.observers.length;t++){if(this.observers[t]===e)return void this.observers.splice(t,1)}throw new Error("could not find observer in list of observers")},e.prototype.notifyObservers=function(){n(this.observers).map((function(e){return e()}))},e}();t.default=o},function(e,t,i){"use strict";i.r(t);var n=i(0),o=function(e){var t=this;this.getWidth=function(){return t.elem.getBoundingClientRect().width},this.getPosition=function(){return t.isVertical?t.elem.getBoundingClientRect().top:t.elem.getBoundingClientRect().left},this.setPosition=function(e){t.isVertical?(t.elem.style.left="50%",t.elem.style.top=e+"px"):(t.elem.style.top="50%",t.elem.style.left=e+"px")},this.init=function(e){t.isVertical=e,t.isVertical?t.elem.classList.add("slider__button_position_vertical"):t.elem.classList.remove("slider__button_position_vertical")},this.elem=Object(n.default)("slider__button"),this.isVertical=e};t.default=o},function(e,t,i){"use strict";i.r(t);var n=i(0),o=function(e){var t=this;this.getPosition=function(){return t.isVertical?t.elem.getBoundingClientRect().top:t.elem.getBoundingClientRect().left},this.setPosition=function(e,i){t.elem.innerHTML=i+"",t.isVertical?(t.elem.style.left="50%",t.elem.style.top=e-t.getDimension()/2+"px"):(t.elem.style.top="50%",t.elem.style.left=e-t.getDimension()/2+"px")},this.getDimension=function(){return t.isVertical?t.elem.getBoundingClientRect().height:t.elem.getBoundingClientRect().width},this.init=function(e){t.isVertical=e,t.isVertical?t.elem.classList.add("slider__button-label_position_vertical"):t.elem.classList.remove("slider__button-label_position_vertical")},this.elem=Object(n.default)("slider__button-label"),this.isVertical=e};t.default=o},function(e,t,i){"use strict";i.r(t);var n=function(){function e(){}return e.parsing=function(e){if("number"==typeof e)return e;if("string"==typeof e){if(/^-?\d+[\.,]\d+$/.test(e))return parseFloat(e);if(/^-?\d+$/.test(e))return parseInt(e)}return null},e}();t.default=n},function(e,t,i){"use strict";i.r(t);var n=i(0),o=function(e){var t=this;this.getPosition=function(){return t.isVertical?t.elem.getBoundingClientRect().top:t.elem.getBoundingClientRect().left},this.getDimension=function(){return t.isVertical?t.elem.getBoundingClientRect().height:t.elem.getBoundingClientRect().width},this.init=function(e){t.isVertical=e,t.isVertical?t.elem.classList.add("slider__scale_position_vertical"):t.elem.classList.remove("slider__scale_position_vertical")},this.elem=Object(n.default)("slider__scale"),this.isVertical=e};t.default=o},function(e,t,i){"use strict";i.r(t);var n=i(0),o=function(){var e=this;this.init=function(t,i,n,o){void 0===o&&(o=!1),e.mark1.innerHTML=t+"",e.mark4.innerHTML=i+"",o?(e.mark2.innerHTML=(t+(i-t)/3).toFixed(2),e.mark3.innerHTML=(t+2*(i-t)/3).toFixed(2)):(e.mark2.innerHTML=t+Math.round((i-t)/3)+"",e.mark3.innerHTML=t+Math.round(2*(i-t)/3)+""),n?(e.mark1.classList.remove("slider__graduation-mark_offset_left"),e.mark1.classList.add("slider__graduation-mark_offset_top"),e.mark4.classList.remove("slider__graduation-mark_offset_right"),e.mark4.classList.add("slider__graduation-mark_offset_bottom"),e.gradElem.classList.add("slider__graduation_position_vertical")):(e.mark1.classList.add("slider__graduation-mark_offset_left"),e.mark1.classList.remove("slider__graduation-mark_offset_top"),e.mark4.classList.add("slider__graduation-mark_offset_right"),e.mark4.classList.remove("slider__graduation-mark_offset_bottom"),e.gradElem.classList.remove("slider__graduation_position_vertical"))},this.gradElem=Object(n.default)("slider__graduation"),this.mark1=Object(n.default)("slider__graduation-mark"),this.mark2=Object(n.default)("slider__graduation-mark"),this.mark3=Object(n.default)("slider__graduation-mark"),this.mark4=Object(n.default)("slider__graduation-mark"),this.gradElem.appendChild(this.mark1),this.gradElem.appendChild(this.mark2),this.gradElem.appendChild(this.mark3),this.gradElem.appendChild(this.mark4)};t.default=o},function(e,t,i){"use strict";i.r(t);var n=i(0),o=function(e){var t=this;this.setPosition=function(e){t.isVertical?(t.elem.style.left="0",t.elem.style.width="100%",t.elem.style.top=e+"px"):(t.elem.style.top="0",t.elem.style.height="100%",t.elem.style.left=e+"px")},this.setDimension=function(e){t.isVertical?t.elem.style.height=e+"px":t.elem.style.width=e+"px"},this.init=function(e){t.isVertical=e},this.elem=Object(n.default)("slider__scale-filling"),this.isVertical=e};t.default=o},function(e,t,i){"use strict";i.r(t);var n=i(9),o=i(10),s=i(1),a=i(4),l=function(e,t,i,l,r,u,c){var d=this;void 0===e&&(e=0),void 0===t&&(t=1e3),void 0===i&&(i=1),void 0===l&&(l=!1),void 0===r&&(r=!1),void 0===u&&(u=!1),void 0===c&&(c=!1),this.append=function(e){d.view.append(e.get(0)),d.view.init()},this.checkStep=function(e){var t=Math.abs(a.default.parsing(e));return null===t||0===t||t>=d.view.maxValue-d.view.minValue?(console.log("Wrong value of the step"),d.view.step):(t%1!=0?d.view.isFloat=!0:d.view.maxValue%1==0&&d.view.minValue%1==0&&(d.view.isFloat=!1),t)},this.checkMaxValue=function(e){var t=a.default.parsing(e);return null===t||t<=d.view.minValue?(console.log("Wrong value of the maxValue"),d.view.maxValue):(t%1!=0?d.view.isFloat=!0:d.view.step%1==0&&d.view.minValue%1==0&&(d.view.isFloat=!1),t)},this.checkMinValue=function(e){var t=a.default.parsing(e);return null===t||t>=d.view.maxValue?(console.log("Wrong value of the minValue"),d.view.minValue):(t%1!=0?d.view.isFloat=!0:d.view.maxValue%1==0&&d.view.step%1==0&&(d.view.isFloat=!1),t)},this.update=function(e){Object.keys(e).map((function(t){void 0!==d.view[t]&&("step"===t?d.view.step=d.checkStep(e[t]):"maxValue"===t?d.view.maxValue=d.checkMaxValue(e[t]):"minValue"===t?d.view.minValue=d.checkMinValue(e[t]):d.view[t]=e[t])})),d.view.init()},this.getValues=function(){return[d.model.curMinValue,d.model.curMaxValue]},this.setValues=function(e,t){e&&d.model.setCurMinValue(e),t&&d.model.setCurMaxValue(t)},this.getConfig=function(){return{minValue:d.view.minValue,maxValue:d.view.maxValue,step:d.view.step,isRange:d.view.isRange,isVertical:d.view.isVertical,showLabel:d.view.showLabel,isFloat:d.view.isFloat}},this.addObserver=function(e){d.observers.addObserver(e)},this.view=new n.View(e,t,i,l,r,u,c),this.model=new o.default(e,t),this.observers=new s.default,this.view.observers.addObserver((function(){d.model.curMinValue=d.view.curMinValue,d.model.curMaxValue=d.view.curMaxValue,d.observers.notifyObservers()})),this.model.observers.addObserver((function(){var e=d.model.curMinValue,t=d.model.curMaxValue;d.view.butt1Move(d.view.offsetValueConv(e),e),d.view.butt2Move(d.view.offsetValueConv(t),t),d.observers.notifyObservers()}))};t.default=l},function(e,t,i){"use strict";i.r(t),i.d(t,"View",(function(){return c}));var n=i(1),o=i(0);i.d(t,"createElem",(function(){return o.default}));var s=i(5);i.d(t,"Scale",(function(){return s.default}));var a=i(6);i.d(t,"Graduation",(function(){return a.default}));var l=i(2);i.d(t,"Button",(function(){return l.default}));var r=i(3);i.d(t,"Label",(function(){return r.default}));var u=i(7);i.d(t,"ScaleFilling",(function(){return u.default}));var c=function(){function e(e,t,i,o,c,d,f){var m=this;void 0===e&&(e=0),void 0===t&&(t=1e3),void 0===i&&(i=1),void 0===o&&(o=!1),void 0===c&&(c=!1),void 0===d&&(d=!1),void 0===f&&(f=!1),this.getStart=function(){return m.isRange?m.button1.getPosition()-m.scale.getPosition()+m.button1.getWidth()/2:0},this.getEnd=function(){return m.button2.getPosition()-m.scale.getPosition()+m.button2.getWidth()/2},this.updateElems=function(){m.scaleFilling.init(m.isVertical),m.scaleFilling.setPosition(m.getStart()),m.scaleFilling.setDimension(m.getEnd()-m.getStart()),m.observers.notifyObservers()},this.round=function(e,t){var i=Math.trunc(e/t),n=+(e-i*t).toFixed(2);return e<0?Math.abs(n)<t/2?i*t:(i-1)*t:e<=m.minValue?m.minValue:e>=m.maxValue?m.maxValue:n<t/2?i*t:(i+1)*t},this.roundOffsetButt=function(e){var t=m.minValue+(e+m.button2.getWidth()/2)*(m.maxValue-m.minValue)/m.scale.getDimension(),i=m.round(t,m.step);return m.isFloat&&(i=parseFloat(i.toFixed(2))),[m.offsetValueConv(i),i]},this.offsetValueConv=function(e){return(e-m.minValue)/(m.maxValue-m.minValue)*m.scale.getDimension()-m.button2.getWidth()/2},this.butt1Move=function(e,t){m.button1.setPosition(e),m.label1.setPosition(e+m.button1.getWidth()/2,t),t<m.minValue&&(t=m.minValue),m.curMinValue=t,m.updateElems()},this.butt1OffsetCheck=function(e){var t;e<-m.button1.getWidth()/2&&(e=-m.button1.getWidth()/2,t=m.minValue);var i=m.step*m.scale.getDimension()/(m.maxValue-m.minValue),n=i/1.5>m.button1.getWidth()?i/1.5:m.button1.getWidth();return e>m.button2.getPosition()-m.scale.getPosition()-n&&(e=m.button2.getPosition()-m.scale.getPosition()-n),[e,t]},this.onMouseMove1=function(e){var t,i,n,o,s=(m.isVertical?e.clientY:e.clientX)-m.scale.getPosition()-m.button2.getWidth()/2;o=(t=m.butt1OffsetCheck(s))[0],void 0===(n=t[1])&&(o=(i=m.roundOffsetButt(o))[0],n=i[1]),m.butt1Move(o,n)},this.onMouseUp1=function(){document.removeEventListener("mouseup",m.onMouseUp1),document.removeEventListener("mousemove",m.onMouseMove1)},this.butt2Move=function(e,t){m.button2.setPosition(e),m.label2.setPosition(e+m.button2.getWidth()/2,t),t<m.minValue?t=m.minValue:t>m.maxValue&&(t=m.maxValue),m.curMaxValue=t,m.updateElems()},this.butt2OffsetCheck=function(e){var t;m.isRange||e<-m.button2.getWidth()/2&&(e=-m.button2.getWidth()/2,t=m.minValue),e>m.scale.getDimension()-m.button2.getWidth()/2&&(e=m.scale.getDimension()-m.button2.getWidth()/2,t=m.maxValue);var i=m.step*m.scale.getDimension()/(m.maxValue-m.minValue),n=i/1.5>m.button1.getWidth()?i/1.5:m.button1.getWidth();return e<m.button1.getPosition()-m.scale.getPosition()+n&&(e=m.button1.getPosition()-m.scale.getPosition()+n),[e,t]},this.onMouseMove2=function(e){var t,i,n,o,s=(m.isVertical?e.clientY:e.clientX)-m.scale.getPosition()-m.button2.getWidth()/2;o=(t=m.butt2OffsetCheck(s))[0],void 0===(n=t[1])&&(o=(i=m.roundOffsetButt(o))[0],n=i[1]),m.butt2Move(o,n)},this.onMouseUp2=function(){document.removeEventListener("mouseup",m.onMouseUp2),document.removeEventListener("mousemove",m.onMouseMove2)},this.butt1CloserCheck=function(e){return Math.abs(e-m.button1.getPosition()-m.button1.getWidth()/2)<Math.abs(e-m.button2.getPosition()-m.button2.getWidth()/2)},this.scaleOnclick=function(e){if(m.isRange){var t=m.isVertical?e.clientY:e.clientX;m.butt1CloserCheck(t)?m.onMouseMove1(e):m.onMouseMove2(e)}else m.onMouseMove2(e)},this.interMarkHandler=function(e){var t,i,n,o=(e-m.minValue)/(m.maxValue-m.minValue)*m.scale.getDimension();if(i=(t=m.roundOffsetButt(o-m.button2.getWidth()/2))[0],n=t[1],m.isRange){var s=o+m.scale.getPosition();m.butt1CloserCheck(s)?m.butt1Move(i,n):m.butt2Move(i,n)}else m.butt2Move(i,n)},this.mark1Onclick=function(){var e=-m.button2.getWidth()/2,t=m.minValue;m.isRange?m.butt1Move(e,t):m.butt2Move(e,t)},this.mark4Onclick=function(){var e=m.scale.getDimension()-m.button2.getWidth()/2;m.butt2Move(e,m.maxValue)},this.mark2Onclick=function(){var e=m.isFloat?parseFloat(m.graduation.mark2.innerHTML):parseInt(m.graduation.mark2.innerHTML);m.interMarkHandler(e)},this.mark3Onclick=function(){var e=m.isFloat?parseFloat(m.graduation.mark3.innerHTML):parseInt(m.graduation.mark3.innerHTML);m.interMarkHandler(e)},this.checkValues=function(){"number"!=typeof m.maxValue&&console.error("Maxvalue should be a number"),"number"!=typeof m.minValue&&console.error("Maxvalue should be a number"),"number"!=typeof m.step&&console.error("Step should be a number"),"boolean"!=typeof m.isRange&&console.error("isRange should be a boolean"),"boolean"!=typeof m.isVertical&&console.error("isVertical should be a boolean"),"boolean"!=typeof m.showLabel&&console.error("ShowLabel should be a boolean"),m.step>m.maxValue-m.minValue&&(m.step=m.maxValue-m.minValue,console.error("Step is setted to the max"))},this.init=function(){m.scale.init(m.isVertical),m.scaleFilling.init(m.isVertical),m.graduation.init(m.minValue,m.maxValue,m.isVertical,m.isFloat),m.button1.init(m.isVertical),m.button2.init(m.isVertical),m.label1.init(m.isVertical),m.label2.init(m.isVertical),m.button1.elem.style.display="none",m.label1.elem.style.display="none",m.showLabel?(m.label1.elem.style.display="block",m.label2.elem.style.display="block"):(m.label1.elem.style.display="none",m.label2.elem.style.display="none"),m.isRange?m.button1.elem.style.display="block":(m.button1.elem.style.display="none",m.label1.elem.style.display="none"),m.button1.setPosition(-m.button1.getWidth()/2),m.button2.setPosition(m.scale.getDimension()-m.button2.getWidth()/2),m.label1.setPosition(m.getStart(),m.minValue),m.label2.setPosition(m.getEnd(),m.maxValue),m.isVertical?m.graduation.gradElem.style.height=m.scale.getDimension()+"px":m.graduation.gradElem.style.height="20px",m.renew(),m.updateElems()},this.append=function(e){e.appendChild(m.scale.elem).appendChild(m.scaleFilling.elem),e.appendChild(m.button1.elem),e.appendChild(m.label1.elem),e.appendChild(m.graduation.gradElem),e.appendChild(m.button2.elem),e.appendChild(m.label2.elem),m.scale.elem.onclick=m.scaleOnclick,m.graduation.mark1.onclick=m.mark1Onclick,m.graduation.mark2.onclick=m.mark2Onclick,m.graduation.mark3.onclick=m.mark3Onclick,m.graduation.mark4.onclick=m.mark4Onclick,m.button1.elem.onmousedown=function(e){e.preventDefault(),document.addEventListener("mousemove",m.onMouseMove1),document.addEventListener("mouseup",m.onMouseUp1)},m.label1.elem.onmousedown=function(e){e.preventDefault(),document.addEventListener("mousemove",m.onMouseMove1),document.addEventListener("mouseup",m.onMouseUp1)},m.button2.elem.onmousedown=function(e){e.preventDefault(),document.addEventListener("mousemove",m.onMouseMove2),document.addEventListener("mouseup",m.onMouseUp2)},m.label2.elem.onmousedown=function(e){console.log("yes"),e.preventDefault(),document.addEventListener("mousemove",m.onMouseMove2),document.addEventListener("mouseup",m.onMouseUp2)}},this.scale=new s.default(c),this.button1=new l.default(c),this.button2=new l.default(c),this.label1=new r.default(c),this.label2=new r.default(c),this.scaleFilling=new u.default(c),this.graduation=new a.default,this.minValue=e,this.maxValue=t,this.curMinValue=e,this.curMaxValue=t,this.step=i,this.isRange=o,this.isVertical=c,this.showLabel=d,this.isFloat=f,this.observers=new n.default}return e.prototype.renew=function(){var e,t,i,n,o,s,a=this.offsetValueConv(this.curMaxValue);if(s=(e=this.butt2OffsetCheck(a))[0],void 0===(o=e[1])&&(s=(t=this.roundOffsetButt(s))[0],o=t[1]),this.butt2Move(s,o),this.isRange){var l,r,u=this.offsetValueConv(this.curMinValue);r=(i=this.butt1OffsetCheck(u))[0],void 0===(l=i[1])&&(r=(n=this.roundOffsetButt(r))[0],l=n[1]),this.butt1Move(r,l)}},e}()},function(e,t,i){"use strict";i.r(t);var n=i(1),o=function(){function e(e,t){void 0===e&&(e=0),void 0===t&&(t=1e3),this.curMinValue=e,this.curMaxValue=t,this.observers=new n.default}return e.prototype.setCurMinValue=function(e){this.curMinValue!=e&&(this.curMinValue=e,this.observers.notifyObservers())},e.prototype.setCurMaxValue=function(e){this.curMaxValue!=e&&(this.curMaxValue=e,this.observers.notifyObservers())},e}();t.default=o},function(e,t,i){var n={"./blocks/button/Button.ts":2,"./blocks/controller/Controller.ts":8,"./blocks/createElem/createElem.ts":0,"./blocks/graduation/Graduation.ts":6,"./blocks/label/Label.ts":3,"./blocks/makeObservableObject/MakeObservableObject.ts":1,"./blocks/model/Model.ts":10,"./blocks/parsingDigits/ParsingDigits.ts":4,"./blocks/scale/Scale.ts":5,"./blocks/scaleFilling/ScaleFilling.ts":7,"./blocks/view/View.ts":9,"./pluginWrapper.ts":12,"./styles/style.scss":13};function o(e){var t=s(e);return i(t)}function s(e){if(!i.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}o.keys=function(){return Object.keys(n)},o.resolve=s,e.exports=o,o.id=11},function(e,t,i){"use strict";i.r(t);var n,o,s,a=i(8),l=function(){return(l=Object.assign||function(e){for(var t,i=1,n=arguments.length;i<n;i++)for(var o in t=arguments[i])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},r=function(){for(var e=0,t=0,i=arguments.length;t<i;t++)e+=arguments[t].length;var n=Array(e),o=0;for(t=0;t<i;t++)for(var s=arguments[t],a=0,l=s.length;a<l;a++,o++)n[o]=s[a];return n};n=jQuery,o={minValue:0,maxValue:1e3,step:1,isRange:!1,isVertical:!1,showLabel:!1,isFloat:!1},s={init:function(e){if(!n(this).data("slider")){var t=l({},o),i=new(a.default.bind.apply(a.default,r([void 0],Object.values(n.extend(t,e)))));n(this).data("slider",i),i.append(n(this))}},update:function(e){n(this).data("slider").update(e)},getConfig:function(){return n(this).data("slider").getConfig()},setValues:function(e){n(this).data("slider").setValues(e.curMinValue,e.curMaxValue)},inputsAttach:function(e){var t=n(this).data("slider");t.addObserver((function(){e.minValueIn.val(t.getValues()[0]),e.maxValueIn.val(t.getValues()[1])}))}},n.fn.omfgslider=function(e){return s[e]?s[e].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof e&&e?void n.error("Метод "+e+" не найден в плагине jQuery.omfgslider"):s.init.apply(this,arguments)}},function(e,t,i){},function(e,t,i){"use strict";i.r(t);var n;i.p;(n=i(11)).keys().forEach(n)}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL3NsaWRlci9ibG9ja3MvY3JlYXRlRWxlbS9jcmVhdGVFbGVtLnRzIiwid2VicGFjazovLy8uL3NyYy9zbGlkZXIvYmxvY2tzL21ha2VPYnNlcnZhYmxlT2JqZWN0L01ha2VPYnNlcnZhYmxlT2JqZWN0LnRzIiwid2VicGFjazovLy8uL3NyYy9zbGlkZXIvYmxvY2tzL2J1dHRvbi9CdXR0b24udHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3NsaWRlci9ibG9ja3MvbGFiZWwvTGFiZWwudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3NsaWRlci9ibG9ja3MvcGFyc2luZ0RpZ2l0cy9QYXJzaW5nRGlnaXRzLnRzIiwid2VicGFjazovLy8uL3NyYy9zbGlkZXIvYmxvY2tzL3NjYWxlL1NjYWxlLnRzIiwid2VicGFjazovLy8uL3NyYy9zbGlkZXIvYmxvY2tzL2dyYWR1YXRpb24vR3JhZHVhdGlvbi50cyIsIndlYnBhY2s6Ly8vLi9zcmMvc2xpZGVyL2Jsb2Nrcy9zY2FsZUZpbGxpbmcvU2NhbGVGaWxsaW5nLnRzIiwid2VicGFjazovLy8uL3NyYy9zbGlkZXIvYmxvY2tzL2NvbnRyb2xsZXIvQ29udHJvbGxlci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvc2xpZGVyL2Jsb2Nrcy92aWV3L1ZpZXcudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3NsaWRlci9ibG9ja3MvbW9kZWwvTW9kZWwudHMiLCJ3ZWJwYWNrOi8vL1xcLmQpXFwuKGpzfHRzfHNjc3MpJC8iLCJ3ZWJwYWNrOi8vLy4vc3JjL3NsaWRlci9wbHVnaW5XcmFwcGVyLnRzIiwid2VicGFjazovLy8uL3NyYy9wYWdlL2luZGV4Lmh0bWwiLCJ3ZWJwYWNrOi8vLy4vc3JjL2luZGV4LnRzIl0sIm5hbWVzIjpbImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJleHBvcnRzIiwibW9kdWxlIiwiaSIsImwiLCJtb2R1bGVzIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJ0IiwibW9kZSIsIl9fZXNNb2R1bGUiLCJucyIsImNyZWF0ZSIsImtleSIsImJpbmQiLCJuIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwiY2xhc3NOYW1lIiwiZWxlbSIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsIm9uZHJhZ3N0YXJ0IiwiY2xhc3NMaXN0IiwiYWRkIiwidGhpcyIsIm9ic2VydmVycyIsImFkZE9ic2VydmVyIiwiZm4iLCJFcnJvciIsIm1hcCIsIm9ic2VydmVyIiwicHVzaCIsInJlbW92ZU9ic2VydmVyIiwibGVuZ3RoIiwic3BsaWNlIiwibm90aWZ5T2JzZXJ2ZXJzIiwiaXNWZXJ0aWNhbCIsImdldFdpZHRoIiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0Iiwid2lkdGgiLCJnZXRQb3NpdGlvbiIsInRvcCIsImxlZnQiLCJzZXRQb3NpdGlvbiIsIm9mZnNldCIsInN0eWxlIiwiaW5pdCIsInJlbW92ZSIsImlubmVySFRNTCIsImdldERpbWVuc2lvbiIsImhlaWdodCIsInBhcnNpbmciLCJpdGVtIiwidGVzdCIsInBhcnNlRmxvYXQiLCJwYXJzZUludCIsIm1pblZhbHVlIiwibWF4VmFsdWUiLCJpc0Zsb2F0IiwibWFyazEiLCJtYXJrNCIsIm1hcmsyIiwidG9GaXhlZCIsIm1hcmszIiwiTWF0aCIsInJvdW5kIiwiZ3JhZEVsZW0iLCJhcHBlbmRDaGlsZCIsInNldERpbWVuc2lvbiIsImRpbWVuc2lvbiIsInN0ZXAiLCJpc1JhbmdlIiwic2hvd0xhYmVsIiwiYXBwZW5kIiwiZW50cnkiLCJ2aWV3IiwiY2hlY2tTdGVwIiwic3RlcE1vZCIsImFicyIsImNvbnNvbGUiLCJsb2ciLCJjaGVja01heFZhbHVlIiwibWF4VmFsdWVNb2QiLCJjaGVja01pblZhbHVlIiwibWluVmFsdWVNb2QiLCJ1cGRhdGUiLCJhcmdzIiwia2V5cyIsInVuZGVmaW5lZCIsImdldFZhbHVlcyIsIm1vZGVsIiwiY3VyTWluVmFsdWUiLCJjdXJNYXhWYWx1ZSIsInNldFZhbHVlcyIsInNldEN1ck1pblZhbHVlIiwic2V0Q3VyTWF4VmFsdWUiLCJnZXRDb25maWciLCJidXR0MU1vdmUiLCJvZmZzZXRWYWx1ZUNvbnYiLCJidXR0Mk1vdmUiLCJnZXRTdGFydCIsImJ1dHRvbjEiLCJzY2FsZSIsImdldEVuZCIsImJ1dHRvbjIiLCJ1cGRhdGVFbGVtcyIsInNjYWxlRmlsbGluZyIsInZhbCIsIndob2xlIiwidHJ1bmMiLCJyZW1pbmRlciIsInJvdW5kT2Zmc2V0QnV0dCIsImN1cnJPZmZzZXQiLCJjdXJyVmFsdWUiLCJyb3VuZFZhbHVlIiwicm91bmRPZmZzZXQiLCJsYWJlbDEiLCJidXR0MU9mZnNldENoZWNrIiwibmV3T2Zmc2V0Iiwic3RlcFdpZHRoIiwibWluT2Zmc2V0Iiwib25Nb3VzZU1vdmUxIiwiZXZlbnRNbSIsImNsaWVudFkiLCJjbGllbnRYIiwib25Nb3VzZVVwMSIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJsYWJlbDIiLCJidXR0Mk9mZnNldENoZWNrIiwib25Nb3VzZU1vdmUyIiwib25Nb3VzZVVwMiIsImJ1dHQxQ2xvc2VyQ2hlY2siLCJjb29yZGluYXRlIiwic2NhbGVPbmNsaWNrIiwiZXZlbnQiLCJpbnRlck1hcmtIYW5kbGVyIiwibWFya09mZnNldCIsIm1hcmsxT25jbGljayIsIm1hcms0T25jbGljayIsIm1hcmsyT25jbGljayIsImdyYWR1YXRpb24iLCJtYXJrM09uY2xpY2siLCJjaGVja1ZhbHVlcyIsImVycm9yIiwiZGlzcGxheSIsInJlbmV3Iiwib25jbGljayIsIm9ubW91c2Vkb3duIiwiZXZlbnRNZCIsInByZXZlbnREZWZhdWx0IiwiYWRkRXZlbnRMaXN0ZW5lciIsImRhdGEiLCJ3ZWJwYWNrQ29udGV4dCIsInJlcSIsImlkIiwid2VicGFja0NvbnRleHRSZXNvbHZlIiwiZSIsImNvZGUiLCJyZXNvbHZlIiwiJCIsImNvbmZpZyIsIm1ldGhvZHMiLCJqUXVlcnkiLCJvcHQiLCJuZXdDb25maWciLCJzbGlkZXIiLCJ2YWx1ZXMiLCJleHRlbmQiLCJpbnB1dHNBdHRhY2giLCJtaW5WYWx1ZUluIiwibWF4VmFsdWVJbiIsIm9tZmdzbGlkZXIiLCJtZXRob2QiLCJhcHBseSIsIkFycmF5Iiwic2xpY2UiLCJhcmd1bWVudHMiLCJmb3JFYWNoIl0sIm1hcHBpbmdzIjoiYUFDRSxJQUFJQSxFQUFtQixHQUd2QixTQUFTQyxFQUFvQkMsR0FHNUIsR0FBR0YsRUFBaUJFLEdBQ25CLE9BQU9GLEVBQWlCRSxHQUFVQyxRQUduQyxJQUFJQyxFQUFTSixFQUFpQkUsR0FBWSxDQUN6Q0csRUFBR0gsRUFDSEksR0FBRyxFQUNISCxRQUFTLElBVVYsT0FOQUksRUFBUUwsR0FBVU0sS0FBS0osRUFBT0QsUUFBU0MsRUFBUUEsRUFBT0QsUUFBU0YsR0FHL0RHLEVBQU9FLEdBQUksRUFHSkYsRUFBT0QsUUFLZkYsRUFBb0JRLEVBQUlGLEVBR3hCTixFQUFvQlMsRUFBSVYsRUFHeEJDLEVBQW9CVSxFQUFJLFNBQVNSLEVBQVNTLEVBQU1DLEdBQzNDWixFQUFvQmEsRUFBRVgsRUFBU1MsSUFDbENHLE9BQU9DLGVBQWViLEVBQVNTLEVBQU0sQ0FBRUssWUFBWSxFQUFNQyxJQUFLTCxLQUtoRVosRUFBb0JrQixFQUFJLFNBQVNoQixHQUNYLG9CQUFYaUIsUUFBMEJBLE9BQU9DLGFBQzFDTixPQUFPQyxlQUFlYixFQUFTaUIsT0FBT0MsWUFBYSxDQUFFQyxNQUFPLFdBRTdEUCxPQUFPQyxlQUFlYixFQUFTLGFBQWMsQ0FBRW1CLE9BQU8sS0FRdkRyQixFQUFvQnNCLEVBQUksU0FBU0QsRUFBT0UsR0FFdkMsR0FEVSxFQUFQQSxJQUFVRixFQUFRckIsRUFBb0JxQixJQUMvQixFQUFQRSxFQUFVLE9BQU9GLEVBQ3BC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TUFBTStILEtBQUssVUFDZHZELGFBR2hCSCxVQUFXLFNBQVNzRSxHQUNISixFQUFFdkksTUFBTStILEtBQUssVUFDckIxRCxVQUFVc0UsRUFBSXhFLFlBQWF3RSxFQUFJdkUsY0FHeEM0RSxhQUFjLFNBQVNMLEdBQ3JCLElBQU1FLEVBQVNOLEVBQUV2SSxNQUFNK0gsS0FBSyxVQUM1QmMsRUFBTzNJLGFBQVksV0FDakJ5SSxFQUFJTSxXQUFXOUQsSUFBSTBELEVBQU81RSxZQUFZLElBQ3RDMEUsRUFBSU8sV0FBVy9ELElBQUkwRCxFQUFPNUUsWUFBWSxTQUs1Q3NFLEVBQUVwSSxHQUFHZ0osV0FBYSxTQUFTQyxHQUN6QixPQUFJWCxFQUFRVyxHQUNIWCxFQUFRVyxHQUFRQyxNQUFNckosS0FBTXNKLE1BQU1qSyxVQUFVa0ssTUFBTTNMLEtBQUs0TCxVQUFXLElBQzlDLGlCQUFYSixHQUF3QkEsT0FHeENiLEVBQUVoQixNQUFNLFNBQVM2QixFQUFNLDBDQUZoQlgsRUFBUW5ILEtBQUsrSCxNQUFNckosS0FBTXdKLGEsc0RDcER2QixJQ0VJakwsRURGSixLQ0VJQSxFQUlULE9BSEp3RixPQUFPMEYsUUFBUWxMIiwiZmlsZSI6ImJ1bmRsZS5qcyIsInNvdXJjZXNDb250ZW50IjpbIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSAxNCk7XG4iLCIvLyBFbGVtZW50cyBmYWN0b3J5XHJcbmZ1bmN0aW9uIGNyZWF0ZUVsZW0oY2xhc3NOYW1lOiBzdHJpbmcpIDpIVE1MRWxlbWVudCB7XHJcbiAgY29uc3QgZWxlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gIGVsZW0ub25kcmFnc3RhcnQgPSAoKSA9PiBmYWxzZTtcclxuICBlbGVtLmNsYXNzTGlzdC5hZGQoY2xhc3NOYW1lKTtcclxuICByZXR1cm4gZWxlbTtcclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgY3JlYXRlRWxlbTsiLCJjbGFzcyBNYWtlT2JzZXJ2YWJsZU9iamVjdCB7XHJcbiAgb2JzZXJ2ZXJzOiBBcnJheTxGdW5jdGlvbj47XHJcblxyXG4gIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgdGhpcy5vYnNlcnZlcnMgPSBbXTtcclxuICB9XHJcblxyXG4gIGFkZE9ic2VydmVyIChmbjogRnVuY3Rpb24pOiB2b2lkIHtcclxuICAgIGlmICh0eXBlb2YgZm4gIT09ICdmdW5jdGlvbicpIHtcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKCdvYnNlcnZlciBtdXN0IGJlIGEgZnVuY3Rpb24nKTtcclxuICAgIH1cclxuICAgIHRoaXMub2JzZXJ2ZXJzLm1hcCgob2JzZXJ2ZXIpID0+IHtcclxuICAgICAgaWYgKG9ic2VydmVyID09PSBmbikge1xyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcignb2JzZXJ2ZXIgYWxyZWFkeSBpbiB0aGUgbGlzdCcpO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICAgIHRoaXMub2JzZXJ2ZXJzLnB1c2goZm4pO1xyXG4gIH1cclxuXHJcbiAgcmVtb3ZlT2JzZXJ2ZXIgKGZuOiBGdW5jdGlvbik6IHZvaWQge1xyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLm9ic2VydmVycy5sZW5ndGg7IGkrKykge1xyXG4gICAgICBjb25zdCBvYnNlcnZlciA9IHRoaXMub2JzZXJ2ZXJzW2ldO1xyXG4gICAgICBpZiAob2JzZXJ2ZXIgPT09IGZuKSB7XHJcbiAgICAgICAgdGhpcy5vYnNlcnZlcnMuc3BsaWNlKGksIDEpO1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgdGhyb3cgbmV3IEVycm9yKCdjb3VsZCBub3QgZmluZCBvYnNlcnZlciBpbiBsaXN0IG9mIG9ic2VydmVycycpO1xyXG4gIH1cclxuXHJcbiAgbm90aWZ5T2JzZXJ2ZXJzICgpOiB2b2lkIHtcclxuICAgIGNvbnN0IG9ic2VydmVyc1NuYXBzaG90ID0gWy4uLnRoaXMub2JzZXJ2ZXJzXTtcclxuICAgIG9ic2VydmVyc1NuYXBzaG90Lm1hcCgob2JzZXJ2ZXIpID0+IG9ic2VydmVyKCkpO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgTWFrZU9ic2VydmFibGVPYmplY3Q7IiwiaW1wb3J0IGNyZWF0ZUVsZW0gZnJvbSAnLi4vY3JlYXRlRWxlbS9jcmVhdGVFbGVtJztcclxuXHJcbmNsYXNzIEJ1dHRvbiB7XHJcbiAgZWxlbTogSFRNTEVsZW1lbnQ7XHJcblxyXG4gIGlzVmVydGljYWw6IGJvb2xlYW47XHJcblxyXG4gIGNvbnN0cnVjdG9yKGlzVmVydGljYWw6IGJvb2xlYW4pIHtcclxuICAgIHRoaXMuZWxlbSA9IGNyZWF0ZUVsZW0oJ3NsaWRlcl9fYnV0dG9uJyk7XHJcbiAgICB0aGlzLmlzVmVydGljYWwgPSBpc1ZlcnRpY2FsO1xyXG4gIH1cclxuXHJcbiAgZ2V0V2lkdGggPSAoKTogbnVtYmVyID0+IHtcclxuICAgIHJldHVybiB0aGlzLmVsZW0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkud2lkdGg7XHJcbiAgfVxyXG5cclxuICBnZXRQb3NpdGlvbiA9ICgpOiBudW1iZXIgPT4ge1xyXG4gICAgaWYgKHRoaXMuaXNWZXJ0aWNhbCkge1xyXG4gICAgICByZXR1cm4gdGhpcy5lbGVtLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnRvcDtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gdGhpcy5lbGVtLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmxlZnQ7XHJcbiAgfVxyXG5cclxuICBzZXRQb3NpdGlvbiA9IChvZmZzZXQ6IG51bWJlcik6IHZvaWQgPT4ge1xyXG4gICAgaWYgKHRoaXMuaXNWZXJ0aWNhbCkge1xyXG4gICAgICB0aGlzLmVsZW0uc3R5bGUubGVmdCA9ICc1MCUnO1xyXG4gICAgICB0aGlzLmVsZW0uc3R5bGUudG9wID0gb2Zmc2V0ICsgJ3B4JztcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuZWxlbS5zdHlsZS50b3AgPSAnNTAlJztcclxuICAgICAgdGhpcy5lbGVtLnN0eWxlLmxlZnQgPSBvZmZzZXQgKyAncHgnO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgaW5pdCA9IChpc1ZlcnRpY2FsOiBib29sZWFuKTogdm9pZCA9PiB7XHJcbiAgICB0aGlzLmlzVmVydGljYWwgPSBpc1ZlcnRpY2FsO1xyXG5cclxuICAgIGlmICh0aGlzLmlzVmVydGljYWwpIHtcclxuICAgICAgdGhpcy5lbGVtLmNsYXNzTGlzdC5hZGQoJ3NsaWRlcl9fYnV0dG9uX3Bvc2l0aW9uX3ZlcnRpY2FsJyk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLmVsZW0uY2xhc3NMaXN0LnJlbW92ZSgnc2xpZGVyX19idXR0b25fcG9zaXRpb25fdmVydGljYWwnKTtcclxuICAgIH1cclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IEJ1dHRvbjtcclxuIiwiaW1wb3J0IGNyZWF0ZUVsZW0gZnJvbSAnLi4vY3JlYXRlRWxlbS9jcmVhdGVFbGVtJztcclxuXHJcbmNsYXNzIExhYmVsIHtcclxuICBlbGVtOiBIVE1MRWxlbWVudDtcclxuICBpc1ZlcnRpY2FsOiBib29sZWFuO1xyXG5cclxuICBjb25zdHJ1Y3Rvcihpc1ZlcnRpY2FsOiBib29sZWFuKSB7XHJcbiAgICB0aGlzLmVsZW0gPSBjcmVhdGVFbGVtKCdzbGlkZXJfX2J1dHRvbi1sYWJlbCcpO1xyXG4gICAgdGhpcy5pc1ZlcnRpY2FsID0gaXNWZXJ0aWNhbDtcclxuICB9XHJcblxyXG4gIGdldFBvc2l0aW9uID0gKCk6IG51bWJlciA9PiB7XHJcbiAgICBpZiAodGhpcy5pc1ZlcnRpY2FsKSB7XHJcbiAgICAgIHJldHVybiB0aGlzLmVsZW0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkudG9wO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB0aGlzLmVsZW0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkubGVmdDtcclxuICB9XHJcblxyXG4gIHNldFBvc2l0aW9uID0gKG9mZnNldDogbnVtYmVyLCB2YWx1ZTogbnVtYmVyKTogdm9pZCA9PiB7XHJcbiAgICB0aGlzLmVsZW0uaW5uZXJIVE1MID0gdmFsdWUgKyAnJztcclxuXHJcbiAgICBpZiAodGhpcy5pc1ZlcnRpY2FsKSB7XHJcbiAgICAgIHRoaXMuZWxlbS5zdHlsZS5sZWZ0ID0gJzUwJSc7XHJcbiAgICAgIHRoaXMuZWxlbS5zdHlsZS50b3AgPSBvZmZzZXQgLSB0aGlzLmdldERpbWVuc2lvbigpLzIgKyAncHgnO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5lbGVtLnN0eWxlLnRvcCA9ICc1MCUnO1xyXG4gICAgICB0aGlzLmVsZW0uc3R5bGUubGVmdCA9IG9mZnNldCAtIHRoaXMuZ2V0RGltZW5zaW9uKCkvMiArICdweCc7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBnZXREaW1lbnNpb24gPSAoKTogbnVtYmVyID0+IHtcclxuICAgIGlmICh0aGlzLmlzVmVydGljYWwpIHtcclxuICAgICAgcmV0dXJuIHRoaXMuZWxlbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5oZWlnaHQ7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHRoaXMuZWxlbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS53aWR0aDtcclxuICB9XHJcblxyXG4gIGluaXQgPSAoaXNWZXJ0aWNhbDogYm9vbGVhbik6IHZvaWQgPT4ge1xyXG4gICAgdGhpcy5pc1ZlcnRpY2FsID0gaXNWZXJ0aWNhbDtcclxuXHJcbiAgICBpZiAodGhpcy5pc1ZlcnRpY2FsKSB7XHJcbiAgICAgIHRoaXMuZWxlbS5jbGFzc0xpc3QuYWRkKCdzbGlkZXJfX2J1dHRvbi1sYWJlbF9wb3NpdGlvbl92ZXJ0aWNhbCcpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5lbGVtLmNsYXNzTGlzdC5yZW1vdmUoJ3NsaWRlcl9fYnV0dG9uLWxhYmVsX3Bvc2l0aW9uX3ZlcnRpY2FsJyk7XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBMYWJlbDsiLCJjbGFzcyBQYXJzaW5nRGlnaXRzIHtcclxuICBzdGF0aWMgcGFyc2luZyA9IChpdGVtOiBzdHJpbmd8bnVtYmVyKTogbnVtYmVyfG51bGwgPT4ge1xyXG4gICAgaWYgKHR5cGVvZiBpdGVtID09PSAnbnVtYmVyJykgeyBcclxuICAgICAgcmV0dXJuIGl0ZW07XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHR5cGVvZiBpdGVtID09PSAnc3RyaW5nJykge1xyXG4gICAgICBpZiAoL14tP1xcZCtbXFwuLF1cXGQrJC8udGVzdChpdGVtKSkge1xyXG4gICAgICAgIHJldHVybiBwYXJzZUZsb2F0KGl0ZW0pO1xyXG4gICAgICB9IGVsc2UgaWYgKC9eLT9cXGQrJC8udGVzdChpdGVtKSkge1xyXG4gICAgICAgIHJldHVybiBwYXJzZUludChpdGVtKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBudWxsO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgUGFyc2luZ0RpZ2l0czsiLCJpbXBvcnQgY3JlYXRlRWxlbSBmcm9tICcuLi9jcmVhdGVFbGVtL2NyZWF0ZUVsZW0nO1xyXG5cclxuY2xhc3MgU2NhbGUge1xyXG4gIGVsZW06IEhUTUxFbGVtZW50O1xyXG4gIGlzVmVydGljYWw6IGJvb2xlYW47XHJcblxyXG4gIGNvbnN0cnVjdG9yKGlzVmVydGljYWw6IGJvb2xlYW4pIHtcclxuICAgIHRoaXMuZWxlbSA9IGNyZWF0ZUVsZW0oJ3NsaWRlcl9fc2NhbGUnKTtcclxuICAgIHRoaXMuaXNWZXJ0aWNhbCA9IGlzVmVydGljYWw7XHJcbiAgfVxyXG5cclxuICBnZXRQb3NpdGlvbiA9ICgpOiBudW1iZXIgPT4ge1xyXG4gICAgaWYgKHRoaXMuaXNWZXJ0aWNhbCkge1xyXG4gICAgICByZXR1cm4gdGhpcy5lbGVtLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnRvcDtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gdGhpcy5lbGVtLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmxlZnQ7XHJcbiAgfVxyXG5cclxuICBnZXREaW1lbnNpb24gPSAoKTogbnVtYmVyID0+IHtcclxuICAgIGlmICh0aGlzLmlzVmVydGljYWwpIHtcclxuICAgICAgcmV0dXJuIHRoaXMuZWxlbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5oZWlnaHQ7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHRoaXMuZWxlbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS53aWR0aDtcclxuICB9XHJcblxyXG4gIGluaXQgPSAoaXNWZXJ0aWNhbDogYm9vbGVhbik6IHZvaWQgPT4ge1xyXG4gICAgdGhpcy5pc1ZlcnRpY2FsID0gaXNWZXJ0aWNhbDtcclxuXHJcbiAgICBpZiAodGhpcy5pc1ZlcnRpY2FsKSB7XHJcbiAgICAgIHRoaXMuZWxlbS5jbGFzc0xpc3QuYWRkKCdzbGlkZXJfX3NjYWxlX3Bvc2l0aW9uX3ZlcnRpY2FsJyk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLmVsZW0uY2xhc3NMaXN0LnJlbW92ZSgnc2xpZGVyX19zY2FsZV9wb3NpdGlvbl92ZXJ0aWNhbCcpO1xyXG4gICAgfVxyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgU2NhbGU7XHJcbiIsImltcG9ydCBjcmVhdGVFbGVtIGZyb20gJy4uL2NyZWF0ZUVsZW0vY3JlYXRlRWxlbSc7XHJcblxyXG5jbGFzcyBHcmFkdWF0aW9uIHtcclxuICBncmFkRWxlbTogSFRNTEVsZW1lbnQ7XHJcbiAgbWFyazE6IEhUTUxFbGVtZW50O1xyXG4gIG1hcmsyOiBIVE1MRWxlbWVudDtcclxuICBtYXJrMzogSFRNTEVsZW1lbnQ7XHJcbiAgbWFyazQ6IEhUTUxFbGVtZW50O1xyXG5cclxuICBjb25zdHJ1Y3RvcigpIHtcclxuICAgIHRoaXMuZ3JhZEVsZW0gPSBjcmVhdGVFbGVtKCdzbGlkZXJfX2dyYWR1YXRpb24nKTtcclxuICAgIHRoaXMubWFyazEgPSBjcmVhdGVFbGVtKCdzbGlkZXJfX2dyYWR1YXRpb24tbWFyaycpO1xyXG4gICAgdGhpcy5tYXJrMiA9IGNyZWF0ZUVsZW0oJ3NsaWRlcl9fZ3JhZHVhdGlvbi1tYXJrJyk7XHJcbiAgICB0aGlzLm1hcmszID0gY3JlYXRlRWxlbSgnc2xpZGVyX19ncmFkdWF0aW9uLW1hcmsnKTtcclxuICAgIHRoaXMubWFyazQgPSBjcmVhdGVFbGVtKCdzbGlkZXJfX2dyYWR1YXRpb24tbWFyaycpO1xyXG4gICAgdGhpcy5ncmFkRWxlbS5hcHBlbmRDaGlsZCh0aGlzLm1hcmsxKTtcclxuICAgIHRoaXMuZ3JhZEVsZW0uYXBwZW5kQ2hpbGQodGhpcy5tYXJrMik7XHJcbiAgICB0aGlzLmdyYWRFbGVtLmFwcGVuZENoaWxkKHRoaXMubWFyazMpO1xyXG4gICAgdGhpcy5ncmFkRWxlbS5hcHBlbmRDaGlsZCh0aGlzLm1hcms0KTtcclxuICB9XHJcblxyXG4gIGluaXQgPSAobWluVmFsdWU6IG51bWJlciwgbWF4VmFsdWU6IG51bWJlciwgaXNWZXJ0aWNhbDogYm9vbGVhbiwgaXNGbG9hdCA9IGZhbHNlKTogdm9pZCA9PiB7XHJcbiAgICB0aGlzLm1hcmsxLmlubmVySFRNTCA9IG1pblZhbHVlICsgJyc7XHJcbiAgICB0aGlzLm1hcms0LmlubmVySFRNTCA9IG1heFZhbHVlICsgJyc7XHJcblxyXG4gICAgaWYgKGlzRmxvYXQpIHtcclxuICAgICAgdGhpcy5tYXJrMi5pbm5lckhUTUwgPSAobWluVmFsdWUgKyAobWF4VmFsdWUgLSBtaW5WYWx1ZSkvMykudG9GaXhlZCgyKTtcclxuICAgICAgdGhpcy5tYXJrMy5pbm5lckhUTUwgPSAobWluVmFsdWUgKyAobWF4VmFsdWUgLSBtaW5WYWx1ZSkqMi8zKS50b0ZpeGVkKDIpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5tYXJrMi5pbm5lckhUTUwgPSBtaW5WYWx1ZSArIE1hdGgucm91bmQoKG1heFZhbHVlIC0gbWluVmFsdWUpLzMpICsgJyc7XHJcbiAgICAgIHRoaXMubWFyazMuaW5uZXJIVE1MID0gbWluVmFsdWUgKyBNYXRoLnJvdW5kKChtYXhWYWx1ZSAtIG1pblZhbHVlKSoyLzMpICsgJyc7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKCFpc1ZlcnRpY2FsKSB7XHJcbiAgICAgIHRoaXMubWFyazEuY2xhc3NMaXN0LmFkZCgnc2xpZGVyX19ncmFkdWF0aW9uLW1hcmtfb2Zmc2V0X2xlZnQnKTtcclxuICAgICAgdGhpcy5tYXJrMS5jbGFzc0xpc3QucmVtb3ZlKCdzbGlkZXJfX2dyYWR1YXRpb24tbWFya19vZmZzZXRfdG9wJyk7XHJcbiAgICAgIHRoaXMubWFyazQuY2xhc3NMaXN0LmFkZCgnc2xpZGVyX19ncmFkdWF0aW9uLW1hcmtfb2Zmc2V0X3JpZ2h0Jyk7XHJcbiAgICAgIHRoaXMubWFyazQuY2xhc3NMaXN0LnJlbW92ZSgnc2xpZGVyX19ncmFkdWF0aW9uLW1hcmtfb2Zmc2V0X2JvdHRvbScpO1xyXG4gICAgICB0aGlzLmdyYWRFbGVtLmNsYXNzTGlzdC5yZW1vdmUoJ3NsaWRlcl9fZ3JhZHVhdGlvbl9wb3NpdGlvbl92ZXJ0aWNhbCcpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5tYXJrMS5jbGFzc0xpc3QucmVtb3ZlKCdzbGlkZXJfX2dyYWR1YXRpb24tbWFya19vZmZzZXRfbGVmdCcpO1xyXG4gICAgICB0aGlzLm1hcmsxLmNsYXNzTGlzdC5hZGQoJ3NsaWRlcl9fZ3JhZHVhdGlvbi1tYXJrX29mZnNldF90b3AnKTtcclxuICAgICAgdGhpcy5tYXJrNC5jbGFzc0xpc3QucmVtb3ZlKCdzbGlkZXJfX2dyYWR1YXRpb24tbWFya19vZmZzZXRfcmlnaHQnKTtcclxuICAgICAgdGhpcy5tYXJrNC5jbGFzc0xpc3QuYWRkKCdzbGlkZXJfX2dyYWR1YXRpb24tbWFya19vZmZzZXRfYm90dG9tJyk7XHJcbiAgICAgIHRoaXMuZ3JhZEVsZW0uY2xhc3NMaXN0LmFkZCgnc2xpZGVyX19ncmFkdWF0aW9uX3Bvc2l0aW9uX3ZlcnRpY2FsJyk7XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBHcmFkdWF0aW9uOyIsImltcG9ydCBjcmVhdGVFbGVtIGZyb20gJy4uL2NyZWF0ZUVsZW0vY3JlYXRlRWxlbSc7XHJcblxyXG5jbGFzcyBTY2FsZUZpbGxpbmcge1xyXG4gIGVsZW06IEhUTUxFbGVtZW50O1xyXG4gIGlzVmVydGljYWw6IGJvb2xlYW47XHJcblxyXG4gIGNvbnN0cnVjdG9yKGlzVmVydGljYWw6IGJvb2xlYW4pIHtcclxuICAgIHRoaXMuZWxlbSA9IGNyZWF0ZUVsZW0oJ3NsaWRlcl9fc2NhbGUtZmlsbGluZycpO1xyXG4gICAgdGhpcy5pc1ZlcnRpY2FsID0gaXNWZXJ0aWNhbDtcclxuICB9XHJcblxyXG4gIHNldFBvc2l0aW9uID0gKG9mZnNldDogbnVtYmVyKTogdm9pZCA9PiB7XHJcbiAgICBpZiAodGhpcy5pc1ZlcnRpY2FsKSB7XHJcbiAgICAgIHRoaXMuZWxlbS5zdHlsZS5sZWZ0ID0gJzAnO1xyXG4gICAgICB0aGlzLmVsZW0uc3R5bGUud2lkdGggPSAnMTAwJSc7XHJcbiAgICAgIHRoaXMuZWxlbS5zdHlsZS50b3AgPSBvZmZzZXQgKyAncHgnO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5lbGVtLnN0eWxlLnRvcCA9ICcwJztcclxuICAgICAgdGhpcy5lbGVtLnN0eWxlLmhlaWdodCA9ICcxMDAlJztcclxuICAgICAgdGhpcy5lbGVtLnN0eWxlLmxlZnQgPSBvZmZzZXQgKyAncHgnO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgc2V0RGltZW5zaW9uID0gKGRpbWVuc2lvbjogbnVtYmVyKTogdm9pZCA9PiB7XHJcbiAgICBpZiAodGhpcy5pc1ZlcnRpY2FsKSB7XHJcbiAgICAgIHRoaXMuZWxlbS5zdHlsZS5oZWlnaHQgPSBkaW1lbnNpb24gKyAncHgnO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5lbGVtLnN0eWxlLndpZHRoID0gZGltZW5zaW9uICsgJ3B4JztcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGluaXQgPSAoaXNWZXJ0aWNhbDogYm9vbGVhbik6IHZvaWQgPT4ge1xyXG4gICAgdGhpcy5pc1ZlcnRpY2FsID0gaXNWZXJ0aWNhbDtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IFNjYWxlRmlsbGluZztcclxuIiwiaW1wb3J0IHsgVmlldyB9IGZyb20gJy4uL3ZpZXcvVmlldyc7XHJcbmltcG9ydCBNb2RlbCBmcm9tICcuLi9tb2RlbC9Nb2RlbCc7XHJcbmltcG9ydCBNYWtlT2JzZXJ2YWJsZU9iamVjdCBmcm9tICcuLi9tYWtlT2JzZXJ2YWJsZU9iamVjdC9NYWtlT2JzZXJ2YWJsZU9iamVjdCc7XHJcbmltcG9ydCBQYXJzaW5nRGlnaXRzIGZyb20gXCIuLi9wYXJzaW5nRGlnaXRzL1BhcnNpbmdEaWdpdHNcIjtcclxuXHJcbmludGVyZmFjZSBjb25maWdUeXBlIHtcclxuICAvL1tpbmRleDogc3RyaW5nXTpcclxuICAgIFtpbmRleDogc3RyaW5nXTogYW55LFxyXG4gICAgLypcclxuICAgIHN0ZXA6IHN0cmluZyxcclxuICAgIG1pblZhbHVlOiBudW1iZXIsXHJcbiAgICBtYXhWYWx1ZTogbnVtYmVyLFxyXG4gICAgc3RlcDogc3RyaW5nLFxyXG4gICAgaXNSYW5nZTogYm9vbGVhbixcclxuICAgIGlzVmVydGljYWw6IGJvb2xlYW4sXHJcbiAgICBzaG93TGFiZWw6IGJvb2xlYW4sXHJcbiAgICBpc0Zsb2F0OiBib29sZWFuLFxyXG4gICAgKi9cclxufVxyXG5cclxuY2xhc3MgQ29udHJvbGxlciB7XHJcbiAgdmlldzogVmlldztcclxuXHJcbiAgbW9kZWw6IE1vZGVsO1xyXG5cclxuICBvYnNlcnZlcnM6IE1ha2VPYnNlcnZhYmxlT2JqZWN0O1xyXG5cclxuICBjb25zdHJ1Y3RvcihtaW5WYWx1ZSA9IDAsIG1heFZhbHVlID0gMTAwMCwgc3RlcCA9IDEsIGlzUmFuZ2UgPSBmYWxzZSxcclxuICAgIGlzVmVydGljYWwgPSBmYWxzZSwgc2hvd0xhYmVsID0gZmFsc2UsIGlzRmxvYXQgPSBmYWxzZSkge1xyXG4gICAgdGhpcy52aWV3ID0gbmV3IFZpZXcobWluVmFsdWUsIG1heFZhbHVlLCBzdGVwLCBpc1JhbmdlLCBpc1ZlcnRpY2FsLCBzaG93TGFiZWwsIGlzRmxvYXQpO1xyXG4gICAgdGhpcy5tb2RlbCA9IG5ldyBNb2RlbChtaW5WYWx1ZSwgbWF4VmFsdWUpO1xyXG4gICAgdGhpcy5vYnNlcnZlcnMgPSBuZXcgTWFrZU9ic2VydmFibGVPYmplY3QoKTtcclxuXHJcbiAgICB0aGlzLnZpZXcub2JzZXJ2ZXJzLmFkZE9ic2VydmVyKCgpID0+IHtcclxuICAgICAgdGhpcy5tb2RlbC5jdXJNaW5WYWx1ZSA9IHRoaXMudmlldy5jdXJNaW5WYWx1ZTtcclxuICAgICAgdGhpcy5tb2RlbC5jdXJNYXhWYWx1ZSA9IHRoaXMudmlldy5jdXJNYXhWYWx1ZTtcclxuICAgICAgdGhpcy5vYnNlcnZlcnMubm90aWZ5T2JzZXJ2ZXJzKCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICB0aGlzLm1vZGVsLm9ic2VydmVycy5hZGRPYnNlcnZlcigoKSA9PiB7XHJcbiAgICAgIGNvbnN0IGN1ck1pblZhbHVlID0gdGhpcy5tb2RlbC5jdXJNaW5WYWx1ZTtcclxuICAgICAgY29uc3QgY3VyTWF4VmFsdWUgPSB0aGlzLm1vZGVsLmN1ck1heFZhbHVlO1xyXG4gICAgICB0aGlzLnZpZXcuYnV0dDFNb3ZlKHRoaXMudmlldy5vZmZzZXRWYWx1ZUNvbnYoY3VyTWluVmFsdWUpLCBjdXJNaW5WYWx1ZSk7XHJcbiAgICAgIHRoaXMudmlldy5idXR0Mk1vdmUodGhpcy52aWV3Lm9mZnNldFZhbHVlQ29udihjdXJNYXhWYWx1ZSksIGN1ck1heFZhbHVlKTtcclxuICAgICAgdGhpcy5vYnNlcnZlcnMubm90aWZ5T2JzZXJ2ZXJzKCk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGFwcGVuZCA9IChlbnRyeTogSlF1ZXJ5KTogdm9pZCA9PiB7XHJcbiAgICB0aGlzLnZpZXcuYXBwZW5kKGVudHJ5LmdldCgwKSk7XHJcbiAgICB0aGlzLnZpZXcuaW5pdCgpO1xyXG4gIH1cclxuXHJcbiAgY2hlY2tTdGVwID0gKHN0ZXA6IHN0cmluZyk6IG51bWJlciA9PiB7XHJcbiAgICBsZXQgc3RlcE1vZCA9IE1hdGguYWJzKFBhcnNpbmdEaWdpdHMucGFyc2luZyhzdGVwKSk7XHJcblxyXG4gICAgaWYgKHN0ZXBNb2QgPT09IG51bGwgfHwgc3RlcE1vZCA9PT0gMCB8fCBzdGVwTW9kID49IHRoaXMudmlldy5tYXhWYWx1ZSAtIHRoaXMudmlldy5taW5WYWx1ZSkge1xyXG4gICAgICBjb25zb2xlLmxvZygnV3JvbmcgdmFsdWUgb2YgdGhlIHN0ZXAnKTtcclxuICAgICAgcmV0dXJuIHRoaXMudmlldy5zdGVwO1xyXG4gICAgfSBcclxuICBcclxuICAgIGlmIChzdGVwTW9kICUgMSAhPT0gMCkge1xyXG4gICAgICB0aGlzLnZpZXcuaXNGbG9hdCA9IHRydWU7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBpZiAodGhpcy52aWV3Lm1heFZhbHVlICUgMSA9PT0gMCAmJiB0aGlzLnZpZXcubWluVmFsdWUgJSAxID09PSAwKSB7XHJcbiAgICAgICAgdGhpcy52aWV3LmlzRmxvYXQgPSBmYWxzZTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIFxyXG4gICAgcmV0dXJuIHN0ZXBNb2Q7ICAgXHJcbiAgfVxyXG5cclxuICBjaGVja01heFZhbHVlID0gKG1heFZhbHVlOiBzdHJpbmcpOiBudW1iZXIgPT4ge1xyXG4gICAgbGV0IG1heFZhbHVlTW9kID0gUGFyc2luZ0RpZ2l0cy5wYXJzaW5nKG1heFZhbHVlKTtcclxuXHJcbiAgICBpZiAobWF4VmFsdWVNb2QgPT09IG51bGwgfHwgbWF4VmFsdWVNb2QgPD0gdGhpcy52aWV3Lm1pblZhbHVlKSB7XHJcbiAgICAgIGNvbnNvbGUubG9nKCdXcm9uZyB2YWx1ZSBvZiB0aGUgbWF4VmFsdWUnKTtcclxuICAgICAgcmV0dXJuIHRoaXMudmlldy5tYXhWYWx1ZTtcclxuICAgIH0gXHJcbiAgXHJcbiAgICBpZiAobWF4VmFsdWVNb2QgJSAxICE9PSAwKSB7XHJcbiAgICAgIHRoaXMudmlldy5pc0Zsb2F0ID0gdHJ1ZTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGlmICh0aGlzLnZpZXcuc3RlcCAlIDEgPT09IDAgJiYgdGhpcy52aWV3Lm1pblZhbHVlICUgMSA9PT0gMCkge1xyXG4gICAgICAgIHRoaXMudmlldy5pc0Zsb2F0ID0gZmFsc2U7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICBcclxuICAgIHJldHVybiBtYXhWYWx1ZU1vZDsgICBcclxuICB9XHJcblxyXG4gIGNoZWNrTWluVmFsdWUgPSAobWluVmFsdWU6IHN0cmluZyk6IG51bWJlciA9PiB7XHJcbiAgICBsZXQgbWluVmFsdWVNb2QgPSBQYXJzaW5nRGlnaXRzLnBhcnNpbmcobWluVmFsdWUpO1xyXG5cclxuICAgIGlmIChtaW5WYWx1ZU1vZCA9PT0gbnVsbCB8fCBtaW5WYWx1ZU1vZCA+PSB0aGlzLnZpZXcubWF4VmFsdWUpIHtcclxuICAgICAgY29uc29sZS5sb2coJ1dyb25nIHZhbHVlIG9mIHRoZSBtaW5WYWx1ZScpO1xyXG4gICAgICByZXR1cm4gdGhpcy52aWV3Lm1pblZhbHVlO1xyXG4gICAgfSBcclxuICBcclxuICAgIGlmIChtaW5WYWx1ZU1vZCAlIDEgIT09IDApIHsgICAgICBcclxuICAgICAgdGhpcy52aWV3LmlzRmxvYXQgPSB0cnVlO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgaWYgKHRoaXMudmlldy5tYXhWYWx1ZSAlIDEgPT09IDAgJiYgdGhpcy52aWV3LnN0ZXAgJSAxID09PSAwKSB7XHJcbiAgICAgICAgdGhpcy52aWV3LmlzRmxvYXQgPSBmYWxzZTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIFxyXG4gICAgcmV0dXJuIG1pblZhbHVlTW9kOyAgIFxyXG4gIH1cclxuXHJcbiAgdXBkYXRlID0gKGFyZ3M6IGNvbmZpZ1R5cGUpOiB2b2lkID0+IHtcclxuICAgIE9iamVjdC5rZXlzKGFyZ3MpLm1hcCgoaXRlbSkgPT4ge1xyXG4gICAgICBpZiAodGhpcy52aWV3W2l0ZW1dICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICBpZiAoaXRlbSA9PT0gJ3N0ZXAnKSB7ICAgICAgICAgIFxyXG4gICAgICAgICAgdGhpcy52aWV3LnN0ZXAgPSB0aGlzLmNoZWNrU3RlcChhcmdzW2l0ZW1dKTtcclxuICAgICAgICB9IGVsc2UgaWYgKGl0ZW0gPT09ICdtYXhWYWx1ZScpIHtcclxuICAgICAgICAgIHRoaXMudmlldy5tYXhWYWx1ZSA9IHRoaXMuY2hlY2tNYXhWYWx1ZShhcmdzW2l0ZW1dKTtcclxuICAgICAgICB9IGVsc2UgaWYgKGl0ZW0gPT09ICdtaW5WYWx1ZScpIHtcclxuICAgICAgICAgIHRoaXMudmlldy5taW5WYWx1ZSA9IHRoaXMuY2hlY2tNaW5WYWx1ZShhcmdzW2l0ZW1dKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgdGhpcy52aWV3W2l0ZW1dID0gYXJnc1tpdGVtXTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIHRoaXMudmlldy5pbml0KCk7XHJcbiAgICAvL3RoaXMudmlldy5idXR0MU1vdmUodGhpcy52aWV3LmJ1dHQxT2Zmc2V0Q2hlY2sodGhpcy52aWV3Lm9mZnNldFZhbHVlQ29udih0aGlzLm1vZGVsLmN1ck1pblZhbHVlKSlbMF0sIHRoaXMubW9kZWwuY3VyTWluVmFsdWUpO1xyXG4gICAgLy90aGlzLnZpZXcuYnV0dDJNb3ZlKHRoaXMudmlldy5idXR0Mk9mZnNldENoZWNrKHRoaXMudmlldy5vZmZzZXRWYWx1ZUNvbnYodGhpcy5tb2RlbC5jdXJNYXhWYWx1ZSkpWzBdLCB0aGlzLm1vZGVsLmN1ck1heFZhbHVlKTtcclxuICB9XHJcblxyXG4gIGdldFZhbHVlcyA9ICgpOiBBcnJheTxudW1iZXI+ID0+IHtcclxuICAgIHJldHVybiBbdGhpcy5tb2RlbC5jdXJNaW5WYWx1ZSwgdGhpcy5tb2RlbC5jdXJNYXhWYWx1ZV07XHJcbiAgfVxyXG5cclxuICBzZXRWYWx1ZXMgPSAoY3VyTWluVmFsdWU6IG51bWJlciwgY3VyTWF4VmFsdWU6IG51bWJlcik6IHZvaWQgPT4ge1xyXG4gICAgaWYgKGN1ck1pblZhbHVlKSB7XHJcbiAgICAgIHRoaXMubW9kZWwuc2V0Q3VyTWluVmFsdWUoY3VyTWluVmFsdWUpO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChjdXJNYXhWYWx1ZSkge1xyXG4gICAgICB0aGlzLm1vZGVsLnNldEN1ck1heFZhbHVlKGN1ck1heFZhbHVlKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGdldENvbmZpZyA9ICgpOiBjb25maWdUeXBlID0+IHtcclxuICAgIHJldHVybiB7bWluVmFsdWU6IHRoaXMudmlldy5taW5WYWx1ZSwgbWF4VmFsdWU6IHRoaXMudmlldy5tYXhWYWx1ZSwgc3RlcDogdGhpcy52aWV3LnN0ZXAsXHJcbiAgICAgIGlzUmFuZ2U6IHRoaXMudmlldy5pc1JhbmdlLCBpc1ZlcnRpY2FsOiB0aGlzLnZpZXcuaXNWZXJ0aWNhbCwgc2hvd0xhYmVsOiB0aGlzLnZpZXcuc2hvd0xhYmVsLCBpc0Zsb2F0OiB0aGlzLnZpZXcuaXNGbG9hdH1cclxuICB9XHJcblxyXG4gIGFkZE9ic2VydmVyID0gKGZuOiBGdW5jdGlvbik6IHZvaWQgPT4ge1xyXG4gICAgdGhpcy5vYnNlcnZlcnMuYWRkT2JzZXJ2ZXIoZm4pO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgQ29udHJvbGxlcjsiLCJpbXBvcnQgTWFrZU9ic2VydmFibGVPYmplY3QgZnJvbSBcIi4uL21ha2VPYnNlcnZhYmxlT2JqZWN0L01ha2VPYnNlcnZhYmxlT2JqZWN0XCI7XHJcbmltcG9ydCBjcmVhdGVFbGVtIGZyb20gXCIuLi9jcmVhdGVFbGVtL2NyZWF0ZUVsZW1cIjtcclxuaW1wb3J0IFNjYWxlIGZyb20gXCIuLi9zY2FsZS9TY2FsZVwiO1xyXG5pbXBvcnQgR3JhZHVhdGlvbiBmcm9tIFwiLi4vZ3JhZHVhdGlvbi9HcmFkdWF0aW9uXCI7XHJcbmltcG9ydCBCdXR0b24gZnJvbSBcIi4uL2J1dHRvbi9CdXR0b25cIjtcclxuaW1wb3J0IExhYmVsIGZyb20gXCIuLi9sYWJlbC9MYWJlbFwiO1xyXG5pbXBvcnQgU2NhbGVGaWxsaW5nIGZyb20gXCIuLi9zY2FsZUZpbGxpbmcvU2NhbGVGaWxsaW5nXCI7XHJcblxyXG5jbGFzcyBWaWV3IHtcclxuICBbaW5kZXg6IHN0cmluZ106IGFueTtcclxuICBzY2FsZTogU2NhbGU7XHJcbiAgZ3JhZHVhdGlvbjogR3JhZHVhdGlvbjtcclxuICBzY2FsZUZpbGxpbmc6IFNjYWxlRmlsbGluZztcclxuICBidXR0b24xOiBCdXR0b247XHJcbiAgYnV0dG9uMjogQnV0dG9uO1xyXG4gIGxhYmVsMTogTGFiZWw7XHJcbiAgbGFiZWwyOiBMYWJlbDtcclxuICBpc1JhbmdlOiBib29sZWFuO1xyXG4gIGlzVmVydGljYWw6IGJvb2xlYW47XHJcbiAgc2hvd0xhYmVsOiBib29sZWFuO1xyXG4gIG1pblZhbHVlOiBudW1iZXI7XHJcbiAgbWF4VmFsdWU6IG51bWJlcjtcclxuICBjdXJNaW5WYWx1ZTogbnVtYmVyO1xyXG4gIGN1ck1heFZhbHVlOiBudW1iZXI7XHJcbiAgc3RlcDogbnVtYmVyO1xyXG4gIGlzRmxvYXQ6IGJvb2xlYW47XHJcbiAgb2JzZXJ2ZXJzOiBNYWtlT2JzZXJ2YWJsZU9iamVjdDtcclxuXHJcbiAgY29uc3RydWN0b3IobWluVmFsdWUgPSAwLCBtYXhWYWx1ZSA9IDEwMDAsIHN0ZXAgPSAxLCBpc1JhbmdlID0gZmFsc2UsIGlzVmVydGljYWwgPSBmYWxzZSwgc2hvd0xhYmVsID0gZmFsc2UsIGlzRmxvYXQgPSBmYWxzZSkge1xyXG4gICAgdGhpcy5zY2FsZSA9IG5ldyBTY2FsZShpc1ZlcnRpY2FsKTtcclxuICAgIHRoaXMuYnV0dG9uMSA9IG5ldyBCdXR0b24oaXNWZXJ0aWNhbCk7XHJcbiAgICB0aGlzLmJ1dHRvbjIgPSBuZXcgQnV0dG9uKGlzVmVydGljYWwpO1xyXG4gICAgdGhpcy5sYWJlbDEgPSBuZXcgTGFiZWwoaXNWZXJ0aWNhbCk7XHJcbiAgICB0aGlzLmxhYmVsMiA9IG5ldyBMYWJlbChpc1ZlcnRpY2FsKTtcclxuICAgIHRoaXMuc2NhbGVGaWxsaW5nID0gbmV3IFNjYWxlRmlsbGluZyhpc1ZlcnRpY2FsKTtcclxuICAgIHRoaXMuZ3JhZHVhdGlvbiA9IG5ldyBHcmFkdWF0aW9uKCk7XHJcbiAgICB0aGlzLm1pblZhbHVlID0gbWluVmFsdWU7XHJcbiAgICB0aGlzLm1heFZhbHVlID0gbWF4VmFsdWU7XHJcbiAgICB0aGlzLmN1ck1pblZhbHVlID0gbWluVmFsdWU7XHJcbiAgICB0aGlzLmN1ck1heFZhbHVlID0gbWF4VmFsdWU7XHJcbiAgICB0aGlzLnN0ZXAgPSBzdGVwO1xyXG4gICAgdGhpcy5pc1JhbmdlID0gaXNSYW5nZTtcclxuICAgIHRoaXMuaXNWZXJ0aWNhbCA9IGlzVmVydGljYWw7XHJcbiAgICB0aGlzLnNob3dMYWJlbCA9IHNob3dMYWJlbDtcclxuICAgIHRoaXMuaXNGbG9hdCA9IGlzRmxvYXQ7XHJcbiAgICB0aGlzLm9ic2VydmVycyA9IG5ldyBNYWtlT2JzZXJ2YWJsZU9iamVjdCgpXHJcbiAgICAvL3RoaXMuY2hlY2tWYWx1ZXMoKTtcclxuICB9XHJcblxyXG4gIGdldFN0YXJ0ID0gKCk6IG51bWJlciA9PiB7XHJcbiAgICBpZiAodGhpcy5pc1JhbmdlKSB7XHJcbiAgICAgIHJldHVybiB0aGlzLmJ1dHRvbjEuZ2V0UG9zaXRpb24oKSAtIHRoaXMuc2NhbGUuZ2V0UG9zaXRpb24oKSArIHRoaXMuYnV0dG9uMS5nZXRXaWR0aCgpLzI7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIDA7XHJcbiAgfVxyXG5cclxuICBnZXRFbmQgPSAoKTogbnVtYmVyID0+IHtcclxuICAgIHJldHVybiB0aGlzLmJ1dHRvbjIuZ2V0UG9zaXRpb24oKSAtIHRoaXMuc2NhbGUuZ2V0UG9zaXRpb24oKSArIHRoaXMuYnV0dG9uMi5nZXRXaWR0aCgpLzI7XHJcbiAgfVxyXG5cclxuICB1cGRhdGVFbGVtcyA9ICgpOiB2b2lkID0+IHtcclxuICAgIHRoaXMuc2NhbGVGaWxsaW5nLmluaXQodGhpcy5pc1ZlcnRpY2FsKTtcclxuICAgIHRoaXMuc2NhbGVGaWxsaW5nLnNldFBvc2l0aW9uKHRoaXMuZ2V0U3RhcnQoKSk7XHJcbiAgICB0aGlzLnNjYWxlRmlsbGluZy5zZXREaW1lbnNpb24odGhpcy5nZXRFbmQoKSAtIHRoaXMuZ2V0U3RhcnQoKSk7XHJcbiAgICB0aGlzLm9ic2VydmVycy5ub3RpZnlPYnNlcnZlcnMoKTtcclxuICB9XHJcblxyXG4gIHJvdW5kID0gKHZhbDogbnVtYmVyLCBzdGVwOiBudW1iZXIpOiBudW1iZXIgPT4ge1xyXG4gICAgY29uc3Qgd2hvbGUgPSBNYXRoLnRydW5jKHZhbC9zdGVwKTtcclxuICAgIGNvbnN0IHJlbWluZGVyID0gKyh2YWwgLSB3aG9sZSpzdGVwKS50b0ZpeGVkKDIpO1xyXG5cclxuICAgIGlmICh2YWwgPCAwKSB7XHJcbiAgICAgIHJldHVybiBNYXRoLmFicyhyZW1pbmRlcikgPCBzdGVwLzIgPyB3aG9sZSpzdGVwIDogKHdob2xlIC0gMSkqc3RlcDtcclxuICAgIH1cclxuXHJcbiAgICBpZiAodmFsIDw9IHRoaXMubWluVmFsdWUpIHtcclxuICAgICAgcmV0dXJuIHRoaXMubWluVmFsdWU7XHJcbiAgICB9IGVsc2UgaWYgKHZhbCA+PSB0aGlzLm1heFZhbHVlKSB7XHJcbiAgICAgIHJldHVybiB0aGlzLm1heFZhbHVlO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiByZW1pbmRlciA8IHN0ZXAvMiA/IHdob2xlKnN0ZXAgOiAod2hvbGUgKyAxKSpzdGVwO1xyXG4gIH1cclxuXHJcbiAgcm91bmRPZmZzZXRCdXR0ID0gKGN1cnJPZmZzZXQ6IG51bWJlcik6IEFycmF5PG51bWJlcj4gPT4ge1xyXG4gICAgY29uc3QgY3VyclZhbHVlID0gdGhpcy5taW5WYWx1ZSArIChjdXJyT2Zmc2V0ICsgdGhpcy5idXR0b24yLmdldFdpZHRoKCkvMikqKHRoaXMubWF4VmFsdWUgLSB0aGlzLm1pblZhbHVlKS90aGlzLnNjYWxlLmdldERpbWVuc2lvbigpO1xyXG4gICAgbGV0IHJvdW5kVmFsdWUgPSB0aGlzLnJvdW5kKGN1cnJWYWx1ZSwgdGhpcy5zdGVwKTtcclxuXHJcbiAgICBpZiAodGhpcy5pc0Zsb2F0KSB7XHJcbiAgICAgIHJvdW5kVmFsdWUgPSBwYXJzZUZsb2F0KHJvdW5kVmFsdWUudG9GaXhlZCgyKSk7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3Qgcm91bmRPZmZzZXQgPSB0aGlzLm9mZnNldFZhbHVlQ29udihyb3VuZFZhbHVlKTtcclxuICAgIHJldHVybiBbcm91bmRPZmZzZXQsIHJvdW5kVmFsdWVdO1xyXG4gIH1cclxuXHJcbiAgb2Zmc2V0VmFsdWVDb252ID0gKHZhbHVlOiBudW1iZXIpOiBudW1iZXIgPT4ge1xyXG4gICAgcmV0dXJuICgodmFsdWUgLSB0aGlzLm1pblZhbHVlKS8odGhpcy5tYXhWYWx1ZSAtIHRoaXMubWluVmFsdWUpKnRoaXMuc2NhbGUuZ2V0RGltZW5zaW9uKCkgLSB0aGlzLmJ1dHRvbjIuZ2V0V2lkdGgoKS8yKTtcclxuICB9XHJcblxyXG4gIC8vQnV0dG9uMSAgSGFuZGxlcnMtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbiAgYnV0dDFNb3ZlID0gKHJvdW5kT2Zmc2V0OiBudW1iZXIsIHJvdW5kVmFsdWU6IG51bWJlcik6IHZvaWQgPT4ge1xyXG4gICAgdGhpcy5idXR0b24xLnNldFBvc2l0aW9uKHJvdW5kT2Zmc2V0KTtcclxuICAgIHRoaXMubGFiZWwxLnNldFBvc2l0aW9uKHJvdW5kT2Zmc2V0ICsgdGhpcy5idXR0b24xLmdldFdpZHRoKCkvMiwgcm91bmRWYWx1ZSk7XHJcblxyXG4gICAgaWYgKHJvdW5kVmFsdWUgPCB0aGlzLm1pblZhbHVlKSB7XHJcbiAgICAgIHJvdW5kVmFsdWUgPSB0aGlzLm1pblZhbHVlO1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXMuY3VyTWluVmFsdWUgPSByb3VuZFZhbHVlO1xyXG4gICAgdGhpcy51cGRhdGVFbGVtcygpO1xyXG4gIH1cclxuXHJcbiAgYnV0dDFPZmZzZXRDaGVjayA9IChuZXdPZmZzZXQ6IG51bWJlcik6IEFycmF5PG51bWJlcj4gPT4ge1xyXG4gICAgbGV0IHJvdW5kVmFsdWU7XHJcblxyXG4gICAgaWYgKG5ld09mZnNldCA8IC10aGlzLmJ1dHRvbjEuZ2V0V2lkdGgoKS8yKSB7XHJcbiAgICAgIG5ld09mZnNldCA9IC10aGlzLmJ1dHRvbjEuZ2V0V2lkdGgoKS8yO1xyXG4gICAgICByb3VuZFZhbHVlID0gdGhpcy5taW5WYWx1ZTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBzdGVwV2lkdGggPSB0aGlzLnN0ZXAqdGhpcy5zY2FsZS5nZXREaW1lbnNpb24oKS8odGhpcy5tYXhWYWx1ZSAtIHRoaXMubWluVmFsdWUpO1xyXG4gICAgY29uc3QgbWluT2Zmc2V0ID0gc3RlcFdpZHRoLzEuNSA+IHRoaXMuYnV0dG9uMS5nZXRXaWR0aCgpID8gc3RlcFdpZHRoLzEuNSA6IHRoaXMuYnV0dG9uMS5nZXRXaWR0aCgpO1xyXG5cclxuICAgIGlmIChuZXdPZmZzZXQgPiB0aGlzLmJ1dHRvbjIuZ2V0UG9zaXRpb24oKSAtIHRoaXMuc2NhbGUuZ2V0UG9zaXRpb24oKSAtIG1pbk9mZnNldCkge1xyXG4gICAgICBuZXdPZmZzZXQgPSB0aGlzLmJ1dHRvbjIuZ2V0UG9zaXRpb24oKSAtIHRoaXMuc2NhbGUuZ2V0UG9zaXRpb24oKSAtIG1pbk9mZnNldDtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gW25ld09mZnNldCwgcm91bmRWYWx1ZV07XHJcbiAgfVxyXG5cclxuICBvbk1vdXNlTW92ZTEgPSAoZXZlbnRNbTogTW91c2VFdmVudCk6IHZvaWQgPT4ge1xyXG4gICAgbGV0IHJvdW5kVmFsdWU7XHJcbiAgICBsZXQgcm91bmRPZmZzZXQ7XHJcbiAgICBjb25zdCBjb29yZGluYXRlID0gdGhpcy5pc1ZlcnRpY2FsID8gZXZlbnRNbS5jbGllbnRZIDogZXZlbnRNbS5jbGllbnRYO1xyXG4gICAgY29uc3QgbmV3T2Zmc2V0ID0gY29vcmRpbmF0ZSAtIHRoaXMuc2NhbGUuZ2V0UG9zaXRpb24oKSAtIHRoaXMuYnV0dG9uMi5nZXRXaWR0aCgpLzI7XHJcblxyXG4gICAgW3JvdW5kT2Zmc2V0LCByb3VuZFZhbHVlXSA9IHRoaXMuYnV0dDFPZmZzZXRDaGVjayhuZXdPZmZzZXQpO1xyXG5cclxuICAgIGlmICh0eXBlb2Ygcm91bmRWYWx1ZSA9PT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgW3JvdW5kT2Zmc2V0LCByb3VuZFZhbHVlXSA9IHRoaXMucm91bmRPZmZzZXRCdXR0KHJvdW5kT2Zmc2V0KTtcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLmJ1dHQxTW92ZShyb3VuZE9mZnNldCwgcm91bmRWYWx1ZSk7XHJcbiAgfVxyXG5cclxuICBvbk1vdXNlVXAxID0gKCk6IHZvaWQgPT4ge1xyXG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1vdXNldXBcIiwgdGhpcy5vbk1vdXNlVXAxKTtcclxuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtb3VzZW1vdmVcIiwgdGhpcy5vbk1vdXNlTW92ZTEpO1xyXG4gIH1cclxuXHJcbiAgLy9CdXR0b24yICBIYW5kbGVycy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuICBidXR0Mk1vdmUgPSAocm91bmRPZmZzZXQ6IG51bWJlciwgcm91bmRWYWx1ZTogbnVtYmVyKTogdm9pZCA9PiB7XHJcbiAgICB0aGlzLmJ1dHRvbjIuc2V0UG9zaXRpb24ocm91bmRPZmZzZXQpO1xyXG4gICAgdGhpcy5sYWJlbDIuc2V0UG9zaXRpb24ocm91bmRPZmZzZXQgKyB0aGlzLmJ1dHRvbjIuZ2V0V2lkdGgoKS8yLCByb3VuZFZhbHVlKTtcclxuXHJcbiAgICBpZiAocm91bmRWYWx1ZSA8IHRoaXMubWluVmFsdWUpIHtcclxuICAgICAgcm91bmRWYWx1ZSA9IHRoaXMubWluVmFsdWU7XHJcbiAgICB9IGVsc2UgaWYgKHJvdW5kVmFsdWUgPiB0aGlzLm1heFZhbHVlKSB7XHJcbiAgICAgIHJvdW5kVmFsdWUgPSB0aGlzLm1heFZhbHVlO1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXMuY3VyTWF4VmFsdWUgPSByb3VuZFZhbHVlO1xyXG4gICAgdGhpcy51cGRhdGVFbGVtcygpO1xyXG4gIH1cclxuXHJcbiAgYnV0dDJPZmZzZXRDaGVjayA9IChuZXdPZmZzZXQ6IG51bWJlcik6IEFycmF5PG51bWJlcj4gPT4ge1xyXG4gICAgbGV0IHJvdW5kVmFsdWU7XHJcblxyXG4gICAgaWYgKCF0aGlzLmlzUmFuZ2UpIHtcclxuICAgICAgaWYgKG5ld09mZnNldCA8IC10aGlzLmJ1dHRvbjIuZ2V0V2lkdGgoKS8yKSB7XHJcbiAgICAgICAgbmV3T2Zmc2V0ID0gLXRoaXMuYnV0dG9uMi5nZXRXaWR0aCgpLzI7XHJcbiAgICAgICAgcm91bmRWYWx1ZSA9IHRoaXMubWluVmFsdWU7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBpZiAobmV3T2Zmc2V0ID4gdGhpcy5zY2FsZS5nZXREaW1lbnNpb24oKSAtIHRoaXMuYnV0dG9uMi5nZXRXaWR0aCgpLzIpIHtcclxuICAgICAgbmV3T2Zmc2V0ID0gdGhpcy5zY2FsZS5nZXREaW1lbnNpb24oKSAtIHRoaXMuYnV0dG9uMi5nZXRXaWR0aCgpLzI7XHJcbiAgICAgIHJvdW5kVmFsdWUgPSB0aGlzLm1heFZhbHVlO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IHN0ZXBXaWR0aCA9IHRoaXMuc3RlcCp0aGlzLnNjYWxlLmdldERpbWVuc2lvbigpLyh0aGlzLm1heFZhbHVlIC0gdGhpcy5taW5WYWx1ZSk7XHJcbiAgICBjb25zdCBtaW5PZmZzZXQgPSBzdGVwV2lkdGgvMS41ID4gdGhpcy5idXR0b24xLmdldFdpZHRoKCkgPyBzdGVwV2lkdGgvMS41IDogdGhpcy5idXR0b24xLmdldFdpZHRoKCk7XHJcblxyXG4gICAgaWYgKG5ld09mZnNldCA8IHRoaXMuYnV0dG9uMS5nZXRQb3NpdGlvbigpIC0gdGhpcy5zY2FsZS5nZXRQb3NpdGlvbigpICsgbWluT2Zmc2V0KSB7XHJcbiAgICAgIG5ld09mZnNldCA9IHRoaXMuYnV0dG9uMS5nZXRQb3NpdGlvbigpIC0gdGhpcy5zY2FsZS5nZXRQb3NpdGlvbigpICsgbWluT2Zmc2V0O1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBbbmV3T2Zmc2V0LCByb3VuZFZhbHVlXTtcclxuICB9XHJcblxyXG4gIG9uTW91c2VNb3ZlMiA9IChldmVudE1tOiBNb3VzZUV2ZW50KTogdm9pZCA9PiB7XHJcbiAgICBsZXQgcm91bmRWYWx1ZTtcclxuICAgIGxldCByb3VuZE9mZnNldDtcclxuICAgIGNvbnN0IGNvb3JkaW5hdGUgPSB0aGlzLmlzVmVydGljYWwgPyBldmVudE1tLmNsaWVudFkgOiBldmVudE1tLmNsaWVudFg7XHJcbiAgICBjb25zdCBuZXdPZmZzZXQgPSBjb29yZGluYXRlIC0gdGhpcy5zY2FsZS5nZXRQb3NpdGlvbigpIC0gdGhpcy5idXR0b24yLmdldFdpZHRoKCkvMjtcclxuXHJcbiAgICBbcm91bmRPZmZzZXQsIHJvdW5kVmFsdWVdID0gdGhpcy5idXR0Mk9mZnNldENoZWNrKG5ld09mZnNldCk7XHJcblxyXG4gICAgaWYgKHR5cGVvZiByb3VuZFZhbHVlID09PSAndW5kZWZpbmVkJykge1xyXG4gICAgICBbcm91bmRPZmZzZXQsIHJvdW5kVmFsdWVdID0gdGhpcy5yb3VuZE9mZnNldEJ1dHQocm91bmRPZmZzZXQpO1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXMuYnV0dDJNb3ZlKHJvdW5kT2Zmc2V0LCByb3VuZFZhbHVlKTtcclxuICB9XHJcblxyXG4gIG9uTW91c2VVcDIgPSAoKTogdm9pZCA9PiB7XHJcbiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgdGhpcy5vbk1vdXNlVXAyKTtcclxuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIHRoaXMub25Nb3VzZU1vdmUyKTtcclxuICB9XHJcblxyXG4gIGJ1dHQxQ2xvc2VyQ2hlY2sgPSAoY29vcmRpbmF0ZTogbnVtYmVyKTogYm9vbGVhbiA9PiB7XHJcbiAgICByZXR1cm4gKE1hdGguYWJzKGNvb3JkaW5hdGUgLSB0aGlzLmJ1dHRvbjEuZ2V0UG9zaXRpb24oKSAtIHRoaXMuYnV0dG9uMS5nZXRXaWR0aCgpLzIpXHJcbiAgICAgIDwgTWF0aC5hYnMoY29vcmRpbmF0ZSAtIHRoaXMuYnV0dG9uMi5nZXRQb3NpdGlvbigpIC0gdGhpcy5idXR0b24yLmdldFdpZHRoKCkvMikpO1xyXG4gIH1cclxuXHJcbiAgLy8gU2NhbGUgRXZlbnRMaXN0ZW5lcnMtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuICBzY2FsZU9uY2xpY2sgPSAoZXZlbnQ6IE1vdXNlRXZlbnQpOiB2b2lkID0+IHtcclxuICAgIGlmKHRoaXMuaXNSYW5nZSkge1xyXG4gICAgICBjb25zdCBjb29yZGluYXRlID0gdGhpcy5pc1ZlcnRpY2FsID8gZXZlbnQuY2xpZW50WSA6IGV2ZW50LmNsaWVudFhcclxuXHJcbiAgICAgIGlmICh0aGlzLmJ1dHQxQ2xvc2VyQ2hlY2soY29vcmRpbmF0ZSkpIHtcclxuICAgICAgICB0aGlzLm9uTW91c2VNb3ZlMShldmVudCk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgdGhpcy5vbk1vdXNlTW92ZTIoZXZlbnQpO1xyXG4gICAgICB9XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLm9uTW91c2VNb3ZlMihldmVudCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvLyBHcmFkdWF0aW9uIEV2ZW50TGlzdGVuZXJzLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4gIGludGVyTWFya0hhbmRsZXIgPSAoY3VyclZhbHVlOiBudW1iZXIpOiB2b2lkID0+IHtcclxuICAgIGxldCByb3VuZE9mZnNldDtcclxuICAgIGxldCByb3VuZFZhbHVlO1xyXG5cclxuICAgIGNvbnN0IG1hcmtPZmZzZXQgPSAoY3VyclZhbHVlIC0gdGhpcy5taW5WYWx1ZSkvKHRoaXMubWF4VmFsdWUgLSB0aGlzLm1pblZhbHVlKSp0aGlzLnNjYWxlLmdldERpbWVuc2lvbigpO1xyXG4gICAgW3JvdW5kT2Zmc2V0LCByb3VuZFZhbHVlXSA9IHRoaXMucm91bmRPZmZzZXRCdXR0KG1hcmtPZmZzZXQgLSB0aGlzLmJ1dHRvbjIuZ2V0V2lkdGgoKS8yKTtcclxuXHJcbiAgICBpZih0aGlzLmlzUmFuZ2UpIHtcclxuICAgICAgY29uc3QgY29vcmRpbmF0ZSA9IG1hcmtPZmZzZXQgKyB0aGlzLnNjYWxlLmdldFBvc2l0aW9uKCk7XHJcblxyXG4gICAgICBpZiAodGhpcy5idXR0MUNsb3NlckNoZWNrKGNvb3JkaW5hdGUpKSB7XHJcbiAgICAgICAgdGhpcy5idXR0MU1vdmUocm91bmRPZmZzZXQsIHJvdW5kVmFsdWUpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHRoaXMuYnV0dDJNb3ZlKHJvdW5kT2Zmc2V0LCByb3VuZFZhbHVlKTtcclxuICAgICAgfVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5idXR0Mk1vdmUocm91bmRPZmZzZXQsIHJvdW5kVmFsdWUpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgbWFyazFPbmNsaWNrID0gKCk6IHZvaWQgPT4ge1xyXG4gICAgY29uc3Qgcm91bmRPZmZzZXQgPSAtdGhpcy5idXR0b24yLmdldFdpZHRoKCkvMjtcclxuICAgIGNvbnN0IHJvdW5kVmFsdWUgPSB0aGlzLm1pblZhbHVlO1xyXG5cclxuICAgIGlmICghdGhpcy5pc1JhbmdlKSB7XHJcbiAgICAgIHRoaXMuYnV0dDJNb3ZlKHJvdW5kT2Zmc2V0LCByb3VuZFZhbHVlKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuYnV0dDFNb3ZlKHJvdW5kT2Zmc2V0LCByb3VuZFZhbHVlKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIG1hcms0T25jbGljayA9ICgpOiB2b2lkID0+IHtcclxuICAgIGNvbnN0IHJvdW5kT2Zmc2V0ID0gdGhpcy5zY2FsZS5nZXREaW1lbnNpb24oKSAtIHRoaXMuYnV0dG9uMi5nZXRXaWR0aCgpLzI7XHJcbiAgICB0aGlzLmJ1dHQyTW92ZShyb3VuZE9mZnNldCwgdGhpcy5tYXhWYWx1ZSk7XHJcbiAgfVxyXG5cclxuICBtYXJrMk9uY2xpY2sgPSAoKTogdm9pZCA9PiB7XHJcbiAgICBjb25zdCB2YWwgPSB0aGlzLmlzRmxvYXQgPyBwYXJzZUZsb2F0KHRoaXMuZ3JhZHVhdGlvbi5tYXJrMi5pbm5lckhUTUwpIDogcGFyc2VJbnQodGhpcy5ncmFkdWF0aW9uLm1hcmsyLmlubmVySFRNTCk7XHJcbiAgICB0aGlzLmludGVyTWFya0hhbmRsZXIodmFsKTtcclxuICB9XHJcblxyXG4gIG1hcmszT25jbGljayA9ICgpOiB2b2lkID0+IHtcclxuICAgIGNvbnN0IHZhbCA9IHRoaXMuaXNGbG9hdCA/IHBhcnNlRmxvYXQodGhpcy5ncmFkdWF0aW9uLm1hcmszLmlubmVySFRNTCkgOiBwYXJzZUludCh0aGlzLmdyYWR1YXRpb24ubWFyazMuaW5uZXJIVE1MKTtcclxuICAgIHRoaXMuaW50ZXJNYXJrSGFuZGxlcih2YWwpO1xyXG4gIH1cclxuXHJcbiAgY2hlY2tWYWx1ZXMgPSAoKTogdm9pZCA9PiB7XHJcbiAgICBpZiAodHlwZW9mIHRoaXMubWF4VmFsdWUgIT09IFwibnVtYmVyXCIpIHtcclxuICAgICAgY29uc29sZS5lcnJvcihcIk1heHZhbHVlIHNob3VsZCBiZSBhIG51bWJlclwiKTtcclxuICAgIH1cclxuICAgIGlmICh0eXBlb2YgdGhpcy5taW5WYWx1ZSAhPT0gXCJudW1iZXJcIikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKFwiTWF4dmFsdWUgc2hvdWxkIGJlIGEgbnVtYmVyXCIpO1xyXG4gICAgfVxyXG4gICAgaWYgKHR5cGVvZiB0aGlzLnN0ZXAgIT09IFwibnVtYmVyXCIpIHtcclxuICAgICAgY29uc29sZS5lcnJvcihcIlN0ZXAgc2hvdWxkIGJlIGEgbnVtYmVyXCIpO1xyXG4gICAgfVxyXG4gICAgaWYgKHR5cGVvZiB0aGlzLmlzUmFuZ2UgIT09IFwiYm9vbGVhblwiKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJpc1JhbmdlIHNob3VsZCBiZSBhIGJvb2xlYW5cIik7XHJcbiAgICB9XHJcbiAgICBpZiAodHlwZW9mIHRoaXMuaXNWZXJ0aWNhbCAhPT0gXCJib29sZWFuXCIpIHtcclxuICAgICAgY29uc29sZS5lcnJvcihcImlzVmVydGljYWwgc2hvdWxkIGJlIGEgYm9vbGVhblwiKTtcclxuICAgIH1cclxuICAgIGlmICh0eXBlb2YgdGhpcy5zaG93TGFiZWwgIT09IFwiYm9vbGVhblwiKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJTaG93TGFiZWwgc2hvdWxkIGJlIGEgYm9vbGVhblwiKTtcclxuICAgIH1cclxuICAgIGlmICh0aGlzLnN0ZXAgPiB0aGlzLm1heFZhbHVlIC0gdGhpcy5taW5WYWx1ZSkge1xyXG4gICAgICB0aGlzLnN0ZXAgPSB0aGlzLm1heFZhbHVlIC0gdGhpcy5taW5WYWx1ZTtcclxuICAgICAgY29uc29sZS5lcnJvcihcIlN0ZXAgaXMgc2V0dGVkIHRvIHRoZSBtYXhcIik7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICByZW5ldygpIHtcclxuICAgIGxldCByb3VuZFZhbHVlO1xyXG4gICAgbGV0IHJvdW5kT2Zmc2V0OyAgICBcclxuICAgIGNvbnN0IG5ld09mZnNldCA9IHRoaXMub2Zmc2V0VmFsdWVDb252KHRoaXMuY3VyTWF4VmFsdWUpO1xyXG4gICAgW3JvdW5kT2Zmc2V0LCByb3VuZFZhbHVlXSA9IHRoaXMuYnV0dDJPZmZzZXRDaGVjayhuZXdPZmZzZXQpO1xyXG5cclxuICAgIGlmICh0eXBlb2Ygcm91bmRWYWx1ZSA9PT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgW3JvdW5kT2Zmc2V0LCByb3VuZFZhbHVlXSA9IHRoaXMucm91bmRPZmZzZXRCdXR0KHJvdW5kT2Zmc2V0KTtcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLmJ1dHQyTW92ZShyb3VuZE9mZnNldCwgcm91bmRWYWx1ZSk7XHJcblxyXG4gICAgaWYgKHRoaXMuaXNSYW5nZSkge1xyXG4gICAgICBsZXQgcm91bmRWYWx1ZTtcclxuICAgICAgbGV0IHJvdW5kT2Zmc2V0OztcclxuICAgICAgY29uc3QgbmV3T2Zmc2V0ID0gdGhpcy5vZmZzZXRWYWx1ZUNvbnYodGhpcy5jdXJNaW5WYWx1ZSk7XHJcbiAgICAgIFtyb3VuZE9mZnNldCwgcm91bmRWYWx1ZV0gPSB0aGlzLmJ1dHQxT2Zmc2V0Q2hlY2sobmV3T2Zmc2V0KTtcclxuXHJcbiAgICAgIGlmICh0eXBlb2Ygcm91bmRWYWx1ZSA9PT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgICBbcm91bmRPZmZzZXQsIHJvdW5kVmFsdWVdID0gdGhpcy5yb3VuZE9mZnNldEJ1dHQocm91bmRPZmZzZXQpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICB0aGlzLmJ1dHQxTW92ZShyb3VuZE9mZnNldCwgcm91bmRWYWx1ZSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBpbml0ID0gKCk6IHZvaWQgPT4ge1xyXG4gICAgLy90aGlzLmNoZWNrVmFsdWVzKCk7ICAgIFxyXG4gICAgdGhpcy5zY2FsZS5pbml0KHRoaXMuaXNWZXJ0aWNhbCk7XHJcbiAgICB0aGlzLnNjYWxlRmlsbGluZy5pbml0KHRoaXMuaXNWZXJ0aWNhbCk7XHJcbiAgICB0aGlzLmdyYWR1YXRpb24uaW5pdCh0aGlzLm1pblZhbHVlLCB0aGlzLm1heFZhbHVlLCB0aGlzLmlzVmVydGljYWwsIHRoaXMuaXNGbG9hdCk7XHJcbiAgICB0aGlzLmJ1dHRvbjEuaW5pdCh0aGlzLmlzVmVydGljYWwpO1xyXG4gICAgdGhpcy5idXR0b24yLmluaXQodGhpcy5pc1ZlcnRpY2FsKTtcclxuICAgIHRoaXMubGFiZWwxLmluaXQodGhpcy5pc1ZlcnRpY2FsKTtcclxuICAgIHRoaXMubGFiZWwyLmluaXQodGhpcy5pc1ZlcnRpY2FsKTtcclxuXHJcbiAgICB0aGlzLmJ1dHRvbjEuZWxlbS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XHJcbiAgICB0aGlzLmxhYmVsMS5lbGVtLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcclxuXHJcbiAgICBpZiAodGhpcy5zaG93TGFiZWwpIHtcclxuICAgICAgdGhpcy5sYWJlbDEuZWxlbS5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xyXG4gICAgICB0aGlzLmxhYmVsMi5lbGVtLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLmxhYmVsMS5lbGVtLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcclxuICAgICAgdGhpcy5sYWJlbDIuZWxlbS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHRoaXMuaXNSYW5nZSkge1xyXG4gICAgICB0aGlzLmJ1dHRvbjEuZWxlbS5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5idXR0b24xLmVsZW0uc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xyXG4gICAgICB0aGlzLmxhYmVsMS5lbGVtLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcclxuICAgIH1cclxuICAgIFxyXG4gICAgdGhpcy5idXR0b24xLnNldFBvc2l0aW9uKC10aGlzLmJ1dHRvbjEuZ2V0V2lkdGgoKS8yKTtcclxuICAgIHRoaXMuYnV0dG9uMi5zZXRQb3NpdGlvbih0aGlzLnNjYWxlLmdldERpbWVuc2lvbigpIC0gdGhpcy5idXR0b24yLmdldFdpZHRoKCkvMik7XHJcbiAgICB0aGlzLmxhYmVsMS5zZXRQb3NpdGlvbih0aGlzLmdldFN0YXJ0KCksIHRoaXMubWluVmFsdWUpO1xyXG4gICAgdGhpcy5sYWJlbDIuc2V0UG9zaXRpb24odGhpcy5nZXRFbmQoKSwgdGhpcy5tYXhWYWx1ZSk7XHJcblxyXG4gICAgaWYgKHRoaXMuaXNWZXJ0aWNhbCkge1xyXG4gICAgICB0aGlzLmdyYWR1YXRpb24uZ3JhZEVsZW0uc3R5bGUuaGVpZ2h0ID0gdGhpcy5zY2FsZS5nZXREaW1lbnNpb24oKSArXCJweFwiO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5ncmFkdWF0aW9uLmdyYWRFbGVtLnN0eWxlLmhlaWdodCA9IDIwICtcInB4XCI7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIHRoaXMucmVuZXcoKTtcclxuICAgIHRoaXMudXBkYXRlRWxlbXMoKTsgICAgXHJcbiAgfVxyXG5cclxuICBhcHBlbmQgPSAoZW50cnk6IEhUTUxFbGVtZW50KTogdm9pZCA9PiB7XHJcbiAgICBlbnRyeS5hcHBlbmRDaGlsZCh0aGlzLnNjYWxlLmVsZW0pLmFwcGVuZENoaWxkKHRoaXMuc2NhbGVGaWxsaW5nLmVsZW0pO1xyXG4gICAgZW50cnkuYXBwZW5kQ2hpbGQodGhpcy5idXR0b24xLmVsZW0pO1xyXG4gICAgZW50cnkuYXBwZW5kQ2hpbGQodGhpcy5sYWJlbDEuZWxlbSk7XHJcbiAgICBlbnRyeS5hcHBlbmRDaGlsZCh0aGlzLmdyYWR1YXRpb24uZ3JhZEVsZW0pO1xyXG4gICAgZW50cnkuYXBwZW5kQ2hpbGQodGhpcy5idXR0b24yLmVsZW0pO1xyXG4gICAgZW50cnkuYXBwZW5kQ2hpbGQodGhpcy5sYWJlbDIuZWxlbSk7XHJcblxyXG4gICAgdGhpcy5zY2FsZS5lbGVtLm9uY2xpY2sgPSB0aGlzLnNjYWxlT25jbGljaztcclxuICAgIHRoaXMuZ3JhZHVhdGlvbi5tYXJrMS5vbmNsaWNrID0gdGhpcy5tYXJrMU9uY2xpY2s7XHJcbiAgICB0aGlzLmdyYWR1YXRpb24ubWFyazIub25jbGljayA9IHRoaXMubWFyazJPbmNsaWNrO1xyXG4gICAgdGhpcy5ncmFkdWF0aW9uLm1hcmszLm9uY2xpY2sgPSB0aGlzLm1hcmszT25jbGljaztcclxuICAgIHRoaXMuZ3JhZHVhdGlvbi5tYXJrNC5vbmNsaWNrID0gdGhpcy5tYXJrNE9uY2xpY2s7XHJcblxyXG4gICAgdGhpcy5idXR0b24xLmVsZW0ub25tb3VzZWRvd24gPSAoZXZlbnRNZDogTW91c2VFdmVudCkgPT4ge1xyXG4gICAgICBldmVudE1kLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZW1vdmVcIiwgdGhpcy5vbk1vdXNlTW92ZTEpO1xyXG4gICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwibW91c2V1cFwiLCB0aGlzLm9uTW91c2VVcDEpO1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXMubGFiZWwxLmVsZW0ub25tb3VzZWRvd24gPSAoZXZlbnRNZDogTW91c2VFdmVudCkgPT4ge1xyXG4gICAgICBldmVudE1kLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZW1vdmVcIiwgdGhpcy5vbk1vdXNlTW92ZTEpO1xyXG4gICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwibW91c2V1cFwiLCB0aGlzLm9uTW91c2VVcDEpO1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXMuYnV0dG9uMi5lbGVtLm9ubW91c2Vkb3duID0gKGV2ZW50TWQ6IE1vdXNlRXZlbnQpID0+IHtcclxuICAgICAgZXZlbnRNZC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vtb3ZlXCIsIHRoaXMub25Nb3VzZU1vdmUyKTtcclxuICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNldXBcIiwgdGhpcy5vbk1vdXNlVXAyKTtcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLmxhYmVsMi5lbGVtLm9ubW91c2Vkb3duID0gKGV2ZW50TWQ6IE1vdXNlRXZlbnQpID0+IHtcclxuICAgICAgY29uc29sZS5sb2coJ3llcycpO1xyXG4gICAgICBldmVudE1kLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZW1vdmVcIiwgdGhpcy5vbk1vdXNlTW92ZTIpO1xyXG4gICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwibW91c2V1cFwiLCB0aGlzLm9uTW91c2VVcDIpO1xyXG4gICAgfVxyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IHtjcmVhdGVFbGVtLCBTY2FsZSwgTGFiZWwsIEJ1dHRvbiwgU2NhbGVGaWxsaW5nLCBWaWV3LCBHcmFkdWF0aW9ufTtcclxuIiwiaW1wb3J0IE1ha2VPYnNlcnZhYmxlT2JqZWN0IGZyb20gJy4uL21ha2VPYnNlcnZhYmxlT2JqZWN0L01ha2VPYnNlcnZhYmxlT2JqZWN0JztcclxuXHJcbmNsYXNzIE1vZGVsIHtcclxuICBjdXJNaW5WYWx1ZTogbnVtYmVyO1xyXG4gIGN1ck1heFZhbHVlOiBudW1iZXI7XHJcbiAgb2JzZXJ2ZXJzOiBNYWtlT2JzZXJ2YWJsZU9iamVjdDtcclxuXHJcbiAgY29uc3RydWN0b3IoY3VyTWluVmFsdWUgPSAwLCBjdXJNYXhWYWx1ZSA9IDEwMDApIHtcclxuICAgIHRoaXMuY3VyTWluVmFsdWUgPSBjdXJNaW5WYWx1ZTtcclxuICAgIHRoaXMuY3VyTWF4VmFsdWUgPSBjdXJNYXhWYWx1ZTtcclxuICAgIHRoaXMub2JzZXJ2ZXJzID0gbmV3IE1ha2VPYnNlcnZhYmxlT2JqZWN0KCk7XHJcbiAgfVxyXG5cclxuICBzZXRDdXJNaW5WYWx1ZShkYXRhOiBudW1iZXIpOiB2b2lkIHtcclxuICAgIGlmICh0aGlzLmN1ck1pblZhbHVlICE9IGRhdGEpIHtcclxuICAgICAgdGhpcy5jdXJNaW5WYWx1ZSA9IGRhdGE7XHJcbiAgICAgIHRoaXMub2JzZXJ2ZXJzLm5vdGlmeU9ic2VydmVycygpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgc2V0Q3VyTWF4VmFsdWUoZGF0YTogbnVtYmVyKTogdm9pZCB7XHJcbiAgICBpZiAodGhpcy5jdXJNYXhWYWx1ZSAhPSBkYXRhKSB7XHJcbiAgICAgIHRoaXMuY3VyTWF4VmFsdWUgPSBkYXRhO1xyXG4gICAgICB0aGlzLm9ic2VydmVycy5ub3RpZnlPYnNlcnZlcnMoKTtcclxuICAgIH1cclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IE1vZGVsOyIsInZhciBtYXAgPSB7XG5cdFwiLi9ibG9ja3MvYnV0dG9uL0J1dHRvbi50c1wiOiAyLFxuXHRcIi4vYmxvY2tzL2NvbnRyb2xsZXIvQ29udHJvbGxlci50c1wiOiA4LFxuXHRcIi4vYmxvY2tzL2NyZWF0ZUVsZW0vY3JlYXRlRWxlbS50c1wiOiAwLFxuXHRcIi4vYmxvY2tzL2dyYWR1YXRpb24vR3JhZHVhdGlvbi50c1wiOiA2LFxuXHRcIi4vYmxvY2tzL2xhYmVsL0xhYmVsLnRzXCI6IDMsXG5cdFwiLi9ibG9ja3MvbWFrZU9ic2VydmFibGVPYmplY3QvTWFrZU9ic2VydmFibGVPYmplY3QudHNcIjogMSxcblx0XCIuL2Jsb2Nrcy9tb2RlbC9Nb2RlbC50c1wiOiAxMCxcblx0XCIuL2Jsb2Nrcy9wYXJzaW5nRGlnaXRzL1BhcnNpbmdEaWdpdHMudHNcIjogNCxcblx0XCIuL2Jsb2Nrcy9zY2FsZS9TY2FsZS50c1wiOiA1LFxuXHRcIi4vYmxvY2tzL3NjYWxlRmlsbGluZy9TY2FsZUZpbGxpbmcudHNcIjogNyxcblx0XCIuL2Jsb2Nrcy92aWV3L1ZpZXcudHNcIjogOSxcblx0XCIuL3BsdWdpbldyYXBwZXIudHNcIjogMTIsXG5cdFwiLi9zdHlsZXMvc3R5bGUuc2Nzc1wiOiAxM1xufTtcblxuXG5mdW5jdGlvbiB3ZWJwYWNrQ29udGV4dChyZXEpIHtcblx0dmFyIGlkID0gd2VicGFja0NvbnRleHRSZXNvbHZlKHJlcSk7XG5cdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKGlkKTtcbn1cbmZ1bmN0aW9uIHdlYnBhY2tDb250ZXh0UmVzb2x2ZShyZXEpIHtcblx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhtYXAsIHJlcSkpIHtcblx0XHR2YXIgZSA9IG5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIgKyByZXEgKyBcIidcIik7XG5cdFx0ZS5jb2RlID0gJ01PRFVMRV9OT1RfRk9VTkQnO1xuXHRcdHRocm93IGU7XG5cdH1cblx0cmV0dXJuIG1hcFtyZXFdO1xufVxud2VicGFja0NvbnRleHQua2V5cyA9IGZ1bmN0aW9uIHdlYnBhY2tDb250ZXh0S2V5cygpIHtcblx0cmV0dXJuIE9iamVjdC5rZXlzKG1hcCk7XG59O1xud2VicGFja0NvbnRleHQucmVzb2x2ZSA9IHdlYnBhY2tDb250ZXh0UmVzb2x2ZTtcbm1vZHVsZS5leHBvcnRzID0gd2VicGFja0NvbnRleHQ7XG53ZWJwYWNrQ29udGV4dC5pZCA9IDExOyIsImltcG9ydCBDb250cm9sbGVyIGZyb20gJy4vYmxvY2tzL2NvbnRyb2xsZXIvQ29udHJvbGxlcic7XHJcblxyXG4oZnVuY3Rpb24oJCkge1xyXG4gIGNvbnN0IGNvbmZpZyA9IHtcclxuICAgIG1pblZhbHVlOiAwLFxyXG4gICAgbWF4VmFsdWU6IDEwMDAsXHJcbiAgICBzdGVwOiAxLFxyXG4gICAgaXNSYW5nZTogZmFsc2UsXHJcbiAgICBpc1ZlcnRpY2FsOiBmYWxzZSxcclxuICAgIHNob3dMYWJlbDogZmFsc2UsXHJcbiAgICBpc0Zsb2F0OiBmYWxzZSxcclxuICB9O1xyXG5cclxuICBjb25zdCBtZXRob2RzOiBNZXRob2RzID0ge1xyXG4gICAgaW5pdDogZnVuY3Rpb24ob3B0OiBDb25maWcpIHtcclxuICAgICAgaWYgKCEkKHRoaXMpLmRhdGEoJ3NsaWRlcicpKSB7XHJcbiAgICAgICAgY29uc3QgbmV3Q29uZmlnID0geyAuLi5jb25maWcgfTtcclxuICAgICAgICBjb25zdCBzbGlkZXIgPSBuZXcgQ29udHJvbGxlciguLi5PYmplY3QudmFsdWVzKCQuZXh0ZW5kKG5ld0NvbmZpZywgb3B0KSkpO1xyXG4gICAgICAgICQodGhpcykuZGF0YSgnc2xpZGVyJywgc2xpZGVyKTtcclxuXHJcbiAgICAgICAgc2xpZGVyLmFwcGVuZCgkKHRoaXMpKTtcclxuICAgICAgfVxyXG4gICAgfSxcclxuXHJcbiAgICB1cGRhdGU6IGZ1bmN0aW9uKG9wdDogQ29uZmlnKSB7XHJcbiAgICAgIGNvbnN0IHNsaWRlciA9ICQodGhpcykuZGF0YSgnc2xpZGVyJyk7XHJcbiAgICAgIHNsaWRlci51cGRhdGUob3B0KTtcclxuICAgIH0sXHJcblxyXG4gICAgZ2V0Q29uZmlnOiBmdW5jdGlvbigpIHtcclxuICAgICAgY29uc3Qgc2xpZGVyID0gJCh0aGlzKS5kYXRhKCdzbGlkZXInKTtcclxuICAgICAgcmV0dXJuIHNsaWRlci5nZXRDb25maWcoKTtcclxuICAgIH0sXHJcblxyXG4gICAgc2V0VmFsdWVzOiBmdW5jdGlvbihvcHQ6IENvbmZpZykge1xyXG4gICAgICBjb25zdCBzbGlkZXIgPSAkKHRoaXMpLmRhdGEoJ3NsaWRlcicpO1xyXG4gICAgICBzbGlkZXIuc2V0VmFsdWVzKG9wdC5jdXJNaW5WYWx1ZSwgb3B0LmN1ck1heFZhbHVlKTtcclxuICAgIH0sXHJcblxyXG4gICAgaW5wdXRzQXR0YWNoOiBmdW5jdGlvbihvcHQ6IElucHV0c09iamVjdCkge1xyXG4gICAgICBjb25zdCBzbGlkZXIgPSAkKHRoaXMpLmRhdGEoJ3NsaWRlcicpO1xyXG4gICAgICBzbGlkZXIuYWRkT2JzZXJ2ZXIoKCkgPT4ge1xyXG4gICAgICAgIG9wdC5taW5WYWx1ZUluLnZhbChzbGlkZXIuZ2V0VmFsdWVzKClbMF0pO1xyXG4gICAgICAgIG9wdC5tYXhWYWx1ZUluLnZhbChzbGlkZXIuZ2V0VmFsdWVzKClbMV0pO1xyXG4gICAgICB9KVxyXG4gICAgfSxcclxuICB9XHJcblxyXG4gICQuZm4ub21mZ3NsaWRlciA9IGZ1bmN0aW9uKG1ldGhvZDogc3RyaW5nKSB7XHJcbiAgICBpZiAobWV0aG9kc1ttZXRob2RdKSB7XHJcbiAgICAgIHJldHVybiBtZXRob2RzW21ldGhvZF0uYXBwbHkodGhpcywgQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKSk7XHJcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBtZXRob2QgPT09ICdvYmplY3QnIHx8ICFtZXRob2QpIHtcclxuICAgICAgcmV0dXJuIG1ldGhvZHMuaW5pdC5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgJC5lcnJvcihg0JzQtdGC0L7QtCAke21ldGhvZH0g0L3QtSDQvdCw0LnQtNC10L0g0LIg0L/Qu9Cw0LPQuNC90LUgalF1ZXJ5Lm9tZmdzbGlkZXJgKTtcclxuICAgIH1cclxuICB9O1xyXG59KShqUXVlcnkpO1xyXG4iLCJleHBvcnQgZGVmYXVsdCBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyArIFwiaW5kZXguaHRtbFwiOyIsImltcG9ydCAnLi9wYWdlL2luZGV4Lmh0bWwnO1xyXG5cclxuZnVuY3Rpb24gaW1wb3J0QWxsKHI6ICBfX1dlYnBhY2tNb2R1bGVBcGkuUmVxdWlyZUNvbnRleHQpIHtcclxuICAgIHIua2V5cygpLmZvckVhY2gocik7XHJcbn1cclxuICBcclxuaW1wb3J0QWxsKHJlcXVpcmUuY29udGV4dCgnLi9zbGlkZXInLCB0cnVlLCAvKD88IVxcLmQpXFwuKGpzfHRzfHNjc3MpJC9pKSk7Il0sInNvdXJjZVJvb3QiOiIifQ==