!function(e){var t={};function i(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,i),o.l=!0,o.exports}i.m=e,i.c=t,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)i.d(n,o,function(t){return e[t]}.bind(null,o));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=14)}([function(e,t,i){"use strict";i.r(t),t.default=function(e){var t=document.createElement("div");return t.ondragstart=function(){return!1},t.classList.add(e),t}},function(e,t,i){"use strict";i.r(t);var n=function(){for(var e=0,t=0,i=arguments.length;t<i;t++)e+=arguments[t].length;var n=Array(e),o=0;for(t=0;t<i;t++)for(var s=arguments[t],a=0,r=s.length;a<r;a++,o++)n[o]=s[a];return n},o=function(){function e(){this.observers=[]}return e.prototype.addObserver=function(e){if("function"!=typeof e)throw new Error("observer must be a function");this.observers.map((function(t){if(t===e)throw new Error("observer already in the list")})),this.observers.push(e)},e.prototype.removeObserver=function(e){for(var t=0;t<this.observers.length;t++){if(this.observers[t]===e)return void this.observers.splice(t,1)}throw new Error("could not find observer in list of observers")},e.prototype.notifyObservers=function(){n(this.observers).map((function(e){return e()}))},e}();t.default=o},function(e,t,i){"use strict";i.r(t);var n=i(0),o=function(e){var t=this;this.getWidth=function(){return t.elem.getBoundingClientRect().width},this.getPosition=function(){return t.isVertical?t.elem.getBoundingClientRect().top:t.elem.getBoundingClientRect().left},this.setPosition=function(e){t.isVertical?(t.elem.style.left="50%",t.elem.style.top=e+"px"):(t.elem.style.top="50%",t.elem.style.left=e+"px")},this.init=function(e){t.isVertical=e,t.isVertical?t.elem.classList.add("slider__button_position_vertical"):t.elem.classList.remove("slider__button_position_vertical")},this.elem=Object(n.default)("slider__button"),this.isVertical=e};t.default=o},function(e,t,i){"use strict";i.r(t);var n=i(0),o=function(e){var t=this;this.getPosition=function(){return t.isVertical?t.elem.getBoundingClientRect().top:t.elem.getBoundingClientRect().left},this.setPosition=function(e,i){t.elem.innerHTML=i+"",t.isVertical?(t.elem.style.left="50%",t.elem.style.top=e-t.getDimension()/2+"px"):(t.elem.style.top="50%",t.elem.style.left=e-t.getDimension()/2+"px")},this.getDimension=function(){return t.isVertical?t.elem.getBoundingClientRect().height:t.elem.getBoundingClientRect().width},this.init=function(e){t.isVertical=e,t.isVertical?t.elem.classList.add("slider__button-label_position_vertical"):t.elem.classList.remove("slider__button-label_position_vertical")},this.elem=Object(n.default)("slider__button-label"),this.isVertical=e};t.default=o},function(e,t,i){"use strict";i.r(t);var n=i(0),o=function(e){var t=this;this.getPosition=function(){return t.isVertical?t.elem.getBoundingClientRect().top:t.elem.getBoundingClientRect().left},this.getDimension=function(){return t.isVertical?t.elem.getBoundingClientRect().height:t.elem.getBoundingClientRect().width},this.init=function(e){t.isVertical=e,t.isVertical?t.elem.classList.add("slider__scale_position_vertical"):t.elem.classList.remove("slider__scale_position_vertical")},this.elem=Object(n.default)("slider__scale"),this.isVertical=e};t.default=o},function(e,t,i){"use strict";i.r(t);var n=i(0),o=function(){var e=this;this.init=function(t,i,n,o){void 0===o&&(o=!1),e.mark1.innerHTML=t+"",e.mark4.innerHTML=i+"",o?(e.mark2.innerHTML=(t+(i-t)/3).toFixed(2),e.mark3.innerHTML=(t+2*(i-t)/3).toFixed(2)):(e.mark2.innerHTML=t+Math.round((i-t)/3)+"",e.mark3.innerHTML=t+Math.round(2*(i-t)/3)+""),n?(e.mark1.classList.remove("slider__graduation-mark_offset_left"),e.mark1.classList.add("slider__graduation-mark_offset_top"),e.mark4.classList.remove("slider__graduation-mark_offset_right"),e.mark4.classList.add("slider__graduation-mark_offset_bottom"),e.gradElem.classList.add("slider__graduation_position_vertical")):(e.mark1.classList.add("slider__graduation-mark_offset_left"),e.mark1.classList.remove("slider__graduation-mark_offset_top"),e.mark4.classList.add("slider__graduation-mark_offset_right"),e.mark4.classList.remove("slider__graduation-mark_offset_bottom"),e.gradElem.classList.remove("slider__graduation_position_vertical"))},this.gradElem=Object(n.default)("slider__graduation"),this.mark1=Object(n.default)("slider__graduation-mark"),this.mark2=Object(n.default)("slider__graduation-mark"),this.mark3=Object(n.default)("slider__graduation-mark"),this.mark4=Object(n.default)("slider__graduation-mark"),this.gradElem.appendChild(this.mark1),this.gradElem.appendChild(this.mark2),this.gradElem.appendChild(this.mark3),this.gradElem.appendChild(this.mark4)};t.default=o},function(e,t,i){"use strict";i.r(t);var n=i(0),o=function(e){var t=this;this.setPosition=function(e){t.isVertical?(t.elem.style.left="0",t.elem.style.width="100%",t.elem.style.top=e+"px"):(t.elem.style.top="0",t.elem.style.height="100%",t.elem.style.left=e+"px")},this.setDimension=function(e){t.isVertical?t.elem.style.height=e+"px":t.elem.style.width=e+"px"},this.init=function(e){t.isVertical=e},this.elem=Object(n.default)("slider__scale-filling"),this.isVertical=e};t.default=o},function(e,t,i){"use strict";i.r(t);var n=i(8),o=i(9),s=i(1),a=i(10),r=function(e,t,i,r,l,u,c){var d=this;void 0===e&&(e=0),void 0===t&&(t=1e3),void 0===i&&(i=1),void 0===r&&(r=!1),void 0===l&&(l=!1),void 0===u&&(u=!1),void 0===c&&(c=!1),this.append=function(e){d.view.append(e.get(0)),d.view.init()},this.checkStep=function(e){var t=Math.abs(a.default.parsing(e));return null===t||0===t||t>=d.view.maxValue-d.view.minValue?(console.log("Wrong value of the step"),d.view.step):(d.view.isFloat=t%1!=0,t)},this.update=function(e){Object.keys(e).map((function(t){void 0!==d.view[t]&&("step"===t?d.view.step=d.checkStep(e[t]):d.view[t]=e[t])})),d.view.init()},this.getValues=function(){return[d.model.curMinValue,d.model.curMaxValue]},this.setValues=function(e,t){e&&d.model.setCurMinValue(e),t&&d.model.setCurMaxValue(t)},this.getConfig=function(){return{minValue:d.view.minValue,maxValue:d.view.maxValue,step:d.view.step,isRange:d.view.isRange,isVertical:d.view.isVertical,showLabel:d.view.showLabel,isFloat:d.view.isFloat}},this.addObserver=function(e){d.observers.addObserver(e)},this.view=new n.View(e,t,i,r,l,u,c),this.model=new o.default(e,t),this.observers=new s.default,this.view.observers.addObserver((function(){d.model.curMinValue=d.view.curMinValue,d.model.curMaxValue=d.view.curMaxValue,d.observers.notifyObservers()})),this.model.observers.addObserver((function(){var e=d.model.curMinValue,t=d.model.curMaxValue;d.view.butt1Move(d.view.offsetValueConv(e),e),d.view.butt2Move(d.view.offsetValueConv(t),t),d.observers.notifyObservers()}))};t.default=r},function(e,t,i){"use strict";i.r(t),i.d(t,"View",(function(){return c}));var n=i(1),o=i(0);i.d(t,"createElem",(function(){return o.default}));var s=i(4);i.d(t,"Scale",(function(){return s.default}));var a=i(5);i.d(t,"Graduation",(function(){return a.default}));var r=i(2);i.d(t,"Button",(function(){return r.default}));var l=i(3);i.d(t,"Label",(function(){return l.default}));var u=i(6);i.d(t,"ScaleFilling",(function(){return u.default}));var c=function(){function e(e,t,i,o,c,d,f){var m=this;void 0===e&&(e=0),void 0===t&&(t=1e3),void 0===i&&(i=1),void 0===o&&(o=!1),void 0===c&&(c=!1),void 0===d&&(d=!1),void 0===f&&(f=!1),this.getStart=function(){return m.isRange?m.button1.getPosition()-m.scale.getPosition()+m.button1.getWidth()/2:0},this.getEnd=function(){return m.button2.getPosition()-m.scale.getPosition()+m.button2.getWidth()/2},this.updateElems=function(){m.scaleFilling.init(m.isVertical),m.scaleFilling.setPosition(m.getStart()),m.scaleFilling.setDimension(m.getEnd()-m.getStart()),m.isRange||(m.curMinValue=m.minValue),m.observers.notifyObservers()},this.round=function(e,t){var i=Math.trunc(e/t),n=+(e-i*t).toFixed(2);return e<0?Math.abs(n)<t/2?i*t:(i-1)*t:e<=m.minValue?m.minValue:e>=m.maxValue?m.maxValue:n<t/2?i*t:(i+1)*t},this.roundOffsetButt=function(e){var t=m.minValue+(e+m.button2.getWidth()/2)*(m.maxValue-m.minValue)/m.scale.getDimension(),i=m.round(t,m.step);return m.isFloat&&(i=parseFloat(i.toFixed(2))),[m.offsetValueConv(i),i]},this.offsetValueConv=function(e){return(e-m.minValue)/(m.maxValue-m.minValue)*m.scale.getDimension()-m.button2.getWidth()/2},this.butt1Move=function(e,t){m.button1.setPosition(e),m.label1.setPosition(e+m.button1.getWidth()/2,t),t<m.minValue&&(t=m.minValue),m.curMinValue=t,m.updateElems()},this.butt1OffsetCheck=function(e){var t;e<-m.button1.getWidth()/2&&(e=-m.button1.getWidth()/2,t=m.minValue);var i=m.step*m.scale.getDimension()/(m.maxValue-m.minValue),n=i/1.5>m.button1.getWidth()?i/1.5:m.button1.getWidth();return e>m.button2.getPosition()-m.scale.getPosition()-n&&(e=m.button2.getPosition()-m.scale.getPosition()-n),[e,t]},this.onMouseMove1=function(e){var t,i,n,o,s=(m.isVertical?e.clientY:e.clientX)-m.scale.getPosition()-m.button2.getWidth()/2;o=(t=m.butt1OffsetCheck(s))[0],void 0===(n=t[1])&&(o=(i=m.roundOffsetButt(o))[0],n=i[1]),m.butt1Move(o,n)},this.onMouseUp1=function(){document.removeEventListener("mouseup",m.onMouseUp1),document.removeEventListener("mousemove",m.onMouseMove1)},this.butt2Move=function(e,t){m.button2.setPosition(e),m.label2.setPosition(e+m.button2.getWidth()/2,t),t<m.minValue?t=m.minValue:t>m.maxValue&&(t=m.maxValue),m.curMaxValue=t,m.updateElems()},this.butt2OffsetCheck=function(e){var t;m.isRange||e<-m.button2.getWidth()/2&&(e=-m.button2.getWidth()/2,t=m.minValue),e>m.scale.getDimension()-m.button2.getWidth()/2&&(e=m.scale.getDimension()-m.button2.getWidth()/2,t=m.maxValue);var i=m.step*m.scale.getDimension()/(m.maxValue-m.minValue),n=i/1.5>m.button1.getWidth()?i/1.5:m.button1.getWidth();return e<m.button1.getPosition()-m.scale.getPosition()+n&&(e=m.button1.getPosition()-m.scale.getPosition()+n),[e,t]},this.onMouseMove2=function(e){var t,i,n,o,s=(m.isVertical?e.clientY:e.clientX)-m.scale.getPosition()-m.button2.getWidth()/2;o=(t=m.butt2OffsetCheck(s))[0],void 0===(n=t[1])&&(o=(i=m.roundOffsetButt(o))[0],n=i[1]),m.butt2Move(o,n)},this.onMouseUp2=function(){document.removeEventListener("mouseup",m.onMouseUp2),document.removeEventListener("mousemove",m.onMouseMove2)},this.butt1CloserCheck=function(e){return Math.abs(e-m.button1.getPosition()-m.button1.getWidth()/2)<Math.abs(e-m.button2.getPosition()-m.button2.getWidth()/2)},this.scaleOnclick=function(e){if(m.isRange){var t=m.isVertical?e.clientY:e.clientX;m.butt1CloserCheck(t)?m.onMouseMove1(e):m.onMouseMove2(e)}else m.onMouseMove2(e)},this.interMarkHandler=function(e){var t,i,n,o=(e-m.minValue)/(m.maxValue-m.minValue)*m.scale.getDimension();if(i=(t=m.roundOffsetButt(o-m.button2.getWidth()/2))[0],n=t[1],m.isRange){var s=o+m.scale.getPosition();m.butt1CloserCheck(s)?m.butt1Move(i,n):m.butt2Move(i,n)}else m.butt2Move(i,n)},this.mark1Onclick=function(){var e=-m.button2.getWidth()/2,t=m.minValue;m.isRange?m.butt1Move(e,t):m.butt2Move(e,t)},this.mark4Onclick=function(){var e=m.scale.getDimension()-m.button2.getWidth()/2;m.butt2Move(e,m.maxValue)},this.mark2Onclick=function(){var e=m.isFloat?parseFloat(m.graduation.mark2.innerHTML):parseInt(m.graduation.mark2.innerHTML);m.interMarkHandler(e)},this.mark3Onclick=function(){var e=m.isFloat?parseFloat(m.graduation.mark3.innerHTML):parseInt(m.graduation.mark3.innerHTML);m.interMarkHandler(e)},this.checkValues=function(){"number"!=typeof m.maxValue&&console.error("Maxvalue should be a number"),"number"!=typeof m.minValue&&console.error("Maxvalue should be a number"),"number"!=typeof m.step&&console.error("Step should be a number"),"boolean"!=typeof m.isRange&&console.error("isRange should be a boolean"),"boolean"!=typeof m.isVertical&&console.error("isVertical should be a boolean"),"boolean"!=typeof m.showLabel&&console.error("ShowLabel should be a boolean"),m.step>m.maxValue-m.minValue&&(m.step=m.maxValue-m.minValue,console.error("Step is setted to the max"))},this.init=function(){m.scale.init(m.isVertical),m.scaleFilling.init(m.isVertical),m.graduation.init(m.minValue,m.maxValue,m.isVertical,m.isFloat),m.button1.init(m.isVertical),m.button2.init(m.isVertical),m.label1.init(m.isVertical),m.label2.init(m.isVertical),m.button1.elem.style.display="none",m.label1.elem.style.display="none",m.showLabel?(m.label1.elem.style.display="block",m.label2.elem.style.display="block"):(m.label1.elem.style.display="none",m.label2.elem.style.display="none"),m.isRange?m.button1.elem.style.display="block":(m.button1.elem.style.display="none",m.label1.elem.style.display="none"),m.button1.setPosition(-m.button1.getWidth()/2),m.button2.setPosition(m.scale.getDimension()-m.button2.getWidth()/2),m.label1.setPosition(m.getStart(),m.minValue),m.label2.setPosition(m.getEnd(),m.maxValue),m.isVertical?m.graduation.gradElem.style.height=m.scale.getDimension()+"px":m.graduation.gradElem.style.height="20px",m.renew(),m.updateElems()},this.append=function(e){e.appendChild(m.scale.elem).appendChild(m.scaleFilling.elem),e.appendChild(m.button1.elem),e.appendChild(m.label1.elem),e.appendChild(m.graduation.gradElem),e.appendChild(m.button2.elem),e.appendChild(m.label2.elem),m.scale.elem.onclick=m.scaleOnclick,m.graduation.mark1.onclick=m.mark1Onclick,m.graduation.mark2.onclick=m.mark2Onclick,m.graduation.mark3.onclick=m.mark3Onclick,m.graduation.mark4.onclick=m.mark4Onclick,m.button1.elem.onmousedown=function(e){e.preventDefault(),document.addEventListener("mousemove",m.onMouseMove1),document.addEventListener("mouseup",m.onMouseUp1)},m.button2.elem.onmousedown=function(e){e.preventDefault(),document.addEventListener("mousemove",m.onMouseMove2),document.addEventListener("mouseup",m.onMouseUp2)}},this.scale=new s.default(c),this.button1=new r.default(c),this.button2=new r.default(c),this.label1=new l.default(c),this.label2=new l.default(c),this.scaleFilling=new u.default(c),this.graduation=new a.default,this.minValue=e,this.maxValue=t,this.curMinValue=e,this.curMaxValue=t,this.step=i,this.isRange=o,this.isVertical=c,this.showLabel=d,this.isFloat=f,this.observers=new n.default}return e.prototype.renew=function(){var e,t,i,n,o,s,a=this.offsetValueConv(this.curMaxValue);if(s=(e=this.butt2OffsetCheck(a))[0],void 0===(o=e[1])&&(s=(t=this.roundOffsetButt(s))[0],o=t[1]),this.butt2Move(s,o),this.isRange){var r,l,u=this.offsetValueConv(this.curMinValue);l=(i=this.butt1OffsetCheck(u))[0],void 0===(r=i[1])&&(l=(n=this.roundOffsetButt(l))[0],r=n[1]),this.butt1Move(l,r)}},e}()},function(e,t,i){"use strict";i.r(t);var n=i(1),o=function(){function e(e,t){void 0===e&&(e=0),void 0===t&&(t=1e3),this.curMinValue=e,this.curMaxValue=t,this.observers=new n.default}return e.prototype.setCurMinValue=function(e){this.curMinValue!=e&&(this.curMinValue=e,this.observers.notifyObservers())},e.prototype.setCurMaxValue=function(e){this.curMaxValue!=e&&(this.curMaxValue=e,this.observers.notifyObservers())},e}();t.default=o},function(e,t,i){"use strict";i.r(t);var n=function(){function e(){}return e.parsing=function(e){if("number"==typeof e)return e;if("string"==typeof e){if(/^-?\d+[\.,]\d+$/.test(e))return parseFloat(e);if(/^-?\d+$/.test(e))return parseInt(e)}return null},e}();t.default=n},function(e,t,i){var n={"./blocks/button/Button.ts":2,"./blocks/controller/Controller.ts":7,"./blocks/createElem/createElem.ts":0,"./blocks/graduation/Graduation.ts":5,"./blocks/label/Label.ts":3,"./blocks/makeObservableObject/MakeObservableObject.ts":1,"./blocks/model/Model.ts":9,"./blocks/parsingDigits/ParsingDigits.ts":10,"./blocks/scale/Scale.ts":4,"./blocks/scaleFilling/ScaleFilling.ts":6,"./blocks/view/View.ts":8,"./pluginWrapper.ts":12,"./styles/style.scss":13};function o(e){var t=s(e);return i(t)}function s(e){if(!i.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}o.keys=function(){return Object.keys(n)},o.resolve=s,e.exports=o,o.id=11},function(e,t,i){"use strict";i.r(t);var n,o,s,a=i(7),r=function(){return(r=Object.assign||function(e){for(var t,i=1,n=arguments.length;i<n;i++)for(var o in t=arguments[i])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},l=function(){for(var e=0,t=0,i=arguments.length;t<i;t++)e+=arguments[t].length;var n=Array(e),o=0;for(t=0;t<i;t++)for(var s=arguments[t],a=0,r=s.length;a<r;a++,o++)n[o]=s[a];return n};n=jQuery,o={minValue:0,maxValue:1e3,step:1,isRange:!1,isVertical:!1,showLabel:!1,isFloat:!1},s={init:function(e){if(!n(this).data("slider")){var t=r({},o),i=new(a.default.bind.apply(a.default,l([void 0],Object.values(n.extend(t,e)))));n(this).data("slider",i),i.append(n(this))}},update:function(e){n(this).data("slider").update(e)},getConfig:function(){return n(this).data("slider").getConfig()},setValues:function(e){n(this).data("slider").setValues(e.curMinValue,e.curMaxValue)},inputsAttach:function(e){var t=n(this).data("slider");t.addObserver((function(){e.minValueIn.val(t.getValues()[0]),e.maxValueIn.val(t.getValues()[1])}))}},n.fn.omfgslider=function(e){return s[e]?s[e].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof e&&e?void n.error("Метод "+e+" не найден в плагине jQuery.omfgslider"):s.init.apply(this,arguments)}},function(e,t,i){},function(e,t,i){"use strict";i.r(t);var n;i.p;(n=i(11)).keys().forEach(n)}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL3NsaWRlci9ibG9ja3MvY3JlYXRlRWxlbS9jcmVhdGVFbGVtLnRzIiwid2VicGFjazovLy8uL3NyYy9zbGlkZXIvYmxvY2tzL21ha2VPYnNlcnZhYmxlT2JqZWN0L01ha2VPYnNlcnZhYmxlT2JqZWN0LnRzIiwid2VicGFjazovLy8uL3NyYy9zbGlkZXIvYmxvY2tzL2J1dHRvbi9CdXR0b24udHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3NsaWRlci9ibG9ja3MvbGFiZWwvTGFiZWwudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3NsaWRlci9ibG9ja3Mvc2NhbGUvU2NhbGUudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3NsaWRlci9ibG9ja3MvZ3JhZHVhdGlvbi9HcmFkdWF0aW9uLnRzIiwid2VicGFjazovLy8uL3NyYy9zbGlkZXIvYmxvY2tzL3NjYWxlRmlsbGluZy9TY2FsZUZpbGxpbmcudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3NsaWRlci9ibG9ja3MvY29udHJvbGxlci9Db250cm9sbGVyLnRzIiwid2VicGFjazovLy8uL3NyYy9zbGlkZXIvYmxvY2tzL3ZpZXcvVmlldy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvc2xpZGVyL2Jsb2Nrcy9tb2RlbC9Nb2RlbC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvc2xpZGVyL2Jsb2Nrcy9wYXJzaW5nRGlnaXRzL1BhcnNpbmdEaWdpdHMudHMiLCJ3ZWJwYWNrOi8vL1xcLmQpXFwuKGpzfHRzfHNjc3MpJC8iLCJ3ZWJwYWNrOi8vLy4vc3JjL3NsaWRlci9wbHVnaW5XcmFwcGVyLnRzIiwid2VicGFjazovLy8uL3NyYy9wYWdlL2luZGV4Lmh0bWwiLCJ3ZWJwYWNrOi8vLy4vc3JjL2luZGV4LnRzIl0sIm5hbWVzIjpbImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJleHBvcnRzIiwibW9kdWxlIiwiaSIsImwiLCJtb2R1bGVzIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJ0IiwibW9kZSIsIl9fZXNNb2R1bGUiLCJucyIsImNyZWF0ZSIsImtleSIsImJpbmQiLCJuIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwiY2xhc3NOYW1lIiwiZWxlbSIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsIm9uZHJhZ3N0YXJ0IiwiY2xhc3NMaXN0IiwiYWRkIiwidGhpcyIsIm9ic2VydmVycyIsImFkZE9ic2VydmVyIiwiZm4iLCJFcnJvciIsIm1hcCIsIm9ic2VydmVyIiwicHVzaCIsInJlbW92ZU9ic2VydmVyIiwibGVuZ3RoIiwic3BsaWNlIiwibm90aWZ5T2JzZXJ2ZXJzIiwiaXNWZXJ0aWNhbCIsImdldFdpZHRoIiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0Iiwid2lkdGgiLCJnZXRQb3NpdGlvbiIsInRvcCIsImxlZnQiLCJzZXRQb3NpdGlvbiIsIm9mZnNldCIsInN0eWxlIiwiaW5pdCIsInJlbW92ZSIsImlubmVySFRNTCIsImdldERpbWVuc2lvbiIsImhlaWdodCIsIm1pblZhbHVlIiwibWF4VmFsdWUiLCJpc0Zsb2F0IiwibWFyazEiLCJtYXJrNCIsIm1hcmsyIiwidG9GaXhlZCIsIm1hcmszIiwiTWF0aCIsInJvdW5kIiwiZ3JhZEVsZW0iLCJhcHBlbmRDaGlsZCIsInNldERpbWVuc2lvbiIsImRpbWVuc2lvbiIsInN0ZXAiLCJpc1JhbmdlIiwic2hvd0xhYmVsIiwiYXBwZW5kIiwiZW50cnkiLCJ2aWV3IiwiY2hlY2tTdGVwIiwic3RlcE1vZCIsImFicyIsInBhcnNpbmciLCJjb25zb2xlIiwibG9nIiwidXBkYXRlIiwiYXJncyIsImtleXMiLCJpdGVtIiwidW5kZWZpbmVkIiwiZ2V0VmFsdWVzIiwibW9kZWwiLCJjdXJNaW5WYWx1ZSIsImN1ck1heFZhbHVlIiwic2V0VmFsdWVzIiwic2V0Q3VyTWluVmFsdWUiLCJzZXRDdXJNYXhWYWx1ZSIsImdldENvbmZpZyIsImJ1dHQxTW92ZSIsIm9mZnNldFZhbHVlQ29udiIsImJ1dHQyTW92ZSIsImdldFN0YXJ0IiwiYnV0dG9uMSIsInNjYWxlIiwiZ2V0RW5kIiwiYnV0dG9uMiIsInVwZGF0ZUVsZW1zIiwic2NhbGVGaWxsaW5nIiwidmFsIiwid2hvbGUiLCJ0cnVuYyIsInJlbWluZGVyIiwicm91bmRPZmZzZXRCdXR0IiwiY3Vyck9mZnNldCIsImN1cnJWYWx1ZSIsInJvdW5kVmFsdWUiLCJwYXJzZUZsb2F0Iiwicm91bmRPZmZzZXQiLCJsYWJlbDEiLCJidXR0MU9mZnNldENoZWNrIiwibmV3T2Zmc2V0Iiwic3RlcFdpZHRoIiwibWluT2Zmc2V0Iiwib25Nb3VzZU1vdmUxIiwiZXZlbnRNbSIsImNsaWVudFkiLCJjbGllbnRYIiwib25Nb3VzZVVwMSIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJsYWJlbDIiLCJidXR0Mk9mZnNldENoZWNrIiwib25Nb3VzZU1vdmUyIiwib25Nb3VzZVVwMiIsImJ1dHQxQ2xvc2VyQ2hlY2siLCJjb29yZGluYXRlIiwic2NhbGVPbmNsaWNrIiwiZXZlbnQiLCJpbnRlck1hcmtIYW5kbGVyIiwibWFya09mZnNldCIsIm1hcmsxT25jbGljayIsIm1hcms0T25jbGljayIsIm1hcmsyT25jbGljayIsImdyYWR1YXRpb24iLCJwYXJzZUludCIsIm1hcmszT25jbGljayIsImNoZWNrVmFsdWVzIiwiZXJyb3IiLCJkaXNwbGF5IiwicmVuZXciLCJvbmNsaWNrIiwib25tb3VzZWRvd24iLCJldmVudE1kIiwicHJldmVudERlZmF1bHQiLCJhZGRFdmVudExpc3RlbmVyIiwiZGF0YSIsInRlc3QiLCJ3ZWJwYWNrQ29udGV4dCIsInJlcSIsImlkIiwid2VicGFja0NvbnRleHRSZXNvbHZlIiwiZSIsImNvZGUiLCJyZXNvbHZlIiwiJCIsImNvbmZpZyIsIm1ldGhvZHMiLCJqUXVlcnkiLCJvcHQiLCJuZXdDb25maWciLCJzbGlkZXIiLCJ2YWx1ZXMiLCJleHRlbmQiLCJpbnB1dHNBdHRhY2giLCJtaW5WYWx1ZUluIiwibWF4VmFsdWVJbiIsIm9tZmdzbGlkZXIiLCJtZXRob2QiLCJhcHBseSIsIkFycmF5Iiwic2xpY2UiLCJhcmd1bWVudHMiLCJmb3JFYWNoIl0sIm1hcHBpbmdzIjoiYUFDRSxJQUFJQSxFQUFtQixHQUd2QixTQUFTQyxFQUFvQkMsR0FHNUIsR0FBR0YsRUFBaUJFLEdBQ25CLE9BQU9GLEVBQWlCRSxHQUFVQyxRQUduQyxJQUFJQyxFQUFTSixFQUFpQkUsR0FBWSxDQUN6Q0csRUFBR0gsRUFDSEksR0FBRyxFQUNISCxRQUFTLElBVVYsT0FOQUksRUFBUUwsR0FBVU0sS0FBS0osRUFBT0QsUUFBU0MsRUFBUUEsRUFBT0QsUUFBU0YsR0FHL0RHLEVBQU9FLEdBQUksRUFHSkYsRUFBT0QsUUFLZkYsRUFBb0JRLEVBQUlGLEVBR3hCTixFQUFvQlMsRUFBSVYsRUFHeEJDLEVBQW9CVSxFQUFJLFNBQVNSLEVBQVNTLEVBQU1DLEdBQzNDWixFQUFvQmEsRUFBRVgsRUFBU1MsSUFDbENHLE9BQU9DLGVBQWViLEVBQVNTLEVBQU0sQ0FBRUssWUFBWSxFQUFNQyxJQUFLTCxLQUtoRVosRUFBb0JrQixFQUFJLFNBQVNoQixHQUNYLG9CQUFYaUIsUUFBMEJBLE9BQU9DLGFBQzFDTixPQUFPQyxlQUFlYixFQUFTaUIsT0FBT0MsWUFBYSxDQUFFQyxNQUFPLFdBRTdEUCxPQUFPQyxlQUFlYixFQUFTLGFBQWMsQ0FBRW1CLE9BQU8sS0FRdkRyQixFQUFvQnNCLEVBQUksU0FBU0QsRUFBT0UsR0FFdkMsR0FEVSxFQUFQQSxJQUFVRixFQUFRckIsRUFBb0JxQixJQUMvQixFQUFQRSxFQUFVLE9BQU9GLEVBQ3BCLEdBQVcsRUFBUEUsR0FBOEIsaUJBQVZGLEdBQXNCQSxHQUFTQSxFQUFNRyxXQUFZLE9BQU9ILEVBQ2hG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TUUsRUFBU04sRUFBRW5JLE1BQU0wSCxLQUFLLFVBQzVCZSxFQUFPdkksYUFBWSxXQUNqQnFJLEVBQUlNLFdBQVdqRSxJQUFJNkQsRUFBTy9FLFlBQVksSUFDdEM2RSxFQUFJTyxXQUFXbEUsSUFBSTZELEVBQU8vRSxZQUFZLFNBSzVDeUUsRUFBRWhJLEdBQUc0SSxXQUFhLFNBQVNDLEdBQ3pCLE9BQUlYLEVBQVFXLEdBQ0hYLEVBQVFXLEdBQVFDLE1BQU1qSixLQUFNa0osTUFBTTdKLFVBQVU4SixNQUFNdkwsS0FBS3dMLFVBQVcsSUFDOUMsaUJBQVhKLEdBQXdCQSxPQUd4Q2IsRUFBRWpCLE1BQU0sU0FBUzhCLEVBQU0sMENBRmhCWCxFQUFRL0csS0FBSzJILE1BQU1qSixLQUFNb0osYSxzRENwRHZCLElDRUk3SyxFREZKLEtDRUlBLEVBSVQsT0FISmdGLE9BQU84RixRQUFROUsiLCJmaWxlIjoiYnVuZGxlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuIFx0XHR9XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3RcbiBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3RcbiBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbiBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbiBcdFx0cmV0dXJuIG5zO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDE0KTtcbiIsIi8vIEVsZW1lbnRzIGZhY3RvcnlcclxuZnVuY3Rpb24gY3JlYXRlRWxlbShjbGFzc05hbWU6IHN0cmluZykgOkhUTUxFbGVtZW50IHtcclxuICBjb25zdCBlbGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgZWxlbS5vbmRyYWdzdGFydCA9ICgpID0+IGZhbHNlO1xyXG4gIGVsZW0uY2xhc3NMaXN0LmFkZChjbGFzc05hbWUpO1xyXG4gIHJldHVybiBlbGVtO1xyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjcmVhdGVFbGVtOyIsImNsYXNzIE1ha2VPYnNlcnZhYmxlT2JqZWN0IHtcclxuICBvYnNlcnZlcnM6IEFycmF5PEZ1bmN0aW9uPjtcclxuXHJcbiAgY29uc3RydWN0b3IoKSB7XHJcbiAgICB0aGlzLm9ic2VydmVycyA9IFtdO1xyXG4gIH1cclxuXHJcbiAgYWRkT2JzZXJ2ZXIgKGZuOiBGdW5jdGlvbik6IHZvaWQge1xyXG4gICAgaWYgKHR5cGVvZiBmbiAhPT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ29ic2VydmVyIG11c3QgYmUgYSBmdW5jdGlvbicpO1xyXG4gICAgfVxyXG4gICAgdGhpcy5vYnNlcnZlcnMubWFwKChvYnNlcnZlcikgPT4ge1xyXG4gICAgICBpZiAob2JzZXJ2ZXIgPT09IGZuKSB7XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdvYnNlcnZlciBhbHJlYWR5IGluIHRoZSBsaXN0Jyk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gICAgdGhpcy5vYnNlcnZlcnMucHVzaChmbik7XHJcbiAgfVxyXG5cclxuICByZW1vdmVPYnNlcnZlciAoZm46IEZ1bmN0aW9uKTogdm9pZCB7XHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMub2JzZXJ2ZXJzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgIGNvbnN0IG9ic2VydmVyID0gdGhpcy5vYnNlcnZlcnNbaV07XHJcbiAgICAgIGlmIChvYnNlcnZlciA9PT0gZm4pIHtcclxuICAgICAgICB0aGlzLm9ic2VydmVycy5zcGxpY2UoaSwgMSk7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ2NvdWxkIG5vdCBmaW5kIG9ic2VydmVyIGluIGxpc3Qgb2Ygb2JzZXJ2ZXJzJyk7XHJcbiAgfVxyXG5cclxuICBub3RpZnlPYnNlcnZlcnMgKCk6IHZvaWQge1xyXG4gICAgY29uc3Qgb2JzZXJ2ZXJzU25hcHNob3QgPSBbLi4udGhpcy5vYnNlcnZlcnNdO1xyXG4gICAgb2JzZXJ2ZXJzU25hcHNob3QubWFwKChvYnNlcnZlcikgPT4gb2JzZXJ2ZXIoKSk7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBNYWtlT2JzZXJ2YWJsZU9iamVjdDsiLCJpbXBvcnQgY3JlYXRlRWxlbSBmcm9tICcuLi9jcmVhdGVFbGVtL2NyZWF0ZUVsZW0nO1xyXG5cclxuY2xhc3MgQnV0dG9uIHtcclxuICBlbGVtOiBIVE1MRWxlbWVudDtcclxuXHJcbiAgaXNWZXJ0aWNhbDogYm9vbGVhbjtcclxuXHJcbiAgY29uc3RydWN0b3IoaXNWZXJ0aWNhbDogYm9vbGVhbikge1xyXG4gICAgdGhpcy5lbGVtID0gY3JlYXRlRWxlbSgnc2xpZGVyX19idXR0b24nKTtcclxuICAgIHRoaXMuaXNWZXJ0aWNhbCA9IGlzVmVydGljYWw7XHJcbiAgfVxyXG5cclxuICBnZXRXaWR0aCA9ICgpOiBudW1iZXIgPT4ge1xyXG4gICAgcmV0dXJuIHRoaXMuZWxlbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS53aWR0aDtcclxuICB9XHJcblxyXG4gIGdldFBvc2l0aW9uID0gKCk6IG51bWJlciA9PiB7XHJcbiAgICBpZiAodGhpcy5pc1ZlcnRpY2FsKSB7XHJcbiAgICAgIHJldHVybiB0aGlzLmVsZW0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkudG9wO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB0aGlzLmVsZW0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkubGVmdDtcclxuICB9XHJcblxyXG4gIHNldFBvc2l0aW9uID0gKG9mZnNldDogbnVtYmVyKTogdm9pZCA9PiB7XHJcbiAgICBpZiAodGhpcy5pc1ZlcnRpY2FsKSB7XHJcbiAgICAgIHRoaXMuZWxlbS5zdHlsZS5sZWZ0ID0gJzUwJSc7XHJcbiAgICAgIHRoaXMuZWxlbS5zdHlsZS50b3AgPSBvZmZzZXQgKyAncHgnO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5lbGVtLnN0eWxlLnRvcCA9ICc1MCUnO1xyXG4gICAgICB0aGlzLmVsZW0uc3R5bGUubGVmdCA9IG9mZnNldCArICdweCc7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBpbml0ID0gKGlzVmVydGljYWw6IGJvb2xlYW4pOiB2b2lkID0+IHtcclxuICAgIHRoaXMuaXNWZXJ0aWNhbCA9IGlzVmVydGljYWw7XHJcblxyXG4gICAgaWYgKHRoaXMuaXNWZXJ0aWNhbCkge1xyXG4gICAgICB0aGlzLmVsZW0uY2xhc3NMaXN0LmFkZCgnc2xpZGVyX19idXR0b25fcG9zaXRpb25fdmVydGljYWwnKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuZWxlbS5jbGFzc0xpc3QucmVtb3ZlKCdzbGlkZXJfX2J1dHRvbl9wb3NpdGlvbl92ZXJ0aWNhbCcpO1xyXG4gICAgfVxyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgQnV0dG9uO1xyXG4iLCJpbXBvcnQgY3JlYXRlRWxlbSBmcm9tICcuLi9jcmVhdGVFbGVtL2NyZWF0ZUVsZW0nO1xyXG5cclxuY2xhc3MgTGFiZWwge1xyXG4gIGVsZW06IEhUTUxFbGVtZW50O1xyXG4gIGlzVmVydGljYWw6IGJvb2xlYW47XHJcblxyXG4gIGNvbnN0cnVjdG9yKGlzVmVydGljYWw6IGJvb2xlYW4pIHtcclxuICAgIHRoaXMuZWxlbSA9IGNyZWF0ZUVsZW0oJ3NsaWRlcl9fYnV0dG9uLWxhYmVsJyk7XHJcbiAgICB0aGlzLmlzVmVydGljYWwgPSBpc1ZlcnRpY2FsO1xyXG4gIH1cclxuXHJcbiAgZ2V0UG9zaXRpb24gPSAoKTogbnVtYmVyID0+IHtcclxuICAgIGlmICh0aGlzLmlzVmVydGljYWwpIHtcclxuICAgICAgcmV0dXJuIHRoaXMuZWxlbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS50b3A7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHRoaXMuZWxlbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5sZWZ0O1xyXG4gIH1cclxuXHJcbiAgc2V0UG9zaXRpb24gPSAob2Zmc2V0OiBudW1iZXIsIHZhbHVlOiBudW1iZXIpOiB2b2lkID0+IHtcclxuICAgIHRoaXMuZWxlbS5pbm5lckhUTUwgPSB2YWx1ZSArICcnO1xyXG5cclxuICAgIGlmICh0aGlzLmlzVmVydGljYWwpIHtcclxuICAgICAgdGhpcy5lbGVtLnN0eWxlLmxlZnQgPSAnNTAlJztcclxuICAgICAgdGhpcy5lbGVtLnN0eWxlLnRvcCA9IG9mZnNldCAtIHRoaXMuZ2V0RGltZW5zaW9uKCkvMiArICdweCc7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLmVsZW0uc3R5bGUudG9wID0gJzUwJSc7XHJcbiAgICAgIHRoaXMuZWxlbS5zdHlsZS5sZWZ0ID0gb2Zmc2V0IC0gdGhpcy5nZXREaW1lbnNpb24oKS8yICsgJ3B4JztcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGdldERpbWVuc2lvbiA9ICgpOiBudW1iZXIgPT4ge1xyXG4gICAgaWYgKHRoaXMuaXNWZXJ0aWNhbCkge1xyXG4gICAgICByZXR1cm4gdGhpcy5lbGVtLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmhlaWdodDtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gdGhpcy5lbGVtLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLndpZHRoO1xyXG4gIH1cclxuXHJcbiAgaW5pdCA9IChpc1ZlcnRpY2FsOiBib29sZWFuKTogdm9pZCA9PiB7XHJcbiAgICB0aGlzLmlzVmVydGljYWwgPSBpc1ZlcnRpY2FsO1xyXG5cclxuICAgIGlmICh0aGlzLmlzVmVydGljYWwpIHtcclxuICAgICAgdGhpcy5lbGVtLmNsYXNzTGlzdC5hZGQoJ3NsaWRlcl9fYnV0dG9uLWxhYmVsX3Bvc2l0aW9uX3ZlcnRpY2FsJyk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLmVsZW0uY2xhc3NMaXN0LnJlbW92ZSgnc2xpZGVyX19idXR0b24tbGFiZWxfcG9zaXRpb25fdmVydGljYWwnKTtcclxuICAgIH1cclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IExhYmVsOyIsImltcG9ydCBjcmVhdGVFbGVtIGZyb20gJy4uL2NyZWF0ZUVsZW0vY3JlYXRlRWxlbSc7XHJcblxyXG5jbGFzcyBTY2FsZSB7XHJcbiAgZWxlbTogSFRNTEVsZW1lbnQ7XHJcbiAgaXNWZXJ0aWNhbDogYm9vbGVhbjtcclxuXHJcbiAgY29uc3RydWN0b3IoaXNWZXJ0aWNhbDogYm9vbGVhbikge1xyXG4gICAgdGhpcy5lbGVtID0gY3JlYXRlRWxlbSgnc2xpZGVyX19zY2FsZScpO1xyXG4gICAgdGhpcy5pc1ZlcnRpY2FsID0gaXNWZXJ0aWNhbDtcclxuICB9XHJcblxyXG4gIGdldFBvc2l0aW9uID0gKCk6IG51bWJlciA9PiB7XHJcbiAgICBpZiAodGhpcy5pc1ZlcnRpY2FsKSB7XHJcbiAgICAgIHJldHVybiB0aGlzLmVsZW0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkudG9wO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB0aGlzLmVsZW0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkubGVmdDtcclxuICB9XHJcblxyXG4gIGdldERpbWVuc2lvbiA9ICgpOiBudW1iZXIgPT4ge1xyXG4gICAgaWYgKHRoaXMuaXNWZXJ0aWNhbCkge1xyXG4gICAgICByZXR1cm4gdGhpcy5lbGVtLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmhlaWdodDtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gdGhpcy5lbGVtLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLndpZHRoO1xyXG4gIH1cclxuXHJcbiAgaW5pdCA9IChpc1ZlcnRpY2FsOiBib29sZWFuKTogdm9pZCA9PiB7XHJcbiAgICB0aGlzLmlzVmVydGljYWwgPSBpc1ZlcnRpY2FsO1xyXG5cclxuICAgIGlmICh0aGlzLmlzVmVydGljYWwpIHtcclxuICAgICAgdGhpcy5lbGVtLmNsYXNzTGlzdC5hZGQoJ3NsaWRlcl9fc2NhbGVfcG9zaXRpb25fdmVydGljYWwnKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuZWxlbS5jbGFzc0xpc3QucmVtb3ZlKCdzbGlkZXJfX3NjYWxlX3Bvc2l0aW9uX3ZlcnRpY2FsJyk7XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBTY2FsZTtcclxuIiwiaW1wb3J0IGNyZWF0ZUVsZW0gZnJvbSAnLi4vY3JlYXRlRWxlbS9jcmVhdGVFbGVtJztcclxuXHJcbmNsYXNzIEdyYWR1YXRpb24ge1xyXG4gIGdyYWRFbGVtOiBIVE1MRWxlbWVudDtcclxuICBtYXJrMTogSFRNTEVsZW1lbnQ7XHJcbiAgbWFyazI6IEhUTUxFbGVtZW50O1xyXG4gIG1hcmszOiBIVE1MRWxlbWVudDtcclxuICBtYXJrNDogSFRNTEVsZW1lbnQ7XHJcblxyXG4gIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgdGhpcy5ncmFkRWxlbSA9IGNyZWF0ZUVsZW0oJ3NsaWRlcl9fZ3JhZHVhdGlvbicpO1xyXG4gICAgdGhpcy5tYXJrMSA9IGNyZWF0ZUVsZW0oJ3NsaWRlcl9fZ3JhZHVhdGlvbi1tYXJrJyk7XHJcbiAgICB0aGlzLm1hcmsyID0gY3JlYXRlRWxlbSgnc2xpZGVyX19ncmFkdWF0aW9uLW1hcmsnKTtcclxuICAgIHRoaXMubWFyazMgPSBjcmVhdGVFbGVtKCdzbGlkZXJfX2dyYWR1YXRpb24tbWFyaycpO1xyXG4gICAgdGhpcy5tYXJrNCA9IGNyZWF0ZUVsZW0oJ3NsaWRlcl9fZ3JhZHVhdGlvbi1tYXJrJyk7XHJcbiAgICB0aGlzLmdyYWRFbGVtLmFwcGVuZENoaWxkKHRoaXMubWFyazEpO1xyXG4gICAgdGhpcy5ncmFkRWxlbS5hcHBlbmRDaGlsZCh0aGlzLm1hcmsyKTtcclxuICAgIHRoaXMuZ3JhZEVsZW0uYXBwZW5kQ2hpbGQodGhpcy5tYXJrMyk7XHJcbiAgICB0aGlzLmdyYWRFbGVtLmFwcGVuZENoaWxkKHRoaXMubWFyazQpO1xyXG4gIH1cclxuXHJcbiAgaW5pdCA9IChtaW5WYWx1ZTogbnVtYmVyLCBtYXhWYWx1ZTogbnVtYmVyLCBpc1ZlcnRpY2FsOiBib29sZWFuLCBpc0Zsb2F0ID0gZmFsc2UpOiB2b2lkID0+IHtcclxuICAgIHRoaXMubWFyazEuaW5uZXJIVE1MID0gbWluVmFsdWUgKyAnJztcclxuICAgIHRoaXMubWFyazQuaW5uZXJIVE1MID0gbWF4VmFsdWUgKyAnJztcclxuXHJcbiAgICBpZiAoaXNGbG9hdCkge1xyXG4gICAgICB0aGlzLm1hcmsyLmlubmVySFRNTCA9IChtaW5WYWx1ZSArIChtYXhWYWx1ZSAtIG1pblZhbHVlKS8zKS50b0ZpeGVkKDIpO1xyXG4gICAgICB0aGlzLm1hcmszLmlubmVySFRNTCA9IChtaW5WYWx1ZSArIChtYXhWYWx1ZSAtIG1pblZhbHVlKSoyLzMpLnRvRml4ZWQoMik7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLm1hcmsyLmlubmVySFRNTCA9IG1pblZhbHVlICsgTWF0aC5yb3VuZCgobWF4VmFsdWUgLSBtaW5WYWx1ZSkvMykgKyAnJztcclxuICAgICAgdGhpcy5tYXJrMy5pbm5lckhUTUwgPSBtaW5WYWx1ZSArIE1hdGgucm91bmQoKG1heFZhbHVlIC0gbWluVmFsdWUpKjIvMykgKyAnJztcclxuICAgIH1cclxuXHJcbiAgICBpZiAoIWlzVmVydGljYWwpIHtcclxuICAgICAgdGhpcy5tYXJrMS5jbGFzc0xpc3QuYWRkKCdzbGlkZXJfX2dyYWR1YXRpb24tbWFya19vZmZzZXRfbGVmdCcpO1xyXG4gICAgICB0aGlzLm1hcmsxLmNsYXNzTGlzdC5yZW1vdmUoJ3NsaWRlcl9fZ3JhZHVhdGlvbi1tYXJrX29mZnNldF90b3AnKTtcclxuICAgICAgdGhpcy5tYXJrNC5jbGFzc0xpc3QuYWRkKCdzbGlkZXJfX2dyYWR1YXRpb24tbWFya19vZmZzZXRfcmlnaHQnKTtcclxuICAgICAgdGhpcy5tYXJrNC5jbGFzc0xpc3QucmVtb3ZlKCdzbGlkZXJfX2dyYWR1YXRpb24tbWFya19vZmZzZXRfYm90dG9tJyk7XHJcbiAgICAgIHRoaXMuZ3JhZEVsZW0uY2xhc3NMaXN0LnJlbW92ZSgnc2xpZGVyX19ncmFkdWF0aW9uX3Bvc2l0aW9uX3ZlcnRpY2FsJyk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLm1hcmsxLmNsYXNzTGlzdC5yZW1vdmUoJ3NsaWRlcl9fZ3JhZHVhdGlvbi1tYXJrX29mZnNldF9sZWZ0Jyk7XHJcbiAgICAgIHRoaXMubWFyazEuY2xhc3NMaXN0LmFkZCgnc2xpZGVyX19ncmFkdWF0aW9uLW1hcmtfb2Zmc2V0X3RvcCcpO1xyXG4gICAgICB0aGlzLm1hcms0LmNsYXNzTGlzdC5yZW1vdmUoJ3NsaWRlcl9fZ3JhZHVhdGlvbi1tYXJrX29mZnNldF9yaWdodCcpO1xyXG4gICAgICB0aGlzLm1hcms0LmNsYXNzTGlzdC5hZGQoJ3NsaWRlcl9fZ3JhZHVhdGlvbi1tYXJrX29mZnNldF9ib3R0b20nKTtcclxuICAgICAgdGhpcy5ncmFkRWxlbS5jbGFzc0xpc3QuYWRkKCdzbGlkZXJfX2dyYWR1YXRpb25fcG9zaXRpb25fdmVydGljYWwnKTtcclxuICAgIH1cclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IEdyYWR1YXRpb247IiwiaW1wb3J0IGNyZWF0ZUVsZW0gZnJvbSAnLi4vY3JlYXRlRWxlbS9jcmVhdGVFbGVtJztcclxuXHJcbmNsYXNzIFNjYWxlRmlsbGluZyB7XHJcbiAgZWxlbTogSFRNTEVsZW1lbnQ7XHJcbiAgaXNWZXJ0aWNhbDogYm9vbGVhbjtcclxuXHJcbiAgY29uc3RydWN0b3IoaXNWZXJ0aWNhbDogYm9vbGVhbikge1xyXG4gICAgdGhpcy5lbGVtID0gY3JlYXRlRWxlbSgnc2xpZGVyX19zY2FsZS1maWxsaW5nJyk7XHJcbiAgICB0aGlzLmlzVmVydGljYWwgPSBpc1ZlcnRpY2FsO1xyXG4gIH1cclxuXHJcbiAgc2V0UG9zaXRpb24gPSAob2Zmc2V0OiBudW1iZXIpOiB2b2lkID0+IHtcclxuICAgIGlmICh0aGlzLmlzVmVydGljYWwpIHtcclxuICAgICAgdGhpcy5lbGVtLnN0eWxlLmxlZnQgPSAnMCc7XHJcbiAgICAgIHRoaXMuZWxlbS5zdHlsZS53aWR0aCA9ICcxMDAlJztcclxuICAgICAgdGhpcy5lbGVtLnN0eWxlLnRvcCA9IG9mZnNldCArICdweCc7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLmVsZW0uc3R5bGUudG9wID0gJzAnO1xyXG4gICAgICB0aGlzLmVsZW0uc3R5bGUuaGVpZ2h0ID0gJzEwMCUnO1xyXG4gICAgICB0aGlzLmVsZW0uc3R5bGUubGVmdCA9IG9mZnNldCArICdweCc7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBzZXREaW1lbnNpb24gPSAoZGltZW5zaW9uOiBudW1iZXIpOiB2b2lkID0+IHtcclxuICAgIGlmICh0aGlzLmlzVmVydGljYWwpIHtcclxuICAgICAgdGhpcy5lbGVtLnN0eWxlLmhlaWdodCA9IGRpbWVuc2lvbiArICdweCc7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLmVsZW0uc3R5bGUud2lkdGggPSBkaW1lbnNpb24gKyAncHgnO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgaW5pdCA9IChpc1ZlcnRpY2FsOiBib29sZWFuKTogdm9pZCA9PiB7XHJcbiAgICB0aGlzLmlzVmVydGljYWwgPSBpc1ZlcnRpY2FsO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgU2NhbGVGaWxsaW5nO1xyXG4iLCJpbXBvcnQgeyBWaWV3IH0gZnJvbSAnLi4vdmlldy9WaWV3JztcclxuaW1wb3J0IE1vZGVsIGZyb20gJy4uL21vZGVsL01vZGVsJztcclxuaW1wb3J0IE1ha2VPYnNlcnZhYmxlT2JqZWN0IGZyb20gJy4uL21ha2VPYnNlcnZhYmxlT2JqZWN0L01ha2VPYnNlcnZhYmxlT2JqZWN0JztcclxuaW1wb3J0IFBhcnNpbmdEaWdpdHMgZnJvbSBcIi4uL3BhcnNpbmdEaWdpdHMvUGFyc2luZ0RpZ2l0c1wiO1xyXG5cclxuaW50ZXJmYWNlIGNvbmZpZ1R5cGUge1xyXG4gIC8vW2luZGV4OiBzdHJpbmddOlxyXG4gICAgW2luZGV4OiBzdHJpbmddOiBhbnksXHJcbiAgICAvKlxyXG4gICAgc3RlcDogc3RyaW5nLFxyXG4gICAgbWluVmFsdWU6IG51bWJlcixcclxuICAgIG1heFZhbHVlOiBudW1iZXIsXHJcbiAgICBzdGVwOiBzdHJpbmcsXHJcbiAgICBpc1JhbmdlOiBib29sZWFuLFxyXG4gICAgaXNWZXJ0aWNhbDogYm9vbGVhbixcclxuICAgIHNob3dMYWJlbDogYm9vbGVhbixcclxuICAgIGlzRmxvYXQ6IGJvb2xlYW4sXHJcbiAgICAqL1xyXG59XHJcblxyXG5jbGFzcyBDb250cm9sbGVyIHtcclxuICB2aWV3OiBWaWV3O1xyXG5cclxuICBtb2RlbDogTW9kZWw7XHJcblxyXG4gIG9ic2VydmVyczogTWFrZU9ic2VydmFibGVPYmplY3Q7XHJcblxyXG4gIGNvbnN0cnVjdG9yKG1pblZhbHVlID0gMCwgbWF4VmFsdWUgPSAxMDAwLCBzdGVwID0gMSwgaXNSYW5nZSA9IGZhbHNlLFxyXG4gICAgaXNWZXJ0aWNhbCA9IGZhbHNlLCBzaG93TGFiZWwgPSBmYWxzZSwgaXNGbG9hdCA9IGZhbHNlKSB7XHJcbiAgICB0aGlzLnZpZXcgPSBuZXcgVmlldyhtaW5WYWx1ZSwgbWF4VmFsdWUsIHN0ZXAsIGlzUmFuZ2UsIGlzVmVydGljYWwsIHNob3dMYWJlbCwgaXNGbG9hdCk7XHJcbiAgICB0aGlzLm1vZGVsID0gbmV3IE1vZGVsKG1pblZhbHVlLCBtYXhWYWx1ZSk7XHJcbiAgICB0aGlzLm9ic2VydmVycyA9IG5ldyBNYWtlT2JzZXJ2YWJsZU9iamVjdCgpO1xyXG5cclxuICAgIHRoaXMudmlldy5vYnNlcnZlcnMuYWRkT2JzZXJ2ZXIoKCkgPT4ge1xyXG4gICAgICB0aGlzLm1vZGVsLmN1ck1pblZhbHVlID0gdGhpcy52aWV3LmN1ck1pblZhbHVlO1xyXG4gICAgICB0aGlzLm1vZGVsLmN1ck1heFZhbHVlID0gdGhpcy52aWV3LmN1ck1heFZhbHVlO1xyXG4gICAgICB0aGlzLm9ic2VydmVycy5ub3RpZnlPYnNlcnZlcnMoKTtcclxuICAgIH0pO1xyXG5cclxuICAgIHRoaXMubW9kZWwub2JzZXJ2ZXJzLmFkZE9ic2VydmVyKCgpID0+IHtcclxuICAgICAgY29uc3QgY3VyTWluVmFsdWUgPSB0aGlzLm1vZGVsLmN1ck1pblZhbHVlO1xyXG4gICAgICBjb25zdCBjdXJNYXhWYWx1ZSA9IHRoaXMubW9kZWwuY3VyTWF4VmFsdWU7XHJcbiAgICAgIHRoaXMudmlldy5idXR0MU1vdmUodGhpcy52aWV3Lm9mZnNldFZhbHVlQ29udihjdXJNaW5WYWx1ZSksIGN1ck1pblZhbHVlKTtcclxuICAgICAgdGhpcy52aWV3LmJ1dHQyTW92ZSh0aGlzLnZpZXcub2Zmc2V0VmFsdWVDb252KGN1ck1heFZhbHVlKSwgY3VyTWF4VmFsdWUpO1xyXG4gICAgICB0aGlzLm9ic2VydmVycy5ub3RpZnlPYnNlcnZlcnMoKTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgYXBwZW5kID0gKGVudHJ5OiBKUXVlcnkpOiB2b2lkID0+IHtcclxuICAgIHRoaXMudmlldy5hcHBlbmQoZW50cnkuZ2V0KDApKTtcclxuICAgIHRoaXMudmlldy5pbml0KCk7XHJcbiAgfVxyXG5cclxuICBjaGVja1N0ZXAgPSAoc3RlcDogc3RyaW5nKTogbnVtYmVyID0+IHtcclxuICAgIGxldCBzdGVwTW9kID0gTWF0aC5hYnMoUGFyc2luZ0RpZ2l0cy5wYXJzaW5nKHN0ZXApKTtcclxuXHJcbiAgICBpZiAoc3RlcE1vZCA9PT0gbnVsbCB8fCBzdGVwTW9kID09PSAwIHx8IHN0ZXBNb2QgPj0gdGhpcy52aWV3Lm1heFZhbHVlIC0gdGhpcy52aWV3Lm1pblZhbHVlKSB7XHJcbiAgICAgIGNvbnNvbGUubG9nKCdXcm9uZyB2YWx1ZSBvZiB0aGUgc3RlcCcpO1xyXG4gICAgICByZXR1cm4gdGhpcy52aWV3LnN0ZXA7XHJcbiAgICB9IFxyXG4gIFxyXG4gICAgaWYgKHN0ZXBNb2QgJSAxICE9PSAwKSB7XHJcbiAgICAgIHRoaXMudmlldy5pc0Zsb2F0ID0gdHJ1ZTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMudmlldy5pc0Zsb2F0ID0gZmFsc2U7XHJcbiAgICB9XHJcbiAgXHJcbiAgICByZXR1cm4gc3RlcE1vZDsgICBcclxuICB9XHJcblxyXG4gIHVwZGF0ZSA9IChhcmdzOiBjb25maWdUeXBlKTogdm9pZCA9PiB7XHJcbiAgICBPYmplY3Qua2V5cyhhcmdzKS5tYXAoKGl0ZW0pID0+IHtcclxuICAgICAgaWYgKHRoaXMudmlld1tpdGVtXSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgaWYgKGl0ZW0gPT09ICdzdGVwJykgeyAgICAgICAgICBcclxuICAgICAgICAgIHRoaXMudmlldy5zdGVwID0gdGhpcy5jaGVja1N0ZXAoYXJnc1tpdGVtXSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIHRoaXMudmlld1tpdGVtXSA9IGFyZ3NbaXRlbV07XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICB0aGlzLnZpZXcuaW5pdCgpO1xyXG4gICAgLy90aGlzLnZpZXcuYnV0dDFNb3ZlKHRoaXMudmlldy5idXR0MU9mZnNldENoZWNrKHRoaXMudmlldy5vZmZzZXRWYWx1ZUNvbnYodGhpcy5tb2RlbC5jdXJNaW5WYWx1ZSkpWzBdLCB0aGlzLm1vZGVsLmN1ck1pblZhbHVlKTtcclxuICAgIC8vdGhpcy52aWV3LmJ1dHQyTW92ZSh0aGlzLnZpZXcuYnV0dDJPZmZzZXRDaGVjayh0aGlzLnZpZXcub2Zmc2V0VmFsdWVDb252KHRoaXMubW9kZWwuY3VyTWF4VmFsdWUpKVswXSwgdGhpcy5tb2RlbC5jdXJNYXhWYWx1ZSk7XHJcbiAgfVxyXG5cclxuICBnZXRWYWx1ZXMgPSAoKTogQXJyYXk8bnVtYmVyPiA9PiB7XHJcbiAgICByZXR1cm4gW3RoaXMubW9kZWwuY3VyTWluVmFsdWUsIHRoaXMubW9kZWwuY3VyTWF4VmFsdWVdO1xyXG4gIH1cclxuXHJcbiAgc2V0VmFsdWVzID0gKGN1ck1pblZhbHVlOiBudW1iZXIsIGN1ck1heFZhbHVlOiBudW1iZXIpOiB2b2lkID0+IHtcclxuICAgIGlmIChjdXJNaW5WYWx1ZSkge1xyXG4gICAgICB0aGlzLm1vZGVsLnNldEN1ck1pblZhbHVlKGN1ck1pblZhbHVlKTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoY3VyTWF4VmFsdWUpIHtcclxuICAgICAgdGhpcy5tb2RlbC5zZXRDdXJNYXhWYWx1ZShjdXJNYXhWYWx1ZSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBnZXRDb25maWcgPSAoKTogY29uZmlnVHlwZSA9PiB7XHJcbiAgICByZXR1cm4ge21pblZhbHVlOiB0aGlzLnZpZXcubWluVmFsdWUsIG1heFZhbHVlOiB0aGlzLnZpZXcubWF4VmFsdWUsIHN0ZXA6IHRoaXMudmlldy5zdGVwLFxyXG4gICAgICBpc1JhbmdlOiB0aGlzLnZpZXcuaXNSYW5nZSwgaXNWZXJ0aWNhbDogdGhpcy52aWV3LmlzVmVydGljYWwsIHNob3dMYWJlbDogdGhpcy52aWV3LnNob3dMYWJlbCwgaXNGbG9hdDogdGhpcy52aWV3LmlzRmxvYXR9XHJcbiAgfVxyXG5cclxuICBhZGRPYnNlcnZlciA9IChmbjogRnVuY3Rpb24pOiB2b2lkID0+IHtcclxuICAgIHRoaXMub2JzZXJ2ZXJzLmFkZE9ic2VydmVyKGZuKTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IENvbnRyb2xsZXI7IiwiaW1wb3J0IE1ha2VPYnNlcnZhYmxlT2JqZWN0IGZyb20gXCIuLi9tYWtlT2JzZXJ2YWJsZU9iamVjdC9NYWtlT2JzZXJ2YWJsZU9iamVjdFwiO1xyXG5pbXBvcnQgY3JlYXRlRWxlbSBmcm9tIFwiLi4vY3JlYXRlRWxlbS9jcmVhdGVFbGVtXCI7XHJcbmltcG9ydCBTY2FsZSBmcm9tIFwiLi4vc2NhbGUvU2NhbGVcIjtcclxuaW1wb3J0IEdyYWR1YXRpb24gZnJvbSBcIi4uL2dyYWR1YXRpb24vR3JhZHVhdGlvblwiO1xyXG5pbXBvcnQgQnV0dG9uIGZyb20gXCIuLi9idXR0b24vQnV0dG9uXCI7XHJcbmltcG9ydCBMYWJlbCBmcm9tIFwiLi4vbGFiZWwvTGFiZWxcIjtcclxuaW1wb3J0IFNjYWxlRmlsbGluZyBmcm9tIFwiLi4vc2NhbGVGaWxsaW5nL1NjYWxlRmlsbGluZ1wiO1xyXG5cclxuY2xhc3MgVmlldyB7XHJcbiAgW2luZGV4OiBzdHJpbmddOiBhbnk7XHJcbiAgc2NhbGU6IFNjYWxlO1xyXG4gIGdyYWR1YXRpb246IEdyYWR1YXRpb247XHJcbiAgc2NhbGVGaWxsaW5nOiBTY2FsZUZpbGxpbmc7XHJcbiAgYnV0dG9uMTogQnV0dG9uO1xyXG4gIGJ1dHRvbjI6IEJ1dHRvbjtcclxuICBsYWJlbDE6IExhYmVsO1xyXG4gIGxhYmVsMjogTGFiZWw7XHJcbiAgaXNSYW5nZTogYm9vbGVhbjtcclxuICBpc1ZlcnRpY2FsOiBib29sZWFuO1xyXG4gIHNob3dMYWJlbDogYm9vbGVhbjtcclxuICBtaW5WYWx1ZTogbnVtYmVyO1xyXG4gIG1heFZhbHVlOiBudW1iZXI7XHJcbiAgY3VyTWluVmFsdWU6IG51bWJlcjtcclxuICBjdXJNYXhWYWx1ZTogbnVtYmVyO1xyXG4gIHN0ZXA6IG51bWJlcjtcclxuICBpc0Zsb2F0OiBib29sZWFuO1xyXG4gIG9ic2VydmVyczogTWFrZU9ic2VydmFibGVPYmplY3Q7XHJcblxyXG4gIGNvbnN0cnVjdG9yKG1pblZhbHVlID0gMCwgbWF4VmFsdWUgPSAxMDAwLCBzdGVwID0gMSwgaXNSYW5nZSA9IGZhbHNlLCBpc1ZlcnRpY2FsID0gZmFsc2UsIHNob3dMYWJlbCA9IGZhbHNlLCBpc0Zsb2F0ID0gZmFsc2UpIHtcclxuICAgIHRoaXMuc2NhbGUgPSBuZXcgU2NhbGUoaXNWZXJ0aWNhbCk7XHJcbiAgICB0aGlzLmJ1dHRvbjEgPSBuZXcgQnV0dG9uKGlzVmVydGljYWwpO1xyXG4gICAgdGhpcy5idXR0b24yID0gbmV3IEJ1dHRvbihpc1ZlcnRpY2FsKTtcclxuICAgIHRoaXMubGFiZWwxID0gbmV3IExhYmVsKGlzVmVydGljYWwpO1xyXG4gICAgdGhpcy5sYWJlbDIgPSBuZXcgTGFiZWwoaXNWZXJ0aWNhbCk7XHJcbiAgICB0aGlzLnNjYWxlRmlsbGluZyA9IG5ldyBTY2FsZUZpbGxpbmcoaXNWZXJ0aWNhbCk7XHJcbiAgICB0aGlzLmdyYWR1YXRpb24gPSBuZXcgR3JhZHVhdGlvbigpO1xyXG4gICAgdGhpcy5taW5WYWx1ZSA9IG1pblZhbHVlO1xyXG4gICAgdGhpcy5tYXhWYWx1ZSA9IG1heFZhbHVlO1xyXG4gICAgdGhpcy5jdXJNaW5WYWx1ZSA9IG1pblZhbHVlO1xyXG4gICAgdGhpcy5jdXJNYXhWYWx1ZSA9IG1heFZhbHVlO1xyXG4gICAgdGhpcy5zdGVwID0gc3RlcDtcclxuICAgIHRoaXMuaXNSYW5nZSA9IGlzUmFuZ2U7XHJcbiAgICB0aGlzLmlzVmVydGljYWwgPSBpc1ZlcnRpY2FsO1xyXG4gICAgdGhpcy5zaG93TGFiZWwgPSBzaG93TGFiZWw7XHJcbiAgICB0aGlzLmlzRmxvYXQgPSBpc0Zsb2F0O1xyXG4gICAgdGhpcy5vYnNlcnZlcnMgPSBuZXcgTWFrZU9ic2VydmFibGVPYmplY3QoKVxyXG4gICAgLy90aGlzLmNoZWNrVmFsdWVzKCk7XHJcbiAgfVxyXG5cclxuICBnZXRTdGFydCA9ICgpOiBudW1iZXIgPT4ge1xyXG4gICAgaWYgKHRoaXMuaXNSYW5nZSkge1xyXG4gICAgICByZXR1cm4gdGhpcy5idXR0b24xLmdldFBvc2l0aW9uKCkgLSB0aGlzLnNjYWxlLmdldFBvc2l0aW9uKCkgKyB0aGlzLmJ1dHRvbjEuZ2V0V2lkdGgoKS8yO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiAwO1xyXG4gIH1cclxuXHJcbiAgZ2V0RW5kID0gKCk6IG51bWJlciA9PiB7XHJcbiAgICByZXR1cm4gdGhpcy5idXR0b24yLmdldFBvc2l0aW9uKCkgLSB0aGlzLnNjYWxlLmdldFBvc2l0aW9uKCkgKyB0aGlzLmJ1dHRvbjIuZ2V0V2lkdGgoKS8yO1xyXG4gIH1cclxuXHJcbiAgdXBkYXRlRWxlbXMgPSAoKTogdm9pZCA9PiB7XHJcbiAgICB0aGlzLnNjYWxlRmlsbGluZy5pbml0KHRoaXMuaXNWZXJ0aWNhbCk7XHJcbiAgICB0aGlzLnNjYWxlRmlsbGluZy5zZXRQb3NpdGlvbih0aGlzLmdldFN0YXJ0KCkpO1xyXG4gICAgdGhpcy5zY2FsZUZpbGxpbmcuc2V0RGltZW5zaW9uKHRoaXMuZ2V0RW5kKCkgLSB0aGlzLmdldFN0YXJ0KCkpO1xyXG5cclxuICAgIGlmICghdGhpcy5pc1JhbmdlKSB7XHJcbiAgICAgIHRoaXMuY3VyTWluVmFsdWUgPSB0aGlzLm1pblZhbHVlO1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXMub2JzZXJ2ZXJzLm5vdGlmeU9ic2VydmVycygpO1xyXG4gIH1cclxuXHJcbiAgcm91bmQgPSAodmFsOiBudW1iZXIsIHN0ZXA6IG51bWJlcik6IG51bWJlciA9PiB7XHJcbiAgICBjb25zdCB3aG9sZSA9IE1hdGgudHJ1bmModmFsL3N0ZXApO1xyXG4gICAgY29uc3QgcmVtaW5kZXIgPSArKHZhbCAtIHdob2xlKnN0ZXApLnRvRml4ZWQoMik7XHJcblxyXG4gICAgaWYgKHZhbCA8IDApIHtcclxuICAgICAgcmV0dXJuIE1hdGguYWJzKHJlbWluZGVyKSA8IHN0ZXAvMiA/IHdob2xlKnN0ZXAgOiAod2hvbGUgLSAxKSpzdGVwO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICh2YWwgPD0gdGhpcy5taW5WYWx1ZSkge1xyXG4gICAgICByZXR1cm4gdGhpcy5taW5WYWx1ZTtcclxuICAgIH0gZWxzZSBpZiAodmFsID49IHRoaXMubWF4VmFsdWUpIHtcclxuICAgICAgcmV0dXJuIHRoaXMubWF4VmFsdWU7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHJlbWluZGVyIDwgc3RlcC8yID8gd2hvbGUqc3RlcCA6ICh3aG9sZSArIDEpKnN0ZXA7XHJcbiAgfVxyXG5cclxuICByb3VuZE9mZnNldEJ1dHQgPSAoY3Vyck9mZnNldDogbnVtYmVyKTogQXJyYXk8bnVtYmVyPiA9PiB7XHJcbiAgICBjb25zdCBjdXJyVmFsdWUgPSB0aGlzLm1pblZhbHVlICsgKGN1cnJPZmZzZXQgKyB0aGlzLmJ1dHRvbjIuZ2V0V2lkdGgoKS8yKSoodGhpcy5tYXhWYWx1ZSAtIHRoaXMubWluVmFsdWUpL3RoaXMuc2NhbGUuZ2V0RGltZW5zaW9uKCk7XHJcbiAgICBsZXQgcm91bmRWYWx1ZSA9IHRoaXMucm91bmQoY3VyclZhbHVlLCB0aGlzLnN0ZXApO1xyXG5cclxuICAgIGlmICh0aGlzLmlzRmxvYXQpIHtcclxuICAgICAgcm91bmRWYWx1ZSA9IHBhcnNlRmxvYXQocm91bmRWYWx1ZS50b0ZpeGVkKDIpKTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCByb3VuZE9mZnNldCA9IHRoaXMub2Zmc2V0VmFsdWVDb252KHJvdW5kVmFsdWUpO1xyXG4gICAgcmV0dXJuIFtyb3VuZE9mZnNldCwgcm91bmRWYWx1ZV07XHJcbiAgfVxyXG5cclxuICBvZmZzZXRWYWx1ZUNvbnYgPSAodmFsdWU6IG51bWJlcik6IG51bWJlciA9PiB7XHJcbiAgICByZXR1cm4gKCh2YWx1ZSAtIHRoaXMubWluVmFsdWUpLyh0aGlzLm1heFZhbHVlIC0gdGhpcy5taW5WYWx1ZSkqdGhpcy5zY2FsZS5nZXREaW1lbnNpb24oKSAtIHRoaXMuYnV0dG9uMi5nZXRXaWR0aCgpLzIpO1xyXG4gIH1cclxuXHJcbiAgLy9CdXR0b24xICBIYW5kbGVycy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuICBidXR0MU1vdmUgPSAocm91bmRPZmZzZXQ6IG51bWJlciwgcm91bmRWYWx1ZTogbnVtYmVyKTogdm9pZCA9PiB7XHJcbiAgICB0aGlzLmJ1dHRvbjEuc2V0UG9zaXRpb24ocm91bmRPZmZzZXQpO1xyXG4gICAgdGhpcy5sYWJlbDEuc2V0UG9zaXRpb24ocm91bmRPZmZzZXQgKyB0aGlzLmJ1dHRvbjEuZ2V0V2lkdGgoKS8yLCByb3VuZFZhbHVlKTtcclxuXHJcbiAgICBpZiAocm91bmRWYWx1ZSA8IHRoaXMubWluVmFsdWUpIHtcclxuICAgICAgcm91bmRWYWx1ZSA9IHRoaXMubWluVmFsdWU7XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5jdXJNaW5WYWx1ZSA9IHJvdW5kVmFsdWU7XHJcbiAgICB0aGlzLnVwZGF0ZUVsZW1zKCk7XHJcbiAgfVxyXG5cclxuICBidXR0MU9mZnNldENoZWNrID0gKG5ld09mZnNldDogbnVtYmVyKTogQXJyYXk8bnVtYmVyPiA9PiB7XHJcbiAgICBsZXQgcm91bmRWYWx1ZTtcclxuXHJcbiAgICBpZiAobmV3T2Zmc2V0IDwgLXRoaXMuYnV0dG9uMS5nZXRXaWR0aCgpLzIpIHtcclxuICAgICAgbmV3T2Zmc2V0ID0gLXRoaXMuYnV0dG9uMS5nZXRXaWR0aCgpLzI7XHJcbiAgICAgIHJvdW5kVmFsdWUgPSB0aGlzLm1pblZhbHVlO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IHN0ZXBXaWR0aCA9IHRoaXMuc3RlcCp0aGlzLnNjYWxlLmdldERpbWVuc2lvbigpLyh0aGlzLm1heFZhbHVlIC0gdGhpcy5taW5WYWx1ZSk7XHJcbiAgICBjb25zdCBtaW5PZmZzZXQgPSBzdGVwV2lkdGgvMS41ID4gdGhpcy5idXR0b24xLmdldFdpZHRoKCkgPyBzdGVwV2lkdGgvMS41IDogdGhpcy5idXR0b24xLmdldFdpZHRoKCk7XHJcblxyXG4gICAgaWYgKG5ld09mZnNldCA+IHRoaXMuYnV0dG9uMi5nZXRQb3NpdGlvbigpIC0gdGhpcy5zY2FsZS5nZXRQb3NpdGlvbigpIC0gbWluT2Zmc2V0KSB7XHJcbiAgICAgIG5ld09mZnNldCA9IHRoaXMuYnV0dG9uMi5nZXRQb3NpdGlvbigpIC0gdGhpcy5zY2FsZS5nZXRQb3NpdGlvbigpIC0gbWluT2Zmc2V0O1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBbbmV3T2Zmc2V0LCByb3VuZFZhbHVlXTtcclxuICB9XHJcblxyXG4gIG9uTW91c2VNb3ZlMSA9IChldmVudE1tOiBNb3VzZUV2ZW50KTogdm9pZCA9PiB7XHJcbiAgICBsZXQgcm91bmRWYWx1ZTtcclxuICAgIGxldCByb3VuZE9mZnNldDtcclxuICAgIGNvbnN0IGNvb3JkaW5hdGUgPSB0aGlzLmlzVmVydGljYWwgPyBldmVudE1tLmNsaWVudFkgOiBldmVudE1tLmNsaWVudFg7XHJcbiAgICBjb25zdCBuZXdPZmZzZXQgPSBjb29yZGluYXRlIC0gdGhpcy5zY2FsZS5nZXRQb3NpdGlvbigpIC0gdGhpcy5idXR0b24yLmdldFdpZHRoKCkvMjtcclxuXHJcbiAgICBbcm91bmRPZmZzZXQsIHJvdW5kVmFsdWVdID0gdGhpcy5idXR0MU9mZnNldENoZWNrKG5ld09mZnNldCk7XHJcblxyXG4gICAgaWYgKHR5cGVvZiByb3VuZFZhbHVlID09PSAndW5kZWZpbmVkJykge1xyXG4gICAgICAgIFtyb3VuZE9mZnNldCwgcm91bmRWYWx1ZV0gPSB0aGlzLnJvdW5kT2Zmc2V0QnV0dChyb3VuZE9mZnNldCk7XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5idXR0MU1vdmUocm91bmRPZmZzZXQsIHJvdW5kVmFsdWUpO1xyXG4gIH1cclxuXHJcbiAgb25Nb3VzZVVwMSA9ICgpOiB2b2lkID0+IHtcclxuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtb3VzZXVwXCIsIHRoaXMub25Nb3VzZVVwMSk7XHJcbiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwibW91c2Vtb3ZlXCIsIHRoaXMub25Nb3VzZU1vdmUxKTtcclxuICB9XHJcblxyXG4gIC8vQnV0dG9uMiAgSGFuZGxlcnMtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbiAgYnV0dDJNb3ZlID0gKHJvdW5kT2Zmc2V0OiBudW1iZXIsIHJvdW5kVmFsdWU6IG51bWJlcik6IHZvaWQgPT4ge1xyXG4gICAgdGhpcy5idXR0b24yLnNldFBvc2l0aW9uKHJvdW5kT2Zmc2V0KTtcclxuICAgIHRoaXMubGFiZWwyLnNldFBvc2l0aW9uKHJvdW5kT2Zmc2V0ICsgdGhpcy5idXR0b24yLmdldFdpZHRoKCkvMiwgcm91bmRWYWx1ZSk7XHJcblxyXG4gICAgaWYgKHJvdW5kVmFsdWUgPCB0aGlzLm1pblZhbHVlKSB7XHJcbiAgICAgIHJvdW5kVmFsdWUgPSB0aGlzLm1pblZhbHVlO1xyXG4gICAgfSBlbHNlIGlmIChyb3VuZFZhbHVlID4gdGhpcy5tYXhWYWx1ZSkge1xyXG4gICAgICByb3VuZFZhbHVlID0gdGhpcy5tYXhWYWx1ZTtcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLmN1ck1heFZhbHVlID0gcm91bmRWYWx1ZTtcclxuICAgIHRoaXMudXBkYXRlRWxlbXMoKTtcclxuICB9XHJcblxyXG4gIGJ1dHQyT2Zmc2V0Q2hlY2sgPSAobmV3T2Zmc2V0OiBudW1iZXIpOiBBcnJheTxudW1iZXI+ID0+IHtcclxuICAgIGxldCByb3VuZFZhbHVlO1xyXG5cclxuICAgIGlmICghdGhpcy5pc1JhbmdlKSB7XHJcbiAgICAgIGlmIChuZXdPZmZzZXQgPCAtdGhpcy5idXR0b24yLmdldFdpZHRoKCkvMikge1xyXG4gICAgICAgIG5ld09mZnNldCA9IC10aGlzLmJ1dHRvbjIuZ2V0V2lkdGgoKS8yO1xyXG4gICAgICAgIHJvdW5kVmFsdWUgPSB0aGlzLm1pblZhbHVlO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKG5ld09mZnNldCA+IHRoaXMuc2NhbGUuZ2V0RGltZW5zaW9uKCkgLSB0aGlzLmJ1dHRvbjIuZ2V0V2lkdGgoKS8yKSB7XHJcbiAgICAgIG5ld09mZnNldCA9IHRoaXMuc2NhbGUuZ2V0RGltZW5zaW9uKCkgLSB0aGlzLmJ1dHRvbjIuZ2V0V2lkdGgoKS8yO1xyXG4gICAgICByb3VuZFZhbHVlID0gdGhpcy5tYXhWYWx1ZTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBzdGVwV2lkdGggPSB0aGlzLnN0ZXAqdGhpcy5zY2FsZS5nZXREaW1lbnNpb24oKS8odGhpcy5tYXhWYWx1ZSAtIHRoaXMubWluVmFsdWUpO1xyXG4gICAgY29uc3QgbWluT2Zmc2V0ID0gc3RlcFdpZHRoLzEuNSA+IHRoaXMuYnV0dG9uMS5nZXRXaWR0aCgpID8gc3RlcFdpZHRoLzEuNSA6IHRoaXMuYnV0dG9uMS5nZXRXaWR0aCgpO1xyXG5cclxuICAgIGlmIChuZXdPZmZzZXQgPCB0aGlzLmJ1dHRvbjEuZ2V0UG9zaXRpb24oKSAtIHRoaXMuc2NhbGUuZ2V0UG9zaXRpb24oKSArIG1pbk9mZnNldCkge1xyXG4gICAgICBuZXdPZmZzZXQgPSB0aGlzLmJ1dHRvbjEuZ2V0UG9zaXRpb24oKSAtIHRoaXMuc2NhbGUuZ2V0UG9zaXRpb24oKSArIG1pbk9mZnNldDtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gW25ld09mZnNldCwgcm91bmRWYWx1ZV07XHJcbiAgfVxyXG5cclxuICBvbk1vdXNlTW92ZTIgPSAoZXZlbnRNbTogTW91c2VFdmVudCk6IHZvaWQgPT4ge1xyXG4gICAgbGV0IHJvdW5kVmFsdWU7XHJcbiAgICBsZXQgcm91bmRPZmZzZXQ7XHJcbiAgICBjb25zdCBjb29yZGluYXRlID0gdGhpcy5pc1ZlcnRpY2FsID8gZXZlbnRNbS5jbGllbnRZIDogZXZlbnRNbS5jbGllbnRYO1xyXG4gICAgY29uc3QgbmV3T2Zmc2V0ID0gY29vcmRpbmF0ZSAtIHRoaXMuc2NhbGUuZ2V0UG9zaXRpb24oKSAtIHRoaXMuYnV0dG9uMi5nZXRXaWR0aCgpLzI7XHJcblxyXG4gICAgW3JvdW5kT2Zmc2V0LCByb3VuZFZhbHVlXSA9IHRoaXMuYnV0dDJPZmZzZXRDaGVjayhuZXdPZmZzZXQpO1xyXG5cclxuICAgIGlmICh0eXBlb2Ygcm91bmRWYWx1ZSA9PT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgW3JvdW5kT2Zmc2V0LCByb3VuZFZhbHVlXSA9IHRoaXMucm91bmRPZmZzZXRCdXR0KHJvdW5kT2Zmc2V0KTtcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLmJ1dHQyTW92ZShyb3VuZE9mZnNldCwgcm91bmRWYWx1ZSk7XHJcbiAgfVxyXG5cclxuICBvbk1vdXNlVXAyID0gKCk6IHZvaWQgPT4ge1xyXG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIHRoaXMub25Nb3VzZVVwMik7XHJcbiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCB0aGlzLm9uTW91c2VNb3ZlMik7XHJcbiAgfVxyXG5cclxuICBidXR0MUNsb3NlckNoZWNrID0gKGNvb3JkaW5hdGU6IG51bWJlcik6IGJvb2xlYW4gPT4ge1xyXG4gICAgcmV0dXJuIChNYXRoLmFicyhjb29yZGluYXRlIC0gdGhpcy5idXR0b24xLmdldFBvc2l0aW9uKCkgLSB0aGlzLmJ1dHRvbjEuZ2V0V2lkdGgoKS8yKVxyXG4gICAgICA8IE1hdGguYWJzKGNvb3JkaW5hdGUgLSB0aGlzLmJ1dHRvbjIuZ2V0UG9zaXRpb24oKSAtIHRoaXMuYnV0dG9uMi5nZXRXaWR0aCgpLzIpKTtcclxuICB9XHJcblxyXG4gIC8vIFNjYWxlIEV2ZW50TGlzdGVuZXJzLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbiAgc2NhbGVPbmNsaWNrID0gKGV2ZW50OiBNb3VzZUV2ZW50KTogdm9pZCA9PiB7XHJcbiAgICBpZih0aGlzLmlzUmFuZ2UpIHtcclxuICAgICAgY29uc3QgY29vcmRpbmF0ZSA9IHRoaXMuaXNWZXJ0aWNhbCA/IGV2ZW50LmNsaWVudFkgOiBldmVudC5jbGllbnRYXHJcblxyXG4gICAgICBpZiAodGhpcy5idXR0MUNsb3NlckNoZWNrKGNvb3JkaW5hdGUpKSB7XHJcbiAgICAgICAgdGhpcy5vbk1vdXNlTW92ZTEoZXZlbnQpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHRoaXMub25Nb3VzZU1vdmUyKGV2ZW50KTtcclxuICAgICAgfVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5vbk1vdXNlTW92ZTIoZXZlbnQpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLy8gR3JhZHVhdGlvbiBFdmVudExpc3RlbmVycy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuICBpbnRlck1hcmtIYW5kbGVyID0gKGN1cnJWYWx1ZTogbnVtYmVyKTogdm9pZCA9PiB7XHJcbiAgICBsZXQgcm91bmRPZmZzZXQ7XHJcbiAgICBsZXQgcm91bmRWYWx1ZTtcclxuXHJcbiAgICBjb25zdCBtYXJrT2Zmc2V0ID0gKGN1cnJWYWx1ZSAtIHRoaXMubWluVmFsdWUpLyh0aGlzLm1heFZhbHVlIC0gdGhpcy5taW5WYWx1ZSkqdGhpcy5zY2FsZS5nZXREaW1lbnNpb24oKTtcclxuICAgIFtyb3VuZE9mZnNldCwgcm91bmRWYWx1ZV0gPSB0aGlzLnJvdW5kT2Zmc2V0QnV0dChtYXJrT2Zmc2V0IC0gdGhpcy5idXR0b24yLmdldFdpZHRoKCkvMik7XHJcblxyXG4gICAgaWYodGhpcy5pc1JhbmdlKSB7XHJcbiAgICAgIGNvbnN0IGNvb3JkaW5hdGUgPSBtYXJrT2Zmc2V0ICsgdGhpcy5zY2FsZS5nZXRQb3NpdGlvbigpO1xyXG5cclxuICAgICAgaWYgKHRoaXMuYnV0dDFDbG9zZXJDaGVjayhjb29yZGluYXRlKSkge1xyXG4gICAgICAgIHRoaXMuYnV0dDFNb3ZlKHJvdW5kT2Zmc2V0LCByb3VuZFZhbHVlKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICB0aGlzLmJ1dHQyTW92ZShyb3VuZE9mZnNldCwgcm91bmRWYWx1ZSk7XHJcbiAgICAgIH1cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuYnV0dDJNb3ZlKHJvdW5kT2Zmc2V0LCByb3VuZFZhbHVlKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIG1hcmsxT25jbGljayA9ICgpOiB2b2lkID0+IHtcclxuICAgIGNvbnN0IHJvdW5kT2Zmc2V0ID0gLXRoaXMuYnV0dG9uMi5nZXRXaWR0aCgpLzI7XHJcbiAgICBjb25zdCByb3VuZFZhbHVlID0gdGhpcy5taW5WYWx1ZTtcclxuXHJcbiAgICBpZiAoIXRoaXMuaXNSYW5nZSkge1xyXG4gICAgICB0aGlzLmJ1dHQyTW92ZShyb3VuZE9mZnNldCwgcm91bmRWYWx1ZSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLmJ1dHQxTW92ZShyb3VuZE9mZnNldCwgcm91bmRWYWx1ZSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBtYXJrNE9uY2xpY2sgPSAoKTogdm9pZCA9PiB7XHJcbiAgICBjb25zdCByb3VuZE9mZnNldCA9IHRoaXMuc2NhbGUuZ2V0RGltZW5zaW9uKCkgLSB0aGlzLmJ1dHRvbjIuZ2V0V2lkdGgoKS8yO1xyXG4gICAgdGhpcy5idXR0Mk1vdmUocm91bmRPZmZzZXQsIHRoaXMubWF4VmFsdWUpO1xyXG4gIH1cclxuXHJcbiAgbWFyazJPbmNsaWNrID0gKCk6IHZvaWQgPT4ge1xyXG4gICAgY29uc3QgdmFsID0gdGhpcy5pc0Zsb2F0ID8gcGFyc2VGbG9hdCh0aGlzLmdyYWR1YXRpb24ubWFyazIuaW5uZXJIVE1MKSA6IHBhcnNlSW50KHRoaXMuZ3JhZHVhdGlvbi5tYXJrMi5pbm5lckhUTUwpO1xyXG4gICAgdGhpcy5pbnRlck1hcmtIYW5kbGVyKHZhbCk7XHJcbiAgfVxyXG5cclxuICBtYXJrM09uY2xpY2sgPSAoKTogdm9pZCA9PiB7XHJcbiAgICBjb25zdCB2YWwgPSB0aGlzLmlzRmxvYXQgPyBwYXJzZUZsb2F0KHRoaXMuZ3JhZHVhdGlvbi5tYXJrMy5pbm5lckhUTUwpIDogcGFyc2VJbnQodGhpcy5ncmFkdWF0aW9uLm1hcmszLmlubmVySFRNTCk7XHJcbiAgICB0aGlzLmludGVyTWFya0hhbmRsZXIodmFsKTtcclxuICB9XHJcblxyXG4gIC8qXHJcbiAgY2hlY2tTdGVwID0gKCk6IHZvaWQgPT4ge1xyXG4gICAgbGV0IHN0ZXBNb2QgPSBNYXRoLmFicyhQYXJzaW5nRGlnaXRzLnBhcnNpbmcodGhpcy5zdGVwKSk7XHJcbiAgICBpZiAoc3RlcE1vZCA9PT0gbnVsbCB8fCBzdGVwTW9kID09PSAwIHx8IHN0ZXBNb2QgPj0gdGhpcy5tYXhWYWx1ZSAtIHRoaXMubWluVmFsdWUpIHtcclxuICAgICAgdGhpcy5zdGVwID0gKHRoaXMubWF4VmFsdWUgLSB0aGlzLm1pblZhbHVlKS8yO1xyXG4gICAgICBjb25zb2xlLmxvZyhcIldyb25nIHZhbHVlIG9mIHRoZSBzdGVwLiBJdCdzIHNldHRlZCB0byB0aGUgaGFsZiBvZiAobWF4VmFsdWUgLSBtaW5WYWx1ZSlcIik7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBpZiAoc3RlcE1vZCAlIDEgIT09IDApIHtcclxuICAgICAgICB0aGlzLmlzRmxvYXQgPSB0cnVlO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHRoaXMuaXNGbG9hdCA9IGZhbHNlO1xyXG4gICAgICB9XHJcblxyXG4gICAgICB0aGlzLnN0ZXAgPSBzdGVwTW9kO1xyXG4gICAgfVxyXG4gIH1cclxuICBcclxuXHJcbiAgY2hlY2tNYXhWYWx1ZSA9ICgpOiB2b2lkID0+IHtcclxuICAgIGxldCBtYXhNb2QgPSBNYXRoLmFicyhQYXJzaW5nRGlnaXRzLnBhcnNpbmcodGhpcy5tYXhWYWx1ZSkpO1xyXG4gICAgaWYgKG1heE1vZCA9PT0gbnVsbCkge1xyXG5cclxuICAgIH1cclxuICAgIGlmIChtYXhNb2QgIDwgdGhpcy5taW5WYWx1ZSkge1xyXG4gICAgICB0aGlzLnN0ZXAgPSAodGhpcy5tYXhWYWx1ZSAtIHRoaXMubWluVmFsdWUpLzI7XHJcbiAgICAgIGNvbnNvbGUubG9nKFwiV3JvbmcgdmFsdWUgb2YgdGhlIHN0ZXAuIEl0J3Mgc2V0dGVkIHRvIHRoZSBoYWxmIG9mIChtYXhWYWx1ZSAtIG1pblZhbHVlKVwiKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGlmIChzdGVwTW9kICUgMSAhPT0gMCkge1xyXG4gICAgICAgIHRoaXMuaXNGbG9hdCA9IHRydWU7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgdGhpcy5pc0Zsb2F0ID0gZmFsc2U7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHRoaXMuc3RlcCA9IHN0ZXBNb2Q7XHJcbiAgICB9XHJcbiAgfVxyXG4gICovXHJcblxyXG4gIGNoZWNrVmFsdWVzID0gKCk6IHZvaWQgPT4ge1xyXG4gICAgaWYgKHR5cGVvZiB0aGlzLm1heFZhbHVlICE9PSBcIm51bWJlclwiKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJNYXh2YWx1ZSBzaG91bGQgYmUgYSBudW1iZXJcIik7XHJcbiAgICB9XHJcbiAgICBpZiAodHlwZW9mIHRoaXMubWluVmFsdWUgIT09IFwibnVtYmVyXCIpIHtcclxuICAgICAgY29uc29sZS5lcnJvcihcIk1heHZhbHVlIHNob3VsZCBiZSBhIG51bWJlclwiKTtcclxuICAgIH1cclxuICAgIGlmICh0eXBlb2YgdGhpcy5zdGVwICE9PSBcIm51bWJlclwiKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJTdGVwIHNob3VsZCBiZSBhIG51bWJlclwiKTtcclxuICAgIH1cclxuICAgIGlmICh0eXBlb2YgdGhpcy5pc1JhbmdlICE9PSBcImJvb2xlYW5cIikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKFwiaXNSYW5nZSBzaG91bGQgYmUgYSBib29sZWFuXCIpO1xyXG4gICAgfVxyXG4gICAgaWYgKHR5cGVvZiB0aGlzLmlzVmVydGljYWwgIT09IFwiYm9vbGVhblwiKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJpc1ZlcnRpY2FsIHNob3VsZCBiZSBhIGJvb2xlYW5cIik7XHJcbiAgICB9XHJcbiAgICBpZiAodHlwZW9mIHRoaXMuc2hvd0xhYmVsICE9PSBcImJvb2xlYW5cIikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKFwiU2hvd0xhYmVsIHNob3VsZCBiZSBhIGJvb2xlYW5cIik7XHJcbiAgICB9XHJcbiAgICBpZiAodGhpcy5zdGVwID4gdGhpcy5tYXhWYWx1ZSAtIHRoaXMubWluVmFsdWUpIHtcclxuICAgICAgdGhpcy5zdGVwID0gdGhpcy5tYXhWYWx1ZSAtIHRoaXMubWluVmFsdWU7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJTdGVwIGlzIHNldHRlZCB0byB0aGUgbWF4XCIpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcmVuZXcoKSB7XHJcbiAgICBsZXQgcm91bmRWYWx1ZTtcclxuICAgIGxldCByb3VuZE9mZnNldDsgICAgXHJcbiAgICBjb25zdCBuZXdPZmZzZXQgPSB0aGlzLm9mZnNldFZhbHVlQ29udih0aGlzLmN1ck1heFZhbHVlKTtcclxuICAgIFtyb3VuZE9mZnNldCwgcm91bmRWYWx1ZV0gPSB0aGlzLmJ1dHQyT2Zmc2V0Q2hlY2sobmV3T2Zmc2V0KTtcclxuXHJcbiAgICBpZiAodHlwZW9mIHJvdW5kVmFsdWUgPT09ICd1bmRlZmluZWQnKSB7XHJcbiAgICAgIFtyb3VuZE9mZnNldCwgcm91bmRWYWx1ZV0gPSB0aGlzLnJvdW5kT2Zmc2V0QnV0dChyb3VuZE9mZnNldCk7XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5idXR0Mk1vdmUocm91bmRPZmZzZXQsIHJvdW5kVmFsdWUpO1xyXG5cclxuICAgIGlmICh0aGlzLmlzUmFuZ2UpIHtcclxuICAgICAgbGV0IHJvdW5kVmFsdWU7XHJcbiAgICAgIGxldCByb3VuZE9mZnNldDs7XHJcbiAgICAgIGNvbnN0IG5ld09mZnNldCA9IHRoaXMub2Zmc2V0VmFsdWVDb252KHRoaXMuY3VyTWluVmFsdWUpO1xyXG4gICAgICBbcm91bmRPZmZzZXQsIHJvdW5kVmFsdWVdID0gdGhpcy5idXR0MU9mZnNldENoZWNrKG5ld09mZnNldCk7XHJcblxyXG4gICAgICBpZiAodHlwZW9mIHJvdW5kVmFsdWUgPT09ICd1bmRlZmluZWQnKSB7XHJcbiAgICAgICAgW3JvdW5kT2Zmc2V0LCByb3VuZFZhbHVlXSA9IHRoaXMucm91bmRPZmZzZXRCdXR0KHJvdW5kT2Zmc2V0KTtcclxuICAgICAgfVxyXG5cclxuICAgICAgdGhpcy5idXR0MU1vdmUocm91bmRPZmZzZXQsIHJvdW5kVmFsdWUpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgaW5pdCA9ICgpOiB2b2lkID0+IHtcclxuICAgIC8vdGhpcy5jaGVja1ZhbHVlcygpOyAgICBcclxuICAgIHRoaXMuc2NhbGUuaW5pdCh0aGlzLmlzVmVydGljYWwpO1xyXG4gICAgdGhpcy5zY2FsZUZpbGxpbmcuaW5pdCh0aGlzLmlzVmVydGljYWwpO1xyXG4gICAgdGhpcy5ncmFkdWF0aW9uLmluaXQodGhpcy5taW5WYWx1ZSwgdGhpcy5tYXhWYWx1ZSwgdGhpcy5pc1ZlcnRpY2FsLCB0aGlzLmlzRmxvYXQpO1xyXG4gICAgdGhpcy5idXR0b24xLmluaXQodGhpcy5pc1ZlcnRpY2FsKTtcclxuICAgIHRoaXMuYnV0dG9uMi5pbml0KHRoaXMuaXNWZXJ0aWNhbCk7XHJcbiAgICB0aGlzLmxhYmVsMS5pbml0KHRoaXMuaXNWZXJ0aWNhbCk7XHJcbiAgICB0aGlzLmxhYmVsMi5pbml0KHRoaXMuaXNWZXJ0aWNhbCk7XHJcblxyXG4gICAgdGhpcy5idXR0b24xLmVsZW0uc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xyXG4gICAgdGhpcy5sYWJlbDEuZWxlbS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XHJcblxyXG4gICAgaWYgKHRoaXMuc2hvd0xhYmVsKSB7XHJcbiAgICAgIHRoaXMubGFiZWwxLmVsZW0uc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcclxuICAgICAgdGhpcy5sYWJlbDIuZWxlbS5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5sYWJlbDEuZWxlbS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XHJcbiAgICAgIHRoaXMubGFiZWwyLmVsZW0uc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICh0aGlzLmlzUmFuZ2UpIHtcclxuICAgICAgdGhpcy5idXR0b24xLmVsZW0uc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuYnV0dG9uMS5lbGVtLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcclxuICAgICAgdGhpcy5sYWJlbDEuZWxlbS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIHRoaXMuYnV0dG9uMS5zZXRQb3NpdGlvbigtdGhpcy5idXR0b24xLmdldFdpZHRoKCkvMik7XHJcbiAgICB0aGlzLmJ1dHRvbjIuc2V0UG9zaXRpb24odGhpcy5zY2FsZS5nZXREaW1lbnNpb24oKSAtIHRoaXMuYnV0dG9uMi5nZXRXaWR0aCgpLzIpO1xyXG4gICAgdGhpcy5sYWJlbDEuc2V0UG9zaXRpb24odGhpcy5nZXRTdGFydCgpLCB0aGlzLm1pblZhbHVlKTtcclxuICAgIHRoaXMubGFiZWwyLnNldFBvc2l0aW9uKHRoaXMuZ2V0RW5kKCksIHRoaXMubWF4VmFsdWUpO1xyXG5cclxuICAgIGlmICh0aGlzLmlzVmVydGljYWwpIHtcclxuICAgICAgdGhpcy5ncmFkdWF0aW9uLmdyYWRFbGVtLnN0eWxlLmhlaWdodCA9IHRoaXMuc2NhbGUuZ2V0RGltZW5zaW9uKCkgK1wicHhcIjtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuZ3JhZHVhdGlvbi5ncmFkRWxlbS5zdHlsZS5oZWlnaHQgPSAyMCArXCJweFwiO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICB0aGlzLnJlbmV3KCk7XHJcbiAgICB0aGlzLnVwZGF0ZUVsZW1zKCk7XHJcbiAgICBcclxuICB9XHJcblxyXG4gIGFwcGVuZCA9IChlbnRyeTogSFRNTEVsZW1lbnQpOiB2b2lkID0+IHtcclxuICAgIGVudHJ5LmFwcGVuZENoaWxkKHRoaXMuc2NhbGUuZWxlbSkuYXBwZW5kQ2hpbGQodGhpcy5zY2FsZUZpbGxpbmcuZWxlbSk7XHJcbiAgICBlbnRyeS5hcHBlbmRDaGlsZCh0aGlzLmJ1dHRvbjEuZWxlbSk7XHJcbiAgICBlbnRyeS5hcHBlbmRDaGlsZCh0aGlzLmxhYmVsMS5lbGVtKTtcclxuICAgIGVudHJ5LmFwcGVuZENoaWxkKHRoaXMuZ3JhZHVhdGlvbi5ncmFkRWxlbSk7XHJcbiAgICBlbnRyeS5hcHBlbmRDaGlsZCh0aGlzLmJ1dHRvbjIuZWxlbSk7XHJcbiAgICBlbnRyeS5hcHBlbmRDaGlsZCh0aGlzLmxhYmVsMi5lbGVtKTtcclxuXHJcbiAgICB0aGlzLnNjYWxlLmVsZW0ub25jbGljayA9IHRoaXMuc2NhbGVPbmNsaWNrO1xyXG4gICAgdGhpcy5ncmFkdWF0aW9uLm1hcmsxLm9uY2xpY2sgPSB0aGlzLm1hcmsxT25jbGljaztcclxuICAgIHRoaXMuZ3JhZHVhdGlvbi5tYXJrMi5vbmNsaWNrID0gdGhpcy5tYXJrMk9uY2xpY2s7XHJcbiAgICB0aGlzLmdyYWR1YXRpb24ubWFyazMub25jbGljayA9IHRoaXMubWFyazNPbmNsaWNrO1xyXG4gICAgdGhpcy5ncmFkdWF0aW9uLm1hcms0Lm9uY2xpY2sgPSB0aGlzLm1hcms0T25jbGljaztcclxuXHJcbiAgICB0aGlzLmJ1dHRvbjEuZWxlbS5vbm1vdXNlZG93biA9IChldmVudE1kOiBNb3VzZUV2ZW50KSA9PiB7XHJcbiAgICAgIGV2ZW50TWQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlbW92ZVwiLCB0aGlzLm9uTW91c2VNb3ZlMSk7XHJcbiAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZXVwXCIsIHRoaXMub25Nb3VzZVVwMSk7XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5idXR0b24yLmVsZW0ub25tb3VzZWRvd24gPSAoZXZlbnRNZDogTW91c2VFdmVudCkgPT4ge1xyXG4gICAgICBldmVudE1kLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZW1vdmVcIiwgdGhpcy5vbk1vdXNlTW92ZTIpO1xyXG4gICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwibW91c2V1cFwiLCB0aGlzLm9uTW91c2VVcDIpO1xyXG4gICAgfVxyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IHtjcmVhdGVFbGVtLCBTY2FsZSwgTGFiZWwsIEJ1dHRvbiwgU2NhbGVGaWxsaW5nLCBWaWV3LCBHcmFkdWF0aW9ufTtcclxuIiwiaW1wb3J0IE1ha2VPYnNlcnZhYmxlT2JqZWN0IGZyb20gJy4uL21ha2VPYnNlcnZhYmxlT2JqZWN0L01ha2VPYnNlcnZhYmxlT2JqZWN0JztcclxuXHJcbmNsYXNzIE1vZGVsIHtcclxuICBjdXJNaW5WYWx1ZTogbnVtYmVyO1xyXG4gIGN1ck1heFZhbHVlOiBudW1iZXI7XHJcbiAgb2JzZXJ2ZXJzOiBNYWtlT2JzZXJ2YWJsZU9iamVjdDtcclxuXHJcbiAgY29uc3RydWN0b3IoY3VyTWluVmFsdWUgPSAwLCBjdXJNYXhWYWx1ZSA9IDEwMDApIHtcclxuICAgIHRoaXMuY3VyTWluVmFsdWUgPSBjdXJNaW5WYWx1ZTtcclxuICAgIHRoaXMuY3VyTWF4VmFsdWUgPSBjdXJNYXhWYWx1ZTtcclxuICAgIHRoaXMub2JzZXJ2ZXJzID0gbmV3IE1ha2VPYnNlcnZhYmxlT2JqZWN0KCk7XHJcbiAgfVxyXG5cclxuICBzZXRDdXJNaW5WYWx1ZShkYXRhOiBudW1iZXIpOiB2b2lkIHtcclxuICAgIGlmICh0aGlzLmN1ck1pblZhbHVlICE9IGRhdGEpIHtcclxuICAgICAgdGhpcy5jdXJNaW5WYWx1ZSA9IGRhdGE7XHJcbiAgICAgIHRoaXMub2JzZXJ2ZXJzLm5vdGlmeU9ic2VydmVycygpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgc2V0Q3VyTWF4VmFsdWUoZGF0YTogbnVtYmVyKTogdm9pZCB7XHJcbiAgICBpZiAodGhpcy5jdXJNYXhWYWx1ZSAhPSBkYXRhKSB7XHJcbiAgICAgIHRoaXMuY3VyTWF4VmFsdWUgPSBkYXRhO1xyXG4gICAgICB0aGlzLm9ic2VydmVycy5ub3RpZnlPYnNlcnZlcnMoKTtcclxuICAgIH1cclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IE1vZGVsOyIsImNsYXNzIFBhcnNpbmdEaWdpdHMge1xyXG4gIHN0YXRpYyBwYXJzaW5nID0gKGl0ZW06IHN0cmluZ3xudW1iZXIpOiBudW1iZXJ8bnVsbCA9PiB7XHJcbiAgICBpZiAodHlwZW9mIGl0ZW0gPT09ICdudW1iZXInKSB7IFxyXG4gICAgICByZXR1cm4gaXRlbTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAodHlwZW9mIGl0ZW0gPT09ICdzdHJpbmcnKSB7XHJcbiAgICAgIGlmICgvXi0/XFxkK1tcXC4sXVxcZCskLy50ZXN0KGl0ZW0pKSB7XHJcbiAgICAgICAgcmV0dXJuIHBhcnNlRmxvYXQoaXRlbSk7XHJcbiAgICAgIH0gZWxzZSBpZiAoL14tP1xcZCskLy50ZXN0KGl0ZW0pKSB7XHJcbiAgICAgICAgcmV0dXJuIHBhcnNlSW50KGl0ZW0pO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIG51bGw7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBQYXJzaW5nRGlnaXRzOyIsInZhciBtYXAgPSB7XG5cdFwiLi9ibG9ja3MvYnV0dG9uL0J1dHRvbi50c1wiOiAyLFxuXHRcIi4vYmxvY2tzL2NvbnRyb2xsZXIvQ29udHJvbGxlci50c1wiOiA3LFxuXHRcIi4vYmxvY2tzL2NyZWF0ZUVsZW0vY3JlYXRlRWxlbS50c1wiOiAwLFxuXHRcIi4vYmxvY2tzL2dyYWR1YXRpb24vR3JhZHVhdGlvbi50c1wiOiA1LFxuXHRcIi4vYmxvY2tzL2xhYmVsL0xhYmVsLnRzXCI6IDMsXG5cdFwiLi9ibG9ja3MvbWFrZU9ic2VydmFibGVPYmplY3QvTWFrZU9ic2VydmFibGVPYmplY3QudHNcIjogMSxcblx0XCIuL2Jsb2Nrcy9tb2RlbC9Nb2RlbC50c1wiOiA5LFxuXHRcIi4vYmxvY2tzL3BhcnNpbmdEaWdpdHMvUGFyc2luZ0RpZ2l0cy50c1wiOiAxMCxcblx0XCIuL2Jsb2Nrcy9zY2FsZS9TY2FsZS50c1wiOiA0LFxuXHRcIi4vYmxvY2tzL3NjYWxlRmlsbGluZy9TY2FsZUZpbGxpbmcudHNcIjogNixcblx0XCIuL2Jsb2Nrcy92aWV3L1ZpZXcudHNcIjogOCxcblx0XCIuL3BsdWdpbldyYXBwZXIudHNcIjogMTIsXG5cdFwiLi9zdHlsZXMvc3R5bGUuc2Nzc1wiOiAxM1xufTtcblxuXG5mdW5jdGlvbiB3ZWJwYWNrQ29udGV4dChyZXEpIHtcblx0dmFyIGlkID0gd2VicGFja0NvbnRleHRSZXNvbHZlKHJlcSk7XG5cdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKGlkKTtcbn1cbmZ1bmN0aW9uIHdlYnBhY2tDb250ZXh0UmVzb2x2ZShyZXEpIHtcblx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhtYXAsIHJlcSkpIHtcblx0XHR2YXIgZSA9IG5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIgKyByZXEgKyBcIidcIik7XG5cdFx0ZS5jb2RlID0gJ01PRFVMRV9OT1RfRk9VTkQnO1xuXHRcdHRocm93IGU7XG5cdH1cblx0cmV0dXJuIG1hcFtyZXFdO1xufVxud2VicGFja0NvbnRleHQua2V5cyA9IGZ1bmN0aW9uIHdlYnBhY2tDb250ZXh0S2V5cygpIHtcblx0cmV0dXJuIE9iamVjdC5rZXlzKG1hcCk7XG59O1xud2VicGFja0NvbnRleHQucmVzb2x2ZSA9IHdlYnBhY2tDb250ZXh0UmVzb2x2ZTtcbm1vZHVsZS5leHBvcnRzID0gd2VicGFja0NvbnRleHQ7XG53ZWJwYWNrQ29udGV4dC5pZCA9IDExOyIsImltcG9ydCBDb250cm9sbGVyIGZyb20gJy4vYmxvY2tzL2NvbnRyb2xsZXIvQ29udHJvbGxlcic7XHJcblxyXG4oZnVuY3Rpb24oJCkge1xyXG4gIGNvbnN0IGNvbmZpZyA9IHtcclxuICAgIG1pblZhbHVlOiAwLFxyXG4gICAgbWF4VmFsdWU6IDEwMDAsXHJcbiAgICBzdGVwOiAxLFxyXG4gICAgaXNSYW5nZTogZmFsc2UsXHJcbiAgICBpc1ZlcnRpY2FsOiBmYWxzZSxcclxuICAgIHNob3dMYWJlbDogZmFsc2UsXHJcbiAgICBpc0Zsb2F0OiBmYWxzZSxcclxuICB9O1xyXG5cclxuICBjb25zdCBtZXRob2RzOiBNZXRob2RzID0ge1xyXG4gICAgaW5pdDogZnVuY3Rpb24ob3B0OiBDb25maWcpIHtcclxuICAgICAgaWYgKCEkKHRoaXMpLmRhdGEoJ3NsaWRlcicpKSB7XHJcbiAgICAgICAgY29uc3QgbmV3Q29uZmlnID0geyAuLi5jb25maWcgfTtcclxuICAgICAgICBjb25zdCBzbGlkZXIgPSBuZXcgQ29udHJvbGxlciguLi5PYmplY3QudmFsdWVzKCQuZXh0ZW5kKG5ld0NvbmZpZywgb3B0KSkpO1xyXG4gICAgICAgICQodGhpcykuZGF0YSgnc2xpZGVyJywgc2xpZGVyKTtcclxuXHJcbiAgICAgICAgc2xpZGVyLmFwcGVuZCgkKHRoaXMpKTtcclxuICAgICAgfVxyXG4gICAgfSxcclxuXHJcbiAgICB1cGRhdGU6IGZ1bmN0aW9uKG9wdDogQ29uZmlnKSB7XHJcbiAgICAgIGNvbnN0IHNsaWRlciA9ICQodGhpcykuZGF0YSgnc2xpZGVyJyk7XHJcbiAgICAgIHNsaWRlci51cGRhdGUob3B0KTtcclxuICAgIH0sXHJcblxyXG4gICAgZ2V0Q29uZmlnOiBmdW5jdGlvbigpIHtcclxuICAgICAgY29uc3Qgc2xpZGVyID0gJCh0aGlzKS5kYXRhKCdzbGlkZXInKTtcclxuICAgICAgcmV0dXJuIHNsaWRlci5nZXRDb25maWcoKTtcclxuICAgIH0sXHJcblxyXG4gICAgc2V0VmFsdWVzOiBmdW5jdGlvbihvcHQ6IENvbmZpZykge1xyXG4gICAgICBjb25zdCBzbGlkZXIgPSAkKHRoaXMpLmRhdGEoJ3NsaWRlcicpO1xyXG4gICAgICBzbGlkZXIuc2V0VmFsdWVzKG9wdC5jdXJNaW5WYWx1ZSwgb3B0LmN1ck1heFZhbHVlKTtcclxuICAgIH0sXHJcblxyXG4gICAgaW5wdXRzQXR0YWNoOiBmdW5jdGlvbihvcHQ6IElucHV0c09iamVjdCkge1xyXG4gICAgICBjb25zdCBzbGlkZXIgPSAkKHRoaXMpLmRhdGEoJ3NsaWRlcicpO1xyXG4gICAgICBzbGlkZXIuYWRkT2JzZXJ2ZXIoKCkgPT4ge1xyXG4gICAgICAgIG9wdC5taW5WYWx1ZUluLnZhbChzbGlkZXIuZ2V0VmFsdWVzKClbMF0pO1xyXG4gICAgICAgIG9wdC5tYXhWYWx1ZUluLnZhbChzbGlkZXIuZ2V0VmFsdWVzKClbMV0pO1xyXG4gICAgICB9KVxyXG4gICAgfSxcclxuICB9XHJcblxyXG4gICQuZm4ub21mZ3NsaWRlciA9IGZ1bmN0aW9uKG1ldGhvZDogc3RyaW5nKSB7XHJcbiAgICBpZiAobWV0aG9kc1ttZXRob2RdKSB7XHJcbiAgICAgIHJldHVybiBtZXRob2RzW21ldGhvZF0uYXBwbHkodGhpcywgQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKSk7XHJcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBtZXRob2QgPT09ICdvYmplY3QnIHx8ICFtZXRob2QpIHtcclxuICAgICAgcmV0dXJuIG1ldGhvZHMuaW5pdC5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgJC5lcnJvcihg0JzQtdGC0L7QtCAke21ldGhvZH0g0L3QtSDQvdCw0LnQtNC10L0g0LIg0L/Qu9Cw0LPQuNC90LUgalF1ZXJ5Lm9tZmdzbGlkZXJgKTtcclxuICAgIH1cclxuICB9O1xyXG59KShqUXVlcnkpO1xyXG4iLCJleHBvcnQgZGVmYXVsdCBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyArIFwiaW5kZXguaHRtbFwiOyIsImltcG9ydCAnLi9wYWdlL2luZGV4Lmh0bWwnO1xyXG5cclxuZnVuY3Rpb24gaW1wb3J0QWxsKHI6ICBfX1dlYnBhY2tNb2R1bGVBcGkuUmVxdWlyZUNvbnRleHQpIHtcclxuICAgIHIua2V5cygpLmZvckVhY2gocik7XHJcbn1cclxuICBcclxuaW1wb3J0QWxsKHJlcXVpcmUuY29udGV4dCgnLi9zbGlkZXInLCB0cnVlLCAvKD88IVxcLmQpXFwuKGpzfHRzfHNjc3MpJC9pKSk7Il0sInNvdXJjZVJvb3QiOiIifQ==