!function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=18)}([function(e,t,r){"use strict";r.r(t);var n=function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var n=Array(e),i=0;for(t=0;t<r;t++)for(var s=arguments[t],a=0,o=s.length;a<o;a++,i++)n[i]=s[a];return n},i=function(){function e(){this.observers=[]}return e.prototype.addObserver=function(e){if("function"!=typeof e)throw new Error("observer must be a function");this.observers.forEach((function(t){if(t===e)throw new Error("observer already in the list")})),this.observers.push(e)},e.prototype.removeObserver=function(e){for(var t=0;t<this.observers.length;t+=1){if(this.observers[t]===e)return void this.observers.splice(t,1)}throw new Error("could not find observer in list of observers")},e.prototype.notifyObservers=function(e,t){n(this.observers).map((function(r){return r(e,t)}))},e}();t.default=i},function(e,t,r){"use strict";r.r(t),t.default=function(e){var t=document.createElement("div");return t.ondragstart=function(){return!1},t.classList.add(e),t}},function(e,t,r){"use strict";r.r(t),r.d(t,"defaultParameters",(function(){return n}));var n={minValue:0,maxValue:1e3,step:1,isRange:!1,isVertical:!1,showLabel:!0,isFloat:!1}},function(e,t,r){"use strict";r.r(t);var n=r(8),i=r(9),s=r(0),a=function(e,t){var r=this;this.getPosition=function(){return r.knob.getPosition()},this.setPosition=function(e,t){r.tooltip.setPosition(e+r.knob.getWidth()/2,t),r.knob.setPosition(e)},this.update=function(e){r.knob.update(e),r.tooltip.update(e)},this.getWidth=function(){return r.knob.getWidth()},this.hideRunner=function(){r.knob.elem.style.display="none",r.tooltip.elem.style.display="none"},this.hideLabel=function(){r.tooltip.elem.style.display="none"},this.showLabel=function(){r.tooltip.elem.style.display="block"},this.showRunner=function(){r.knob.elem.style.display="block"},this.appendToNode=function(e){[r.knob.elem,r.tooltip.elem].forEach((function(t){e.appendChild(t),t.onmousedown=r.handleRunnerMouseDown}))},this.handleRunnerMouseDown=function(e){e.preventDefault(),document.addEventListener("mousemove",r.handleRunnerMouseMove),document.addEventListener("mouseup",r.handleRunnerMouseUp)},this.handleRunnerMouseMove=function(e){r.observers.notifyObservers("MovingRunner",{event:e,runner:r})},this.handleRunnerMouseUp=function(){document.removeEventListener("mouseup",r.handleRunnerMouseUp),document.removeEventListener("mousemove",r.handleRunnerMouseMove)},this.isVertical=e,this.knob=new n.default(e),this.tooltip=new i.default(e),this.observers=new s.default,this.observers.addObserver(t)};t.default=a},function(e,t,r){"use strict";r.r(t);var n=r(2),i=r(5),s=r(13),a=r(0),o=function(e,t){var r=this;void 0===e&&(e=n.defaultParameters),this.update=function(e){r.observers.notifyObservers("UpdatingConfig",e),r.observers.notifyObservers("GettingConfig")},this.setValues=function(e){r.observers.notifyObservers("ChangingCurrentValueFromPanel",e)},this.renew=function(){r.observers.notifyObservers("GettingConfig"),r.observers.notifyObservers("GettingValues")},this.init=function(e,t){r.observers.addObserver(r.view.observeControllerFromView),r.observers.addObserver(r.model.observeControllerFromModel),r.observers.notifyObservers("AppendingToNode",e.get(0)),r.observers.notifyObservers("UpdatingConfig",t)},this.handleViewChangingValue=function(e,t){"ChangingCurrentValueFromView"===e&&r.observers.notifyObservers("ChangingCurrentValueFromView",t),"SendingConfig"===e&&r.observers.notifyObservers("SendingConfig",t)},this.handleModelSendingValues=function(e,t){"SendingCurrentValues"===e&&(r.observers.notifyObservers("SendingCurrentValues",t),r.observers.notifyObservers("GettingValues")),"SendingCurrentValuesForTracking"===e&&r.observers.notifyObservers("SendingCurrentValuesForTracking",t)},this.view=new i.default(e,this.handleViewChangingValue),this.model=new s.default({currentMinValue:e.minValue,currentMaxValue:e.maxValue},this.handleModelSendingValues),this.observers=new a.default,this.init(t,e)};t.default=o},function(e,t,r){"use strict";r.r(t);var n=r(2),i=r(0),s=r(6),a=function(e,t){switch(t){case"step":return e.parameters.maxValue%1!=0||e.parameters.minValue%1!=0;case"maxValue":return e.parameters.step%1!=0||e.parameters.minValue%1!=0;case"minValue":return e.parameters.step%1!=0||e.parameters.maxValue%1!=0;default:return!1}},o=function(e,t){var r=this;void 0===e&&(e=n.defaultParameters),this.update=function(e){var t=r.validateConfig(e);r.parameters=t,r.observers.notifyObservers("UpdatingConfig",r.parameters)},this.handleTrackValueChanging=function(e,t){"ChangingCurrentValueFromTrack"===e&&r.observers.notifyObservers("ChangingCurrentValueFromView",t)},this.observeControllerFromView=function(e,t){"SendingCurrentValues"===e&&r.observers.notifyObservers("SendingCurrentValues",t),"UpdatingConfig"===e&&r.update(t),"GettingConfig"===e&&r.observers.notifyObservers("SendingConfig",r.parameters),"AppendingToNode"===e&&r.observers.notifyObservers("AppendingToNode",t)},this.init=function(e){r.observers.addObserver(e),r.observers.addObserver(r.track.observeViewFromTrack),r.observers.notifyObservers("UpdatingConfig",r.parameters)},this.validateConfig=function(e){var t=e;return Object.keys(e).forEach((function(n){switch(n){case"step":t.step=r.checkStep(e.step);break;case"maxValue":t.maxValue=r.checkMaxValue(e.maxValue);break;case"minValue":t.minValue=r.checkMinValue(e.minValue);break;case"isRange":"toggle"===e.isRange&&(!0===r.parameters.isRange?t.isRange=!1:t.isRange=!0);break;case"isVertical":"toggle"===e.isVertical&&(!0===r.parameters.isVertical?t.isVertical=!1:t.isVertical=!0);break;case"showLabel":"toggle"===e.showLabel&&(!0===r.parameters.showLabel?t.showLabel=!1:t.showLabel=!0)}})),Object.assign(r.parameters,t)},this.checkStep=function(e){return!e||e>(r.parameters.maxValue-r.parameters.minValue)/2?r.parameters.step:(e%1!=0?r.parameters.isFloat=!0:a(r,"step")||(r.parameters.isFloat=!1),e)},this.checkMaxValue=function(e){return Number.isNaN(e)||e<=r.parameters.minValue?r.parameters.maxValue:(e%1!=0?r.parameters.isFloat=!0:a(r,"maxValue")||(r.parameters.isFloat=!1),e)},this.checkMinValue=function(e){return Number.isNaN(e)||e>=r.parameters.maxValue?r.parameters.minValue:(e%1!=0?r.parameters.isFloat=!0:a(r,"minValue")||(r.parameters.isFloat=!1),e)},this.observers=new i.default,this.track=new s.default(e,this.handleTrackValueChanging),this.parameters=e,this.init(t)};t.default=o},function(e,t,r){"use strict";r.r(t);var n=r(7),i=r(3),s=r(10),a=r(12),o=r(0),u=function(){function e(e,t){var r=this;this.update=function(e){r.parameters=e,r.bar.update(r.parameters.isVertical),r.progressBar.update(r.parameters.isVertical),r.runnerAdditional.update(r.parameters.isVertical),r.runnerMain.update(r.parameters.isVertical),r.scale.update(r.parameters),r.runnerAdditional.hideRunner(),r.parameters.showLabel?(r.runnerAdditional.showLabel(),r.runnerMain.showLabel()):(r.runnerAdditional.hideLabel(),r.runnerMain.hideLabel()),r.parameters.isRange?r.runnerAdditional.showRunner():r.runnerAdditional.hideRunner(),r.runnerAdditional.setPosition(-r.runnerAdditional.getWidth()/2,r.parameters.minValue),r.runnerMain.setPosition(r.bar.getDimension()-r.runnerMain.getWidth()/2,r.parameters.maxValue)},this.observeViewFromTrack=function(e,t){"SendingCurrentValues"===e&&r.renewRunners(t),"UpdatingConfig"===e&&r.update(t),"AppendingToNode"===e&&r.appendToNode(t)},this.appendToNode=function(e){e.appendChild(r.bar.elem).appendChild(r.progressBar.elem),r.runnerMain.appendToNode(e),r.runnerAdditional.appendToNode(e),r.scale.marks.forEach((function(t){e.appendChild(t.elem)})),r.scale.moveMarks()},this.convertOffsetToValue=function(e){return(e-r.parameters.minValue)*r.bar.getDimension()/(r.parameters.maxValue-r.parameters.minValue)-r.runnerMain.getWidth()/2},this.getMainRunnerOffset=function(){var e=r.runnerMain.getPosition()-r.bar.getPosition()+r.runnerMain.getWidth()/2;return e<0?0:e},this.getAdditionalRunnerOffset=function(){return r.parameters.isRange?r.runnerAdditional.getPosition()-r.bar.getPosition()+r.runnerMain.getWidth()/2:0},this.handleRunnerMove=function(e,t){var n=t.event,i=t.runner;"MovingRunner"===e&&r.moveRunner(r.processRunnerMouseEvent(n,i))},this.moveRunner=function(e){e.runner.setPosition(e.offset,e.value),e.runner===r.runnerAdditional&&r.observers.notifyObservers("ChangingCurrentValueFromTrack",{currentMinValue:e.value}),e.runner===r.runnerMain&&r.observers.notifyObservers("ChangingCurrentValueFromTrack",{currentMaxValue:e.value}),r.updateProgressBar()},this.processRunnerMouseEvent=function(e,t){var n=(r.parameters.isVertical?e.clientY:e.clientX)-r.bar.getPosition()-r.runnerAdditional.getWidth()/2;return r.processRunnerOffset(n,t)},this.processRunnerOffset=function(e,t){var n,i;return i=r.checkRunnerOffset(e,t),{runner:t,offset:i=(n=r.roundOffsetRunner(i))[0],value:n[1]}},this.checkRunnerOffset=function(e,t){var n=r.parameters.step*r.bar.getDimension()/(r.parameters.maxValue-r.parameters.minValue),i=n/1.5>r.runnerMain.getWidth()?n/1.5:r.runnerMain.getWidth(),s=e;return t===r.runnerAdditional?e>r.runnerMain.getPosition()-r.bar.getPosition()-i&&(s=r.runnerMain.getPosition()-r.bar.getPosition()-i):t===r.runnerMain&&e<r.runnerAdditional.getPosition()-r.bar.getPosition()+i&&(s=r.runnerAdditional.getPosition()-r.bar.getPosition()+i),s},this.roundOffsetRunner=function(e){var t=r.parameters.minValue+(e+r.runnerMain.getWidth()/2)*(r.parameters.maxValue-r.parameters.minValue)/r.bar.getDimension(),n=r.round(t,r.parameters.step);r.parameters.isFloat&&(n=parseFloat(n.toFixed(2)));var i=r.convertOffsetToValue(n);return i<-r.runnerMain.getWidth()/2&&(i=-r.runnerMain.getWidth()/2,n=r.parameters.minValue),i>r.bar.getDimension()-r.runnerMain.getWidth()/2&&(i=r.bar.getDimension()-r.runnerMain.getWidth()/2,n=r.parameters.maxValue),[i,n]},this.round=function(e,t){var n=Math.trunc(e/t),i=+(e-n*t).toFixed(2);return e<0?Math.abs(i)<t/2?n*t:(n-1)*t:e<=r.parameters.minValue?r.parameters.minValue:e>=r.parameters.maxValue?r.parameters.maxValue:i<t/2?n*t:(n+1)*t},this.handleScaleClick=function(e,t){if("ClickOnScale"===e){var n=r.convertOffsetToValue(t),i=void 0;i=r.parameters.isRange?r.checkRunnerCloser(n):r.runnerMain,r.moveRunner(r.processRunnerOffset(n,i))}},this.checkRunnerCloser=function(e){return Math.abs(e-r.getMainRunnerOffset())<Math.abs(e-r.getAdditionalRunnerOffset())?r.runnerMain:r.runnerAdditional},this.handleBarClick=function(e,t){if("ClickOnBar"===e){var n=(r.parameters.isVertical?t.clientY:t.clientX)-r.bar.getPosition()-r.runnerMain.getWidth()/2;r.moveRunner(r.processRunnerOffset(n,r.checkRunnerCloser(n)))}},this.updateProgressBar=function(){r.progressBar.update(r.parameters.isVertical),r.progressBar.setPosition(r.getAdditionalRunnerOffset()),r.progressBar.setDimension(r.getMainRunnerOffset()-r.getAdditionalRunnerOffset())},this.parameters=e,this.runnerMain=new i.default(this.parameters.isVertical,this.handleRunnerMove),this.runnerAdditional=new i.default(this.parameters.isVertical,this.handleRunnerMove),this.progressBar=new a.default(this.parameters.isVertical),this.bar=new n.default(this.parameters.isVertical,this.handleBarClick),this.scale=new s.default(this.parameters,this.handleScaleClick),this.observers=new o.default,this.observers.addObserver(t)}return e.prototype.renewRunners=function(e){this.moveRunner(this.processRunnerOffset(this.convertOffsetToValue(e.currentMaxValue),this.runnerMain)),this.moveRunner(this.processRunnerOffset(this.convertOffsetToValue(e.currentMinValue),this.runnerAdditional))},e}();t.default=u},function(e,t,r){"use strict";r.r(t);var n=r(1),i=r(0),s=function(e,t){var r=this;this.getPosition=function(){return r.isVertical?r.elem.getBoundingClientRect().top:r.elem.getBoundingClientRect().left},this.getDimension=function(){return r.isVertical?r.elem.getBoundingClientRect().height:r.elem.getBoundingClientRect().width},this.update=function(e){r.isVertical=e,r.isVertical?r.elem.classList.add("slider__bar_position_vertical"):r.elem.classList.remove("slider__bar_position_vertical")},this.init=function(e){r.elem.onclick=r.handleBarClick,r.observers.addObserver(e)},this.handleBarClick=function(e){r.observers.notifyObservers("ClickOnBar",e)},this.elem=Object(n.default)("slider__bar"),this.isVertical=e,this.observers=new i.default,this.init(t)};t.default=s},function(e,t,r){"use strict";r.r(t);var n=r(1),i=function(e){var t=this;this.getWidth=function(){return t.elem.getBoundingClientRect().width},this.getPosition=function(){return t.isVertical?t.elem.getBoundingClientRect().top:t.elem.getBoundingClientRect().left},this.setPosition=function(e){t.isVertical?(t.elem.style.left="50%",t.elem.style.top=e+"px"):(t.elem.style.top="50%",t.elem.style.left=e+"px")},this.update=function(e){t.isVertical=e,t.isVertical?t.elem.classList.add("slider__button_position_vertical"):t.elem.classList.remove("slider__button_position_vertical")},this.elem=Object(n.default)("slider__button"),this.isVertical=e};t.default=i},function(e,t,r){"use strict";r.r(t);var n=r(1),i=function(e){var t=this;this.getPosition=function(){return t.isVertical?t.elem.getBoundingClientRect().top:t.elem.getBoundingClientRect().left},this.setPosition=function(e,r){t.elem.innerHTML=r+"",t.isVertical?(t.elem.style.left="50%",t.elem.style.top=e-t.getDimension()/2+"px"):(t.elem.style.top="50%",t.elem.style.left=e-t.getDimension()/2+"px")},this.getDimension=function(){return t.isVertical?t.elem.getBoundingClientRect().height:t.elem.getBoundingClientRect().width},this.update=function(e){t.isVertical=e,t.isVertical?t.elem.classList.add("slider__button-label_position_vertical"):t.elem.classList.remove("slider__button-label_position_vertical")},this.elem=Object(n.default)("slider__button-label"),this.isVertical=e};t.default=i},function(e,t,r){"use strict";r.r(t);var n=r(11),i=r(0),s=function(e,t){var r=this;this.update=function(e){r.parameters=e,r.moveMarks()},this.moveMarks=function(){r.marks.forEach((function(e,t){if(e.update(r.parameters.isVertical),0===t)e.setPosition(0,r.parameters.minValue);else if(t===r.marks.length-1)e.setPosition(100,r.parameters.maxValue);else{var n=r.round(r.parameters.minValue+(r.parameters.maxValue-r.parameters.minValue)*t/(r.marks.length-1));r.parameters.isFloat&&(n=parseFloat(n.toFixed(2)));var i=(n-r.parameters.minValue)/(r.parameters.maxValue-r.parameters.minValue);e.setPosition(100*i,n)}}))},this.init=function(e){r.moveMarks(),r.createMarks(),r.observers.addObserver(e)},this.handleScaleClick=function(e,t){"ClickOnMark"===e&&r.observers.notifyObservers("ClickOnScale",t)},this.createMarks=function(){for(var e=0;e<5;e+=1){var t=new n.default(r.parameters.isVertical,r.handleScaleClick);r.marks.push(t)}},this.round=function(e){var t=Math.trunc(e/r.parameters.step),n=+(e-t*r.parameters.step).toFixed(2);return e<0?Math.abs(n)<r.parameters.step/2?t*r.parameters.step:(t-1)*r.parameters.step:n<r.parameters.step/2?t*r.parameters.step:(t+1)*r.parameters.step},this.parameters=e,this.marks=[],this.observers=new i.default,this.init(t)};t.default=s},function(e,t,r){"use strict";r.r(t);var n=r(1),i=r(0),s=function(e,t){var r=this;this.getPosition=function(){return r.isVertical?r.elem.getBoundingClientRect().top:r.elem.getBoundingClientRect().left},this.setPosition=function(e,t){r.elem.innerHTML=t+"",r.value=t,r.isVertical?(r.elem.style.left="50%",r.elem.style.top=e+"%",r.elem.style.marginTop=-r.getDimension()/2+"px",r.elem.style.marginLeft="-45px"):(r.elem.style.top="50%",r.elem.style.left=e+"%",r.elem.style.marginLeft=-r.getDimension()/2+"px",r.elem.style.marginTop="15px")},this.getDimension=function(){return r.isVertical?r.elem.getBoundingClientRect().height:r.elem.getBoundingClientRect().width},this.update=function(e){r.isVertical=e,r.isVertical?r.elem.classList.add("slider__mark_position_vertical"):r.elem.classList.remove("slider__mark_position_vertical")},this.init=function(e){r.elem.onclick=r.handleMarkClick,r.observers.addObserver(e)},this.handleMarkClick=function(){r.observers.notifyObservers("ClickOnMark",r.value)},this.elem=Object(n.default)("slider__mark"),this.isVertical=e,this.observers=new i.default,this.init(t)};t.default=s},function(e,t,r){"use strict";r.r(t);var n=r(1),i=function(e){var t=this;this.setPosition=function(e){t.isVertical?(t.elem.style.left="0",t.elem.style.width="100%",t.elem.style.top=e+"px"):(t.elem.style.top="0",t.elem.style.height="100%",t.elem.style.left=e+"px")},this.setDimension=function(e){t.isVertical?t.elem.style.height=e+"px":t.elem.style.width=e+"px"},this.update=function(e){t.isVertical=e},this.elem=Object(n.default)("slider__progress-bar"),this.isVertical=e};t.default=i},function(e,t,r){"use strict";r.r(t);var n=r(0),i=function(e,t){var r=this;this.setCurrentValues=function(e,t){var n=e.currentMaxValue||0===e.currentMaxValue,i=e.currentMinValue||0===e.currentMinValue;n&&e.currentMaxValue!==r.currentValues.currentMaxValue&&(r.currentValues.currentMaxValue=e.currentMaxValue),i&&e.currentMinValue!==r.currentValues.currentMinValue&&(r.currentValues.currentMinValue=e.currentMinValue),"fromPanel"===t&&r.observers.notifyObservers("SendingCurrentValues",r.currentValues)},this.observeControllerFromModel=function(e,t){"UpdatingConfig"===e&&r.observers.notifyObservers("SendingCurrentValues",r.currentValues),"ChangingCurrentValueFromView"===e&&(r.setCurrentValues(t,"fromView"),r.observers.notifyObservers("SendingCurrentValuesForTracking",r.currentValues)),"ChangingCurrentValueFromPanel"===e&&r.setCurrentValues(t,"fromPanel"),"GettingValues"===e&&r.observers.notifyObservers("SendingCurrentValuesForTracking",r.currentValues)},this.currentValues=e,this.observers=new n.default,this.observers.addObserver(t)};t.default=i},function(e,t,r){var n={"./Controller/Controller.ts":4,"./Model/Model.ts":13,"./View/View.ts":5,"./View/blocks/Bar/Bar.ts":7,"./View/blocks/Knob/Knob.ts":8,"./View/blocks/ProgressBar/ProgressBar.ts":12,"./View/blocks/Runner/Runner.ts":3,"./View/blocks/Scale/Mark/Mark.ts":11,"./View/blocks/Scale/Scale.ts":10,"./View/blocks/Tooltip/Tooltip.ts":9,"./View/blocks/Track/Track.ts":6,"./View/blocks/createElem/createElem.ts":1,"./makeObservableObject/MakeObservableObject.ts":0,"./slider.ts":15,"./style.scss":16,"./types.ts":2};function i(e){var t=s(e);return r(t)}function s(e){if(!r.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}i.keys=function(){return Object.keys(n)},i.resolve=s,e.exports=i,i.id=14},function(e,t,r){"use strict";r.r(t);var n,i,s=r(2),a=r(4),o=function(){return(o=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};n=jQuery,i={init:function(e){if(!n(this).data("slider")){var t=o({},s.defaultParameters),r=new a.default(n.extend(t,e),n(this));n(this).data("slider",r)}},update:function(e){n(this).data("slider").update(e)},renew:function(){return n(this).data("slider").renew()},setValues:function(e){n(this).data("slider").setValues(e)},inputsAttach:function(e){n(this).data("slider").observers.addObserver((function(t,r){"SendingCurrentValuesForTracking"===t&&(e.minValueInput.val(r.currentMinValue),e.maxValueInput.val(r.currentMaxValue)),"SendingConfig"===t&&(e.maxValue.val(r.maxValue),e.minValue.val(r.minValue),e.step.val(r.step))}))}},n.fn.omfgslider=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return i[e]?i[e].apply(this,t):"object"!=typeof e&&e?(n.error("Метод "+e+" не найден в плагине jQuery.omfgslider"),null):i.init.apply(this,[e])}},function(e,t,r){},,function(e,t,r){"use strict";r.r(t);var n;r.p;(n=r(14)).keys().forEach(n)}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL3BsdWdpbi9tYWtlT2JzZXJ2YWJsZU9iamVjdC9NYWtlT2JzZXJ2YWJsZU9iamVjdC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvcGx1Z2luL1ZpZXcvYmxvY2tzL2NyZWF0ZUVsZW0vY3JlYXRlRWxlbS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvcGx1Z2luL3R5cGVzLnRzIiwid2VicGFjazovLy8uL3NyYy9wbHVnaW4vVmlldy9ibG9ja3MvUnVubmVyL1J1bm5lci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvcGx1Z2luL0NvbnRyb2xsZXIvQ29udHJvbGxlci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvcGx1Z2luL1ZpZXcvVmlldy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvcGx1Z2luL1ZpZXcvYmxvY2tzL1RyYWNrL1RyYWNrLnRzIiwid2VicGFjazovLy8uL3NyYy9wbHVnaW4vVmlldy9ibG9ja3MvQmFyL0Jhci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvcGx1Z2luL1ZpZXcvYmxvY2tzL0tub2IvS25vYi50cyIsIndlYnBhY2s6Ly8vLi9zcmMvcGx1Z2luL1ZpZXcvYmxvY2tzL1Rvb2x0aXAvVG9vbHRpcC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvcGx1Z2luL1ZpZXcvYmxvY2tzL1NjYWxlL1NjYWxlLnRzIiwid2VicGFjazovLy8uL3NyYy9wbHVnaW4vVmlldy9ibG9ja3MvU2NhbGUvTWFyay9NYXJrLnRzIiwid2VicGFjazovLy8uL3NyYy9wbHVnaW4vVmlldy9ibG9ja3MvUHJvZ3Jlc3NCYXIvUHJvZ3Jlc3NCYXIudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3BsdWdpbi9Nb2RlbC9Nb2RlbC50cyIsIndlYnBhY2s6Ly8vXFwuZClcXC4oanN8dHN8c2NzcykkLyIsIndlYnBhY2s6Ly8vLi9zcmMvcGx1Z2luL3NsaWRlci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZGVtby1wYWdlL2luZGV4Lmh0bWwiLCJ3ZWJwYWNrOi8vLy4vc3JjL2luZGV4LnRzIl0sIm5hbWVzIjpbImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJleHBvcnRzIiwibW9kdWxlIiwiaSIsImwiLCJtb2R1bGVzIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJ0IiwibW9kZSIsIl9fZXNNb2R1bGUiLCJucyIsImNyZWF0ZSIsImtleSIsImJpbmQiLCJuIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwidGhpcyIsIm9ic2VydmVycyIsImFkZE9ic2VydmVyIiwiZm4iLCJFcnJvciIsImZvckVhY2giLCJvYnNlcnZlciIsInB1c2giLCJyZW1vdmVPYnNlcnZlciIsImxlbmd0aCIsInNwbGljZSIsIm5vdGlmeU9ic2VydmVycyIsImV2ZW50TmFtZSIsImRhdGEiLCJtYXAiLCJjbGFzc05hbWUiLCJlbGVtIiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50Iiwib25kcmFnc3RhcnQiLCJjbGFzc0xpc3QiLCJhZGQiLCJkZWZhdWx0UGFyYW1ldGVycyIsIm1pblZhbHVlIiwibWF4VmFsdWUiLCJzdGVwIiwiaXNSYW5nZSIsImlzVmVydGljYWwiLCJzaG93TGFiZWwiLCJpc0Zsb2F0IiwibW92ZU9ic2VydmVyIiwiZ2V0UG9zaXRpb24iLCJrbm9iIiwic2V0UG9zaXRpb24iLCJvZmZzZXQiLCJ0b29sdGlwIiwiZ2V0V2lkdGgiLCJ1cGRhdGUiLCJoaWRlUnVubmVyIiwic3R5bGUiLCJkaXNwbGF5IiwiaGlkZUxhYmVsIiwic2hvd1J1bm5lciIsImFwcGVuZFRvTm9kZSIsImVudHJ5IiwiYXBwZW5kQ2hpbGQiLCJvbm1vdXNlZG93biIsImhhbmRsZVJ1bm5lck1vdXNlRG93biIsImV2ZW50IiwicHJldmVudERlZmF1bHQiLCJhZGRFdmVudExpc3RlbmVyIiwiaGFuZGxlUnVubmVyTW91c2VNb3ZlIiwiaGFuZGxlUnVubmVyTW91c2VVcCIsInJ1bm5lciIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJwYXJhbWV0ZXJzIiwic2V0VmFsdWVzIiwiY3VycmVudFZhbHVlcyIsInJlbmV3IiwiaW5pdCIsInZpZXciLCJvYnNlcnZlQ29udHJvbGxlckZyb21WaWV3IiwibW9kZWwiLCJvYnNlcnZlQ29udHJvbGxlckZyb21Nb2RlbCIsImhhbmRsZVZpZXdDaGFuZ2luZ1ZhbHVlIiwiaGFuZGxlTW9kZWxTZW5kaW5nVmFsdWVzIiwiY3VycmVudE1pblZhbHVlIiwiY3VycmVudE1heFZhbHVlIiwiaXNPdGhlcnNWYWx1ZXNGbG9hdCIsIml0ZW0iLCJwYXJhbWV0ZXIiLCJjaGVja2VkUGFyYW1ldGVycyIsInZhbGlkYXRlQ29uZmlnIiwiaGFuZGxlVHJhY2tWYWx1ZUNoYW5naW5nIiwidHJhY2siLCJvYnNlcnZlVmlld0Zyb21UcmFjayIsInBhcmFtZXRlcnNTbmFwc2hvdCIsImtleXMiLCJjaGVja1N0ZXAiLCJjaGVja01heFZhbHVlIiwiY2hlY2tNaW5WYWx1ZSIsImFzc2lnbiIsIk51bWJlciIsImlzTmFOIiwiYmFyIiwicHJvZ3Jlc3NCYXIiLCJydW5uZXJBZGRpdGlvbmFsIiwicnVubmVyTWFpbiIsInNjYWxlIiwiZ2V0RGltZW5zaW9uIiwicmVuZXdSdW5uZXJzIiwibWFya3MiLCJtYXJrIiwibW92ZU1hcmtzIiwiY29udmVydE9mZnNldFRvVmFsdWUiLCJnZXRNYWluUnVubmVyT2Zmc2V0IiwiZ2V0QWRkaXRpb25hbFJ1bm5lck9mZnNldCIsImhhbmRsZVJ1bm5lck1vdmUiLCJtb3ZlUnVubmVyIiwicHJvY2Vzc1J1bm5lck1vdXNlRXZlbnQiLCJvYmoiLCJ1cGRhdGVQcm9ncmVzc0JhciIsImV2ZW50TW0iLCJjbGllbnRZIiwiY2xpZW50WCIsInByb2Nlc3NSdW5uZXJPZmZzZXQiLCJyb3VuZE9mZnNldCIsImNoZWNrUnVubmVyT2Zmc2V0Iiwicm91bmRPZmZzZXRSdW5uZXIiLCJzdGVwV2lkdGgiLCJtaW5PZmZzZXQiLCJuZXdPZmZzZXQiLCJjdXJyZW50T2Zmc2V0IiwiY3VycmVudFZhbHVlIiwicm91bmRWYWx1ZSIsInJvdW5kIiwicGFyc2VGbG9hdCIsInRvRml4ZWQiLCJ3aG9sZSIsIk1hdGgiLCJ0cnVuYyIsInJlbWluZGVyIiwiYWJzIiwiaGFuZGxlU2NhbGVDbGljayIsImNoZWNrUnVubmVyQ2xvc2VyIiwiaGFuZGxlQmFyQ2xpY2siLCJzZXREaW1lbnNpb24iLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJ0b3AiLCJsZWZ0IiwiaGVpZ2h0Iiwid2lkdGgiLCJyZW1vdmUiLCJvbmNsaWNrIiwiaW5uZXJIVE1MIiwib3B0aW9ucyIsImluZGV4IiwiY3JlYXRlTWFya3MiLCJtYXJnaW5Ub3AiLCJtYXJnaW5MZWZ0IiwiaGFuZGxlTWFya0NsaWNrIiwiZGltZW5zaW9uIiwic2V0Q3VycmVudFZhbHVlcyIsInNvdXJjZU9mQ2hhbmdpbmciLCJpc0N1cnJlbnRNYXhWYWx1ZVJlYWwiLCJpc0N1cnJlbnRNaW5WYWx1ZVJlYWwiLCJ3ZWJwYWNrQ29udGV4dCIsInJlcSIsImlkIiwid2VicGFja0NvbnRleHRSZXNvbHZlIiwiZSIsImNvZGUiLCJyZXNvbHZlIiwiJCIsIm1ldGhvZHMiLCJqUXVlcnkiLCJvcHQiLCJuZXdDb25maWciLCJzbGlkZXIiLCJleHRlbmQiLCJpbnB1dHNBdHRhY2giLCJtaW5WYWx1ZUlucHV0IiwidmFsIiwibWF4VmFsdWVJbnB1dCIsIm9tZmdzbGlkZXIiLCJtZXRob2QiLCJhcHBseSIsImFyZ3MiLCJlcnJvciJdLCJtYXBwaW5ncyI6ImFBQ0UsSUFBSUEsRUFBbUIsR0FHdkIsU0FBU0MsRUFBb0JDLEdBRzVCLEdBQUdGLEVBQWlCRSxHQUNuQixPQUFPRixFQUFpQkUsR0FBVUMsUUFHbkMsSUFBSUMsRUFBU0osRUFBaUJFLEdBQVksQ0FDekNH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TSwwQ0FDaEIsTUFIRVgsRUFBUS9GLEtBQUsyRyxNQUFNdEssS0FBTSxDQUFDcUssTSx1RENqRHhCLElDRUl2TCxFREZKLEtDRUlBLEVBSVQsT0FITitGLE9BQU94RSxRQUFRdkIiLCJmaWxlIjoiYnVuZGxlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuIFx0XHR9XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3RcbiBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3RcbiBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbiBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbiBcdFx0cmV0dXJuIG5zO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDE4KTtcbiIsImltcG9ydCAqIGFzIHR5cGVzIGZyb20gJy4uL3R5cGVzJztcclxuXHJcbmNsYXNzIE1ha2VPYnNlcnZhYmxlT2JqZWN0IHtcclxuICBvYnNlcnZlcnM6IEFycmF5PHR5cGVzLkZ1bmN0aW9uQ2FsbGJhY2tEYXRhPjtcclxuXHJcbiAgY29uc3RydWN0b3IoKSB7XHJcbiAgICB0aGlzLm9ic2VydmVycyA9IFtdO1xyXG4gIH1cclxuXHJcbiAgYWRkT2JzZXJ2ZXIoZm46IHR5cGVzLk9ic2VydmVyRnVuY3Rpb24pOiB2b2lkIHtcclxuICAgIGlmICh0eXBlb2YgZm4gIT09ICdmdW5jdGlvbicpIHtcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKCdvYnNlcnZlciBtdXN0IGJlIGEgZnVuY3Rpb24nKTtcclxuICAgIH1cclxuICAgIHRoaXMub2JzZXJ2ZXJzLmZvckVhY2goKG9ic2VydmVyKSA9PiB7XHJcbiAgICAgIGlmIChvYnNlcnZlciA9PT0gZm4pIHtcclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ29ic2VydmVyIGFscmVhZHkgaW4gdGhlIGxpc3QnKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgICB0aGlzLm9ic2VydmVycy5wdXNoKGZuKTtcclxuICB9XHJcblxyXG4gIHJlbW92ZU9ic2VydmVyKGZuOiB0eXBlcy5PYnNlcnZlckZ1bmN0aW9uKTogdm9pZCB7XHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMub2JzZXJ2ZXJzLmxlbmd0aDsgaSArPSAxKSB7XHJcbiAgICAgIGNvbnN0IG9ic2VydmVyID0gdGhpcy5vYnNlcnZlcnNbaV07XHJcbiAgICAgIGlmIChvYnNlcnZlciA9PT0gZm4pIHtcclxuICAgICAgICB0aGlzLm9ic2VydmVycy5zcGxpY2UoaSwgMSk7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ2NvdWxkIG5vdCBmaW5kIG9ic2VydmVyIGluIGxpc3Qgb2Ygb2JzZXJ2ZXJzJyk7XHJcbiAgfVxyXG5cclxuICBub3RpZnlPYnNlcnZlcnMoZXZlbnROYW1lPzogc3RyaW5nLCBkYXRhPzogYW55KTogdm9pZCB7XHJcbiAgICBjb25zdCBvYnNlcnZlcnNTbmFwc2hvdCA9IFsuLi50aGlzLm9ic2VydmVyc107XHJcbiAgICBvYnNlcnZlcnNTbmFwc2hvdC5tYXAoKG9ic2VydmVyKSA9PiBvYnNlcnZlcihldmVudE5hbWUsIGRhdGEpKTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IE1ha2VPYnNlcnZhYmxlT2JqZWN0O1xyXG4iLCJmdW5jdGlvbiBjcmVhdGVFbGVtKGNsYXNzTmFtZTogc3RyaW5nKSA6SFRNTEVsZW1lbnQge1xyXG4gIGNvbnN0IGVsZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICBlbGVtLm9uZHJhZ3N0YXJ0ID0gKCkgPT4gZmFsc2U7XHJcbiAgZWxlbS5jbGFzc0xpc3QuYWRkKGNsYXNzTmFtZSk7XHJcbiAgcmV0dXJuIGVsZW07XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNyZWF0ZUVsZW07XHJcbiIsImltcG9ydCBSdW5uZXIgZnJvbSAnLi9WaWV3L2Jsb2Nrcy9SdW5uZXIvUnVubmVyJztcclxuXHJcbmV4cG9ydCB0eXBlIEZ1bmN0aW9uQ2FsbGJhY2tEYXRhID0gKGRhdGE6IGFueSwgZXZlbnROYW1lPzogc3RyaW5nKSA9PiB2b2lkO1xyXG5cclxuZXhwb3J0IHR5cGUgT2JzZXJ2ZXJGdW5jdGlvbiA9IChldmVudE5hbWU6IHN0cmluZywgZGF0YT86IGFueSwpID0+IHZvaWQ7XHJcblxyXG5leHBvcnQgdHlwZSBjb25maWdVcGRhdGVEYXRhID0ge1xyXG4gIFtpbmRleDogc3RyaW5nXTogbnVtYmVyfHN0cmluZ3xib29sZWFuO1xyXG59XHJcblxyXG5leHBvcnQgdHlwZSBSdW5uZXJNb3ZlRGF0YSA9IHtcclxuICBydW5uZXI6IFJ1bm5lcixcclxuICBvZmZzZXQ6IG51bWJlcixcclxuICB2YWx1ZTogbnVtYmVyLFxyXG59XHJcblxyXG5leHBvcnQgdHlwZSBDdXJyZW50VmFsdWVzID0ge1xyXG4gIGN1cnJlbnRNaW5WYWx1ZTogbnVtYmVyLFxyXG4gIGN1cnJlbnRNYXhWYWx1ZTogbnVtYmVyLFxyXG59XHJcblxyXG5leHBvcnQgdHlwZSBSdW5uZXJPYnNlcnZlckRhdGEgPSB7XHJcbiAgZXZlbnQ6IE1vdXNlRXZlbnQsXHJcbiAgcnVubmVyOiBSdW5uZXIsXHJcbn1cclxuXHJcbmV4cG9ydCB0eXBlIFBhcmFtZXRlcnMgPSB7XHJcbiAgbWluVmFsdWU6IG51bWJlcixcclxuICBtYXhWYWx1ZTogbnVtYmVyLFxyXG4gIHN0ZXA6IG51bWJlcixcclxuICBpc1JhbmdlOiBib29sZWFuLFxyXG4gIGlzVmVydGljYWw6IGJvb2xlYW4sXHJcbiAgc2hvd0xhYmVsOiBib29sZWFuLFxyXG4gIGlzRmxvYXQ6IGJvb2xlYW5cclxufVxyXG5cclxuZXhwb3J0IHR5cGUgUmF3UGFyYW1ldGVycyA9IHtcclxuICBtaW5WYWx1ZTogbnVtYmVyLFxyXG4gIG1heFZhbHVlOiBudW1iZXIsXHJcbiAgc3RlcDogbnVtYmVyLFxyXG4gIGlzUmFuZ2U6IGJvb2xlYW58c3RyaW5nLFxyXG4gIGlzVmVydGljYWw6IGJvb2xlYW58c3RyaW5nLFxyXG4gIHNob3dMYWJlbDogYm9vbGVhbnxzdHJpbmcsXHJcbiAgaXNGbG9hdDogYm9vbGVhbnxzdHJpbmdcclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IGRlZmF1bHRQYXJhbWV0ZXJzID0ge1xyXG4gIG1pblZhbHVlOiAwLFxyXG4gIG1heFZhbHVlOiAxMDAwLFxyXG4gIHN0ZXA6IDEsXHJcbiAgaXNSYW5nZTogZmFsc2UsXHJcbiAgaXNWZXJ0aWNhbDogZmFsc2UsXHJcbiAgc2hvd0xhYmVsOiB0cnVlLFxyXG4gIGlzRmxvYXQ6IGZhbHNlXHJcbn07XHJcbiIsImltcG9ydCAqIGFzIHR5cGVzIGZyb20gJy4uLy4uLy4uL3R5cGVzJztcclxuaW1wb3J0IEtub2IgZnJvbSAnLi4vS25vYi9Lbm9iJztcclxuaW1wb3J0IFRvb2x0aXAgZnJvbSAnLi4vVG9vbHRpcC9Ub29sdGlwJztcclxuaW1wb3J0IE1ha2VPYnNlcnZhYmxlT2JqZWN0IGZyb20gJy4uLy4uLy4uL21ha2VPYnNlcnZhYmxlT2JqZWN0L01ha2VPYnNlcnZhYmxlT2JqZWN0JztcclxuXHJcbmNsYXNzIFJ1bm5lciB7XHJcbiAga25vYjogS25vYjtcclxuXHJcbiAgdG9vbHRpcDogVG9vbHRpcDtcclxuXHJcbiAgaXNWZXJ0aWNhbDogYm9vbGVhbjtcclxuXHJcbiAgb2JzZXJ2ZXJzOiBNYWtlT2JzZXJ2YWJsZU9iamVjdDtcclxuXHJcbiAgY29uc3RydWN0b3IoaXNWZXJ0aWNhbDogYm9vbGVhbiwgbW92ZU9ic2VydmVyOiB0eXBlcy5PYnNlcnZlckZ1bmN0aW9uKSB7XHJcbiAgICB0aGlzLmlzVmVydGljYWwgPSBpc1ZlcnRpY2FsO1xyXG4gICAgdGhpcy5rbm9iID0gbmV3IEtub2IoaXNWZXJ0aWNhbCk7XHJcbiAgICB0aGlzLnRvb2x0aXAgPSBuZXcgVG9vbHRpcChpc1ZlcnRpY2FsKTtcclxuICAgIHRoaXMub2JzZXJ2ZXJzID0gbmV3IE1ha2VPYnNlcnZhYmxlT2JqZWN0KCk7XHJcbiAgICB0aGlzLm9ic2VydmVycy5hZGRPYnNlcnZlcihtb3ZlT2JzZXJ2ZXIpO1xyXG4gIH1cclxuXHJcbiAgZ2V0UG9zaXRpb24gPSAoKTogbnVtYmVyID0+IHtcclxuICAgIHJldHVybiB0aGlzLmtub2IuZ2V0UG9zaXRpb24oKTtcclxuICB9XHJcblxyXG4gIHNldFBvc2l0aW9uID0gKG9mZnNldDogbnVtYmVyLCB2YWx1ZTogbnVtYmVyKTogdm9pZCA9PiB7XHJcbiAgICB0aGlzLnRvb2x0aXAuc2V0UG9zaXRpb24ob2Zmc2V0ICsgdGhpcy5rbm9iLmdldFdpZHRoKCkgLyAyLCB2YWx1ZSk7XHJcbiAgICB0aGlzLmtub2Iuc2V0UG9zaXRpb24ob2Zmc2V0KTtcclxuICB9XHJcblxyXG4gIHVwZGF0ZSA9IChpc1ZlcnRpY2FsOiBib29sZWFuKTogdm9pZCA9PiB7XHJcbiAgICB0aGlzLmtub2IudXBkYXRlKGlzVmVydGljYWwpO1xyXG4gICAgdGhpcy50b29sdGlwLnVwZGF0ZShpc1ZlcnRpY2FsKTtcclxuICB9XHJcblxyXG4gIGdldFdpZHRoID0gKCk6IG51bWJlciA9PiB7XHJcbiAgICByZXR1cm4gdGhpcy5rbm9iLmdldFdpZHRoKCk7XHJcbiAgfVxyXG5cclxuICBoaWRlUnVubmVyID0gKCk6IHZvaWQgPT4ge1xyXG4gICAgdGhpcy5rbm9iLmVsZW0uc3R5bGUuZGlzcGxheSA9ICdub25lJztcclxuICAgIHRoaXMudG9vbHRpcC5lbGVtLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XHJcbiAgfVxyXG5cclxuICBoaWRlTGFiZWwgPSAoKTogdm9pZCA9PiB7XHJcbiAgICB0aGlzLnRvb2x0aXAuZWxlbS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xyXG4gIH1cclxuXHJcbiAgc2hvd0xhYmVsID0gKCk6IHZvaWQgPT4ge1xyXG4gICAgdGhpcy50b29sdGlwLmVsZW0uc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XHJcbiAgfVxyXG5cclxuICBzaG93UnVubmVyID0gKCk6IHZvaWQgPT4ge1xyXG4gICAgdGhpcy5rbm9iLmVsZW0uc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XHJcbiAgfVxyXG5cclxuICBhcHBlbmRUb05vZGUgPSAoZW50cnk6IEhUTUxFbGVtZW50KTogdm9pZCA9PiB7XHJcbiAgICBbdGhpcy5rbm9iLmVsZW0sIHRoaXMudG9vbHRpcC5lbGVtXS5mb3JFYWNoKChlbGVtKSA9PiB7XHJcbiAgICAgIGVudHJ5LmFwcGVuZENoaWxkKGVsZW0pO1xyXG4gICAgICBlbGVtLm9ubW91c2Vkb3duID0gdGhpcy5oYW5kbGVSdW5uZXJNb3VzZURvd247IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tcGFyYW0tcmVhc3NpZ25cclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBoYW5kbGVSdW5uZXJNb3VzZURvd24gPSAoZXZlbnQ6IE1vdXNlRXZlbnQpOiB2b2lkID0+IHtcclxuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCB0aGlzLmhhbmRsZVJ1bm5lck1vdXNlTW92ZSk7XHJcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgdGhpcy5oYW5kbGVSdW5uZXJNb3VzZVVwKTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgaGFuZGxlUnVubmVyTW91c2VNb3ZlID0gKGV2ZW50OiBNb3VzZUV2ZW50KTogdm9pZCA9PiB7XHJcbiAgICB0aGlzLm9ic2VydmVycy5ub3RpZnlPYnNlcnZlcnMoJ01vdmluZ1J1bm5lcicsIHsgZXZlbnQ6IGV2ZW50LCBydW5uZXI6IHRoaXMgfSk7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGhhbmRsZVJ1bm5lck1vdXNlVXAgPSAoKTogdm9pZCA9PiB7XHJcbiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgdGhpcy5oYW5kbGVSdW5uZXJNb3VzZVVwKTtcclxuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIHRoaXMuaGFuZGxlUnVubmVyTW91c2VNb3ZlKTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IFJ1bm5lcjtcclxuIiwiaW1wb3J0ICogYXMgdHlwZXMgZnJvbSAnLi4vdHlwZXMnO1xyXG5pbXBvcnQgVmlldyBmcm9tICcuLi9WaWV3L1ZpZXcnO1xyXG5pbXBvcnQgTW9kZWwgZnJvbSAnLi4vTW9kZWwvTW9kZWwnO1xyXG5pbXBvcnQgTWFrZU9ic2VydmFibGVPYmplY3QgZnJvbSAnLi4vbWFrZU9ic2VydmFibGVPYmplY3QvTWFrZU9ic2VydmFibGVPYmplY3QnO1xyXG5cclxuY2xhc3MgQ29udHJvbGxlciB7XHJcbiAgcHJpdmF0ZSB2aWV3OiBWaWV3O1xyXG5cclxuICBwcml2YXRlIG1vZGVsOiBNb2RlbDtcclxuXHJcbiAgb2JzZXJ2ZXJzOiBNYWtlT2JzZXJ2YWJsZU9iamVjdDtcclxuXHJcbiAgY29uc3RydWN0b3IocGFyYW1ldGVycyA9IHR5cGVzLmRlZmF1bHRQYXJhbWV0ZXJzLCBlbnRyeTogSlF1ZXJ5KSB7XHJcbiAgICB0aGlzLnZpZXcgPSBuZXcgVmlldyhwYXJhbWV0ZXJzLCB0aGlzLmhhbmRsZVZpZXdDaGFuZ2luZ1ZhbHVlKTtcclxuICAgIHRoaXMubW9kZWwgPSBuZXcgTW9kZWwoe1xyXG4gICAgICBjdXJyZW50TWluVmFsdWU6IHBhcmFtZXRlcnMubWluVmFsdWUsXHJcbiAgICAgIGN1cnJlbnRNYXhWYWx1ZTogcGFyYW1ldGVycy5tYXhWYWx1ZVxyXG4gICAgfSwgdGhpcy5oYW5kbGVNb2RlbFNlbmRpbmdWYWx1ZXMpO1xyXG4gICAgdGhpcy5vYnNlcnZlcnMgPSBuZXcgTWFrZU9ic2VydmFibGVPYmplY3QoKTtcclxuICAgIHRoaXMuaW5pdChlbnRyeSwgcGFyYW1ldGVycyk7XHJcbiAgfVxyXG5cclxuICB1cGRhdGUgPSAocGFyYW1ldGVyczogdHlwZXMuUmF3UGFyYW1ldGVycyk6IHZvaWQgPT4ge1xyXG4gICAgdGhpcy5vYnNlcnZlcnMubm90aWZ5T2JzZXJ2ZXJzKCdVcGRhdGluZ0NvbmZpZycsIHBhcmFtZXRlcnMpO1xyXG4gICAgdGhpcy5vYnNlcnZlcnMubm90aWZ5T2JzZXJ2ZXJzKCdHZXR0aW5nQ29uZmlnJyk7XHJcbiAgfVxyXG5cclxuICBzZXRWYWx1ZXMgPSAoY3VycmVudFZhbHVlczogdHlwZXMuQ3VycmVudFZhbHVlcyk6IHZvaWQgPT4ge1xyXG4gICAgdGhpcy5vYnNlcnZlcnMubm90aWZ5T2JzZXJ2ZXJzKCdDaGFuZ2luZ0N1cnJlbnRWYWx1ZUZyb21QYW5lbCcsIGN1cnJlbnRWYWx1ZXMpO1xyXG4gIH1cclxuXHJcbiAgcmVuZXcgPSAoKTogdm9pZCA9PiB7XHJcbiAgICB0aGlzLm9ic2VydmVycy5ub3RpZnlPYnNlcnZlcnMoJ0dldHRpbmdDb25maWcnKTtcclxuICAgIHRoaXMub2JzZXJ2ZXJzLm5vdGlmeU9ic2VydmVycygnR2V0dGluZ1ZhbHVlcycpO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBpbml0ID0gKGVudHJ5OiBKUXVlcnksIHBhcmFtZXRlcnM6IHR5cGVzLlBhcmFtZXRlcnMpOnZvaWQgPT4ge1xyXG4gICAgdGhpcy5vYnNlcnZlcnMuYWRkT2JzZXJ2ZXIodGhpcy52aWV3Lm9ic2VydmVDb250cm9sbGVyRnJvbVZpZXcpO1xyXG4gICAgdGhpcy5vYnNlcnZlcnMuYWRkT2JzZXJ2ZXIodGhpcy5tb2RlbC5vYnNlcnZlQ29udHJvbGxlckZyb21Nb2RlbCk7XHJcbiAgICB0aGlzLm9ic2VydmVycy5ub3RpZnlPYnNlcnZlcnMoJ0FwcGVuZGluZ1RvTm9kZScsIGVudHJ5LmdldCgwKSk7XHJcbiAgICB0aGlzLm9ic2VydmVycy5ub3RpZnlPYnNlcnZlcnMoJ1VwZGF0aW5nQ29uZmlnJywgcGFyYW1ldGVycyk7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGhhbmRsZVZpZXdDaGFuZ2luZ1ZhbHVlID0gKGV2ZW50TmFtZTogc3RyaW5nLCBkYXRhOiBhbnkpOiB2b2lkID0+IHtcclxuICAgIGlmIChldmVudE5hbWUgPT09ICdDaGFuZ2luZ0N1cnJlbnRWYWx1ZUZyb21WaWV3Jykge1xyXG4gICAgICB0aGlzLm9ic2VydmVycy5ub3RpZnlPYnNlcnZlcnMoJ0NoYW5naW5nQ3VycmVudFZhbHVlRnJvbVZpZXcnLCBkYXRhKTtcclxuICAgIH0gaWYgKGV2ZW50TmFtZSA9PT0gJ1NlbmRpbmdDb25maWcnKSB7XHJcbiAgICAgIHRoaXMub2JzZXJ2ZXJzLm5vdGlmeU9ic2VydmVycygnU2VuZGluZ0NvbmZpZycsIGRhdGEpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBoYW5kbGVNb2RlbFNlbmRpbmdWYWx1ZXMgPSAoZXZlbnROYW1lOiBzdHJpbmcsIGRhdGE6IHR5cGVzLkN1cnJlbnRWYWx1ZXMpOiB2b2lkID0+IHtcclxuICAgIGlmIChldmVudE5hbWUgPT09ICdTZW5kaW5nQ3VycmVudFZhbHVlcycpIHtcclxuICAgICAgdGhpcy5vYnNlcnZlcnMubm90aWZ5T2JzZXJ2ZXJzKCdTZW5kaW5nQ3VycmVudFZhbHVlcycsIGRhdGEpO1xyXG4gICAgICB0aGlzLm9ic2VydmVycy5ub3RpZnlPYnNlcnZlcnMoJ0dldHRpbmdWYWx1ZXMnKTtcclxuICAgIH0gaWYgKGV2ZW50TmFtZSA9PT0gJ1NlbmRpbmdDdXJyZW50VmFsdWVzRm9yVHJhY2tpbmcnKSB7XHJcbiAgICAgIHRoaXMub2JzZXJ2ZXJzLm5vdGlmeU9ic2VydmVycygnU2VuZGluZ0N1cnJlbnRWYWx1ZXNGb3JUcmFja2luZycsIGRhdGEpO1xyXG4gICAgfVxyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgQ29udHJvbGxlcjtcclxuIiwiaW1wb3J0ICogYXMgdHlwZXMgZnJvbSAnLi4vdHlwZXMnO1xyXG5pbXBvcnQgTWFrZU9ic2VydmFibGVPYmplY3QgZnJvbSAnLi4vbWFrZU9ic2VydmFibGVPYmplY3QvTWFrZU9ic2VydmFibGVPYmplY3QnO1xyXG5pbXBvcnQgVHJhY2sgZnJvbSAnLi9ibG9ja3MvVHJhY2svVHJhY2snO1xyXG5cclxuY29uc3QgaXNPdGhlcnNWYWx1ZXNGbG9hdCA9IChpdGVtOiBWaWV3LCBwYXJhbWV0ZXI6IHN0cmluZyk6IGJvb2xlYW4gPT4ge1xyXG4gIHN3aXRjaCAocGFyYW1ldGVyKSB7XHJcbiAgICBjYXNlICdzdGVwJzpcclxuICAgICAgcmV0dXJuIChpdGVtLnBhcmFtZXRlcnMubWF4VmFsdWUgJSAxICE9PSAwIHx8IGl0ZW0ucGFyYW1ldGVycy5taW5WYWx1ZSAlIDEgIT09IDApO1xyXG4gICAgY2FzZSAnbWF4VmFsdWUnOlxyXG4gICAgICByZXR1cm4gKGl0ZW0ucGFyYW1ldGVycy5zdGVwICUgMSAhPT0gMCB8fCBpdGVtLnBhcmFtZXRlcnMubWluVmFsdWUgJSAxICE9PSAwKTtcclxuICAgIGNhc2UgJ21pblZhbHVlJzpcclxuICAgICAgcmV0dXJuIChpdGVtLnBhcmFtZXRlcnMuc3RlcCAlIDEgIT09IDAgfHwgaXRlbS5wYXJhbWV0ZXJzLm1heFZhbHVlICUgMSAhPT0gMCk7XHJcbiAgICBkZWZhdWx0OlxyXG4gICAgICByZXR1cm4gZmFsc2U7XHJcbiAgfVxyXG59O1xyXG5cclxuY2xhc3MgVmlldyB7XHJcbiAgcGFyYW1ldGVyczogdHlwZXMuUGFyYW1ldGVycztcclxuXHJcbiAgb2JzZXJ2ZXJzOiBNYWtlT2JzZXJ2YWJsZU9iamVjdDtcclxuXHJcbiAgcHJpdmF0ZSB0cmFjazogVHJhY2s7XHJcblxyXG4gIGNvbnN0cnVjdG9yKHBhcmFtZXRlcnMgPSB0eXBlcy5kZWZhdWx0UGFyYW1ldGVycywgb2JzZXJ2ZXI6IHR5cGVzLk9ic2VydmVyRnVuY3Rpb24pIHtcclxuICAgIHRoaXMub2JzZXJ2ZXJzID0gbmV3IE1ha2VPYnNlcnZhYmxlT2JqZWN0KCk7XHJcbiAgICB0aGlzLnRyYWNrID0gbmV3IFRyYWNrKHBhcmFtZXRlcnMsIHRoaXMuaGFuZGxlVHJhY2tWYWx1ZUNoYW5naW5nKTtcclxuICAgIHRoaXMucGFyYW1ldGVycyA9IHBhcmFtZXRlcnM7XHJcbiAgICB0aGlzLmluaXQob2JzZXJ2ZXIpO1xyXG4gIH1cclxuXHJcbiAgdXBkYXRlID0gKHBhcmFtZXRlcnM6IHR5cGVzLlJhd1BhcmFtZXRlcnMpOiB2b2lkID0+IHtcclxuICAgIGNvbnN0IGNoZWNrZWRQYXJhbWV0ZXJzID0gdGhpcy52YWxpZGF0ZUNvbmZpZyhwYXJhbWV0ZXJzKTtcclxuICAgIHRoaXMucGFyYW1ldGVycyA9IGNoZWNrZWRQYXJhbWV0ZXJzO1xyXG4gICAgdGhpcy5vYnNlcnZlcnMubm90aWZ5T2JzZXJ2ZXJzKCdVcGRhdGluZ0NvbmZpZycsIHRoaXMucGFyYW1ldGVycyk7XHJcbiAgfVxyXG5cclxuICBoYW5kbGVUcmFja1ZhbHVlQ2hhbmdpbmcgPSAoZXZlbnROYW1lOiBzdHJpbmcsIGRhdGE6IHR5cGVzLkN1cnJlbnRWYWx1ZXMpOiB2b2lkID0+IHtcclxuICAgIGlmIChldmVudE5hbWUgPT09ICdDaGFuZ2luZ0N1cnJlbnRWYWx1ZUZyb21UcmFjaycpIHtcclxuICAgICAgdGhpcy5vYnNlcnZlcnMubm90aWZ5T2JzZXJ2ZXJzKCdDaGFuZ2luZ0N1cnJlbnRWYWx1ZUZyb21WaWV3JywgZGF0YSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBvYnNlcnZlQ29udHJvbGxlckZyb21WaWV3ID0gKGV2ZW50TmFtZTogc3RyaW5nLCBkYXRhOiBhbnkpOiB2b2lkID0+IHtcclxuICAgIGlmIChldmVudE5hbWUgPT09ICdTZW5kaW5nQ3VycmVudFZhbHVlcycpIHtcclxuICAgICAgdGhpcy5vYnNlcnZlcnMubm90aWZ5T2JzZXJ2ZXJzKCdTZW5kaW5nQ3VycmVudFZhbHVlcycsIGRhdGEpO1xyXG4gICAgfSBpZiAoZXZlbnROYW1lID09PSAnVXBkYXRpbmdDb25maWcnKSB7XHJcbiAgICAgIHRoaXMudXBkYXRlKGRhdGEpO1xyXG4gICAgfSBpZiAoZXZlbnROYW1lID09PSAnR2V0dGluZ0NvbmZpZycpIHtcclxuICAgICAgdGhpcy5vYnNlcnZlcnMubm90aWZ5T2JzZXJ2ZXJzKCdTZW5kaW5nQ29uZmlnJywgdGhpcy5wYXJhbWV0ZXJzKTtcclxuICAgIH0gaWYgKGV2ZW50TmFtZSA9PT0gJ0FwcGVuZGluZ1RvTm9kZScpIHtcclxuICAgICAgdGhpcy5vYnNlcnZlcnMubm90aWZ5T2JzZXJ2ZXJzKCdBcHBlbmRpbmdUb05vZGUnLCBkYXRhKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHByaXZhdGUgaW5pdCA9IChvYnNlcnZlcjogdHlwZXMuT2JzZXJ2ZXJGdW5jdGlvbik6IHZvaWQgPT4ge1xyXG4gICAgdGhpcy5vYnNlcnZlcnMuYWRkT2JzZXJ2ZXIob2JzZXJ2ZXIpO1xyXG4gICAgdGhpcy5vYnNlcnZlcnMuYWRkT2JzZXJ2ZXIodGhpcy50cmFjay5vYnNlcnZlVmlld0Zyb21UcmFjayk7XHJcbiAgICB0aGlzLm9ic2VydmVycy5ub3RpZnlPYnNlcnZlcnMoJ1VwZGF0aW5nQ29uZmlnJywgdGhpcy5wYXJhbWV0ZXJzKTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgdmFsaWRhdGVDb25maWcgPSAocGFyYW1ldGVyczogdHlwZXMuUmF3UGFyYW1ldGVycyk6IHR5cGVzLlBhcmFtZXRlcnMgPT4ge1xyXG4gICAgY29uc3QgcGFyYW1ldGVyc1NuYXBzaG90ID0gcGFyYW1ldGVycztcclxuICAgIE9iamVjdC5rZXlzKHBhcmFtZXRlcnMpLmZvckVhY2goKGtleSkgPT4ge1xyXG4gICAgICBzd2l0Y2ggKGtleSkge1xyXG4gICAgICAgIGNhc2UgJ3N0ZXAnOlxyXG4gICAgICAgICAgcGFyYW1ldGVyc1NuYXBzaG90LnN0ZXAgPSB0aGlzLmNoZWNrU3RlcChwYXJhbWV0ZXJzLnN0ZXApO1xyXG4gICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgY2FzZSAnbWF4VmFsdWUnOlxyXG4gICAgICAgICAgcGFyYW1ldGVyc1NuYXBzaG90Lm1heFZhbHVlID0gdGhpcy5jaGVja01heFZhbHVlKHBhcmFtZXRlcnMubWF4VmFsdWUpO1xyXG4gICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgY2FzZSAnbWluVmFsdWUnOlxyXG4gICAgICAgICAgcGFyYW1ldGVyc1NuYXBzaG90Lm1pblZhbHVlID0gdGhpcy5jaGVja01pblZhbHVlKHBhcmFtZXRlcnMubWluVmFsdWUpO1xyXG4gICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgY2FzZSAnaXNSYW5nZSc6XHJcbiAgICAgICAgICBpZiAocGFyYW1ldGVycy5pc1JhbmdlID09PSAndG9nZ2xlJykge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5wYXJhbWV0ZXJzLmlzUmFuZ2UgPT09IHRydWUpIHtcclxuICAgICAgICAgICAgICBwYXJhbWV0ZXJzU25hcHNob3QuaXNSYW5nZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgIHBhcmFtZXRlcnNTbmFwc2hvdC5pc1JhbmdlID0gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgY2FzZSAnaXNWZXJ0aWNhbCc6XHJcbiAgICAgICAgICBpZiAocGFyYW1ldGVycy5pc1ZlcnRpY2FsID09PSAndG9nZ2xlJykge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5wYXJhbWV0ZXJzLmlzVmVydGljYWwgPT09IHRydWUpIHtcclxuICAgICAgICAgICAgICBwYXJhbWV0ZXJzU25hcHNob3QuaXNWZXJ0aWNhbCA9IGZhbHNlO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgIHBhcmFtZXRlcnNTbmFwc2hvdC5pc1ZlcnRpY2FsID0gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgY2FzZSAnc2hvd0xhYmVsJzpcclxuICAgICAgICAgIGlmIChwYXJhbWV0ZXJzLnNob3dMYWJlbCA9PT0gJ3RvZ2dsZScpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMucGFyYW1ldGVycy5zaG93TGFiZWwgPT09IHRydWUpIHtcclxuICAgICAgICAgICAgICBwYXJhbWV0ZXJzU25hcHNob3Quc2hvd0xhYmVsID0gZmFsc2U7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgcGFyYW1ldGVyc1NuYXBzaG90LnNob3dMYWJlbCA9IHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgY29uc3QgbmV3UGFyYW1ldGVycyA9IE9iamVjdC5hc3NpZ24odGhpcy5wYXJhbWV0ZXJzLCBwYXJhbWV0ZXJzU25hcHNob3QpO1xyXG4gICAgcmV0dXJuIG5ld1BhcmFtZXRlcnM7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGNoZWNrU3RlcCA9IChzdGVwOiBudW1iZXIpOiBudW1iZXIgPT4ge1xyXG4gICAgaWYgKCFzdGVwIHx8IHN0ZXAgPiAodGhpcy5wYXJhbWV0ZXJzLm1heFZhbHVlIC0gdGhpcy5wYXJhbWV0ZXJzLm1pblZhbHVlKSAvIDIpIHtcclxuICAgICAgcmV0dXJuIHRoaXMucGFyYW1ldGVycy5zdGVwO1xyXG4gICAgfVxyXG4gICAgaWYgKHN0ZXAgJSAxICE9PSAwKSB7XHJcbiAgICAgIHRoaXMucGFyYW1ldGVycy5pc0Zsb2F0ID0gdHJ1ZTtcclxuICAgIH0gZWxzZSBpZiAoIWlzT3RoZXJzVmFsdWVzRmxvYXQodGhpcywgJ3N0ZXAnKSkge1xyXG4gICAgICB0aGlzLnBhcmFtZXRlcnMuaXNGbG9hdCA9IGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBzdGVwO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBjaGVja01heFZhbHVlID0gKG1heFZhbHVlOiBudW1iZXIpOiBudW1iZXIgPT4ge1xyXG4gICAgaWYgKE51bWJlci5pc05hTihtYXhWYWx1ZSkgfHwgbWF4VmFsdWUgPD0gdGhpcy5wYXJhbWV0ZXJzLm1pblZhbHVlKSB7XHJcbiAgICAgIHJldHVybiB0aGlzLnBhcmFtZXRlcnMubWF4VmFsdWU7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKG1heFZhbHVlICUgMSAhPT0gMCkge1xyXG4gICAgICB0aGlzLnBhcmFtZXRlcnMuaXNGbG9hdCA9IHRydWU7XHJcbiAgICB9IGVsc2UgaWYgKCFpc090aGVyc1ZhbHVlc0Zsb2F0KHRoaXMsICdtYXhWYWx1ZScpKSB7XHJcbiAgICAgIHRoaXMucGFyYW1ldGVycy5pc0Zsb2F0ID0gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIG1heFZhbHVlO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBjaGVja01pblZhbHVlID0gKG1pblZhbHVlOiBudW1iZXIpOiBudW1iZXIgPT4ge1xyXG4gICAgaWYgKE51bWJlci5pc05hTihtaW5WYWx1ZSkgfHwgbWluVmFsdWUgPj0gdGhpcy5wYXJhbWV0ZXJzLm1heFZhbHVlKSB7XHJcbiAgICAgIHJldHVybiB0aGlzLnBhcmFtZXRlcnMubWluVmFsdWU7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKG1pblZhbHVlICUgMSAhPT0gMCkge1xyXG4gICAgICB0aGlzLnBhcmFtZXRlcnMuaXNGbG9hdCA9IHRydWU7XHJcbiAgICB9IGVsc2UgaWYgKCFpc090aGVyc1ZhbHVlc0Zsb2F0KHRoaXMsICdtaW5WYWx1ZScpKSB7XHJcbiAgICAgIHRoaXMucGFyYW1ldGVycy5pc0Zsb2F0ID0gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIG1pblZhbHVlO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgVmlldztcclxuIiwiaW1wb3J0ICogYXMgdHlwZXMgZnJvbSAnLi4vLi4vLi4vdHlwZXMnO1xyXG5pbXBvcnQgQmFyIGZyb20gJy4uL0Jhci9CYXInO1xyXG5pbXBvcnQgUnVubmVyIGZyb20gJy4uL1J1bm5lci9SdW5uZXInO1xyXG5pbXBvcnQgU2NhbGUgZnJvbSAnLi4vU2NhbGUvU2NhbGUnO1xyXG5pbXBvcnQgUHJvZ3Jlc3NCYXIgZnJvbSAnLi4vUHJvZ3Jlc3NCYXIvUHJvZ3Jlc3NCYXInO1xyXG5pbXBvcnQgTWFrZU9ic2VydmFibGVPYmplY3QgZnJvbSAnLi4vLi4vLi4vbWFrZU9ic2VydmFibGVPYmplY3QvTWFrZU9ic2VydmFibGVPYmplY3QnO1xyXG5cclxuY2xhc3MgVHJhY2sge1xyXG4gIHBhcmFtZXRlcnM6IHR5cGVzLlBhcmFtZXRlcnM7XHJcblxyXG4gIHByaXZhdGUgcnVubmVyTWFpbjogUnVubmVyO1xyXG5cclxuICBwcml2YXRlIHJ1bm5lckFkZGl0aW9uYWw6IFJ1bm5lcjtcclxuXHJcbiAgcHJpdmF0ZSBwcm9ncmVzc0JhcjogUHJvZ3Jlc3NCYXI7XHJcblxyXG4gIHByaXZhdGUgYmFyOiBCYXI7XHJcblxyXG4gIHByaXZhdGUgc2NhbGU6IFNjYWxlO1xyXG5cclxuICBvYnNlcnZlcnM6IE1ha2VPYnNlcnZhYmxlT2JqZWN0O1xyXG5cclxuICBjb25zdHJ1Y3RvcihwYXJhbWV0ZXJzOiB0eXBlcy5QYXJhbWV0ZXJzLCBvYnNlcnZlcjogdHlwZXMuT2JzZXJ2ZXJGdW5jdGlvbikge1xyXG4gICAgdGhpcy5wYXJhbWV0ZXJzID0gcGFyYW1ldGVycztcclxuICAgIHRoaXMucnVubmVyTWFpbiA9IG5ldyBSdW5uZXIodGhpcy5wYXJhbWV0ZXJzLmlzVmVydGljYWwsIHRoaXMuaGFuZGxlUnVubmVyTW92ZSk7XHJcbiAgICB0aGlzLnJ1bm5lckFkZGl0aW9uYWwgPSBuZXcgUnVubmVyKHRoaXMucGFyYW1ldGVycy5pc1ZlcnRpY2FsLCB0aGlzLmhhbmRsZVJ1bm5lck1vdmUpO1xyXG4gICAgdGhpcy5wcm9ncmVzc0JhciA9IG5ldyBQcm9ncmVzc0Jhcih0aGlzLnBhcmFtZXRlcnMuaXNWZXJ0aWNhbCk7XHJcbiAgICB0aGlzLmJhciA9IG5ldyBCYXIodGhpcy5wYXJhbWV0ZXJzLmlzVmVydGljYWwsIHRoaXMuaGFuZGxlQmFyQ2xpY2spO1xyXG4gICAgdGhpcy5zY2FsZSA9IG5ldyBTY2FsZSh0aGlzLnBhcmFtZXRlcnMsIHRoaXMuaGFuZGxlU2NhbGVDbGljayk7XHJcbiAgICB0aGlzLm9ic2VydmVycyA9IG5ldyBNYWtlT2JzZXJ2YWJsZU9iamVjdCgpO1xyXG4gICAgdGhpcy5vYnNlcnZlcnMuYWRkT2JzZXJ2ZXIob2JzZXJ2ZXIpO1xyXG4gIH1cclxuXHJcbiAgdXBkYXRlID0gKHBhcmFtZXRlcnM6IHR5cGVzLlBhcmFtZXRlcnMpOiB2b2lkID0+IHtcclxuICAgIHRoaXMucGFyYW1ldGVycyA9IHBhcmFtZXRlcnM7XHJcbiAgICB0aGlzLmJhci51cGRhdGUodGhpcy5wYXJhbWV0ZXJzLmlzVmVydGljYWwpO1xyXG4gICAgdGhpcy5wcm9ncmVzc0Jhci51cGRhdGUodGhpcy5wYXJhbWV0ZXJzLmlzVmVydGljYWwpO1xyXG4gICAgdGhpcy5ydW5uZXJBZGRpdGlvbmFsLnVwZGF0ZSh0aGlzLnBhcmFtZXRlcnMuaXNWZXJ0aWNhbCk7XHJcbiAgICB0aGlzLnJ1bm5lck1haW4udXBkYXRlKHRoaXMucGFyYW1ldGVycy5pc1ZlcnRpY2FsKTtcclxuICAgIHRoaXMuc2NhbGUudXBkYXRlKHRoaXMucGFyYW1ldGVycyk7XHJcbiAgICB0aGlzLnJ1bm5lckFkZGl0aW9uYWwuaGlkZVJ1bm5lcigpO1xyXG5cclxuICAgIGlmICh0aGlzLnBhcmFtZXRlcnMuc2hvd0xhYmVsKSB7XHJcbiAgICAgIHRoaXMucnVubmVyQWRkaXRpb25hbC5zaG93TGFiZWwoKTtcclxuICAgICAgdGhpcy5ydW5uZXJNYWluLnNob3dMYWJlbCgpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5ydW5uZXJBZGRpdGlvbmFsLmhpZGVMYWJlbCgpO1xyXG4gICAgICB0aGlzLnJ1bm5lck1haW4uaGlkZUxhYmVsKCk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHRoaXMucGFyYW1ldGVycy5pc1JhbmdlKSB7XHJcbiAgICAgIHRoaXMucnVubmVyQWRkaXRpb25hbC5zaG93UnVubmVyKCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLnJ1bm5lckFkZGl0aW9uYWwuaGlkZVJ1bm5lcigpO1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXMucnVubmVyQWRkaXRpb25hbC5zZXRQb3NpdGlvbihcclxuICAgICAgLXRoaXMucnVubmVyQWRkaXRpb25hbC5nZXRXaWR0aCgpIC8gMixcclxuICAgICAgdGhpcy5wYXJhbWV0ZXJzLm1pblZhbHVlXHJcbiAgICApO1xyXG4gICAgdGhpcy5ydW5uZXJNYWluLnNldFBvc2l0aW9uKFxyXG4gICAgICB0aGlzLmJhci5nZXREaW1lbnNpb24oKSAtIHRoaXMucnVubmVyTWFpbi5nZXRXaWR0aCgpIC8gMixcclxuICAgICAgdGhpcy5wYXJhbWV0ZXJzLm1heFZhbHVlXHJcbiAgICApO1xyXG4gIH1cclxuXHJcbiAgb2JzZXJ2ZVZpZXdGcm9tVHJhY2sgPSAoZXZlbnROYW1lOiBzdHJpbmcsIGRhdGE/OiBhbnkpOiB2b2lkID0+IHtcclxuICAgIGlmIChldmVudE5hbWUgPT09ICdTZW5kaW5nQ3VycmVudFZhbHVlcycpIHtcclxuICAgICAgdGhpcy5yZW5ld1J1bm5lcnMoZGF0YSk7XHJcbiAgICB9IGlmIChldmVudE5hbWUgPT09ICdVcGRhdGluZ0NvbmZpZycpIHtcclxuICAgICAgdGhpcy51cGRhdGUoZGF0YSk7XHJcbiAgICB9IGlmIChldmVudE5hbWUgPT09ICdBcHBlbmRpbmdUb05vZGUnKSB7XHJcbiAgICAgIHRoaXMuYXBwZW5kVG9Ob2RlKGRhdGEpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgYXBwZW5kVG9Ob2RlID0gKGVudHJ5OiBIVE1MRWxlbWVudCk6IHZvaWQgPT4ge1xyXG4gICAgZW50cnkuYXBwZW5kQ2hpbGQodGhpcy5iYXIuZWxlbSkuYXBwZW5kQ2hpbGQodGhpcy5wcm9ncmVzc0Jhci5lbGVtKTtcclxuICAgIHRoaXMucnVubmVyTWFpbi5hcHBlbmRUb05vZGUoZW50cnkpO1xyXG4gICAgdGhpcy5ydW5uZXJBZGRpdGlvbmFsLmFwcGVuZFRvTm9kZShlbnRyeSk7XHJcblxyXG4gICAgdGhpcy5zY2FsZS5tYXJrcy5mb3JFYWNoKChtYXJrKSA9PiB7XHJcbiAgICAgIGVudHJ5LmFwcGVuZENoaWxkKG1hcmsuZWxlbSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICB0aGlzLnNjYWxlLm1vdmVNYXJrcygpO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSByZW5ld1J1bm5lcnMoY3VycmVudFZhbHVlczogdHlwZXMuQ3VycmVudFZhbHVlcyk6IHZvaWQge1xyXG4gICAgdGhpcy5tb3ZlUnVubmVyKFxyXG4gICAgICB0aGlzLnByb2Nlc3NSdW5uZXJPZmZzZXQoXHJcbiAgICAgICAgdGhpcy5jb252ZXJ0T2Zmc2V0VG9WYWx1ZShjdXJyZW50VmFsdWVzLmN1cnJlbnRNYXhWYWx1ZSksXHJcbiAgICAgICAgdGhpcy5ydW5uZXJNYWluXHJcbiAgICAgIClcclxuICAgICk7XHJcbiAgICB0aGlzLm1vdmVSdW5uZXIoXHJcbiAgICAgIHRoaXMucHJvY2Vzc1J1bm5lck9mZnNldChcclxuICAgICAgICB0aGlzLmNvbnZlcnRPZmZzZXRUb1ZhbHVlKGN1cnJlbnRWYWx1ZXMuY3VycmVudE1pblZhbHVlKSxcclxuICAgICAgICB0aGlzLnJ1bm5lckFkZGl0aW9uYWxcclxuICAgICAgKVxyXG4gICAgKTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgY29udmVydE9mZnNldFRvVmFsdWUgPSAodmFsdWU6IG51bWJlcik6IG51bWJlciA9PiB7XHJcbiAgICByZXR1cm4gKCgodmFsdWUgLSB0aGlzLnBhcmFtZXRlcnMubWluVmFsdWUpICogdGhpcy5iYXIuZ2V0RGltZW5zaW9uKCkpXHJcbiAgICAgIC8gKHRoaXMucGFyYW1ldGVycy5tYXhWYWx1ZSAtIHRoaXMucGFyYW1ldGVycy5taW5WYWx1ZSlcclxuICAgICAgLSB0aGlzLnJ1bm5lck1haW4uZ2V0V2lkdGgoKSAvIDIpO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBnZXRNYWluUnVubmVyT2Zmc2V0ID0gKCk6IG51bWJlciA9PiB7XHJcbiAgICBjb25zdCBvZmZzZXQgPSB0aGlzLnJ1bm5lck1haW4uZ2V0UG9zaXRpb24oKSAtIHRoaXMuYmFyLmdldFBvc2l0aW9uKClcclxuICAgICAgKyB0aGlzLnJ1bm5lck1haW4uZ2V0V2lkdGgoKSAvIDI7XHJcbiAgICByZXR1cm4gb2Zmc2V0IDwgMCA/IDAgOiBvZmZzZXQ7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGdldEFkZGl0aW9uYWxSdW5uZXJPZmZzZXQgPSAoKTogbnVtYmVyID0+IHtcclxuICAgIGlmICh0aGlzLnBhcmFtZXRlcnMuaXNSYW5nZSkge1xyXG4gICAgICByZXR1cm4gdGhpcy5ydW5uZXJBZGRpdGlvbmFsLmdldFBvc2l0aW9uKCkgLSB0aGlzLmJhci5nZXRQb3NpdGlvbigpXHJcbiAgICAgICAgKyB0aGlzLnJ1bm5lck1haW4uZ2V0V2lkdGgoKSAvIDI7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIDA7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGhhbmRsZVJ1bm5lck1vdmUgPSAoZXZlbnROYW1lOiBzdHJpbmcsXHJcbiAgICB7IGV2ZW50LCBydW5uZXIgfTogdHlwZXMuUnVubmVyT2JzZXJ2ZXJEYXRhKTogdm9pZCA9PiB7XHJcbiAgICBpZiAoZXZlbnROYW1lID09PSAnTW92aW5nUnVubmVyJykge1xyXG4gICAgICB0aGlzLm1vdmVSdW5uZXIodGhpcy5wcm9jZXNzUnVubmVyTW91c2VFdmVudChldmVudCwgcnVubmVyKSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIG1vdmVSdW5uZXIgPSAob2JqOiB0eXBlcy5SdW5uZXJNb3ZlRGF0YSk6IHZvaWQgPT4ge1xyXG4gICAgb2JqLnJ1bm5lci5zZXRQb3NpdGlvbihvYmoub2Zmc2V0LCBvYmoudmFsdWUpO1xyXG5cclxuICAgIGlmIChvYmoucnVubmVyID09PSB0aGlzLnJ1bm5lckFkZGl0aW9uYWwpIHtcclxuICAgICAgdGhpcy5vYnNlcnZlcnMubm90aWZ5T2JzZXJ2ZXJzKCdDaGFuZ2luZ0N1cnJlbnRWYWx1ZUZyb21UcmFjaycsIHsgY3VycmVudE1pblZhbHVlOiBvYmoudmFsdWUgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKG9iai5ydW5uZXIgPT09IHRoaXMucnVubmVyTWFpbikge1xyXG4gICAgICB0aGlzLm9ic2VydmVycy5ub3RpZnlPYnNlcnZlcnMoJ0NoYW5naW5nQ3VycmVudFZhbHVlRnJvbVRyYWNrJywgeyBjdXJyZW50TWF4VmFsdWU6IG9iai52YWx1ZSB9KTtcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLnVwZGF0ZVByb2dyZXNzQmFyKCk7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIHByb2Nlc3NSdW5uZXJNb3VzZUV2ZW50ID0gKGV2ZW50TW06IE1vdXNlRXZlbnQsIHJ1bm5lcjogUnVubmVyKTogdHlwZXMuUnVubmVyTW92ZURhdGEgPT4ge1xyXG4gICAgY29uc3QgY29vcmRpbmF0ZSA9IHRoaXMucGFyYW1ldGVycy5pc1ZlcnRpY2FsID8gZXZlbnRNbS5jbGllbnRZIDogZXZlbnRNbS5jbGllbnRYO1xyXG4gICAgY29uc3Qgb2Zmc2V0ID0gY29vcmRpbmF0ZSAtIHRoaXMuYmFyLmdldFBvc2l0aW9uKCkgLSB0aGlzLnJ1bm5lckFkZGl0aW9uYWwuZ2V0V2lkdGgoKSAvIDI7XHJcblxyXG4gICAgcmV0dXJuIHRoaXMucHJvY2Vzc1J1bm5lck9mZnNldChvZmZzZXQsIHJ1bm5lcik7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIHByb2Nlc3NSdW5uZXJPZmZzZXQgPSAob2Zmc2V0OiBudW1iZXIsIHJ1bm5lcjogUnVubmVyKTogdHlwZXMuUnVubmVyTW92ZURhdGEgPT4ge1xyXG4gICAgbGV0IHJvdW5kVmFsdWUgPSAwO1xyXG4gICAgbGV0IHJvdW5kT2Zmc2V0O1xyXG4gICAgcm91bmRPZmZzZXQgPSB0aGlzLmNoZWNrUnVubmVyT2Zmc2V0KG9mZnNldCwgcnVubmVyKTtcclxuICAgIFtyb3VuZE9mZnNldCwgcm91bmRWYWx1ZV0gPSB0aGlzLnJvdW5kT2Zmc2V0UnVubmVyKHJvdW5kT2Zmc2V0KTtcclxuXHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBydW5uZXI6IHJ1bm5lcixcclxuICAgICAgb2Zmc2V0OiByb3VuZE9mZnNldCxcclxuICAgICAgdmFsdWU6IHJvdW5kVmFsdWVcclxuICAgIH07XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGNoZWNrUnVubmVyT2Zmc2V0ID0gKG9mZnNldDogbnVtYmVyLCBydW5uZXI6IFJ1bm5lcik6IG51bWJlciA9PiB7XHJcbiAgICBjb25zdCBzdGVwV2lkdGggPSAodGhpcy5wYXJhbWV0ZXJzLnN0ZXAgKiB0aGlzLmJhci5nZXREaW1lbnNpb24oKSlcclxuICAgICAgLyAodGhpcy5wYXJhbWV0ZXJzLm1heFZhbHVlIC0gdGhpcy5wYXJhbWV0ZXJzLm1pblZhbHVlKTtcclxuICAgIGNvbnN0IG1pbk9mZnNldCA9IHN0ZXBXaWR0aCAvIDEuNSA+IHRoaXMucnVubmVyTWFpbi5nZXRXaWR0aCgpXHJcbiAgICAgID8gc3RlcFdpZHRoIC8gMS41XHJcbiAgICAgIDogdGhpcy5ydW5uZXJNYWluLmdldFdpZHRoKCk7XHJcbiAgICBsZXQgbmV3T2Zmc2V0ID0gb2Zmc2V0O1xyXG5cclxuICAgIGlmIChydW5uZXIgPT09IHRoaXMucnVubmVyQWRkaXRpb25hbCkge1xyXG4gICAgICBpZiAob2Zmc2V0ID4gdGhpcy5ydW5uZXJNYWluLmdldFBvc2l0aW9uKCkgLSB0aGlzLmJhci5nZXRQb3NpdGlvbigpIC0gbWluT2Zmc2V0KSB7XHJcbiAgICAgICAgbmV3T2Zmc2V0ID0gdGhpcy5ydW5uZXJNYWluLmdldFBvc2l0aW9uKCkgLSB0aGlzLmJhci5nZXRQb3NpdGlvbigpIC0gbWluT2Zmc2V0O1xyXG4gICAgICB9XHJcbiAgICB9IGVsc2UgaWYgKHJ1bm5lciA9PT0gdGhpcy5ydW5uZXJNYWluKSB7XHJcbiAgICAgIGlmIChvZmZzZXQgPCB0aGlzLnJ1bm5lckFkZGl0aW9uYWwuZ2V0UG9zaXRpb24oKSAtIHRoaXMuYmFyLmdldFBvc2l0aW9uKCkgKyBtaW5PZmZzZXQpIHtcclxuICAgICAgICBuZXdPZmZzZXQgPSB0aGlzLnJ1bm5lckFkZGl0aW9uYWwuZ2V0UG9zaXRpb24oKSAtIHRoaXMuYmFyLmdldFBvc2l0aW9uKCkgKyBtaW5PZmZzZXQ7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gbmV3T2Zmc2V0O1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSByb3VuZE9mZnNldFJ1bm5lciA9IChjdXJyZW50T2Zmc2V0OiBudW1iZXIpOiBbbnVtYmVyLCBudW1iZXJdID0+IHtcclxuICAgIGNvbnN0IGN1cnJlbnRWYWx1ZSA9IHRoaXMucGFyYW1ldGVycy5taW5WYWx1ZVxyXG4gICAgICArICgoY3VycmVudE9mZnNldCArIHRoaXMucnVubmVyTWFpbi5nZXRXaWR0aCgpIC8gMilcclxuICAgICAgKiAodGhpcy5wYXJhbWV0ZXJzLm1heFZhbHVlIC0gdGhpcy5wYXJhbWV0ZXJzLm1pblZhbHVlKSlcclxuICAgICAgLyB0aGlzLmJhci5nZXREaW1lbnNpb24oKTtcclxuICAgIGxldCByb3VuZFZhbHVlID0gdGhpcy5yb3VuZChjdXJyZW50VmFsdWUsIHRoaXMucGFyYW1ldGVycy5zdGVwKTtcclxuXHJcbiAgICBpZiAodGhpcy5wYXJhbWV0ZXJzLmlzRmxvYXQpIHtcclxuICAgICAgcm91bmRWYWx1ZSA9IHBhcnNlRmxvYXQocm91bmRWYWx1ZS50b0ZpeGVkKDIpKTtcclxuICAgIH1cclxuXHJcbiAgICBsZXQgcm91bmRPZmZzZXQgPSB0aGlzLmNvbnZlcnRPZmZzZXRUb1ZhbHVlKHJvdW5kVmFsdWUpO1xyXG5cclxuICAgIGlmIChyb3VuZE9mZnNldCA8IC10aGlzLnJ1bm5lck1haW4uZ2V0V2lkdGgoKSAvIDIpIHtcclxuICAgICAgcm91bmRPZmZzZXQgPSAtdGhpcy5ydW5uZXJNYWluLmdldFdpZHRoKCkgLyAyO1xyXG4gICAgICByb3VuZFZhbHVlID0gdGhpcy5wYXJhbWV0ZXJzLm1pblZhbHVlO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChyb3VuZE9mZnNldCA+IHRoaXMuYmFyLmdldERpbWVuc2lvbigpIC0gdGhpcy5ydW5uZXJNYWluLmdldFdpZHRoKCkgLyAyKSB7XHJcbiAgICAgIHJvdW5kT2Zmc2V0ID0gdGhpcy5iYXIuZ2V0RGltZW5zaW9uKCkgLSB0aGlzLnJ1bm5lck1haW4uZ2V0V2lkdGgoKSAvIDI7XHJcbiAgICAgIHJvdW5kVmFsdWUgPSB0aGlzLnBhcmFtZXRlcnMubWF4VmFsdWU7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIFtyb3VuZE9mZnNldCwgcm91bmRWYWx1ZV07XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIHJvdW5kID0gKHZhbHVlOiBudW1iZXIsIHN0ZXA6IG51bWJlcik6IG51bWJlciA9PiB7XHJcbiAgICBjb25zdCB3aG9sZSA9IE1hdGgudHJ1bmModmFsdWUgLyBzdGVwKTtcclxuICAgIGNvbnN0IHJlbWluZGVyID0gKyh2YWx1ZSAtIHdob2xlICogc3RlcCkudG9GaXhlZCgyKTtcclxuXHJcbiAgICBpZiAodmFsdWUgPCAwKSB7XHJcbiAgICAgIHJldHVybiBNYXRoLmFicyhyZW1pbmRlcikgPCBzdGVwIC8gMiA/IHdob2xlICogc3RlcCA6ICh3aG9sZSAtIDEpICogc3RlcDtcclxuICAgIH1cclxuXHJcbiAgICBpZiAodmFsdWUgPD0gdGhpcy5wYXJhbWV0ZXJzLm1pblZhbHVlKSB7XHJcbiAgICAgIHJldHVybiB0aGlzLnBhcmFtZXRlcnMubWluVmFsdWU7XHJcbiAgICB9IGlmICh2YWx1ZSA+PSB0aGlzLnBhcmFtZXRlcnMubWF4VmFsdWUpIHtcclxuICAgICAgcmV0dXJuIHRoaXMucGFyYW1ldGVycy5tYXhWYWx1ZTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gcmVtaW5kZXIgPCBzdGVwIC8gMiA/IHdob2xlICogc3RlcCA6ICh3aG9sZSArIDEpICogc3RlcDtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgaGFuZGxlU2NhbGVDbGljayA9IChldmVudE5hbWU6IHN0cmluZywgdmFsdWU6IG51bWJlcikgPT4ge1xyXG4gICAgaWYgKGV2ZW50TmFtZSA9PT0gJ0NsaWNrT25TY2FsZScpIHtcclxuICAgICAgY29uc3Qgb2Zmc2V0ID0gdGhpcy5jb252ZXJ0T2Zmc2V0VG9WYWx1ZSh2YWx1ZSk7XHJcbiAgICAgIGxldCBydW5uZXI7XHJcblxyXG4gICAgICBpZiAodGhpcy5wYXJhbWV0ZXJzLmlzUmFuZ2UpIHtcclxuICAgICAgICBydW5uZXIgPSB0aGlzLmNoZWNrUnVubmVyQ2xvc2VyKG9mZnNldCk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgcnVubmVyID0gdGhpcy5ydW5uZXJNYWluO1xyXG4gICAgICB9XHJcblxyXG4gICAgICB0aGlzLm1vdmVSdW5uZXIodGhpcy5wcm9jZXNzUnVubmVyT2Zmc2V0KG9mZnNldCwgcnVubmVyKSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGNoZWNrUnVubmVyQ2xvc2VyID0gKG9mZnNldDogbnVtYmVyKTogUnVubmVyID0+IHtcclxuICAgIGlmIChNYXRoLmFicyhvZmZzZXQgLSB0aGlzLmdldE1haW5SdW5uZXJPZmZzZXQoKSlcclxuICAgICAgPCBNYXRoLmFicyhvZmZzZXQgLSB0aGlzLmdldEFkZGl0aW9uYWxSdW5uZXJPZmZzZXQoKSkpIHtcclxuICAgICAgcmV0dXJuIHRoaXMucnVubmVyTWFpbjtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gdGhpcy5ydW5uZXJBZGRpdGlvbmFsO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBoYW5kbGVCYXJDbGljayA9IChldmVudE5hbWU6IHN0cmluZywgZXZlbnQ6IE1vdXNlRXZlbnQpOiB2b2lkID0+IHtcclxuICAgIGlmIChldmVudE5hbWUgPT09ICdDbGlja09uQmFyJykge1xyXG4gICAgICBjb25zdCBjb29yZGluYXRlID0gdGhpcy5wYXJhbWV0ZXJzLmlzVmVydGljYWwgPyBldmVudC5jbGllbnRZIDogZXZlbnQuY2xpZW50WDtcclxuICAgICAgY29uc3Qgb2Zmc2V0ID0gY29vcmRpbmF0ZSAtIHRoaXMuYmFyLmdldFBvc2l0aW9uKCkgLSB0aGlzLnJ1bm5lck1haW4uZ2V0V2lkdGgoKSAvIDI7XHJcblxyXG4gICAgICB0aGlzLm1vdmVSdW5uZXIodGhpcy5wcm9jZXNzUnVubmVyT2Zmc2V0KG9mZnNldCwgdGhpcy5jaGVja1J1bm5lckNsb3NlcihvZmZzZXQpKSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIHVwZGF0ZVByb2dyZXNzQmFyID0gKCk6IHZvaWQgPT4ge1xyXG4gICAgdGhpcy5wcm9ncmVzc0Jhci51cGRhdGUodGhpcy5wYXJhbWV0ZXJzLmlzVmVydGljYWwpO1xyXG4gICAgdGhpcy5wcm9ncmVzc0Jhci5zZXRQb3NpdGlvbih0aGlzLmdldEFkZGl0aW9uYWxSdW5uZXJPZmZzZXQoKSk7XHJcbiAgICB0aGlzLnByb2dyZXNzQmFyLnNldERpbWVuc2lvbih0aGlzLmdldE1haW5SdW5uZXJPZmZzZXQoKSAtIHRoaXMuZ2V0QWRkaXRpb25hbFJ1bm5lck9mZnNldCgpKTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IFRyYWNrO1xyXG4iLCJpbXBvcnQgKiBhcyB0eXBlcyBmcm9tICcuLi8uLi8uLi90eXBlcyc7XHJcbmltcG9ydCBjcmVhdGVFbGVtIGZyb20gJy4uL2NyZWF0ZUVsZW0vY3JlYXRlRWxlbSc7XHJcbmltcG9ydCBNYWtlT2JzZXJ2YWJsZU9iamVjdCBmcm9tICcuLi8uLi8uLi9tYWtlT2JzZXJ2YWJsZU9iamVjdC9NYWtlT2JzZXJ2YWJsZU9iamVjdCc7XHJcblxyXG5jbGFzcyBCYXIge1xyXG4gIGVsZW06IEhUTUxFbGVtZW50O1xyXG5cclxuICBpc1ZlcnRpY2FsOiBib29sZWFuO1xyXG5cclxuICBvYnNlcnZlcnM6IE1ha2VPYnNlcnZhYmxlT2JqZWN0O1xyXG5cclxuICBjb25zdHJ1Y3Rvcihpc1ZlcnRpY2FsOiBib29sZWFuLCBvYnNlcnZlcjogdHlwZXMuT2JzZXJ2ZXJGdW5jdGlvbikge1xyXG4gICAgdGhpcy5lbGVtID0gY3JlYXRlRWxlbSgnc2xpZGVyX19iYXInKTtcclxuICAgIHRoaXMuaXNWZXJ0aWNhbCA9IGlzVmVydGljYWw7XHJcbiAgICB0aGlzLm9ic2VydmVycyA9IG5ldyBNYWtlT2JzZXJ2YWJsZU9iamVjdCgpO1xyXG4gICAgdGhpcy5pbml0KG9ic2VydmVyKTtcclxuICB9XHJcblxyXG4gIGdldFBvc2l0aW9uID0gKCk6IG51bWJlciA9PiB7XHJcbiAgICBpZiAodGhpcy5pc1ZlcnRpY2FsKSB7XHJcbiAgICAgIHJldHVybiB0aGlzLmVsZW0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkudG9wO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB0aGlzLmVsZW0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkubGVmdDtcclxuICB9XHJcblxyXG4gIGdldERpbWVuc2lvbiA9ICgpOiBudW1iZXIgPT4ge1xyXG4gICAgaWYgKHRoaXMuaXNWZXJ0aWNhbCkge1xyXG4gICAgICByZXR1cm4gdGhpcy5lbGVtLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmhlaWdodDtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gdGhpcy5lbGVtLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLndpZHRoO1xyXG4gIH1cclxuXHJcbiAgdXBkYXRlID0gKGlzVmVydGljYWw6IGJvb2xlYW4pOiB2b2lkID0+IHtcclxuICAgIHRoaXMuaXNWZXJ0aWNhbCA9IGlzVmVydGljYWw7XHJcblxyXG4gICAgaWYgKHRoaXMuaXNWZXJ0aWNhbCkge1xyXG4gICAgICB0aGlzLmVsZW0uY2xhc3NMaXN0LmFkZCgnc2xpZGVyX19iYXJfcG9zaXRpb25fdmVydGljYWwnKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuZWxlbS5jbGFzc0xpc3QucmVtb3ZlKCdzbGlkZXJfX2Jhcl9wb3NpdGlvbl92ZXJ0aWNhbCcpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBpbml0ID0gKG9ic2VydmVyOiB0eXBlcy5GdW5jdGlvbkNhbGxiYWNrRGF0YSk6IHZvaWQgPT4ge1xyXG4gICAgdGhpcy5lbGVtLm9uY2xpY2sgPSB0aGlzLmhhbmRsZUJhckNsaWNrO1xyXG4gICAgdGhpcy5vYnNlcnZlcnMuYWRkT2JzZXJ2ZXIob2JzZXJ2ZXIpO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBoYW5kbGVCYXJDbGljayA9IChldmVudDogTW91c2VFdmVudCk6IHZvaWQgPT4ge1xyXG4gICAgdGhpcy5vYnNlcnZlcnMubm90aWZ5T2JzZXJ2ZXJzKCdDbGlja09uQmFyJywgZXZlbnQpO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgQmFyO1xyXG4iLCJpbXBvcnQgY3JlYXRlRWxlbSBmcm9tICcuLi9jcmVhdGVFbGVtL2NyZWF0ZUVsZW0nO1xyXG5cclxuY2xhc3MgS25vYiB7XHJcbiAgZWxlbTogSFRNTEVsZW1lbnQ7XHJcblxyXG4gIGlzVmVydGljYWw6IGJvb2xlYW47XHJcblxyXG4gIGNvbnN0cnVjdG9yKGlzVmVydGljYWw6IGJvb2xlYW4pIHtcclxuICAgIHRoaXMuZWxlbSA9IGNyZWF0ZUVsZW0oJ3NsaWRlcl9fYnV0dG9uJyk7XHJcbiAgICB0aGlzLmlzVmVydGljYWwgPSBpc1ZlcnRpY2FsO1xyXG4gIH1cclxuXHJcbiAgZ2V0V2lkdGggPSAoKTogbnVtYmVyID0+IHtcclxuICAgIHJldHVybiB0aGlzLmVsZW0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkud2lkdGg7XHJcbiAgfVxyXG5cclxuICBnZXRQb3NpdGlvbiA9ICgpOiBudW1iZXIgPT4ge1xyXG4gICAgaWYgKHRoaXMuaXNWZXJ0aWNhbCkge1xyXG4gICAgICByZXR1cm4gdGhpcy5lbGVtLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnRvcDtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gdGhpcy5lbGVtLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmxlZnQ7XHJcbiAgfVxyXG5cclxuICBzZXRQb3NpdGlvbiA9IChvZmZzZXQ6IG51bWJlcik6IHZvaWQgPT4ge1xyXG4gICAgaWYgKHRoaXMuaXNWZXJ0aWNhbCkge1xyXG4gICAgICB0aGlzLmVsZW0uc3R5bGUubGVmdCA9ICc1MCUnO1xyXG4gICAgICB0aGlzLmVsZW0uc3R5bGUudG9wID0gb2Zmc2V0ICsgJ3B4JztcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuZWxlbS5zdHlsZS50b3AgPSAnNTAlJztcclxuICAgICAgdGhpcy5lbGVtLnN0eWxlLmxlZnQgPSBvZmZzZXQgKyAncHgnO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgdXBkYXRlID0gKGlzVmVydGljYWw6IGJvb2xlYW4pOiB2b2lkID0+IHtcclxuICAgIHRoaXMuaXNWZXJ0aWNhbCA9IGlzVmVydGljYWw7XHJcblxyXG4gICAgaWYgKHRoaXMuaXNWZXJ0aWNhbCkge1xyXG4gICAgICB0aGlzLmVsZW0uY2xhc3NMaXN0LmFkZCgnc2xpZGVyX19idXR0b25fcG9zaXRpb25fdmVydGljYWwnKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuZWxlbS5jbGFzc0xpc3QucmVtb3ZlKCdzbGlkZXJfX2J1dHRvbl9wb3NpdGlvbl92ZXJ0aWNhbCcpO1xyXG4gICAgfVxyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgS25vYjtcclxuIiwiaW1wb3J0IGNyZWF0ZUVsZW0gZnJvbSAnLi4vY3JlYXRlRWxlbS9jcmVhdGVFbGVtJztcclxuXHJcbmNsYXNzIFRvb2x0aXAge1xyXG4gIGVsZW06IEhUTUxFbGVtZW50O1xyXG5cclxuICBpc1ZlcnRpY2FsOiBib29sZWFuO1xyXG5cclxuICBjb25zdHJ1Y3Rvcihpc1ZlcnRpY2FsOiBib29sZWFuKSB7XHJcbiAgICB0aGlzLmVsZW0gPSBjcmVhdGVFbGVtKCdzbGlkZXJfX2J1dHRvbi1sYWJlbCcpO1xyXG4gICAgdGhpcy5pc1ZlcnRpY2FsID0gaXNWZXJ0aWNhbDtcclxuICB9XHJcblxyXG4gIGdldFBvc2l0aW9uID0gKCk6IG51bWJlciA9PiB7XHJcbiAgICBpZiAodGhpcy5pc1ZlcnRpY2FsKSB7XHJcbiAgICAgIHJldHVybiB0aGlzLmVsZW0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkudG9wO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB0aGlzLmVsZW0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkubGVmdDtcclxuICB9XHJcblxyXG4gIHNldFBvc2l0aW9uID0gKG9mZnNldDogbnVtYmVyLCB2YWx1ZTogbnVtYmVyKTogdm9pZCA9PiB7XHJcbiAgICB0aGlzLmVsZW0uaW5uZXJIVE1MID0gdmFsdWUgKyAnJztcclxuXHJcbiAgICBpZiAodGhpcy5pc1ZlcnRpY2FsKSB7XHJcbiAgICAgIHRoaXMuZWxlbS5zdHlsZS5sZWZ0ID0gJzUwJSc7XHJcbiAgICAgIHRoaXMuZWxlbS5zdHlsZS50b3AgPSBvZmZzZXQgLSB0aGlzLmdldERpbWVuc2lvbigpIC8gMiArICdweCc7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLmVsZW0uc3R5bGUudG9wID0gJzUwJSc7XHJcbiAgICAgIHRoaXMuZWxlbS5zdHlsZS5sZWZ0ID0gb2Zmc2V0IC0gdGhpcy5nZXREaW1lbnNpb24oKSAvIDIgKyAncHgnO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZ2V0RGltZW5zaW9uID0gKCk6IG51bWJlciA9PiB7XHJcbiAgICBpZiAodGhpcy5pc1ZlcnRpY2FsKSB7XHJcbiAgICAgIHJldHVybiB0aGlzLmVsZW0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkuaGVpZ2h0O1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB0aGlzLmVsZW0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkud2lkdGg7XHJcbiAgfVxyXG5cclxuICB1cGRhdGUgPSAoaXNWZXJ0aWNhbDogYm9vbGVhbik6IHZvaWQgPT4ge1xyXG4gICAgdGhpcy5pc1ZlcnRpY2FsID0gaXNWZXJ0aWNhbDtcclxuXHJcbiAgICBpZiAodGhpcy5pc1ZlcnRpY2FsKSB7XHJcbiAgICAgIHRoaXMuZWxlbS5jbGFzc0xpc3QuYWRkKCdzbGlkZXJfX2J1dHRvbi1sYWJlbF9wb3NpdGlvbl92ZXJ0aWNhbCcpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5lbGVtLmNsYXNzTGlzdC5yZW1vdmUoJ3NsaWRlcl9fYnV0dG9uLWxhYmVsX3Bvc2l0aW9uX3ZlcnRpY2FsJyk7XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBUb29sdGlwO1xyXG4iLCJpbXBvcnQgKiBhcyB0eXBlcyBmcm9tICcuLi8uLi8uLi90eXBlcyc7XHJcbmltcG9ydCBNYXJrIGZyb20gJy4vTWFyay9NYXJrJztcclxuaW1wb3J0IE1ha2VPYnNlcnZhYmxlT2JqZWN0IGZyb20gJy4uLy4uLy4uL21ha2VPYnNlcnZhYmxlT2JqZWN0L01ha2VPYnNlcnZhYmxlT2JqZWN0JztcclxuXHJcbmNsYXNzIFNjYWxlIHtcclxuICBwYXJhbWV0ZXJzOiB0eXBlcy5QYXJhbWV0ZXJzO1xyXG5cclxuICBtYXJrczogQXJyYXk8TWFyaz47XHJcblxyXG4gIG9ic2VydmVyczogTWFrZU9ic2VydmFibGVPYmplY3Q7XHJcblxyXG4gIGNvbnN0cnVjdG9yKHBhcmFtZXRlcnM6IHR5cGVzLlBhcmFtZXRlcnMsIG9ic2VydmVyOiB0eXBlcy5PYnNlcnZlckZ1bmN0aW9uKSB7XHJcbiAgICB0aGlzLnBhcmFtZXRlcnMgPSBwYXJhbWV0ZXJzO1xyXG4gICAgdGhpcy5tYXJrcyA9IFtdO1xyXG4gICAgdGhpcy5vYnNlcnZlcnMgPSBuZXcgTWFrZU9ic2VydmFibGVPYmplY3QoKTtcclxuICAgIHRoaXMuaW5pdChvYnNlcnZlcik7XHJcbiAgfVxyXG5cclxuICB1cGRhdGUgPSAob3B0aW9uczogdHlwZXMuUGFyYW1ldGVycyk6IHZvaWQgPT4ge1xyXG4gICAgdGhpcy5wYXJhbWV0ZXJzID0gb3B0aW9ucztcclxuICAgIHRoaXMubW92ZU1hcmtzKCk7XHJcbiAgfVxyXG5cclxuICBtb3ZlTWFya3MgPSAoKTogdm9pZCA9PiB7XHJcbiAgICB0aGlzLm1hcmtzLmZvckVhY2goKG1hcmssIGluZGV4KSA9PiB7XHJcbiAgICAgIG1hcmsudXBkYXRlKHRoaXMucGFyYW1ldGVycy5pc1ZlcnRpY2FsKTtcclxuICAgICAgaWYgKGluZGV4ID09PSAwKSB7XHJcbiAgICAgICAgbWFyay5zZXRQb3NpdGlvbigwLCB0aGlzLnBhcmFtZXRlcnMubWluVmFsdWUpO1xyXG4gICAgICB9IGVsc2UgaWYgKGluZGV4ID09PSB0aGlzLm1hcmtzLmxlbmd0aCAtIDEpIHtcclxuICAgICAgICBtYXJrLnNldFBvc2l0aW9uKDEwMCwgdGhpcy5wYXJhbWV0ZXJzLm1heFZhbHVlKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBsZXQgcm91bmRWYWx1ZSA9IHRoaXMucm91bmQodGhpcy5wYXJhbWV0ZXJzLm1pblZhbHVlXHJcbiAgICAgICAgICArICgodGhpcy5wYXJhbWV0ZXJzLm1heFZhbHVlIC0gdGhpcy5wYXJhbWV0ZXJzLm1pblZhbHVlKSAqIGluZGV4KVxyXG4gICAgICAgICAgLyAodGhpcy5tYXJrcy5sZW5ndGggLSAxKSk7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLnBhcmFtZXRlcnMuaXNGbG9hdCkge1xyXG4gICAgICAgICAgcm91bmRWYWx1ZSA9IHBhcnNlRmxvYXQocm91bmRWYWx1ZS50b0ZpeGVkKDIpKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnN0IG9mZnNldCA9IChyb3VuZFZhbHVlIC0gdGhpcy5wYXJhbWV0ZXJzLm1pblZhbHVlKVxyXG4gICAgICAgICAgLyAodGhpcy5wYXJhbWV0ZXJzLm1heFZhbHVlIC0gdGhpcy5wYXJhbWV0ZXJzLm1pblZhbHVlKTtcclxuICAgICAgICBtYXJrLnNldFBvc2l0aW9uKG9mZnNldCAqIDEwMCwgcm91bmRWYWx1ZSk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBpbml0ID0gKG9ic2VydmVyOiB0eXBlcy5PYnNlcnZlckZ1bmN0aW9uKTogdm9pZCA9PiB7XHJcbiAgICB0aGlzLm1vdmVNYXJrcygpO1xyXG4gICAgdGhpcy5jcmVhdGVNYXJrcygpO1xyXG4gICAgdGhpcy5vYnNlcnZlcnMuYWRkT2JzZXJ2ZXIob2JzZXJ2ZXIpO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBoYW5kbGVTY2FsZUNsaWNrID0gKGV2ZW50TmFtZTogc3RyaW5nLCB2YWx1ZTogbnVtYmVyKTogdm9pZCA9PiB7XHJcbiAgICBpZiAoZXZlbnROYW1lID09PSAnQ2xpY2tPbk1hcmsnKSB7XHJcbiAgICAgIHRoaXMub2JzZXJ2ZXJzLm5vdGlmeU9ic2VydmVycygnQ2xpY2tPblNjYWxlJywgdmFsdWUpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBjcmVhdGVNYXJrcyA9ICgpOiB2b2lkID0+IHtcclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgNTsgaSArPSAxKSB7XHJcbiAgICAgIGNvbnN0IG1hcmsgPSBuZXcgTWFyayh0aGlzLnBhcmFtZXRlcnMuaXNWZXJ0aWNhbCwgdGhpcy5oYW5kbGVTY2FsZUNsaWNrKTtcclxuICAgICAgdGhpcy5tYXJrcy5wdXNoKG1hcmspO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSByb3VuZCA9ICh2YWx1ZTogbnVtYmVyKTogbnVtYmVyID0+IHtcclxuICAgIGNvbnN0IHdob2xlID0gTWF0aC50cnVuYyh2YWx1ZSAvIHRoaXMucGFyYW1ldGVycy5zdGVwKTtcclxuXHJcbiAgICBjb25zdCByZW1pbmRlciA9ICsodmFsdWUgLSB3aG9sZSAqIHRoaXMucGFyYW1ldGVycy5zdGVwKS50b0ZpeGVkKDIpO1xyXG4gICAgaWYgKHZhbHVlIDwgMCkge1xyXG4gICAgICByZXR1cm4gTWF0aC5hYnMocmVtaW5kZXIpIDwgdGhpcy5wYXJhbWV0ZXJzLnN0ZXAgLyAyXHJcbiAgICAgICAgPyB3aG9sZSAqIHRoaXMucGFyYW1ldGVycy5zdGVwXHJcbiAgICAgICAgOiAod2hvbGUgLSAxKSAqIHRoaXMucGFyYW1ldGVycy5zdGVwO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiByZW1pbmRlciA8IHRoaXMucGFyYW1ldGVycy5zdGVwIC8gMlxyXG4gICAgICA/IHdob2xlICogdGhpcy5wYXJhbWV0ZXJzLnN0ZXBcclxuICAgICAgOiAod2hvbGUgKyAxKSAqIHRoaXMucGFyYW1ldGVycy5zdGVwO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgU2NhbGU7XHJcbiIsImltcG9ydCAqIGFzIHR5cGVzIGZyb20gJy4uLy4uLy4uLy4uL3R5cGVzJztcclxuaW1wb3J0IGNyZWF0ZUVsZW0gZnJvbSAnLi4vLi4vY3JlYXRlRWxlbS9jcmVhdGVFbGVtJztcclxuaW1wb3J0IE1ha2VPYnNlcnZhYmxlT2JqZWN0IGZyb20gJy4uLy4uLy4uLy4uL21ha2VPYnNlcnZhYmxlT2JqZWN0L01ha2VPYnNlcnZhYmxlT2JqZWN0JztcclxuXHJcbmNsYXNzIE1hcmsge1xyXG4gIGVsZW06IEhUTUxFbGVtZW50O1xyXG5cclxuICBpc1ZlcnRpY2FsOiBib29sZWFuO1xyXG5cclxuICB2YWx1ZTogbnVtYmVyO1xyXG5cclxuICBvYnNlcnZlcnM6IE1ha2VPYnNlcnZhYmxlT2JqZWN0O1xyXG5cclxuICBjb25zdHJ1Y3Rvcihpc1ZlcnRpY2FsOiBib29sZWFuLCBvYnNlcnZlcjogdHlwZXMuT2JzZXJ2ZXJGdW5jdGlvbikge1xyXG4gICAgdGhpcy5lbGVtID0gY3JlYXRlRWxlbSgnc2xpZGVyX19tYXJrJyk7XHJcbiAgICB0aGlzLmlzVmVydGljYWwgPSBpc1ZlcnRpY2FsO1xyXG4gICAgdGhpcy5vYnNlcnZlcnMgPSBuZXcgTWFrZU9ic2VydmFibGVPYmplY3QoKTtcclxuICAgIHRoaXMuaW5pdChvYnNlcnZlcik7XHJcbiAgfVxyXG5cclxuICBnZXRQb3NpdGlvbiA9ICgpOiBudW1iZXIgPT4ge1xyXG4gICAgaWYgKHRoaXMuaXNWZXJ0aWNhbCkge1xyXG4gICAgICByZXR1cm4gdGhpcy5lbGVtLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnRvcDtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gdGhpcy5lbGVtLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmxlZnQ7XHJcbiAgfVxyXG5cclxuICBzZXRQb3NpdGlvbiA9IChvZmZzZXQ6IG51bWJlciwgdmFsdWU6IG51bWJlcik6IHZvaWQgPT4ge1xyXG4gICAgdGhpcy5lbGVtLmlubmVySFRNTCA9IHZhbHVlICsgJyc7XHJcbiAgICB0aGlzLnZhbHVlID0gdmFsdWU7XHJcblxyXG4gICAgaWYgKHRoaXMuaXNWZXJ0aWNhbCkge1xyXG4gICAgICB0aGlzLmVsZW0uc3R5bGUubGVmdCA9ICc1MCUnO1xyXG4gICAgICB0aGlzLmVsZW0uc3R5bGUudG9wID0gb2Zmc2V0ICsgJyUnO1xyXG4gICAgICB0aGlzLmVsZW0uc3R5bGUubWFyZ2luVG9wID0gLXRoaXMuZ2V0RGltZW5zaW9uKCkgLyAyICsgJ3B4JztcclxuICAgICAgdGhpcy5lbGVtLnN0eWxlLm1hcmdpbkxlZnQgPSAnLTQ1cHgnO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5lbGVtLnN0eWxlLnRvcCA9ICc1MCUnO1xyXG4gICAgICB0aGlzLmVsZW0uc3R5bGUubGVmdCA9IG9mZnNldCArICclJztcclxuICAgICAgdGhpcy5lbGVtLnN0eWxlLm1hcmdpbkxlZnQgPSAtdGhpcy5nZXREaW1lbnNpb24oKSAvIDIgKyAncHgnO1xyXG4gICAgICB0aGlzLmVsZW0uc3R5bGUubWFyZ2luVG9wID0gJzE1cHgnO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZ2V0RGltZW5zaW9uID0gKCk6IG51bWJlciA9PiB7XHJcbiAgICBpZiAodGhpcy5pc1ZlcnRpY2FsKSB7XHJcbiAgICAgIHJldHVybiB0aGlzLmVsZW0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkuaGVpZ2h0O1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB0aGlzLmVsZW0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkud2lkdGg7XHJcbiAgfVxyXG5cclxuICB1cGRhdGUgPSAoaXNWZXJ0aWNhbDogYm9vbGVhbik6IHZvaWQgPT4ge1xyXG4gICAgdGhpcy5pc1ZlcnRpY2FsID0gaXNWZXJ0aWNhbDtcclxuXHJcbiAgICBpZiAodGhpcy5pc1ZlcnRpY2FsKSB7XHJcbiAgICAgIHRoaXMuZWxlbS5jbGFzc0xpc3QuYWRkKCdzbGlkZXJfX21hcmtfcG9zaXRpb25fdmVydGljYWwnKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuZWxlbS5jbGFzc0xpc3QucmVtb3ZlKCdzbGlkZXJfX21hcmtfcG9zaXRpb25fdmVydGljYWwnKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHByaXZhdGUgaW5pdCA9IChvYnNlcnZlcjogdHlwZXMuRnVuY3Rpb25DYWxsYmFja0RhdGEpOiB2b2lkID0+IHtcclxuICAgIHRoaXMuZWxlbS5vbmNsaWNrID0gdGhpcy5oYW5kbGVNYXJrQ2xpY2s7XHJcbiAgICB0aGlzLm9ic2VydmVycy5hZGRPYnNlcnZlcihvYnNlcnZlcik7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGhhbmRsZU1hcmtDbGljayA9ICgpOiB2b2lkID0+IHtcclxuICAgIHRoaXMub2JzZXJ2ZXJzLm5vdGlmeU9ic2VydmVycygnQ2xpY2tPbk1hcmsnLCB0aGlzLnZhbHVlKTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IE1hcms7XHJcbiIsImltcG9ydCBjcmVhdGVFbGVtIGZyb20gJy4uL2NyZWF0ZUVsZW0vY3JlYXRlRWxlbSc7XHJcblxyXG5jbGFzcyBQcm9ncmVzc0JhciB7XHJcbiAgZWxlbTogSFRNTEVsZW1lbnQ7XHJcblxyXG4gIGlzVmVydGljYWw6IGJvb2xlYW47XHJcblxyXG4gIGNvbnN0cnVjdG9yKGlzVmVydGljYWw6IGJvb2xlYW4pIHtcclxuICAgIHRoaXMuZWxlbSA9IGNyZWF0ZUVsZW0oJ3NsaWRlcl9fcHJvZ3Jlc3MtYmFyJyk7XHJcbiAgICB0aGlzLmlzVmVydGljYWwgPSBpc1ZlcnRpY2FsO1xyXG4gIH1cclxuXHJcbiAgc2V0UG9zaXRpb24gPSAob2Zmc2V0OiBudW1iZXIpOiB2b2lkID0+IHtcclxuICAgIGlmICh0aGlzLmlzVmVydGljYWwpIHtcclxuICAgICAgdGhpcy5lbGVtLnN0eWxlLmxlZnQgPSAnMCc7XHJcbiAgICAgIHRoaXMuZWxlbS5zdHlsZS53aWR0aCA9ICcxMDAlJztcclxuICAgICAgdGhpcy5lbGVtLnN0eWxlLnRvcCA9IG9mZnNldCArICdweCc7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLmVsZW0uc3R5bGUudG9wID0gJzAnO1xyXG4gICAgICB0aGlzLmVsZW0uc3R5bGUuaGVpZ2h0ID0gJzEwMCUnO1xyXG4gICAgICB0aGlzLmVsZW0uc3R5bGUubGVmdCA9IG9mZnNldCArICdweCc7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBzZXREaW1lbnNpb24gPSAoZGltZW5zaW9uOiBudW1iZXIpOiB2b2lkID0+IHtcclxuICAgIGlmICh0aGlzLmlzVmVydGljYWwpIHtcclxuICAgICAgdGhpcy5lbGVtLnN0eWxlLmhlaWdodCA9IGRpbWVuc2lvbiArICdweCc7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLmVsZW0uc3R5bGUud2lkdGggPSBkaW1lbnNpb24gKyAncHgnO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgdXBkYXRlID0gKGlzVmVydGljYWw6IGJvb2xlYW4pOiB2b2lkID0+IHtcclxuICAgIHRoaXMuaXNWZXJ0aWNhbCA9IGlzVmVydGljYWw7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBQcm9ncmVzc0JhcjtcclxuIiwiaW1wb3J0ICogYXMgdHlwZXMgZnJvbSAnLi4vdHlwZXMnO1xyXG5pbXBvcnQgTWFrZU9ic2VydmFibGVPYmplY3QgZnJvbSAnLi4vbWFrZU9ic2VydmFibGVPYmplY3QvTWFrZU9ic2VydmFibGVPYmplY3QnO1xyXG5cclxuY2xhc3MgTW9kZWwge1xyXG4gIGN1cnJlbnRWYWx1ZXM6IHR5cGVzLkN1cnJlbnRWYWx1ZXM7XHJcblxyXG4gIG9ic2VydmVyczogTWFrZU9ic2VydmFibGVPYmplY3Q7XHJcblxyXG4gIGNvbnN0cnVjdG9yKGN1cnJlbnRWYWx1ZXM6IHR5cGVzLkN1cnJlbnRWYWx1ZXMsIG9ic2VydmVyOiB0eXBlcy5PYnNlcnZlckZ1bmN0aW9uKSB7XHJcbiAgICB0aGlzLmN1cnJlbnRWYWx1ZXMgPSBjdXJyZW50VmFsdWVzO1xyXG4gICAgdGhpcy5vYnNlcnZlcnMgPSBuZXcgTWFrZU9ic2VydmFibGVPYmplY3QoKTtcclxuICAgIHRoaXMub2JzZXJ2ZXJzLmFkZE9ic2VydmVyKG9ic2VydmVyKTtcclxuICB9XHJcblxyXG4gIHNldEN1cnJlbnRWYWx1ZXMgPSAoZGF0YTogdHlwZXMuQ3VycmVudFZhbHVlcywgc291cmNlT2ZDaGFuZ2luZz86IHN0cmluZyk6IHZvaWQgPT4ge1xyXG4gICAgY29uc3QgaXNDdXJyZW50TWF4VmFsdWVSZWFsID0gZGF0YS5jdXJyZW50TWF4VmFsdWUgfHwgZGF0YS5jdXJyZW50TWF4VmFsdWUgPT09IDA7XHJcbiAgICBjb25zdCBpc0N1cnJlbnRNaW5WYWx1ZVJlYWwgPSBkYXRhLmN1cnJlbnRNaW5WYWx1ZSB8fCBkYXRhLmN1cnJlbnRNaW5WYWx1ZSA9PT0gMDtcclxuICAgIGlmIChpc0N1cnJlbnRNYXhWYWx1ZVJlYWwgJiYgZGF0YS5jdXJyZW50TWF4VmFsdWUgIT09IHRoaXMuY3VycmVudFZhbHVlcy5jdXJyZW50TWF4VmFsdWUpIHtcclxuICAgICAgdGhpcy5jdXJyZW50VmFsdWVzLmN1cnJlbnRNYXhWYWx1ZSA9IGRhdGEuY3VycmVudE1heFZhbHVlO1xyXG4gICAgfSBpZiAoaXNDdXJyZW50TWluVmFsdWVSZWFsICYmIGRhdGEuY3VycmVudE1pblZhbHVlICE9PSB0aGlzLmN1cnJlbnRWYWx1ZXMuY3VycmVudE1pblZhbHVlKSB7XHJcbiAgICAgIHRoaXMuY3VycmVudFZhbHVlcy5jdXJyZW50TWluVmFsdWUgPSBkYXRhLmN1cnJlbnRNaW5WYWx1ZTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoc291cmNlT2ZDaGFuZ2luZyA9PT0gJ2Zyb21QYW5lbCcpIHtcclxuICAgICAgdGhpcy5vYnNlcnZlcnMubm90aWZ5T2JzZXJ2ZXJzKCdTZW5kaW5nQ3VycmVudFZhbHVlcycsIHRoaXMuY3VycmVudFZhbHVlcyk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBvYnNlcnZlQ29udHJvbGxlckZyb21Nb2RlbCA9IChldmVudE5hbWU6IHN0cmluZywgZGF0YT86IHR5cGVzLkN1cnJlbnRWYWx1ZXMpOiB2b2lkID0+IHtcclxuICAgIGlmIChldmVudE5hbWUgPT09ICdVcGRhdGluZ0NvbmZpZycpIHtcclxuICAgICAgdGhpcy5vYnNlcnZlcnMubm90aWZ5T2JzZXJ2ZXJzKCdTZW5kaW5nQ3VycmVudFZhbHVlcycsIHRoaXMuY3VycmVudFZhbHVlcyk7XHJcbiAgICB9IGlmIChldmVudE5hbWUgPT09ICdDaGFuZ2luZ0N1cnJlbnRWYWx1ZUZyb21WaWV3Jykge1xyXG4gICAgICB0aGlzLnNldEN1cnJlbnRWYWx1ZXMoZGF0YSwgJ2Zyb21WaWV3Jyk7XHJcbiAgICAgIHRoaXMub2JzZXJ2ZXJzLm5vdGlmeU9ic2VydmVycygnU2VuZGluZ0N1cnJlbnRWYWx1ZXNGb3JUcmFja2luZycsIHRoaXMuY3VycmVudFZhbHVlcyk7XHJcbiAgICB9IGlmIChldmVudE5hbWUgPT09ICdDaGFuZ2luZ0N1cnJlbnRWYWx1ZUZyb21QYW5lbCcpIHtcclxuICAgICAgdGhpcy5zZXRDdXJyZW50VmFsdWVzKGRhdGEsICdmcm9tUGFuZWwnKTtcclxuICAgIH0gaWYgKGV2ZW50TmFtZSA9PT0gJ0dldHRpbmdWYWx1ZXMnKSB7XHJcbiAgICAgIHRoaXMub2JzZXJ2ZXJzLm5vdGlmeU9ic2VydmVycygnU2VuZGluZ0N1cnJlbnRWYWx1ZXNGb3JUcmFja2luZycsIHRoaXMuY3VycmVudFZhbHVlcyk7XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBNb2RlbDtcclxuIiwidmFyIG1hcCA9IHtcblx0XCIuL0NvbnRyb2xsZXIvQ29udHJvbGxlci50c1wiOiA0LFxuXHRcIi4vTW9kZWwvTW9kZWwudHNcIjogMTMsXG5cdFwiLi9WaWV3L1ZpZXcudHNcIjogNSxcblx0XCIuL1ZpZXcvYmxvY2tzL0Jhci9CYXIudHNcIjogNyxcblx0XCIuL1ZpZXcvYmxvY2tzL0tub2IvS25vYi50c1wiOiA4LFxuXHRcIi4vVmlldy9ibG9ja3MvUHJvZ3Jlc3NCYXIvUHJvZ3Jlc3NCYXIudHNcIjogMTIsXG5cdFwiLi9WaWV3L2Jsb2Nrcy9SdW5uZXIvUnVubmVyLnRzXCI6IDMsXG5cdFwiLi9WaWV3L2Jsb2Nrcy9TY2FsZS9NYXJrL01hcmsudHNcIjogMTEsXG5cdFwiLi9WaWV3L2Jsb2Nrcy9TY2FsZS9TY2FsZS50c1wiOiAxMCxcblx0XCIuL1ZpZXcvYmxvY2tzL1Rvb2x0aXAvVG9vbHRpcC50c1wiOiA5LFxuXHRcIi4vVmlldy9ibG9ja3MvVHJhY2svVHJhY2sudHNcIjogNixcblx0XCIuL1ZpZXcvYmxvY2tzL2NyZWF0ZUVsZW0vY3JlYXRlRWxlbS50c1wiOiAxLFxuXHRcIi4vbWFrZU9ic2VydmFibGVPYmplY3QvTWFrZU9ic2VydmFibGVPYmplY3QudHNcIjogMCxcblx0XCIuL3NsaWRlci50c1wiOiAxNSxcblx0XCIuL3N0eWxlLnNjc3NcIjogMTYsXG5cdFwiLi90eXBlcy50c1wiOiAyXG59O1xuXG5cbmZ1bmN0aW9uIHdlYnBhY2tDb250ZXh0KHJlcSkge1xuXHR2YXIgaWQgPSB3ZWJwYWNrQ29udGV4dFJlc29sdmUocmVxKTtcblx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oaWQpO1xufVxuZnVuY3Rpb24gd2VicGFja0NvbnRleHRSZXNvbHZlKHJlcSkge1xuXHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKG1hcCwgcmVxKSkge1xuXHRcdHZhciBlID0gbmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIiArIHJlcSArIFwiJ1wiKTtcblx0XHRlLmNvZGUgPSAnTU9EVUxFX05PVF9GT1VORCc7XG5cdFx0dGhyb3cgZTtcblx0fVxuXHRyZXR1cm4gbWFwW3JlcV07XG59XG53ZWJwYWNrQ29udGV4dC5rZXlzID0gZnVuY3Rpb24gd2VicGFja0NvbnRleHRLZXlzKCkge1xuXHRyZXR1cm4gT2JqZWN0LmtleXMobWFwKTtcbn07XG53ZWJwYWNrQ29udGV4dC5yZXNvbHZlID0gd2VicGFja0NvbnRleHRSZXNvbHZlO1xubW9kdWxlLmV4cG9ydHMgPSB3ZWJwYWNrQ29udGV4dDtcbndlYnBhY2tDb250ZXh0LmlkID0gMTQ7IiwiLyogZ2xvYmFsIGpRdWVyeSAqL1xyXG5pbXBvcnQgKiBhcyB0eXBlcyBmcm9tICcuL3R5cGVzJztcclxuaW1wb3J0IENvbnRyb2xsZXIgZnJvbSAnLi9Db250cm9sbGVyL0NvbnRyb2xsZXInO1xyXG5cclxuKGZ1bmN0aW9uIHBsdWdpbldyYXBwZXIoJCkge1xyXG4gIGNvbnN0IG1ldGhvZHM6IE1ldGhvZHMgPSB7XHJcbiAgICBpbml0OiBmdW5jdGlvbiBpbml0KG9wdDogdHlwZXMuUGFyYW1ldGVycykge1xyXG4gICAgICBpZiAoISQodGhpcykuZGF0YSgnc2xpZGVyJykpIHtcclxuICAgICAgICBjb25zdCBuZXdDb25maWcgPSB7IC4uLnR5cGVzLmRlZmF1bHRQYXJhbWV0ZXJzIH07XHJcbiAgICAgICAgY29uc3Qgc2xpZGVyID0gbmV3IENvbnRyb2xsZXIoJC5leHRlbmQobmV3Q29uZmlnLCBvcHQpLCAkKHRoaXMpKTtcclxuICAgICAgICAkKHRoaXMpLmRhdGEoJ3NsaWRlcicsIHNsaWRlcik7XHJcbiAgICAgIH1cclxuICAgIH0sXHJcblxyXG4gICAgdXBkYXRlOiBmdW5jdGlvbiB1cGRhdGUob3B0OiB0eXBlcy5QYXJhbWV0ZXJzKSB7XHJcbiAgICAgIGNvbnN0IHNsaWRlciA9ICQodGhpcykuZGF0YSgnc2xpZGVyJyk7XHJcbiAgICAgIHNsaWRlci51cGRhdGUob3B0KTtcclxuICAgIH0sXHJcblxyXG4gICAgcmVuZXc6IGZ1bmN0aW9uIHJlbmV3KCkge1xyXG4gICAgICBjb25zdCBzbGlkZXIgPSAkKHRoaXMpLmRhdGEoJ3NsaWRlcicpO1xyXG4gICAgICByZXR1cm4gc2xpZGVyLnJlbmV3KCk7XHJcbiAgICB9LFxyXG5cclxuICAgIHNldFZhbHVlczogZnVuY3Rpb24gc2V0VmFsdWVzKG9wdDogdHlwZXMuQ3VycmVudFZhbHVlcykge1xyXG4gICAgICBjb25zdCBzbGlkZXIgPSAkKHRoaXMpLmRhdGEoJ3NsaWRlcicpO1xyXG4gICAgICBzbGlkZXIuc2V0VmFsdWVzKG9wdCk7XHJcbiAgICB9LFxyXG5cclxuICAgIGlucHV0c0F0dGFjaDogZnVuY3Rpb24gaW5wdXRzQXR0YWNoKG9wdDogSW5wdXRzT2JqZWN0KSB7XHJcbiAgICAgIGNvbnN0IHNsaWRlciA9ICQodGhpcykuZGF0YSgnc2xpZGVyJyk7XHJcbiAgICAgIHNsaWRlci5vYnNlcnZlcnMuYWRkT2JzZXJ2ZXIoKGV2ZW50TmFtZT86IHN0cmluZywgZGF0YT86IGFueSkgPT4ge1xyXG4gICAgICAgIGlmIChldmVudE5hbWUgPT09ICdTZW5kaW5nQ3VycmVudFZhbHVlc0ZvclRyYWNraW5nJykge1xyXG4gICAgICAgICAgb3B0Lm1pblZhbHVlSW5wdXQudmFsKGRhdGEuY3VycmVudE1pblZhbHVlKTtcclxuICAgICAgICAgIG9wdC5tYXhWYWx1ZUlucHV0LnZhbChkYXRhLmN1cnJlbnRNYXhWYWx1ZSk7XHJcbiAgICAgICAgfSBpZiAoZXZlbnROYW1lID09PSAnU2VuZGluZ0NvbmZpZycpIHtcclxuICAgICAgICAgIG9wdC5tYXhWYWx1ZS52YWwoZGF0YS5tYXhWYWx1ZSk7XHJcbiAgICAgICAgICBvcHQubWluVmFsdWUudmFsKGRhdGEubWluVmFsdWUpO1xyXG4gICAgICAgICAgb3B0LnN0ZXAudmFsKGRhdGEuc3RlcCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICAkLmZuLm9tZmdzbGlkZXIgPSBmdW5jdGlvbiBwcm9jZXNzTWV0aG9kKG1ldGhvZDogc3RyaW5nLCAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXBhcmFtLXJlYXNzaWduXHJcbiAgICAuLi5hcmdzOiBBcnJheTx0eXBlcy5jb25maWdVcGRhdGVEYXRhPikge1xyXG4gICAgaWYgKG1ldGhvZHNbbWV0aG9kXSkge1xyXG4gICAgICByZXR1cm4gbWV0aG9kc1ttZXRob2RdLmFwcGx5KHRoaXMsIGFyZ3MpO1xyXG4gICAgfSBpZiAodHlwZW9mIG1ldGhvZCA9PT0gJ29iamVjdCcgfHwgIW1ldGhvZCkge1xyXG4gICAgICByZXR1cm4gbWV0aG9kcy5pbml0LmFwcGx5KHRoaXMsIFttZXRob2RdKTtcclxuICAgIH1cclxuICAgICQuZXJyb3IoYNCc0LXRgtC+0LQgJHttZXRob2R9INC90LUg0L3QsNC50LTQtdC9INCyINC/0LvQsNCz0LjQvdC1IGpRdWVyeS5vbWZnc2xpZGVyYCk7XHJcbiAgICByZXR1cm4gbnVsbDtcclxuICB9O1xyXG59KGpRdWVyeSkpO1xyXG4iLCJleHBvcnQgZGVmYXVsdCBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyArIFwiaW5kZXguaHRtbFwiOyIsImltcG9ydCAnLi9kZW1vLXBhZ2UvaW5kZXguaHRtbCc7XHJcblxyXG5mdW5jdGlvbiBpbXBvcnRBbGwocjogX19XZWJwYWNrTW9kdWxlQXBpLlJlcXVpcmVDb250ZXh0KSB7XHJcbiAgci5rZXlzKCkuZm9yRWFjaChyKTtcclxufVxyXG5cclxuaW1wb3J0QWxsKHJlcXVpcmUuY29udGV4dCgnLi9wbHVnaW4nLCB0cnVlLCAvKD88IVxcLmQpXFwuKGpzfHRzfHNjc3MpJC9pKSk7XHJcbiJdLCJzb3VyY2VSb290IjoiIn0=