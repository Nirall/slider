!function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=19)}([function(e,t,r){"use strict";r.r(t),t.default=function(e){var t=document.createElement("div");return t.ondragstart=function(){return!1},t.classList.add(e),t}},function(e,t,r){"use strict";r.r(t);var n=function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var n=Array(e),i=0;for(t=0;t<r;t++)for(var s=arguments[t],a=0,o=s.length;a<o;a++,i++)n[i]=s[a];return n},i=function(){function e(){this.observers=[]}return e.prototype.addObserver=function(e){if("function"!=typeof e)throw new Error("observer must be a function");this.observers.map((function(t){if(t===e)throw new Error("observer already in the list")})),this.observers.push(e)},e.prototype.removeObserver=function(e){for(var t=0;t<this.observers.length;t++){if(this.observers[t]===e)return void this.observers.splice(t,1)}throw new Error("could not find observer in list of observers")},e.prototype.notifyObservers=function(){n(this.observers).map((function(e){return e()}))},e.prototype.notifyObserversData=function(e){n(this.observers).map((function(t){return t(e)}))},e}();t.default=i},function(e,t,r){"use strict";r.r(t),r.d(t,"defaultParameters",(function(){return n}));var n={minValue:0,maxValue:1e3,step:1,isRange:!1,isVertical:!1,showLabel:!1,isFloat:!1}},function(e,t,r){"use strict";r.r(t);var n=function(){function e(){}return e.parsing=function(e){if("number"==typeof e)return e;if("string"==typeof e){if(/^-?\d+[\.,]\d+$/.test(e))return parseFloat(e);if(/^-?\d+$/.test(e))return parseInt(e)}return null},e}();t.default=n},function(e,t,r){"use strict";r.r(t);var n=r(0),i=function(e){var t=this;this.getPosition=function(){return t.isVertical?t.elem.getBoundingClientRect().top:t.elem.getBoundingClientRect().left},this.getDimension=function(){return t.isVertical?t.elem.getBoundingClientRect().height:t.elem.getBoundingClientRect().width},this.init=function(e){t.isVertical=e,t.isVertical?t.elem.classList.add("slider__scale_position_vertical"):t.elem.classList.remove("slider__scale_position_vertical")},this.elem=Object(n.default)("slider__scale"),this.isVertical=e};t.default=i},function(e,t,r){"use strict";r.r(t);var n=r(9),i=r(1),s=function(e,t){var r=this;this.init=function(e){r.parameters=e,r.moveMarks()},this.createMarks=function(){for(var e=function(e){var t=new n.default(r.parameters.isVertical);r.marks.push(t),t.observers.addObserver((function(){return r.onClickMarkHandler(t)}))},t=0;t<5;t++)e()},this.onClickMarkHandler=function(e){r.observers.notifyObserversData(e.value)},this.moveMarks=function(){r.marks.map((function(e,t){if(e.init(r.parameters.isVertical),0===t)e.setPosition(0,r.parameters.minValue);else if(t===r.marks.length-1)e.setPosition(100,r.parameters.maxValue);else{var n=r.round(r.parameters.minValue+(r.parameters.maxValue-r.parameters.minValue)/(r.marks.length-1)*t);r.parameters.isFloat&&(n=parseFloat(n.toFixed(2)));var i=(n-r.parameters.minValue)/(r.parameters.maxValue-r.parameters.minValue);e.setPosition(100*i,n)}}))},this.round=function(e){var t=Math.trunc(e/r.parameters.step),n=+(e-t*r.parameters.step).toFixed(2);return e<0?Math.abs(n)<r.parameters.step/2?t*r.parameters.step:(t-1)*r.parameters.step:n<r.parameters.step/2?t*r.parameters.step:(t+1)*r.parameters.step},this.marks=[],this.parameters=e,this.createMarks(),this.init(e),this.observers=new i.default,this.observers.addObserver(t)};t.default=s},function(e,t,r){"use strict";r.r(t);var n=r(10),i=r(11),s=r(1),a=function(e,t){var r=this;this.getPosition=function(){return r.button.getPosition()},this.setPosition=function(e,t){r.label.setPosition(e+r.button.getWidth()/2,t),r.button.setPosition(e)},this.init=function(e){r.button.init(e),r.label.init(e)},this.getWidth=function(){return r.button.getWidth()},this.hideRunner=function(){r.button.elem.style.display="none",r.label.elem.style.display="none"},this.hideLabel=function(){r.label.elem.style.display="none"},this.showLabel=function(){r.label.elem.style.display="block"},this.showRunner=function(){r.button.elem.style.display="block"},this.onMouseDown=function(e){e.preventDefault(),document.addEventListener("mousemove",r.onMouseMove),document.addEventListener("mouseup",r.onMouseUp)},this.onMouseMove=function(e){r.observers.notifyObserversData({event:e,runner:r})},this.onMouseUp=function(e){document.removeEventListener("mouseup",r.onMouseUp),document.removeEventListener("mousemove",r.onMouseMove)},this.appendToNode=function(e){[r.button.elem,r.label.elem].map((function(t){e.appendChild(t),t.onmousedown=r.onMouseDown}))},this.isVertical=e,this.button=new n.default(e),this.label=new i.default(e),this.observers=new s.default,this.observers.addObserver(t)};t.default=a},function(e,t,r){"use strict";r.r(t);var n=r(2),i=r(8),s=r(14),a=r(1),o=r(3),u=function(e){var t=this;void 0===e&&(e=n.defaultParameters),this.appendToNode=function(e){t.view.appendToNode(e.get(0)),t.view.init()},this.checkStep=function(e){var r=Math.abs(o.default.parsing(e));return null===r||0===r||r>(t.view.parameters.maxValue-t.view.parameters.minValue)/2?t.view.parameters.step:(r%1!=0?t.view.parameters.isFloat=!0:t.view.parameters.maxValue%1==0&&t.view.parameters.minValue%1==0&&(t.view.parameters.isFloat=!1),r)},this.checkMaxValue=function(e){var r=o.default.parsing(e);return null===r||r<=t.view.parameters.minValue?t.view.parameters.maxValue:(r%1!=0?t.view.parameters.isFloat=!0:t.view.parameters.step%1==0&&t.view.parameters.minValue%1==0&&(t.view.parameters.isFloat=!1),r)},this.checkMinValue=function(e){var r=o.default.parsing(e);return null===r||r>=t.view.parameters.maxValue?t.view.parameters.minValue:(r%1!=0?t.view.parameters.isFloat=!0:t.view.parameters.maxValue%1==0&&t.view.parameters.step%1==0&&(t.view.parameters.isFloat=!1),r)},this.updateConfig=function(e){Object.keys(e).map((function(r){"step"===r?e.step=t.checkStep(e.step):"maxValue"===r?e.maxValue=t.checkMaxValue(e.maxValue):"minValue"===r?e.minValue=t.checkMinValue(e.minValue):e[r]=e[r]})),t.view.parameters=Object.assign(t.view.parameters,e),t.view.init()},this.getValues=function(){return t.model.currentValues},this.setValues=function(e,r){(e||0===e)&&t.model.setCurrentMinValue(e),(r||0===r)&&t.model.setCurrentMaxValue(r)},this.getConfig=function(){return t.view.parameters},this.addObserver=function(e){t.observers.addObserver(e)},this.view=new i.View(e),this.model=new s.default({currentMinValue:e.minValue,currentMaxValue:e.maxValue}),this.observers=new a.default,this.view.observers.addObserver((function(){t.model.currentValues=t.view.currentValues,t.observers.notifyObservers()})),this.model.observers.addObserver((function(){t.view.currentValues=t.model.currentValues,t.view.renewRunners()}))};t.default=u},function(e,t,r){"use strict";r.r(t),r.d(t,"View",(function(){return f}));var n=r(2),i=r(1),s=r(0);r.d(t,"createElem",(function(){return s.default}));var a=r(4);r.d(t,"Bar",(function(){return a.default}));var o=r(5);r.d(t,"Scale",(function(){return o.default}));var u=r(6),l=r(12),c=r(13),f=function(){function e(e){var t=this;void 0===e&&(e=n.defaultParameters),this.graduationObserver=function(e){var r,n=t.track.offsetValueConverter(e);r=t.parameters.isRange?t.checkRunnerCloser(n):t.runnerMain,t.moveRunner(t.track.offsetProcessing(n,r))},this.runnerObserver=function(e){var r=e.event,n=e.runner;t.moveRunner(t.track.onRunnerMove(r,n))},this.moveRunner=function(e){e.runner.setPosition(e.offset,e.value),e.runner===t.runnerAdditional&&(t.currentValues.currentMinValue=e.value),e.runner===t.runnerMain&&(t.currentValues.currentMaxValue=e.value),t.track.updateProgressBar(),t.observers.notifyObservers()},this.checkRunnerCloser=function(e){return Math.abs(e-t.track.getMainRunnerOffset())<Math.abs(e-t.track.getAdditionalRunnerOffset())?t.runnerMain:t.runnerAdditional},this.onClickBarHandler=function(e){var r=(t.parameters.isVertical?e.clientY:e.clientX)-t.bar.getPosition()-t.runnerMain.getWidth()/2;t.moveRunner(t.track.offsetProcessing(r,t.checkRunnerCloser(r)))},this.init=function(){t.bar.init(t.parameters.isVertical),t.progressBar.init(t.parameters.isVertical),t.runnerAdditional.init(t.parameters.isVertical),t.runnerMain.init(t.parameters.isVertical),t.track.init(t.parameters),t.scale.init(t.parameters),t.runnerAdditional.hideRunner(),t.parameters.showLabel?(t.runnerAdditional.showLabel(),t.runnerMain.showLabel()):(t.runnerAdditional.hideLabel(),t.runnerMain.hideLabel()),t.parameters.isRange?t.runnerAdditional.showRunner():t.runnerAdditional.hideRunner(),t.runnerAdditional.setPosition(-t.runnerAdditional.getWidth()/2,t.parameters.minValue),t.runnerMain.setPosition(t.bar.getDimension()-t.runnerMain.getWidth()/2,t.parameters.maxValue),t.renewRunners()},this.appendToNode=function(e){e.appendChild(t.bar.elem).appendChild(t.progressBar.elem),t.runnerMain.appendToNode(e),t.runnerAdditional.appendToNode(e),t.scale.marks.map((function(t){e.appendChild(t.elem)})),t.scale.moveMarks(),t.bar.elem.onclick=t.onClickBarHandler},this.bar=new a.default(e.isVertical),this.progressBar=new c.default(e.isVertical),this.currentValues={currentMinValue:e.minValue,currentMaxValue:e.maxValue},this.observers=new i.default,this.parameters=e,this.scale=new o.default(e,this.graduationObserver),this.runnerAdditional=new u.default(e.isVertical,this.runnerObserver),this.runnerMain=new u.default(e.isVertical,this.runnerObserver),this.track=new l.default({runnerMain:this.runnerMain,runnerAdditional:this.runnerAdditional,progressBar:this.progressBar,bar:this.bar,parameters:this.parameters})}return e.prototype.renewRunners=function(){this.moveRunner(this.track.offsetProcessing(this.track.offsetValueConverter(this.currentValues.currentMaxValue),this.runnerMain)),this.moveRunner(this.track.offsetProcessing(this.track.offsetValueConverter(this.currentValues.currentMinValue),this.runnerAdditional))},e}()},function(e,t,r){"use strict";r.r(t);var n=r(0),i=r(1),s=function(e){var t=this;this.onClickHandler=function(){t.observers.notifyObservers()},this.getPosition=function(){return t.isVertical?t.elem.getBoundingClientRect().top:t.elem.getBoundingClientRect().left},this.setPosition=function(e,r){t.elem.innerHTML=r+"",t.value=r,t.isVertical?(t.elem.style.left="50%",t.elem.style.top=e+"%",t.elem.style.marginTop=-t.getDimension()/2+"px",t.elem.style.marginLeft="-45px"):(t.elem.style.top="50%",t.elem.style.left=e+"%",t.elem.style.marginLeft=-t.getDimension()/2+"px",t.elem.style.marginTop="15px")},this.getDimension=function(){return t.isVertical?t.elem.getBoundingClientRect().height:t.elem.getBoundingClientRect().width},this.init=function(e){t.isVertical=e,t.isVertical?t.elem.classList.add("slider__mark_position_vertical"):t.elem.classList.remove("slider__mark_position_vertical")},this.elem=Object(n.default)("slider__mark"),this.isVertical=e,this.observers=new i.default,this.elem.onclick=this.onClickHandler};t.default=s},function(e,t,r){"use strict";r.r(t);var n=r(0),i=function(e){var t=this;this.getWidth=function(){return t.elem.getBoundingClientRect().width},this.getPosition=function(){return t.isVertical?t.elem.getBoundingClientRect().top:t.elem.getBoundingClientRect().left},this.setPosition=function(e){t.isVertical?(t.elem.style.left="50%",t.elem.style.top=e+"px"):(t.elem.style.top="50%",t.elem.style.left=e+"px")},this.init=function(e){t.isVertical=e,t.isVertical?t.elem.classList.add("slider__button_position_vertical"):t.elem.classList.remove("slider__button_position_vertical")},this.elem=Object(n.default)("slider__button"),this.isVertical=e};t.default=i},function(e,t,r){"use strict";r.r(t);var n=r(0),i=function(e){var t=this;this.getPosition=function(){return t.isVertical?t.elem.getBoundingClientRect().top:t.elem.getBoundingClientRect().left},this.setPosition=function(e,r){t.elem.innerHTML=r+"",t.isVertical?(t.elem.style.left="50%",t.elem.style.top=e-t.getDimension()/2+"px"):(t.elem.style.top="50%",t.elem.style.left=e-t.getDimension()/2+"px")},this.getDimension=function(){return t.isVertical?t.elem.getBoundingClientRect().height:t.elem.getBoundingClientRect().width},this.init=function(e){t.isVertical=e,t.isVertical?t.elem.classList.add("slider__button-label_position_vertical"):t.elem.classList.remove("slider__button-label_position_vertical")},this.elem=Object(n.default)("slider__button-label"),this.isVertical=e};t.default=i},function(e,t,r){"use strict";r.r(t);var n=function(){function e(e){var t=this;this.onRunnerMove=function(e,r){var n=(t.parameters.isVertical?e.clientY:e.clientX)-t.scale.getPosition()-t.runnerAdditional.getWidth()/2;return t.offsetProcessing(n,r)},this.runnerOffsetCheck=function(e,r){var n=t.parameters.step*t.scale.getDimension()/(t.parameters.maxValue-t.parameters.minValue),i=n/1.5>t.runnerMain.getWidth()?n/1.5:t.runnerMain.getWidth();return r===t.runnerAdditional?e>t.runnerMain.getPosition()-t.scale.getPosition()-i&&(e=t.runnerMain.getPosition()-t.scale.getPosition()-i):r===t.runnerMain&&e<t.runnerAdditional.getPosition()-t.scale.getPosition()+i&&(e=t.runnerAdditional.getPosition()-t.scale.getPosition()+i),e},this.roundOffsetButt=function(e){var r=t.parameters.minValue+(e+t.runnerMain.getWidth()/2)*(t.parameters.maxValue-t.parameters.minValue)/t.scale.getDimension(),n=t.round(r,t.parameters.step);t.parameters.isFloat&&(n=parseFloat(n.toFixed(2)));var i=t.offsetValueConverter(n);return i<-t.runnerMain.getWidth()/2&&(i=-t.runnerMain.getWidth()/2,n=t.parameters.minValue),i>t.scale.getDimension()-t.runnerMain.getWidth()/2&&(i=t.scale.getDimension()-t.runnerMain.getWidth()/2,n=t.parameters.maxValue),[i,n]},this.offsetValueConverter=function(e){return(e-t.parameters.minValue)/(t.parameters.maxValue-t.parameters.minValue)*t.scale.getDimension()-t.runnerMain.getWidth()/2},this.round=function(e,r){var n=Math.trunc(e/r),i=+(e-n*r).toFixed(2);return e<0?Math.abs(i)<r/2?n*r:(n-1)*r:e<=t.parameters.minValue?t.parameters.minValue:e>=t.parameters.maxValue?t.parameters.maxValue:i<r/2?n*r:(n+1)*r},this.getMainRunnerOffset=function(){var e=t.runnerMain.getPosition()-t.scale.getPosition()+t.runnerMain.getWidth()/2;return e<0?0:e},this.getAdditionalRunnerOffset=function(){return t.parameters.isRange?t.runnerAdditional.getPosition()-t.scale.getPosition()+t.runnerMain.getWidth()/2:0},this.updateProgressBar=function(){t.progressBar.init(t.parameters.isVertical),t.progressBar.setPosition(t.getAdditionalRunnerOffset()),t.progressBar.setDimension(t.getMainRunnerOffset()-t.getAdditionalRunnerOffset())},this.init=function(e){t.parameters=e},this.scale=e.bar,this.runnerMain=e.runnerMain,this.runnerAdditional=e.runnerAdditional,this.progressBar=e.progressBar,this.parameters=e.parameters}return e.prototype.offsetProcessing=function(e,t){var r,n;return n=this.runnerOffsetCheck(e,t),{runner:t,offset:n=(r=this.roundOffsetButt(n))[0],value:r[1]}},e}();t.default=n},function(e,t,r){"use strict";r.r(t);var n=r(0),i=function(e){var t=this;this.setPosition=function(e){t.isVertical?(t.elem.style.left="0",t.elem.style.width="100%",t.elem.style.top=e+"px"):(t.elem.style.top="0",t.elem.style.height="100%",t.elem.style.left=e+"px")},this.setDimension=function(e){t.isVertical?t.elem.style.height=e+"px":t.elem.style.width=e+"px"},this.init=function(e){t.isVertical=e},this.elem=Object(n.default)("slider__scale-filling"),this.isVertical=e};t.default=i},function(e,t,r){"use strict";r.r(t);var n=r(1),i=function(){function e(e){this.currentValues=e,this.observers=new n.default}return e.prototype.setCurrentMinValue=function(e){this.currentValues.currentMinValue!==e&&(this.currentValues.currentMinValue=e,this.observers.notifyObservers())},e.prototype.setCurrentMaxValue=function(e){this.currentValues.currentMaxValue!==e&&(this.currentValues.currentMaxValue=e,this.observers.notifyObservers())},e}();t.default=i},function(e,t,r){var n={"./Controller/Controller.ts":7,"./Controller/blocks/parsingDigits/ParsingDigits.ts":3,"./Model/Model.ts":14,"./View/View.ts":8,"./View/blocks/bar/Bar.ts":4,"./View/blocks/button/Button.ts":10,"./View/blocks/createElem/createElem.ts":0,"./View/blocks/label/Label.ts":11,"./View/blocks/mark/Mark.ts":9,"./View/blocks/progressBar/ProgressBar.ts":13,"./View/blocks/runner/Runner.ts":6,"./View/blocks/scale/Scale.ts":5,"./View/blocks/track/Track.ts":12,"./makeObservableObject/MakeObservableObject.ts":1,"./slider.ts":16,"./style.scss":17,"./types.ts":2};function i(e){var t=s(e);return r(t)}function s(e){if(!r.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}i.keys=function(){return Object.keys(n)},i.resolve=s,e.exports=i,i.id=15},function(e,t,r){"use strict";r.r(t);var n,i,s,a=r(7),o=function(){return(o=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};n=jQuery,i={minValue:0,maxValue:1e3,step:1,isRange:!1,isVertical:!1,showLabel:!1,isFloat:!1},s={init:function(e){if(!n(this).data("slider")){var t=o({},i),r=new a.default(n.extend(t,e));n(this).data("slider",r),r.appendToNode(n(this))}},update:function(e){n(this).data("slider").updateConfig(e)},getConfig:function(){return n(this).data("slider").getConfig()},setValues:function(e){n(this).data("slider").setValues(e.currentMinValue,e.currentMaxValue)},inputsAttach:function(e){var t=n(this).data("slider");t.addObserver((function(){e.minValueInput.val(t.getValues().currentMinValue),e.maxValueInput.val(t.getValues().currentMaxValue),e.maxValue.val(t.getConfig().maxValue),e.minValue.val(t.getConfig().minValue),e.step.val(t.getConfig().step)}))}},n.fn.omfgslider=function(e){return s[e]?s[e].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof e&&e?void n.error("Метод "+e+" не найден в плагине jQuery.omfgslider"):s.init.apply(this,arguments)}},function(e,t,r){},,function(e,t,r){"use strict";r.r(t);var n;r.p;(n=r(15)).keys().forEach(n)}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL3BsdWdpbi9WaWV3L2Jsb2Nrcy9jcmVhdGVFbGVtL2NyZWF0ZUVsZW0udHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3BsdWdpbi9tYWtlT2JzZXJ2YWJsZU9iamVjdC9NYWtlT2JzZXJ2YWJsZU9iamVjdC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvcGx1Z2luL3R5cGVzLnRzIiwid2VicGFjazovLy8uL3NyYy9wbHVnaW4vQ29udHJvbGxlci9ibG9ja3MvcGFyc2luZ0RpZ2l0cy9QYXJzaW5nRGlnaXRzLnRzIiwid2VicGFjazovLy8uL3NyYy9wbHVnaW4vVmlldy9ibG9ja3MvYmFyL0Jhci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvcGx1Z2luL1ZpZXcvYmxvY2tzL3NjYWxlL1NjYWxlLnRzIiwid2VicGFjazovLy8uL3NyYy9wbHVnaW4vVmlldy9ibG9ja3MvcnVubmVyL1J1bm5lci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvcGx1Z2luL0NvbnRyb2xsZXIvQ29udHJvbGxlci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvcGx1Z2luL1ZpZXcvVmlldy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvcGx1Z2luL1ZpZXcvYmxvY2tzL21hcmsvTWFyay50cyIsIndlYnBhY2s6Ly8vLi9zcmMvcGx1Z2luL1ZpZXcvYmxvY2tzL2J1dHRvbi9CdXR0b24udHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3BsdWdpbi9WaWV3L2Jsb2Nrcy9sYWJlbC9MYWJlbC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvcGx1Z2luL1ZpZXcvYmxvY2tzL3RyYWNrL1RyYWNrLnRzIiwid2VicGFjazovLy8uL3NyYy9wbHVnaW4vVmlldy9ibG9ja3MvcHJvZ3Jlc3NCYXIvUHJvZ3Jlc3NCYXIudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3BsdWdpbi9Nb2RlbC9Nb2RlbC50cyIsIndlYnBhY2s6Ly8vXFwuZClcXC4oanN8dHN8c2NzcykkLyIsIndlYnBhY2s6Ly8vLi9zcmMvcGx1Z2luL3NsaWRlci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZGVtby1wYWdlL2luZGV4Lmh0bWwiLCJ3ZWJwYWNrOi8vLy4vc3JjL2luZGV4LnRzIl0sIm5hbWVzIjpbImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJleHBvcnRzIiwibW9kdWxlIiwiaSIsImwiLCJtb2R1bGVzIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJ0IiwibW9kZSIsIl9fZXNNb2R1bGUiLCJucyIsImNyZWF0ZSIsImtleSIsImJpbmQiLCJuIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwiY2xhc3NOYW1lIiwiZWxlbSIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsIm9uZHJhZ3N0YXJ0IiwiY2xhc3NMaXN0IiwiYWRkIiwidGhpcyIsIm9ic2VydmVycyIsImFkZE9ic2VydmVyIiwiZm4iLCJFcnJvciIsIm1hcCIsIm9ic2VydmVyIiwicHVzaCIsInJlbW92ZU9ic2VydmVyIiwibGVuZ3RoIiwic3BsaWNlIiwibm90aWZ5T2JzZXJ2ZXJzIiwibm90aWZ5T2JzZXJ2ZXJzRGF0YSIsImRhdGEiLCJkZWZhdWx0UGFyYW1ldGVycyIsIm1pblZhbHVlIiwibWF4VmFsdWUiLCJzdGVwIiwiaXNSYW5nZSIsImlzVmVydGljYWwiLCJzaG93TGFiZWwiLCJpc0Zsb2F0IiwicGFyc2luZyIsIml0ZW0iLCJ0ZXN0IiwicGFyc2VGbG9hdCIsInBhcnNlSW50IiwiZ2V0UG9zaXRpb24iLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJ0b3AiLCJsZWZ0IiwiZ2V0RGltZW5zaW9uIiwiaGVpZ2h0Iiwid2lkdGgiLCJpbml0IiwicmVtb3ZlIiwicGFyYW1ldGVycyIsIm9wdGlvbnMiLCJtb3ZlTWFya3MiLCJjcmVhdGVNYXJrcyIsIm1hcmsiLCJtYXJrcyIsIm9uQ2xpY2tNYXJrSGFuZGxlciIsImluZGV4Iiwic2V0UG9zaXRpb24iLCJyb3VuZFZhbHVlIiwicm91bmQiLCJ0b0ZpeGVkIiwib2Zmc2V0Iiwid2hvbGUiLCJNYXRoIiwidHJ1bmMiLCJyZW1pbmRlciIsImFicyIsIm1vdmVPYnNlcnZlciIsImJ1dHRvbiIsImxhYmVsIiwiZ2V0V2lkdGgiLCJoaWRlUnVubmVyIiwic3R5bGUiLCJkaXNwbGF5IiwiaGlkZUxhYmVsIiwic2hvd1J1bm5lciIsIm9uTW91c2VEb3duIiwiZXZlbnQiLCJwcmV2ZW50RGVmYXVsdCIsImFkZEV2ZW50TGlzdGVuZXIiLCJvbk1vdXNlTW92ZSIsIm9uTW91c2VVcCIsInJ1bm5lciIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJhcHBlbmRUb05vZGUiLCJlbnRyeSIsImFwcGVuZENoaWxkIiwib25tb3VzZWRvd24iLCJ2aWV3IiwiY2hlY2tTdGVwIiwic3RlcENoZWNrZWQiLCJjaGVja01heFZhbHVlIiwibWF4VmFsdWVDaGVja2VkIiwiY2hlY2tNaW5WYWx1ZSIsIm1pblZhbHVlQ2hlY2tlZCIsInVwZGF0ZUNvbmZpZyIsImtleXMiLCJhc3NpZ24iLCJnZXRWYWx1ZXMiLCJtb2RlbCIsImN1cnJlbnRWYWx1ZXMiLCJzZXRWYWx1ZXMiLCJjdXJyZW50TWluVmFsdWUiLCJjdXJyZW50TWF4VmFsdWUiLCJzZXRDdXJyZW50TWluVmFsdWUiLCJzZXRDdXJyZW50TWF4VmFsdWUiLCJnZXRDb25maWciLCJyZW5ld1J1bm5lcnMiLCJncmFkdWF0aW9uT2JzZXJ2ZXIiLCJ0cmFjayIsIm9mZnNldFZhbHVlQ29udmVydGVyIiwiY2hlY2tSdW5uZXJDbG9zZXIiLCJydW5uZXJNYWluIiwibW92ZVJ1bm5lciIsIm9mZnNldFByb2Nlc3NpbmciLCJydW5uZXJPYnNlcnZlciIsIm9uUnVubmVyTW92ZSIsIm9iaiIsInJ1bm5lckFkZGl0aW9uYWwiLCJ1cGRhdGVQcm9ncmVzc0JhciIsImdldE1haW5SdW5uZXJPZmZzZXQiLCJnZXRBZGRpdGlvbmFsUnVubmVyT2Zmc2V0Iiwib25DbGlja0JhckhhbmRsZXIiLCJjbGllbnRZIiwiY2xpZW50WCIsImJhciIsInByb2dyZXNzQmFyIiwic2NhbGUiLCJvbmNsaWNrIiwib25DbGlja0hhbmRsZXIiLCJpbm5lckhUTUwiLCJtYXJnaW5Ub3AiLCJtYXJnaW5MZWZ0IiwiZXZlbnRNbSIsInJ1bm5lck9mZnNldENoZWNrIiwic3RlcFdpZHRoIiwibWluT2Zmc2V0Iiwicm91bmRPZmZzZXRCdXR0IiwiY3VycmVudE9mZnNldCIsImN1cnJlbnRWYWx1ZSIsInJvdW5kT2Zmc2V0Iiwic2V0RGltZW5zaW9uIiwiZGltZW5zaW9uIiwid2VicGFja0NvbnRleHQiLCJyZXEiLCJpZCIsIndlYnBhY2tDb250ZXh0UmVzb2x2ZSIsImUiLCJjb2RlIiwicmVzb2x2ZSIsIiQiLCJjb25maWciLCJtZXRob2RzIiwialF1ZXJ5Iiwib3B0IiwibmV3Q29uZmlnIiwic2xpZGVyIiwiZXh0ZW5kIiwidXBkYXRlIiwiaW5wdXRzQXR0YWNoIiwibWluVmFsdWVJbnB1dCIsInZhbCIsIm1heFZhbHVlSW5wdXQiLCJvbWZnc2xpZGVyIiwibWV0aG9kIiwiYXBwbHkiLCJBcnJheSIsInNsaWNlIiwiYXJndW1lbnRzIiwiZXJyb3IiLCJmb3JFYWNoIl0sIm1hcHBpbmdzIjoiYUFDRSxJQUFJQSxFQUFtQixHQUd2QixTQUFTQyxFQUFvQkMsR0FHNUIsR0FBR0YsRUFBaUJFLEdBQ25CLE9BQU9GLEVBQWlCRSxHQUFVQyxRQUduQyxJQUFJQyxFQUFTSixFQUFpQkUsR0FBWSxDQUN6Q0csRUFBR0gsRUFDSEksR0FBRyxFQUNISCxRQUFTLElBVVYsT0FOQUksRUFBUUwsR0FBVU0sS0FBS0osRUFBT0QsUUFBU0MsRUFBUUEsRUFBT0QsUUFBU0YsR0FHL0RHLEVBQU9FLEdBQUksRUFHSkYsRUFBT0QsUUFLZkYsRUFBb0JR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d0QsYUFBYyxTQUFTTCxHQUNyQixJQUFNRSxFQUFTTixFQUFFekksTUFBTWEsS0FBSyxVQUM1QmtJLEVBQU83SSxhQUFZLFdBQ2pCMkksRUFBSU0sY0FBY0MsSUFBSUwsRUFBTzFELFlBQVlJLGlCQUN6Q29ELEVBQUlRLGNBQWNELElBQUlMLEVBQU8xRCxZQUFZSyxpQkFDekNtRCxFQUFJN0gsU0FBU29JLElBQUlMLEVBQU9sRCxZQUFZN0UsVUFDcEM2SCxFQUFJOUgsU0FBU3FJLElBQUlMLEVBQU9sRCxZQUFZOUUsVUFDcEM4SCxFQUFJNUgsS0FBS21JLElBQUlMLEVBQU9sRCxZQUFZNUUsV0FLdEN3SCxFQUFFdEksR0FBR21KLFdBQWEsU0FBU0MsR0FDekIsT0FBSVosRUFBUVksR0FDSFosRUFBUVksR0FBUUMsTUFBTXhKLEtBQU15SixNQUFNcEssVUFBVXFLLE1BQU05TCxLQUFLK0wsVUFBVyxJQUM5QyxpQkFBWEosR0FBd0JBLE9BR3hDZCxFQUFFbUIsTUFBTSxTQUFTTCxFQUFNLDBDQUZoQlosRUFBUXpHLEtBQUtzSCxNQUFNeEosS0FBTTJKLGEsdURDdkR2QixJQ0VJcEwsRURGSixLQ0VJQSxFQUlULE9BSEo0RyxPQUFPMEUsUUFBUXRMIiwiZmlsZSI6ImJ1bmRsZS5qcyIsInNvdXJjZXNDb250ZW50IjpbIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSAxOSk7XG4iLCJmdW5jdGlvbiBjcmVhdGVFbGVtKGNsYXNzTmFtZTogc3RyaW5nKSA6SFRNTEVsZW1lbnQge1xyXG4gIGNvbnN0IGVsZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICBlbGVtLm9uZHJhZ3N0YXJ0ID0gKCkgPT4gZmFsc2U7XHJcbiAgZWxlbS5jbGFzc0xpc3QuYWRkKGNsYXNzTmFtZSk7XHJcbiAgcmV0dXJuIGVsZW07XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNyZWF0ZUVsZW07IiwiY2xhc3MgTWFrZU9ic2VydmFibGVPYmplY3Qge1xyXG4gIG9ic2VydmVyczogQXJyYXk8RnVuY3Rpb24+O1xyXG5cclxuICBjb25zdHJ1Y3RvcigpIHtcclxuICAgIHRoaXMub2JzZXJ2ZXJzID0gW107XHJcbiAgfVxyXG5cclxuICBhZGRPYnNlcnZlciAoZm46IEZ1bmN0aW9uKTogdm9pZCB7XHJcbiAgICBpZiAodHlwZW9mIGZuICE9PSAnZnVuY3Rpb24nKSB7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcignb2JzZXJ2ZXIgbXVzdCBiZSBhIGZ1bmN0aW9uJyk7XHJcbiAgICB9XHJcbiAgICB0aGlzLm9ic2VydmVycy5tYXAoKG9ic2VydmVyKSA9PiB7XHJcbiAgICAgIGlmIChvYnNlcnZlciA9PT0gZm4pIHtcclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ29ic2VydmVyIGFscmVhZHkgaW4gdGhlIGxpc3QnKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgICB0aGlzLm9ic2VydmVycy5wdXNoKGZuKTtcclxuICB9XHJcblxyXG4gIHJlbW92ZU9ic2VydmVyIChmbjogRnVuY3Rpb24pOiB2b2lkIHtcclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5vYnNlcnZlcnMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgY29uc3Qgb2JzZXJ2ZXIgPSB0aGlzLm9ic2VydmVyc1tpXTtcclxuICAgICAgaWYgKG9ic2VydmVyID09PSBmbikge1xyXG4gICAgICAgIHRoaXMub2JzZXJ2ZXJzLnNwbGljZShpLCAxKTtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIHRocm93IG5ldyBFcnJvcignY291bGQgbm90IGZpbmQgb2JzZXJ2ZXIgaW4gbGlzdCBvZiBvYnNlcnZlcnMnKTtcclxuICB9XHJcblxyXG4gIG5vdGlmeU9ic2VydmVycyAoKTogdm9pZCB7XHJcbiAgICBjb25zdCBvYnNlcnZlcnNTbmFwc2hvdCA9IFsuLi50aGlzLm9ic2VydmVyc107XHJcbiAgICBvYnNlcnZlcnNTbmFwc2hvdC5tYXAoKG9ic2VydmVyKSA9PiBvYnNlcnZlcigpKTtcclxuICB9XHJcblxyXG4gIG5vdGlmeU9ic2VydmVyc0RhdGEgKGRhdGE6IGFueSk6IHZvaWQge1xyXG4gICAgY29uc3Qgb2JzZXJ2ZXJzU25hcHNob3QgPSBbLi4udGhpcy5vYnNlcnZlcnNdO1xyXG4gICAgb2JzZXJ2ZXJzU25hcHNob3QubWFwKChvYnNlcnZlcikgPT4gb2JzZXJ2ZXIoZGF0YSkpO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgTWFrZU9ic2VydmFibGVPYmplY3Q7IiwiaW1wb3J0IFJ1bm5lciBmcm9tICcuL1ZpZXcvYmxvY2tzL3J1bm5lci9SdW5uZXInO1xyXG5pbXBvcnQgQmFyIGZyb20gJy4vVmlldy9ibG9ja3MvYmFyL0Jhcic7XHJcbmltcG9ydCBQcm9ncmVzc0JhciBmcm9tICcuL1ZpZXcvYmxvY2tzL3Byb2dyZXNzQmFyL1Byb2dyZXNzQmFyJztcclxuXHJcblxyXG5leHBvcnQgdHlwZSBSdW5uZXJNb3ZlRGF0YSA9IHtcclxuICBydW5uZXI6IFJ1bm5lcixcclxuICBvZmZzZXQ6IG51bWJlcixcclxuICB2YWx1ZTogbnVtYmVyLFxyXG59XHJcblxyXG5leHBvcnQgdHlwZSBDdXJyZW50VmFsdWVzID0ge1xyXG4gIGN1cnJlbnRNaW5WYWx1ZTogbnVtYmVyLFxyXG4gIGN1cnJlbnRNYXhWYWx1ZTogbnVtYmVyLFxyXG59XHJcblxyXG5leHBvcnQgdHlwZSBSdW5uZXJPYnNlcnZlckRhdGEgPSB7XHJcbiAgZXZlbnQ6IE1vdXNlRXZlbnQsXHJcbiAgcnVubmVyOiBSdW5uZXIsXHJcbn1cclxuXHJcbmV4cG9ydCB0eXBlIFBhcmFtZXRlcnMgPSB7XHJcbiAgbWluVmFsdWU6IG51bWJlcixcclxuICBtYXhWYWx1ZTogbnVtYmVyLFxyXG4gIHN0ZXA6IG51bWJlcixcclxuICBpc1JhbmdlOiBib29sZWFuLFxyXG4gIGlzVmVydGljYWw6IGJvb2xlYW4sXHJcbiAgc2hvd0xhYmVsOiBib29sZWFuLFxyXG4gIGlzRmxvYXQ6IGJvb2xlYW5cclxufVxyXG5cclxuZXhwb3J0IHR5cGUgUmF3UGFyYW1ldGVycyA9IHtcclxuICBtaW5WYWx1ZTogc3RyaW5nLFxyXG4gIG1heFZhbHVlOiBzdHJpbmcsXHJcbiAgc3RlcDogc3RyaW5nLFxyXG4gIGlzUmFuZ2U6IGJvb2xlYW4sXHJcbiAgaXNWZXJ0aWNhbDogYm9vbGVhbixcclxuICBzaG93TGFiZWw6IGJvb2xlYW4sXHJcbiAgaXNGbG9hdDogYm9vbGVhblxyXG59XHJcblxyXG5leHBvcnQgdHlwZSBUcmFja0NvbnN0cnVjdG9yRGF0YSA9IHtcclxuICBydW5uZXJNYWluOiBSdW5uZXIsXHJcbiAgcnVubmVyQWRkaXRpb25hbDogUnVubmVyLFxyXG4gIGJhcjogQmFyLFxyXG4gIHByb2dyZXNzQmFyOiBQcm9ncmVzc0JhcixcclxuICBwYXJhbWV0ZXJzOiBQYXJhbWV0ZXJzO1xyXG59XHJcblxyXG5leHBvcnQgY29uc3QgZGVmYXVsdFBhcmFtZXRlcnMgPSB7XHJcbiAgbWluVmFsdWU6IDAsXHJcbiAgbWF4VmFsdWU6IDEwMDAsXHJcbiAgc3RlcDogMSxcclxuICBpc1JhbmdlOiBmYWxzZSxcclxuICBpc1ZlcnRpY2FsOiBmYWxzZSxcclxuICBzaG93TGFiZWw6IGZhbHNlLFxyXG4gIGlzRmxvYXQ6IGZhbHNlXHJcbn0iLCJjbGFzcyBQYXJzaW5nRGlnaXRzIHtcclxuICBzdGF0aWMgcGFyc2luZyA9IChpdGVtOiBzdHJpbmd8bnVtYmVyKTogbnVtYmVyfG51bGwgPT4ge1xyXG4gICAgaWYgKHR5cGVvZiBpdGVtID09PSAnbnVtYmVyJykge1xyXG4gICAgICByZXR1cm4gaXRlbTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAodHlwZW9mIGl0ZW0gPT09ICdzdHJpbmcnKSB7XHJcbiAgICAgIGlmICgvXi0/XFxkK1tcXC4sXVxcZCskLy50ZXN0KGl0ZW0pKSB7XHJcbiAgICAgICAgcmV0dXJuIHBhcnNlRmxvYXQoaXRlbSk7XHJcbiAgICAgIH0gZWxzZSBpZiAoL14tP1xcZCskLy50ZXN0KGl0ZW0pKSB7XHJcbiAgICAgICAgcmV0dXJuIHBhcnNlSW50KGl0ZW0pO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIG51bGw7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBQYXJzaW5nRGlnaXRzOyIsImltcG9ydCBjcmVhdGVFbGVtIGZyb20gJy4uL2NyZWF0ZUVsZW0vY3JlYXRlRWxlbSc7XHJcblxyXG5jbGFzcyBCYXIge1xyXG4gIGVsZW06IEhUTUxFbGVtZW50O1xyXG4gIGlzVmVydGljYWw6IGJvb2xlYW47XHJcblxyXG4gIGNvbnN0cnVjdG9yKGlzVmVydGljYWw6IGJvb2xlYW4pIHtcclxuICAgIHRoaXMuZWxlbSA9IGNyZWF0ZUVsZW0oJ3NsaWRlcl9fc2NhbGUnKTtcclxuICAgIHRoaXMuaXNWZXJ0aWNhbCA9IGlzVmVydGljYWw7XHJcbiAgfVxyXG5cclxuICBnZXRQb3NpdGlvbiA9ICgpOiBudW1iZXIgPT4ge1xyXG4gICAgaWYgKHRoaXMuaXNWZXJ0aWNhbCkge1xyXG4gICAgICByZXR1cm4gdGhpcy5lbGVtLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnRvcDtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gdGhpcy5lbGVtLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmxlZnQ7XHJcbiAgfVxyXG5cclxuICBnZXREaW1lbnNpb24gPSAoKTogbnVtYmVyID0+IHtcclxuICAgIGlmICh0aGlzLmlzVmVydGljYWwpIHtcclxuICAgICAgcmV0dXJuIHRoaXMuZWxlbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5oZWlnaHQ7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHRoaXMuZWxlbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS53aWR0aDtcclxuICB9XHJcblxyXG4gIGluaXQgPSAoaXNWZXJ0aWNhbDogYm9vbGVhbik6IHZvaWQgPT4ge1xyXG4gICAgdGhpcy5pc1ZlcnRpY2FsID0gaXNWZXJ0aWNhbDtcclxuXHJcbiAgICBpZiAodGhpcy5pc1ZlcnRpY2FsKSB7XHJcbiAgICAgIHRoaXMuZWxlbS5jbGFzc0xpc3QuYWRkKCdzbGlkZXJfX3NjYWxlX3Bvc2l0aW9uX3ZlcnRpY2FsJyk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLmVsZW0uY2xhc3NMaXN0LnJlbW92ZSgnc2xpZGVyX19zY2FsZV9wb3NpdGlvbl92ZXJ0aWNhbCcpO1xyXG4gICAgfVxyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgQmFyO1xyXG4iLCJpbXBvcnQgKiBhcyB0eXBlcyBmcm9tICcuLi8uLi8uLi90eXBlcyc7XHJcbmltcG9ydCBNYXJrIGZyb20gXCIuLi9tYXJrL01hcmtcIjtcclxuaW1wb3J0IE1ha2VPYnNlcnZhYmxlT2JqZWN0IGZyb20gJy4uLy4uLy4uL21ha2VPYnNlcnZhYmxlT2JqZWN0L01ha2VPYnNlcnZhYmxlT2JqZWN0JztcclxuXHJcbmNsYXNzIEdyYWR1YXRpb24ge1xyXG4gIHBhcmFtZXRlcnM6IHR5cGVzLlBhcmFtZXRlcnM7XHJcblxyXG4gIG1hcmtzOiBBcnJheTxNYXJrPjtcclxuXHJcbiAgb2JzZXJ2ZXJzOiBNYWtlT2JzZXJ2YWJsZU9iamVjdDtcclxuXHJcbiAgY29uc3RydWN0b3IocGFyYW1ldGVyczogdHlwZXMuUGFyYW1ldGVycywgb2JzZXJ2ZXI6IEZ1bmN0aW9uKSB7XHJcbiAgICB0aGlzLm1hcmtzID0gW107XHJcbiAgICB0aGlzLnBhcmFtZXRlcnMgPSBwYXJhbWV0ZXJzO1xyXG4gICAgdGhpcy5jcmVhdGVNYXJrcygpO1xyXG4gICAgdGhpcy5pbml0KHBhcmFtZXRlcnMpO1xyXG4gICAgdGhpcy5vYnNlcnZlcnMgPSBuZXcgTWFrZU9ic2VydmFibGVPYmplY3QoKTtcclxuICAgIHRoaXMub2JzZXJ2ZXJzLmFkZE9ic2VydmVyKG9ic2VydmVyKTtcclxuICB9XHJcblxyXG4gIGluaXQgPSAob3B0aW9uczogYW55KTogdm9pZCA9PiB7XHJcbiAgICB0aGlzLnBhcmFtZXRlcnMgPSBvcHRpb25zO1xyXG4gICAgdGhpcy5tb3ZlTWFya3MoKTtcclxuICB9XHJcblxyXG4gIGNyZWF0ZU1hcmtzID0gKCk6IHZvaWQgPT4ge1xyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCA1OyBpKyspIHtcclxuICAgICAgY29uc3QgbWFyayA9IG5ldyBNYXJrKHRoaXMucGFyYW1ldGVycy5pc1ZlcnRpY2FsKTtcclxuICAgICAgdGhpcy5tYXJrcy5wdXNoKG1hcmspO1xyXG4gICAgICBtYXJrLm9ic2VydmVycy5hZGRPYnNlcnZlcigoKSA9PiB0aGlzLm9uQ2xpY2tNYXJrSGFuZGxlcihtYXJrKSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBvbkNsaWNrTWFya0hhbmRsZXIgPSAobWFyazogTWFyayk6IHZvaWQgPT4ge1xyXG4gICAgdGhpcy5vYnNlcnZlcnMubm90aWZ5T2JzZXJ2ZXJzRGF0YShtYXJrLnZhbHVlKTtcclxuICB9XHJcblxyXG4gIG1vdmVNYXJrcyA9ICgpOiB2b2lkID0+IHtcclxuICAgIHRoaXMubWFya3MubWFwKChtYXJrLCBpbmRleCkgPT4ge1xyXG4gICAgICBtYXJrLmluaXQodGhpcy5wYXJhbWV0ZXJzLmlzVmVydGljYWwpO1xyXG4gICAgICBpZiAoaW5kZXggPT09IDApIHtcclxuICAgICAgICBtYXJrLnNldFBvc2l0aW9uKDAsIHRoaXMucGFyYW1ldGVycy5taW5WYWx1ZSk7XHJcbiAgICAgIH0gZWxzZSBpZiAoaW5kZXggPT09IHRoaXMubWFya3MubGVuZ3RoIC0gMSkge1xyXG4gICAgICAgIG1hcmsuc2V0UG9zaXRpb24oMTAwLCB0aGlzLnBhcmFtZXRlcnMubWF4VmFsdWUpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGxldCByb3VuZFZhbHVlID0gdGhpcy5yb3VuZCh0aGlzLnBhcmFtZXRlcnMubWluVmFsdWUgKyAodGhpcy5wYXJhbWV0ZXJzLm1heFZhbHVlIC0gdGhpcy5wYXJhbWV0ZXJzLm1pblZhbHVlKS8odGhpcy5tYXJrcy5sZW5ndGggLSAxKSppbmRleCk7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLnBhcmFtZXRlcnMuaXNGbG9hdCkge1xyXG4gICAgICAgICAgcm91bmRWYWx1ZSA9IHBhcnNlRmxvYXQocm91bmRWYWx1ZS50b0ZpeGVkKDIpKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnN0IG9mZnNldCA9IChyb3VuZFZhbHVlIC0gdGhpcy5wYXJhbWV0ZXJzLm1pblZhbHVlKS8odGhpcy5wYXJhbWV0ZXJzLm1heFZhbHVlIC0gdGhpcy5wYXJhbWV0ZXJzLm1pblZhbHVlKTtcclxuICAgICAgICBtYXJrLnNldFBvc2l0aW9uKG9mZnNldCoxMDAsIHJvdW5kVmFsdWUpO1xyXG4gICAgICB9XHJcbiAgICB9KVxyXG4gIH1cclxuXHJcbiAgcm91bmQgPSAodmFsdWU6IG51bWJlcik6IG51bWJlciA9PiB7XHJcbiAgICBjb25zdCB3aG9sZSA9IE1hdGgudHJ1bmModmFsdWUvdGhpcy5wYXJhbWV0ZXJzLnN0ZXApO1xyXG5cclxuICAgIGNvbnN0IHJlbWluZGVyID0gKyh2YWx1ZSAtIHdob2xlKnRoaXMucGFyYW1ldGVycy5zdGVwKS50b0ZpeGVkKDIpO1xyXG4gICAgaWYgKHZhbHVlIDwgMCkge1xyXG4gICAgICByZXR1cm4gTWF0aC5hYnMocmVtaW5kZXIpIDwgdGhpcy5wYXJhbWV0ZXJzLnN0ZXAvMiA/IHdob2xlKnRoaXMucGFyYW1ldGVycy5zdGVwIDogKHdob2xlIC0gMSkqdGhpcy5wYXJhbWV0ZXJzLnN0ZXA7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHJlbWluZGVyIDwgdGhpcy5wYXJhbWV0ZXJzLnN0ZXAvMiA/IHdob2xlKnRoaXMucGFyYW1ldGVycy5zdGVwIDogKHdob2xlICsgMSkqdGhpcy5wYXJhbWV0ZXJzLnN0ZXA7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBHcmFkdWF0aW9uOyIsImltcG9ydCBCdXR0b24gZnJvbSBcIi4uLy4uL2Jsb2Nrcy9idXR0b24vQnV0dG9uXCI7XHJcbmltcG9ydCBMYWJlbCBmcm9tIFwiLi4vLi4vYmxvY2tzL2xhYmVsL0xhYmVsXCI7XHJcbmltcG9ydCBNYWtlT2JzZXJ2YWJsZU9iamVjdCBmcm9tICcuLi8uLi8uLi9tYWtlT2JzZXJ2YWJsZU9iamVjdC9NYWtlT2JzZXJ2YWJsZU9iamVjdCc7XHJcblxyXG5jbGFzcyBSdW5uZXIge1xyXG4gIGJ1dHRvbjogQnV0dG9uO1xyXG4gIGxhYmVsOiBMYWJlbDtcclxuICBpc1ZlcnRpY2FsOiBib29sZWFuO1xyXG4gIG9ic2VydmVyczogTWFrZU9ic2VydmFibGVPYmplY3Q7XHJcblxyXG4gIGNvbnN0cnVjdG9yKGlzVmVydGljYWw6IGJvb2xlYW4sIG1vdmVPYnNlcnZlcjogRnVuY3Rpb24pIHtcclxuICAgIHRoaXMuaXNWZXJ0aWNhbCA9IGlzVmVydGljYWw7XHJcbiAgICB0aGlzLmJ1dHRvbiA9IG5ldyBCdXR0b24oaXNWZXJ0aWNhbCk7XHJcbiAgICB0aGlzLmxhYmVsID0gbmV3IExhYmVsKGlzVmVydGljYWwpO1xyXG4gICAgdGhpcy5vYnNlcnZlcnMgPSBuZXcgTWFrZU9ic2VydmFibGVPYmplY3QoKTtcclxuICAgIHRoaXMub2JzZXJ2ZXJzLmFkZE9ic2VydmVyKG1vdmVPYnNlcnZlcik7XHJcbiAgfVxyXG5cclxuICBnZXRQb3NpdGlvbiA9ICgpOiBudW1iZXIgPT4ge1xyXG4gICAgcmV0dXJuIHRoaXMuYnV0dG9uLmdldFBvc2l0aW9uKCk7XHJcbiAgfVxyXG5cclxuICBzZXRQb3NpdGlvbiA9IChvZmZzZXQ6IG51bWJlciwgdmFsdWU6IG51bWJlcik6IHZvaWQgPT4ge1xyXG4gICAgdGhpcy5sYWJlbC5zZXRQb3NpdGlvbihvZmZzZXQgKyB0aGlzLmJ1dHRvbi5nZXRXaWR0aCgpLzIsIHZhbHVlKTtcclxuICAgIHRoaXMuYnV0dG9uLnNldFBvc2l0aW9uKG9mZnNldCk7XHJcbiAgfVxyXG5cclxuICBpbml0ID0gKGlzVmVydGljYWw6IGJvb2xlYW4pOiB2b2lkID0+IHtcclxuICAgIHRoaXMuYnV0dG9uLmluaXQoaXNWZXJ0aWNhbCk7XHJcbiAgICB0aGlzLmxhYmVsLmluaXQoaXNWZXJ0aWNhbCk7XHJcbiAgfVxyXG5cclxuICBnZXRXaWR0aCA9ICgpOiBudW1iZXIgPT4ge1xyXG4gICAgcmV0dXJuIHRoaXMuYnV0dG9uLmdldFdpZHRoKCk7XHJcbiAgfVxyXG5cclxuICBoaWRlUnVubmVyID0gKCk6IHZvaWQgPT4ge1xyXG4gICAgdGhpcy5idXR0b24uZWxlbS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XHJcbiAgICB0aGlzLmxhYmVsLmVsZW0uc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xyXG4gIH1cclxuXHJcbiAgaGlkZUxhYmVsID0gKCk6IHZvaWQgPT4ge1xyXG4gICAgdGhpcy5sYWJlbC5lbGVtLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcclxuICB9XHJcblxyXG4gIHNob3dMYWJlbCA9ICgpOiB2b2lkID0+IHtcclxuICAgIHRoaXMubGFiZWwuZWxlbS5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xyXG4gIH1cclxuXHJcbiAgc2hvd1J1bm5lciA9ICgpOiB2b2lkID0+IHtcclxuICAgIHRoaXMuYnV0dG9uLmVsZW0uc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcclxuICB9XHJcblxyXG4gIG9uTW91c2VEb3duID0gKGV2ZW50OiBNb3VzZUV2ZW50KTogdm9pZCA9PiB7XHJcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlbW92ZVwiLCB0aGlzLm9uTW91c2VNb3ZlKTtcclxuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZXVwXCIsIHRoaXMub25Nb3VzZVVwKTtcclxuICB9XHJcblxyXG4gIG9uTW91c2VNb3ZlID0gKGV2ZW50OiBNb3VzZUV2ZW50KTogdm9pZCA9PiB7XHJcbiAgICB0aGlzLm9ic2VydmVycy5ub3RpZnlPYnNlcnZlcnNEYXRhKHsgZXZlbnQ6IGV2ZW50LCBydW5uZXI6IHRoaXMgfSk7XHJcbiAgfVxyXG5cclxuICBvbk1vdXNlVXAgPSAoZXZlbnQ6IE1vdXNlRXZlbnQpOiB2b2lkID0+IHtcclxuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtb3VzZXVwXCIsIHRoaXMub25Nb3VzZVVwKTtcclxuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtb3VzZW1vdmVcIiwgdGhpcy5vbk1vdXNlTW92ZSk7XHJcbiAgfVxyXG5cclxuICBhcHBlbmRUb05vZGUgPSAoZW50cnk6IEhUTUxFbGVtZW50KTogdm9pZCA9PiB7XHJcbiAgICBbdGhpcy5idXR0b24uZWxlbSwgdGhpcy5sYWJlbC5lbGVtXS5tYXAoKGVsZW0pID0+IHtcclxuICAgICAgZW50cnkuYXBwZW5kQ2hpbGQoZWxlbSk7XHJcbiAgICAgIGVsZW0ub25tb3VzZWRvd24gPSB0aGlzLm9uTW91c2VEb3duO1xyXG4gICAgfSlcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IFJ1bm5lcjsiLCJpbXBvcnQgKiBhcyB0eXBlcyBmcm9tICcuLi90eXBlcyc7XHJcbmltcG9ydCB7IFZpZXcgfSBmcm9tICcuLi9WaWV3L1ZpZXcnO1xyXG5pbXBvcnQgTW9kZWwgZnJvbSAnLi4vTW9kZWwvTW9kZWwnO1xyXG5pbXBvcnQgTWFrZU9ic2VydmFibGVPYmplY3QgZnJvbSAnLi4vbWFrZU9ic2VydmFibGVPYmplY3QvTWFrZU9ic2VydmFibGVPYmplY3QnO1xyXG5pbXBvcnQgUGFyc2luZ0RpZ2l0cyBmcm9tIFwiLi9ibG9ja3MvcGFyc2luZ0RpZ2l0cy9QYXJzaW5nRGlnaXRzXCI7XHJcblxyXG5jbGFzcyBDb250cm9sbGVyIHtcclxuICB2aWV3OiBWaWV3O1xyXG5cclxuICBtb2RlbDogTW9kZWw7XHJcblxyXG4gIG9ic2VydmVyczogTWFrZU9ic2VydmFibGVPYmplY3Q7XHJcblxyXG4gIGNvbnN0cnVjdG9yKHBhcmFtZXRlcnMgPSB0eXBlcy5kZWZhdWx0UGFyYW1ldGVycykge1xyXG4gICAgdGhpcy52aWV3ID0gbmV3IFZpZXcocGFyYW1ldGVycyk7XHJcbiAgICB0aGlzLm1vZGVsID0gbmV3IE1vZGVsKHsgY3VycmVudE1pblZhbHVlOiBwYXJhbWV0ZXJzLm1pblZhbHVlLCBjdXJyZW50TWF4VmFsdWU6IHBhcmFtZXRlcnMubWF4VmFsdWUgfSk7XHJcbiAgICB0aGlzLm9ic2VydmVycyA9IG5ldyBNYWtlT2JzZXJ2YWJsZU9iamVjdCgpO1xyXG5cclxuICAgIHRoaXMudmlldy5vYnNlcnZlcnMuYWRkT2JzZXJ2ZXIoKCkgPT4ge1xyXG4gICAgICB0aGlzLm1vZGVsLmN1cnJlbnRWYWx1ZXMgPSB0aGlzLnZpZXcuY3VycmVudFZhbHVlcztcclxuICAgICAgdGhpcy5vYnNlcnZlcnMubm90aWZ5T2JzZXJ2ZXJzKCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICB0aGlzLm1vZGVsLm9ic2VydmVycy5hZGRPYnNlcnZlcigoKSA9PiB7XHJcbiAgICAgIHRoaXMudmlldy5jdXJyZW50VmFsdWVzID0gdGhpcy5tb2RlbC5jdXJyZW50VmFsdWVzO1xyXG4gICAgICB0aGlzLnZpZXcucmVuZXdSdW5uZXJzKCk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGFwcGVuZFRvTm9kZSA9IChlbnRyeTogSlF1ZXJ5KTogdm9pZCA9PiB7XHJcbiAgICB0aGlzLnZpZXcuYXBwZW5kVG9Ob2RlKGVudHJ5LmdldCgwKSk7XHJcbiAgICB0aGlzLnZpZXcuaW5pdCgpO1xyXG4gIH1cclxuXHJcbiAgY2hlY2tTdGVwID0gKHN0ZXA6IHN0cmluZyk6IG51bWJlciA9PiB7XHJcbiAgICBsZXQgc3RlcENoZWNrZWQgPSBNYXRoLmFicyhQYXJzaW5nRGlnaXRzLnBhcnNpbmcoc3RlcCkpO1xyXG5cclxuICAgIGlmIChzdGVwQ2hlY2tlZCA9PT0gbnVsbCB8fCBzdGVwQ2hlY2tlZCA9PT0gMCB8fCBzdGVwQ2hlY2tlZCA+ICh0aGlzLnZpZXcucGFyYW1ldGVycy5tYXhWYWx1ZSAtIHRoaXMudmlldy5wYXJhbWV0ZXJzLm1pblZhbHVlKS8yKSB7XHJcbiAgICAgIHJldHVybiB0aGlzLnZpZXcucGFyYW1ldGVycy5zdGVwO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChzdGVwQ2hlY2tlZCAlIDEgIT09IDApIHtcclxuICAgICAgdGhpcy52aWV3LnBhcmFtZXRlcnMuaXNGbG9hdCA9IHRydWU7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBpZiAodGhpcy52aWV3LnBhcmFtZXRlcnMubWF4VmFsdWUgJSAxID09PSAwICYmIHRoaXMudmlldy5wYXJhbWV0ZXJzLm1pblZhbHVlICUgMSA9PT0gMCkge1xyXG4gICAgICAgIHRoaXMudmlldy5wYXJhbWV0ZXJzLmlzRmxvYXQgPSBmYWxzZTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBzdGVwQ2hlY2tlZDtcclxuICB9XHJcblxyXG4gIGNoZWNrTWF4VmFsdWUgPSAobWF4VmFsdWU6IHN0cmluZyk6IG51bWJlciA9PiB7XHJcbiAgICBsZXQgbWF4VmFsdWVDaGVja2VkID0gUGFyc2luZ0RpZ2l0cy5wYXJzaW5nKG1heFZhbHVlKTtcclxuXHJcbiAgICBpZiAobWF4VmFsdWVDaGVja2VkID09PSBudWxsIHx8IG1heFZhbHVlQ2hlY2tlZCA8PSB0aGlzLnZpZXcucGFyYW1ldGVycy5taW5WYWx1ZSkge1xyXG4gICAgICByZXR1cm4gdGhpcy52aWV3LnBhcmFtZXRlcnMubWF4VmFsdWU7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKG1heFZhbHVlQ2hlY2tlZCAlIDEgIT09IDApIHtcclxuICAgICAgdGhpcy52aWV3LnBhcmFtZXRlcnMuaXNGbG9hdCA9IHRydWU7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBpZiAodGhpcy52aWV3LnBhcmFtZXRlcnMuc3RlcCAlIDEgPT09IDAgJiYgdGhpcy52aWV3LnBhcmFtZXRlcnMubWluVmFsdWUgJSAxID09PSAwKSB7XHJcbiAgICAgICAgdGhpcy52aWV3LnBhcmFtZXRlcnMuaXNGbG9hdCA9IGZhbHNlO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIG1heFZhbHVlQ2hlY2tlZDtcclxuICB9XHJcblxyXG4gIGNoZWNrTWluVmFsdWUgPSAobWluVmFsdWU6IHN0cmluZyk6IG51bWJlciA9PiB7XHJcbiAgICBsZXQgbWluVmFsdWVDaGVja2VkID0gUGFyc2luZ0RpZ2l0cy5wYXJzaW5nKG1pblZhbHVlKTtcclxuXHJcbiAgICBpZiAobWluVmFsdWVDaGVja2VkID09PSBudWxsIHx8IG1pblZhbHVlQ2hlY2tlZCA+PSB0aGlzLnZpZXcucGFyYW1ldGVycy5tYXhWYWx1ZSkge1xyXG4gICAgICByZXR1cm4gdGhpcy52aWV3LnBhcmFtZXRlcnMubWluVmFsdWU7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKG1pblZhbHVlQ2hlY2tlZCAlIDEgIT09IDApIHtcclxuICAgICAgdGhpcy52aWV3LnBhcmFtZXRlcnMuaXNGbG9hdCA9IHRydWU7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBpZiAodGhpcy52aWV3LnBhcmFtZXRlcnMubWF4VmFsdWUgJSAxID09PSAwICYmIHRoaXMudmlldy5wYXJhbWV0ZXJzLnN0ZXAgJSAxID09PSAwKSB7XHJcbiAgICAgICAgdGhpcy52aWV3LnBhcmFtZXRlcnMuaXNGbG9hdCA9IGZhbHNlO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIG1pblZhbHVlQ2hlY2tlZDtcclxuICB9XHJcblxyXG4gIHVwZGF0ZUNvbmZpZyA9IChwYXJhbWV0ZXJzOiBhbnkpOiB2b2lkID0+IHtcclxuICAgIE9iamVjdC5rZXlzKHBhcmFtZXRlcnMpLm1hcCgoa2V5KSA9PiB7XHJcbiAgICAgIGlmIChrZXkgPT09ICdzdGVwJykge1xyXG4gICAgICAgIHBhcmFtZXRlcnMuc3RlcCA9IHRoaXMuY2hlY2tTdGVwKHBhcmFtZXRlcnMuc3RlcCk7XHJcbiAgICAgIH0gZWxzZSBpZiAoa2V5ID09PSAnbWF4VmFsdWUnKSB7XHJcbiAgICAgICAgcGFyYW1ldGVycy5tYXhWYWx1ZSA9IHRoaXMuY2hlY2tNYXhWYWx1ZShwYXJhbWV0ZXJzLm1heFZhbHVlKTtcclxuICAgICAgfSBlbHNlIGlmIChrZXkgPT09ICdtaW5WYWx1ZScpIHtcclxuICAgICAgICBwYXJhbWV0ZXJzLm1pblZhbHVlID0gdGhpcy5jaGVja01pblZhbHVlKHBhcmFtZXRlcnMubWluVmFsdWUpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHBhcmFtZXRlcnNba2V5XSA9IHBhcmFtZXRlcnNba2V5XTtcclxuICAgICAgfVxyXG4gICAgfSlcclxuXHJcbiAgICB0aGlzLnZpZXcucGFyYW1ldGVycyA9IE9iamVjdC5hc3NpZ24odGhpcy52aWV3LnBhcmFtZXRlcnMsIHBhcmFtZXRlcnMpO1xyXG5cclxuICAgIHRoaXMudmlldy5pbml0KCk7XHJcbiAgfVxyXG5cclxuICBnZXRWYWx1ZXMgPSAoKTogdHlwZXMuQ3VycmVudFZhbHVlcyA9PiB7XHJcbiAgICByZXR1cm4gdGhpcy5tb2RlbC5jdXJyZW50VmFsdWVzO1xyXG4gIH1cclxuXHJcbiAgc2V0VmFsdWVzID0gKGN1cnJlbnRNaW5WYWx1ZTogbnVtYmVyLCBjdXJyZW50TWF4VmFsdWU6IG51bWJlcik6IHZvaWQgPT4ge1xyXG4gICAgaWYgKGN1cnJlbnRNaW5WYWx1ZSB8fCBjdXJyZW50TWluVmFsdWUgPT09IDApIHtcclxuICAgICAgdGhpcy5tb2RlbC5zZXRDdXJyZW50TWluVmFsdWUoY3VycmVudE1pblZhbHVlKTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoY3VycmVudE1heFZhbHVlIHx8IGN1cnJlbnRNYXhWYWx1ZSA9PT0gMCkge1xyXG4gICAgICB0aGlzLm1vZGVsLnNldEN1cnJlbnRNYXhWYWx1ZShjdXJyZW50TWF4VmFsdWUpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZ2V0Q29uZmlnID0gKCk6IHR5cGVzLlBhcmFtZXRlcnMgPT4ge1xyXG4gICAgcmV0dXJuIHRoaXMudmlldy5wYXJhbWV0ZXJzO1xyXG4gIH1cclxuXHJcbiAgYWRkT2JzZXJ2ZXIgPSAoZm46IEZ1bmN0aW9uKTogdm9pZCA9PiB7XHJcbiAgICB0aGlzLm9ic2VydmVycy5hZGRPYnNlcnZlcihmbik7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBDb250cm9sbGVyOyIsImltcG9ydCAqIGFzIHR5cGVzIGZyb20gJy4uL3R5cGVzJztcclxuaW1wb3J0IE1ha2VPYnNlcnZhYmxlT2JqZWN0IGZyb20gJy4uL21ha2VPYnNlcnZhYmxlT2JqZWN0L01ha2VPYnNlcnZhYmxlT2JqZWN0JztcclxuaW1wb3J0IGNyZWF0ZUVsZW0gZnJvbSAnLi9ibG9ja3MvY3JlYXRlRWxlbS9jcmVhdGVFbGVtJztcclxuaW1wb3J0IEJhciBmcm9tICcuL2Jsb2Nrcy9iYXIvQmFyJztcclxuaW1wb3J0IFNjYWxlIGZyb20gJy4vYmxvY2tzL3NjYWxlL1NjYWxlJztcclxuaW1wb3J0IFJ1bm5lciBmcm9tICcuL2Jsb2Nrcy9ydW5uZXIvUnVubmVyJztcclxuaW1wb3J0IFRyYWNrIGZyb20gJy4vYmxvY2tzL3RyYWNrL1RyYWNrJztcclxuaW1wb3J0IFByb2dyZXNzQmFyIGZyb20gJy4vYmxvY2tzL3Byb2dyZXNzQmFyL1Byb2dyZXNzQmFyJztcclxuXHJcbmNsYXNzIFZpZXcge1xyXG4gIGJhcjogQmFyO1xyXG4gIHByb2dyZXNzQmFyOiBQcm9ncmVzc0JhcjtcclxuICBydW5uZXJBZGRpdGlvbmFsOiBSdW5uZXI7XHJcbiAgcnVubmVyTWFpbjogUnVubmVyO1xyXG4gIHBhcmFtZXRlcnM6IHR5cGVzLlBhcmFtZXRlcnM7XHJcbiAgY3VycmVudFZhbHVlczogdHlwZXMuQ3VycmVudFZhbHVlcztcclxuICBvYnNlcnZlcnM6IE1ha2VPYnNlcnZhYmxlT2JqZWN0O1xyXG4gIHNjYWxlOiBTY2FsZTtcclxuICB0cmFjazogVHJhY2s7XHJcblxyXG4gIGNvbnN0cnVjdG9yKHBhcmFtZXRlcnMgPSB0eXBlcy5kZWZhdWx0UGFyYW1ldGVycykge1xyXG4gICAgdGhpcy5iYXIgPSBuZXcgQmFyKHBhcmFtZXRlcnMuaXNWZXJ0aWNhbCk7XHJcbiAgICB0aGlzLnByb2dyZXNzQmFyID0gbmV3IFByb2dyZXNzQmFyKHBhcmFtZXRlcnMuaXNWZXJ0aWNhbCk7XHJcblxyXG4gICAgdGhpcy5jdXJyZW50VmFsdWVzID0ge1xyXG4gICAgICBjdXJyZW50TWluVmFsdWU6IHBhcmFtZXRlcnMubWluVmFsdWUsXHJcbiAgICAgIGN1cnJlbnRNYXhWYWx1ZTogcGFyYW1ldGVycy5tYXhWYWx1ZSxcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLm9ic2VydmVycyA9IG5ldyBNYWtlT2JzZXJ2YWJsZU9iamVjdCgpO1xyXG4gICAgdGhpcy5wYXJhbWV0ZXJzID0gcGFyYW1ldGVycztcclxuXHJcbiAgICB0aGlzLnNjYWxlID0gbmV3IFNjYWxlKHBhcmFtZXRlcnMsIHRoaXMuZ3JhZHVhdGlvbk9ic2VydmVyKTtcclxuICAgIHRoaXMucnVubmVyQWRkaXRpb25hbCA9IG5ldyBSdW5uZXIocGFyYW1ldGVycy5pc1ZlcnRpY2FsLCB0aGlzLnJ1bm5lck9ic2VydmVyKTtcclxuICAgIHRoaXMucnVubmVyTWFpbiA9IG5ldyBSdW5uZXIocGFyYW1ldGVycy5pc1ZlcnRpY2FsLCB0aGlzLnJ1bm5lck9ic2VydmVyKTtcclxuXHJcbiAgICB0aGlzLnRyYWNrID0gbmV3IFRyYWNrKHtcclxuICAgICAgcnVubmVyTWFpbjogdGhpcy5ydW5uZXJNYWluLFxyXG4gICAgICBydW5uZXJBZGRpdGlvbmFsOiB0aGlzLnJ1bm5lckFkZGl0aW9uYWwsXHJcbiAgICAgIHByb2dyZXNzQmFyOiB0aGlzLnByb2dyZXNzQmFyLFxyXG4gICAgICBiYXI6IHRoaXMuYmFyLFxyXG4gICAgICBwYXJhbWV0ZXJzOiB0aGlzLnBhcmFtZXRlcnMsXHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGdyYWR1YXRpb25PYnNlcnZlciA9ICh2YWx1ZTogbnVtYmVyKSA9PiB7XHJcbiAgICBsZXQgb2Zmc2V0ID0gdGhpcy50cmFjay5vZmZzZXRWYWx1ZUNvbnZlcnRlcih2YWx1ZSk7XHJcbiAgICBsZXQgcnVubmVyO1xyXG5cclxuICAgIGlmICh0aGlzLnBhcmFtZXRlcnMuaXNSYW5nZSkge1xyXG4gICAgICBydW5uZXIgPSB0aGlzLmNoZWNrUnVubmVyQ2xvc2VyKG9mZnNldCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBydW5uZXIgPSB0aGlzLnJ1bm5lck1haW47XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5tb3ZlUnVubmVyKHRoaXMudHJhY2sub2Zmc2V0UHJvY2Vzc2luZyhvZmZzZXQsIHJ1bm5lcikpO1xyXG4gIH1cclxuXHJcbiAgcnVubmVyT2JzZXJ2ZXIgPSAoeyBldmVudCwgcnVubmVyIH06IHR5cGVzLlJ1bm5lck9ic2VydmVyRGF0YSk6IHZvaWQgPT4ge1xyXG4gICAgdGhpcy5tb3ZlUnVubmVyKHRoaXMudHJhY2sub25SdW5uZXJNb3ZlKGV2ZW50LCBydW5uZXIpKTtcclxuICB9XHJcblxyXG4gIG1vdmVSdW5uZXIgPSAob2JqOiB0eXBlcy5SdW5uZXJNb3ZlRGF0YSk6IHZvaWQgPT4ge1xyXG4gICAgb2JqLnJ1bm5lci5zZXRQb3NpdGlvbihvYmoub2Zmc2V0LCBvYmoudmFsdWUpO1xyXG5cclxuICAgIGlmIChvYmoucnVubmVyID09PSB0aGlzLnJ1bm5lckFkZGl0aW9uYWwpIHtcclxuICAgICAgdGhpcy5jdXJyZW50VmFsdWVzLmN1cnJlbnRNaW5WYWx1ZSA9IG9iai52YWx1ZTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAob2JqLnJ1bm5lciA9PT0gdGhpcy5ydW5uZXJNYWluKSB7XHJcbiAgICAgIHRoaXMuY3VycmVudFZhbHVlcy5jdXJyZW50TWF4VmFsdWUgPSBvYmoudmFsdWU7XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy50cmFjay51cGRhdGVQcm9ncmVzc0JhcigpO1xyXG4gICAgdGhpcy5vYnNlcnZlcnMubm90aWZ5T2JzZXJ2ZXJzKCk7XHJcbiAgfVxyXG5cclxuICBjaGVja1J1bm5lckNsb3NlciA9IChvZmZzZXQ6IG51bWJlcik6IFJ1bm5lciA9PiB7XHJcbiAgICBpZiAoTWF0aC5hYnMob2Zmc2V0IC0gdGhpcy50cmFjay5nZXRNYWluUnVubmVyT2Zmc2V0KCkpIDwgTWF0aC5hYnMob2Zmc2V0IC0gdGhpcy50cmFjay5nZXRBZGRpdGlvbmFsUnVubmVyT2Zmc2V0KCkpKSB7XHJcbiAgICAgIHJldHVybiB0aGlzLnJ1bm5lck1haW47XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHRoaXMucnVubmVyQWRkaXRpb25hbDtcclxuICB9XHJcblxyXG4gIG9uQ2xpY2tCYXJIYW5kbGVyID0gKGV2ZW50OiBNb3VzZUV2ZW50KTogdm9pZCA9PiB7XHJcbiAgICBjb25zdCBjb29yZGluYXRlID0gdGhpcy5wYXJhbWV0ZXJzLmlzVmVydGljYWwgPyBldmVudC5jbGllbnRZIDogZXZlbnQuY2xpZW50WDtcclxuICAgIGNvbnN0IG9mZnNldCA9IGNvb3JkaW5hdGUgLSB0aGlzLmJhci5nZXRQb3NpdGlvbigpIC0gdGhpcy5ydW5uZXJNYWluLmdldFdpZHRoKCkvMjtcclxuXHJcbiAgICB0aGlzLm1vdmVSdW5uZXIodGhpcy50cmFjay5vZmZzZXRQcm9jZXNzaW5nKG9mZnNldCwgdGhpcy5jaGVja1J1bm5lckNsb3NlcihvZmZzZXQpKSk7XHJcbiAgfVxyXG5cclxuICBpbml0ID0gKCk6IHZvaWQgPT4ge1xyXG4gICAgdGhpcy5iYXIuaW5pdCh0aGlzLnBhcmFtZXRlcnMuaXNWZXJ0aWNhbCk7XHJcbiAgICB0aGlzLnByb2dyZXNzQmFyLmluaXQodGhpcy5wYXJhbWV0ZXJzLmlzVmVydGljYWwpO1xyXG4gICAgdGhpcy5ydW5uZXJBZGRpdGlvbmFsLmluaXQodGhpcy5wYXJhbWV0ZXJzLmlzVmVydGljYWwpO1xyXG4gICAgdGhpcy5ydW5uZXJNYWluLmluaXQodGhpcy5wYXJhbWV0ZXJzLmlzVmVydGljYWwpO1xyXG4gICAgdGhpcy50cmFjay5pbml0KHRoaXMucGFyYW1ldGVycyk7XHJcblxyXG4gICAgdGhpcy5zY2FsZS5pbml0KHRoaXMucGFyYW1ldGVycyk7XHJcblxyXG4gICAgdGhpcy5ydW5uZXJBZGRpdGlvbmFsLmhpZGVSdW5uZXIoKTtcclxuXHJcbiAgICBpZiAodGhpcy5wYXJhbWV0ZXJzLnNob3dMYWJlbCkge1xyXG4gICAgICB0aGlzLnJ1bm5lckFkZGl0aW9uYWwuc2hvd0xhYmVsKCk7XHJcbiAgICAgIHRoaXMucnVubmVyTWFpbi5zaG93TGFiZWwoKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMucnVubmVyQWRkaXRpb25hbC5oaWRlTGFiZWwoKTtcclxuICAgICAgdGhpcy5ydW5uZXJNYWluLmhpZGVMYWJlbCgpO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICh0aGlzLnBhcmFtZXRlcnMuaXNSYW5nZSkge1xyXG4gICAgICB0aGlzLnJ1bm5lckFkZGl0aW9uYWwuc2hvd1J1bm5lcigpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5ydW5uZXJBZGRpdGlvbmFsLmhpZGVSdW5uZXIoKTtcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLnJ1bm5lckFkZGl0aW9uYWwuc2V0UG9zaXRpb24oLXRoaXMucnVubmVyQWRkaXRpb25hbC5nZXRXaWR0aCgpLzIsIHRoaXMucGFyYW1ldGVycy5taW5WYWx1ZSk7XHJcbiAgICB0aGlzLnJ1bm5lck1haW4uc2V0UG9zaXRpb24odGhpcy5iYXIuZ2V0RGltZW5zaW9uKCkgLSB0aGlzLnJ1bm5lck1haW4uZ2V0V2lkdGgoKS8yLCB0aGlzLnBhcmFtZXRlcnMubWF4VmFsdWUpO1xyXG5cclxuICAgIHRoaXMucmVuZXdSdW5uZXJzKCk7XHJcbiAgfVxyXG5cclxuICByZW5ld1J1bm5lcnMoKSB7XHJcbiAgICB0aGlzLm1vdmVSdW5uZXIodGhpcy50cmFjay5vZmZzZXRQcm9jZXNzaW5nKHRoaXMudHJhY2sub2Zmc2V0VmFsdWVDb252ZXJ0ZXIodGhpcy5jdXJyZW50VmFsdWVzLmN1cnJlbnRNYXhWYWx1ZSksIHRoaXMucnVubmVyTWFpbikpO1xyXG4gICAgdGhpcy5tb3ZlUnVubmVyKHRoaXMudHJhY2sub2Zmc2V0UHJvY2Vzc2luZyh0aGlzLnRyYWNrLm9mZnNldFZhbHVlQ29udmVydGVyKHRoaXMuY3VycmVudFZhbHVlcy5jdXJyZW50TWluVmFsdWUpLCB0aGlzLnJ1bm5lckFkZGl0aW9uYWwpKTtcclxuICB9XHJcblxyXG4gIGFwcGVuZFRvTm9kZSA9IChlbnRyeTogSFRNTEVsZW1lbnQpOiB2b2lkID0+IHtcclxuICAgIGVudHJ5LmFwcGVuZENoaWxkKHRoaXMuYmFyLmVsZW0pLmFwcGVuZENoaWxkKHRoaXMucHJvZ3Jlc3NCYXIuZWxlbSk7XHJcbiAgICB0aGlzLnJ1bm5lck1haW4uYXBwZW5kVG9Ob2RlKGVudHJ5KTtcclxuICAgIHRoaXMucnVubmVyQWRkaXRpb25hbC5hcHBlbmRUb05vZGUoZW50cnkpO1xyXG5cclxuICAgIHRoaXMuc2NhbGUubWFya3MubWFwKChtYXJrKSA9PiB7XHJcbiAgICAgIGVudHJ5LmFwcGVuZENoaWxkKG1hcmsuZWxlbSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICB0aGlzLnNjYWxlLm1vdmVNYXJrcygpO1xyXG5cclxuICAgIHRoaXMuYmFyLmVsZW0ub25jbGljayA9IHRoaXMub25DbGlja0JhckhhbmRsZXI7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQge2NyZWF0ZUVsZW0sIEJhciwgVmlldywgU2NhbGV9O1xyXG4iLCJpbXBvcnQgY3JlYXRlRWxlbSBmcm9tICcuLi9jcmVhdGVFbGVtL2NyZWF0ZUVsZW0nO1xyXG5pbXBvcnQgTWFrZU9ic2VydmFibGVPYmplY3QgZnJvbSAnLi4vLi4vLi4vbWFrZU9ic2VydmFibGVPYmplY3QvTWFrZU9ic2VydmFibGVPYmplY3QnO1xyXG5cclxuY2xhc3MgTWFyayB7XHJcbiAgZWxlbTogSFRNTEVsZW1lbnQ7XHJcbiAgaXNWZXJ0aWNhbDogYm9vbGVhbjtcclxuICB2YWx1ZTogbnVtYmVyO1xyXG4gIG9ic2VydmVyczogTWFrZU9ic2VydmFibGVPYmplY3Q7XHJcblxyXG4gIGNvbnN0cnVjdG9yKGlzVmVydGljYWw6IGJvb2xlYW4pIHtcclxuICAgIHRoaXMuZWxlbSA9IGNyZWF0ZUVsZW0oJ3NsaWRlcl9fbWFyaycpO1xyXG4gICAgdGhpcy5pc1ZlcnRpY2FsID0gaXNWZXJ0aWNhbDtcclxuICAgIHRoaXMub2JzZXJ2ZXJzID0gbmV3IE1ha2VPYnNlcnZhYmxlT2JqZWN0KCk7XHJcbiAgICB0aGlzLmVsZW0ub25jbGljayA9IHRoaXMub25DbGlja0hhbmRsZXI7XHJcbiAgfVxyXG5cclxuICBvbkNsaWNrSGFuZGxlciA9ICgpOiB2b2lkID0+IHtcclxuICAgIHRoaXMub2JzZXJ2ZXJzLm5vdGlmeU9ic2VydmVycygpO1xyXG4gIH1cclxuXHJcbiAgZ2V0UG9zaXRpb24gPSAoKTogbnVtYmVyID0+IHtcclxuICAgIGlmICh0aGlzLmlzVmVydGljYWwpIHtcclxuICAgICAgcmV0dXJuIHRoaXMuZWxlbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS50b3A7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHRoaXMuZWxlbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5sZWZ0O1xyXG4gIH1cclxuXHJcbiAgc2V0UG9zaXRpb24gPSAob2Zmc2V0OiBudW1iZXIsIHZhbHVlOiBudW1iZXIpOiB2b2lkID0+IHtcclxuICAgIHRoaXMuZWxlbS5pbm5lckhUTUwgPSB2YWx1ZSArICcnO1xyXG4gICAgdGhpcy52YWx1ZSA9IHZhbHVlO1xyXG5cclxuICAgIGlmICh0aGlzLmlzVmVydGljYWwpIHtcclxuICAgICAgdGhpcy5lbGVtLnN0eWxlLmxlZnQgPSAnNTAlJztcclxuICAgICAgdGhpcy5lbGVtLnN0eWxlLnRvcCA9IG9mZnNldCArICclJztcclxuICAgICAgdGhpcy5lbGVtLnN0eWxlLm1hcmdpblRvcCA9IC10aGlzLmdldERpbWVuc2lvbigpLzIgKyAncHgnO1xyXG4gICAgICB0aGlzLmVsZW0uc3R5bGUubWFyZ2luTGVmdCA9ICctNDVweCc7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLmVsZW0uc3R5bGUudG9wID0gJzUwJSc7XHJcbiAgICAgIHRoaXMuZWxlbS5zdHlsZS5sZWZ0ID0gb2Zmc2V0ICsgJyUnO1xyXG4gICAgICB0aGlzLmVsZW0uc3R5bGUubWFyZ2luTGVmdCA9IC10aGlzLmdldERpbWVuc2lvbigpLzIgKyAncHgnO1xyXG4gICAgICB0aGlzLmVsZW0uc3R5bGUubWFyZ2luVG9wID0gJzE1cHgnO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZ2V0RGltZW5zaW9uID0gKCk6IG51bWJlciA9PiB7XHJcbiAgICBpZiAodGhpcy5pc1ZlcnRpY2FsKSB7XHJcbiAgICAgIHJldHVybiB0aGlzLmVsZW0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkuaGVpZ2h0O1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB0aGlzLmVsZW0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkud2lkdGg7XHJcbiAgfVxyXG5cclxuICBpbml0ID0gKGlzVmVydGljYWw6IGJvb2xlYW4pOiB2b2lkID0+IHtcclxuICAgIHRoaXMuaXNWZXJ0aWNhbCA9IGlzVmVydGljYWw7XHJcblxyXG4gICAgaWYgKHRoaXMuaXNWZXJ0aWNhbCkge1xyXG4gICAgICB0aGlzLmVsZW0uY2xhc3NMaXN0LmFkZCgnc2xpZGVyX19tYXJrX3Bvc2l0aW9uX3ZlcnRpY2FsJyk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLmVsZW0uY2xhc3NMaXN0LnJlbW92ZSgnc2xpZGVyX19tYXJrX3Bvc2l0aW9uX3ZlcnRpY2FsJyk7XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBNYXJrOyIsImltcG9ydCBjcmVhdGVFbGVtIGZyb20gJy4uL2NyZWF0ZUVsZW0vY3JlYXRlRWxlbSc7XHJcblxyXG5jbGFzcyBCdXR0b24ge1xyXG4gIGVsZW06IEhUTUxFbGVtZW50O1xyXG5cclxuICBpc1ZlcnRpY2FsOiBib29sZWFuO1xyXG5cclxuICBjb25zdHJ1Y3Rvcihpc1ZlcnRpY2FsOiBib29sZWFuKSB7XHJcbiAgICB0aGlzLmVsZW0gPSBjcmVhdGVFbGVtKCdzbGlkZXJfX2J1dHRvbicpO1xyXG4gICAgdGhpcy5pc1ZlcnRpY2FsID0gaXNWZXJ0aWNhbDtcclxuICB9XHJcblxyXG4gIGdldFdpZHRoID0gKCk6IG51bWJlciA9PiB7XHJcbiAgICByZXR1cm4gdGhpcy5lbGVtLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLndpZHRoO1xyXG4gIH1cclxuXHJcbiAgZ2V0UG9zaXRpb24gPSAoKTogbnVtYmVyID0+IHtcclxuICAgIGlmICh0aGlzLmlzVmVydGljYWwpIHtcclxuICAgICAgcmV0dXJuIHRoaXMuZWxlbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS50b3A7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHRoaXMuZWxlbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5sZWZ0O1xyXG4gIH1cclxuXHJcbiAgc2V0UG9zaXRpb24gPSAob2Zmc2V0OiBudW1iZXIpOiB2b2lkID0+IHtcclxuICAgIGlmICh0aGlzLmlzVmVydGljYWwpIHtcclxuICAgICAgdGhpcy5lbGVtLnN0eWxlLmxlZnQgPSAnNTAlJztcclxuICAgICAgdGhpcy5lbGVtLnN0eWxlLnRvcCA9IG9mZnNldCArICdweCc7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLmVsZW0uc3R5bGUudG9wID0gJzUwJSc7XHJcbiAgICAgIHRoaXMuZWxlbS5zdHlsZS5sZWZ0ID0gb2Zmc2V0ICsgJ3B4JztcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGluaXQgPSAoaXNWZXJ0aWNhbDogYm9vbGVhbik6IHZvaWQgPT4ge1xyXG4gICAgdGhpcy5pc1ZlcnRpY2FsID0gaXNWZXJ0aWNhbDtcclxuXHJcbiAgICBpZiAodGhpcy5pc1ZlcnRpY2FsKSB7XHJcbiAgICAgIHRoaXMuZWxlbS5jbGFzc0xpc3QuYWRkKCdzbGlkZXJfX2J1dHRvbl9wb3NpdGlvbl92ZXJ0aWNhbCcpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5lbGVtLmNsYXNzTGlzdC5yZW1vdmUoJ3NsaWRlcl9fYnV0dG9uX3Bvc2l0aW9uX3ZlcnRpY2FsJyk7XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBCdXR0b247XHJcbiIsImltcG9ydCBjcmVhdGVFbGVtIGZyb20gJy4uL2NyZWF0ZUVsZW0vY3JlYXRlRWxlbSc7XHJcblxyXG5jbGFzcyBMYWJlbCB7XHJcbiAgZWxlbTogSFRNTEVsZW1lbnQ7XHJcbiAgaXNWZXJ0aWNhbDogYm9vbGVhbjtcclxuXHJcbiAgY29uc3RydWN0b3IoaXNWZXJ0aWNhbDogYm9vbGVhbikge1xyXG4gICAgdGhpcy5lbGVtID0gY3JlYXRlRWxlbSgnc2xpZGVyX19idXR0b24tbGFiZWwnKTtcclxuICAgIHRoaXMuaXNWZXJ0aWNhbCA9IGlzVmVydGljYWw7XHJcbiAgfVxyXG5cclxuICBnZXRQb3NpdGlvbiA9ICgpOiBudW1iZXIgPT4ge1xyXG4gICAgaWYgKHRoaXMuaXNWZXJ0aWNhbCkge1xyXG4gICAgICByZXR1cm4gdGhpcy5lbGVtLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnRvcDtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gdGhpcy5lbGVtLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmxlZnQ7XHJcbiAgfVxyXG5cclxuICBzZXRQb3NpdGlvbiA9IChvZmZzZXQ6IG51bWJlciwgdmFsdWU6IG51bWJlcik6IHZvaWQgPT4ge1xyXG4gICAgdGhpcy5lbGVtLmlubmVySFRNTCA9IHZhbHVlICsgJyc7XHJcblxyXG4gICAgaWYgKHRoaXMuaXNWZXJ0aWNhbCkge1xyXG4gICAgICB0aGlzLmVsZW0uc3R5bGUubGVmdCA9ICc1MCUnO1xyXG4gICAgICB0aGlzLmVsZW0uc3R5bGUudG9wID0gb2Zmc2V0IC0gdGhpcy5nZXREaW1lbnNpb24oKS8yICsgJ3B4JztcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuZWxlbS5zdHlsZS50b3AgPSAnNTAlJztcclxuICAgICAgdGhpcy5lbGVtLnN0eWxlLmxlZnQgPSBvZmZzZXQgLSB0aGlzLmdldERpbWVuc2lvbigpLzIgKyAncHgnO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZ2V0RGltZW5zaW9uID0gKCk6IG51bWJlciA9PiB7XHJcbiAgICBpZiAodGhpcy5pc1ZlcnRpY2FsKSB7XHJcbiAgICAgIHJldHVybiB0aGlzLmVsZW0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkuaGVpZ2h0O1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB0aGlzLmVsZW0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkud2lkdGg7XHJcbiAgfVxyXG5cclxuICBpbml0ID0gKGlzVmVydGljYWw6IGJvb2xlYW4pOiB2b2lkID0+IHtcclxuICAgIHRoaXMuaXNWZXJ0aWNhbCA9IGlzVmVydGljYWw7XHJcblxyXG4gICAgaWYgKHRoaXMuaXNWZXJ0aWNhbCkge1xyXG4gICAgICB0aGlzLmVsZW0uY2xhc3NMaXN0LmFkZCgnc2xpZGVyX19idXR0b24tbGFiZWxfcG9zaXRpb25fdmVydGljYWwnKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuZWxlbS5jbGFzc0xpc3QucmVtb3ZlKCdzbGlkZXJfX2J1dHRvbi1sYWJlbF9wb3NpdGlvbl92ZXJ0aWNhbCcpO1xyXG4gICAgfVxyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgTGFiZWw7IiwiaW1wb3J0ICogYXMgdHlwZXMgZnJvbSAnLi4vLi4vLi4vdHlwZXMnO1xyXG5pbXBvcnQgQmFyIGZyb20gJy4uL2Jhci9CYXInO1xyXG5pbXBvcnQgUnVubmVyIGZyb20gJy4uLy4uL2Jsb2Nrcy9ydW5uZXIvUnVubmVyJztcclxuaW1wb3J0IFByb2dyZXNzQmFyIGZyb20gJy4uLy4uL2Jsb2Nrcy9wcm9ncmVzc0Jhci9Qcm9ncmVzc0Jhcic7XHJcblxyXG5jbGFzcyBUcmFjayB7XHJcbiAgcGFyYW1ldGVyczogdHlwZXMuUGFyYW1ldGVycztcclxuICBydW5uZXJNYWluOiBSdW5uZXI7XHJcbiAgcnVubmVyQWRkaXRpb25hbDogUnVubmVyO1xyXG4gIHByb2dyZXNzQmFyOiBQcm9ncmVzc0JhcjtcclxuICBzY2FsZTogQmFyO1xyXG5cclxuICBjb25zdHJ1Y3RvcihkYXRhOiB0eXBlcy5UcmFja0NvbnN0cnVjdG9yRGF0YSkge1xyXG4gICAgdGhpcy5zY2FsZSA9IGRhdGEuYmFyO1xyXG4gICAgdGhpcy5ydW5uZXJNYWluID0gZGF0YS5ydW5uZXJNYWluO1xyXG4gICAgdGhpcy5ydW5uZXJBZGRpdGlvbmFsID0gZGF0YS5ydW5uZXJBZGRpdGlvbmFsO1xyXG4gICAgdGhpcy5wcm9ncmVzc0JhciA9IGRhdGEucHJvZ3Jlc3NCYXI7XHJcbiAgICB0aGlzLnBhcmFtZXRlcnMgPSBkYXRhLnBhcmFtZXRlcnM7XHJcbiAgfVxyXG5cclxuICBvblJ1bm5lck1vdmUgPSAoZXZlbnRNbTogTW91c2VFdmVudCwgcnVubmVyOiBSdW5uZXIpOiB0eXBlcy5SdW5uZXJNb3ZlRGF0YSA9PiB7XHJcbiAgICBjb25zdCBjb29yZGluYXRlID0gdGhpcy5wYXJhbWV0ZXJzLmlzVmVydGljYWwgPyBldmVudE1tLmNsaWVudFkgOiBldmVudE1tLmNsaWVudFg7XHJcbiAgICBjb25zdCBvZmZzZXQgPSBjb29yZGluYXRlIC0gdGhpcy5zY2FsZS5nZXRQb3NpdGlvbigpIC0gdGhpcy5ydW5uZXJBZGRpdGlvbmFsLmdldFdpZHRoKCkvMjtcclxuXHJcbiAgICByZXR1cm4gdGhpcy5vZmZzZXRQcm9jZXNzaW5nKG9mZnNldCwgcnVubmVyKTtcclxuICB9XHJcblxyXG4gIG9mZnNldFByb2Nlc3Npbmcob2Zmc2V0OiBudW1iZXIsIHJ1bm5lcjogUnVubmVyKTogdHlwZXMuUnVubmVyTW92ZURhdGEge1xyXG4gICAgbGV0IHJvdW5kVmFsdWU7XHJcbiAgICBsZXQgcm91bmRPZmZzZXQ7XHJcbiAgICByb3VuZE9mZnNldCA9IHRoaXMucnVubmVyT2Zmc2V0Q2hlY2sob2Zmc2V0LCBydW5uZXIpO1xyXG5cclxuICAgIFtyb3VuZE9mZnNldCwgcm91bmRWYWx1ZV0gPSB0aGlzLnJvdW5kT2Zmc2V0QnV0dChyb3VuZE9mZnNldCk7XHJcblxyXG4gICAgcmV0dXJuIHtcclxuICAgICAgcnVubmVyOiBydW5uZXIsXHJcbiAgICAgIG9mZnNldDogcm91bmRPZmZzZXQsXHJcbiAgICAgIHZhbHVlOiByb3VuZFZhbHVlLFxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcnVubmVyT2Zmc2V0Q2hlY2sgPSAob2Zmc2V0OiBudW1iZXIsIHJ1bm5lcjogUnVubmVyKTogbnVtYmVyID0+IHtcclxuICAgIGNvbnN0IHN0ZXBXaWR0aCA9IHRoaXMucGFyYW1ldGVycy5zdGVwKnRoaXMuc2NhbGUuZ2V0RGltZW5zaW9uKCkvKHRoaXMucGFyYW1ldGVycy5tYXhWYWx1ZSAtIHRoaXMucGFyYW1ldGVycy5taW5WYWx1ZSk7XHJcbiAgICBjb25zdCBtaW5PZmZzZXQgPSBzdGVwV2lkdGgvMS41ID4gdGhpcy5ydW5uZXJNYWluLmdldFdpZHRoKCkgPyBzdGVwV2lkdGgvMS41IDogdGhpcy5ydW5uZXJNYWluLmdldFdpZHRoKCk7XHJcblxyXG4gICAgaWYgKHJ1bm5lciA9PT0gdGhpcy5ydW5uZXJBZGRpdGlvbmFsKSB7XHJcbiAgICAgIGlmIChvZmZzZXQgPiB0aGlzLnJ1bm5lck1haW4uZ2V0UG9zaXRpb24oKSAtIHRoaXMuc2NhbGUuZ2V0UG9zaXRpb24oKSAtIG1pbk9mZnNldCkge1xyXG4gICAgICAgIG9mZnNldCA9IHRoaXMucnVubmVyTWFpbi5nZXRQb3NpdGlvbigpIC0gdGhpcy5zY2FsZS5nZXRQb3NpdGlvbigpIC0gbWluT2Zmc2V0O1xyXG4gICAgICB9XHJcbiAgICB9IGVsc2UgaWYgKHJ1bm5lciA9PT0gdGhpcy5ydW5uZXJNYWluKSB7XHJcbiAgICAgIGlmIChvZmZzZXQgPCB0aGlzLnJ1bm5lckFkZGl0aW9uYWwuZ2V0UG9zaXRpb24oKSAtIHRoaXMuc2NhbGUuZ2V0UG9zaXRpb24oKSArIG1pbk9mZnNldCkge1xyXG4gICAgICAgIG9mZnNldCA9IHRoaXMucnVubmVyQWRkaXRpb25hbC5nZXRQb3NpdGlvbigpIC0gdGhpcy5zY2FsZS5nZXRQb3NpdGlvbigpICsgbWluT2Zmc2V0O1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIG9mZnNldDtcclxuICB9XHJcblxyXG4gIHJvdW5kT2Zmc2V0QnV0dCA9IChjdXJyZW50T2Zmc2V0OiBudW1iZXIpOiBbbnVtYmVyLCBudW1iZXJdID0+IHtcclxuICAgIGNvbnN0IGN1cnJlbnRWYWx1ZSA9IHRoaXMucGFyYW1ldGVycy5taW5WYWx1ZSArIChjdXJyZW50T2Zmc2V0ICsgdGhpcy5ydW5uZXJNYWluLmdldFdpZHRoKCkvMikqKHRoaXMucGFyYW1ldGVycy5tYXhWYWx1ZSAtIHRoaXMucGFyYW1ldGVycy5taW5WYWx1ZSkvdGhpcy5zY2FsZS5nZXREaW1lbnNpb24oKTtcclxuICAgIGxldCByb3VuZFZhbHVlID0gdGhpcy5yb3VuZChjdXJyZW50VmFsdWUsIHRoaXMucGFyYW1ldGVycy5zdGVwKTtcclxuXHJcbiAgICBpZiAodGhpcy5wYXJhbWV0ZXJzLmlzRmxvYXQpIHtcclxuICAgICAgcm91bmRWYWx1ZSA9IHBhcnNlRmxvYXQocm91bmRWYWx1ZS50b0ZpeGVkKDIpKTtcclxuICAgIH1cclxuXHJcbiAgICBsZXQgcm91bmRPZmZzZXQgPSB0aGlzLm9mZnNldFZhbHVlQ29udmVydGVyKHJvdW5kVmFsdWUpO1xyXG5cclxuICAgIGlmIChyb3VuZE9mZnNldCA8IC10aGlzLnJ1bm5lck1haW4uZ2V0V2lkdGgoKS8yKSB7XHJcbiAgICAgIHJvdW5kT2Zmc2V0ID0gLXRoaXMucnVubmVyTWFpbi5nZXRXaWR0aCgpLzI7XHJcbiAgICAgIHJvdW5kVmFsdWUgPSB0aGlzLnBhcmFtZXRlcnMubWluVmFsdWU7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHJvdW5kT2Zmc2V0ID4gdGhpcy5zY2FsZS5nZXREaW1lbnNpb24oKSAtIHRoaXMucnVubmVyTWFpbi5nZXRXaWR0aCgpLzIpIHtcclxuICAgICAgcm91bmRPZmZzZXQgPSB0aGlzLnNjYWxlLmdldERpbWVuc2lvbigpIC0gdGhpcy5ydW5uZXJNYWluLmdldFdpZHRoKCkvMjtcclxuICAgICAgcm91bmRWYWx1ZSA9IHRoaXMucGFyYW1ldGVycy5tYXhWYWx1ZTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gW3JvdW5kT2Zmc2V0LCByb3VuZFZhbHVlXTtcclxuICB9XHJcblxyXG4gIG9mZnNldFZhbHVlQ29udmVydGVyID0gKHZhbHVlOiBudW1iZXIpOiBudW1iZXIgPT4ge1xyXG4gICAgcmV0dXJuICgodmFsdWUgLSB0aGlzLnBhcmFtZXRlcnMubWluVmFsdWUpLyh0aGlzLnBhcmFtZXRlcnMubWF4VmFsdWUgLSB0aGlzLnBhcmFtZXRlcnMubWluVmFsdWUpKnRoaXMuc2NhbGUuZ2V0RGltZW5zaW9uKCkgLSB0aGlzLnJ1bm5lck1haW4uZ2V0V2lkdGgoKS8yKTtcclxuICB9XHJcblxyXG4gIHJvdW5kID0gKHZhbHVlOiBudW1iZXIsIHN0ZXA6IG51bWJlcik6IG51bWJlciA9PiB7XHJcbiAgICBjb25zdCB3aG9sZSA9IE1hdGgudHJ1bmModmFsdWUvc3RlcCk7XHJcbiAgICBjb25zdCByZW1pbmRlciA9ICsodmFsdWUgLSB3aG9sZSpzdGVwKS50b0ZpeGVkKDIpO1xyXG5cclxuICAgIGlmICh2YWx1ZSA8IDApIHtcclxuICAgICAgcmV0dXJuIE1hdGguYWJzKHJlbWluZGVyKSA8IHN0ZXAvMiA/IHdob2xlKnN0ZXAgOiAod2hvbGUgLSAxKSpzdGVwO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICh2YWx1ZSA8PSB0aGlzLnBhcmFtZXRlcnMubWluVmFsdWUpIHtcclxuICAgICAgcmV0dXJuIHRoaXMucGFyYW1ldGVycy5taW5WYWx1ZTtcclxuICAgIH0gZWxzZSBpZiAodmFsdWUgPj0gdGhpcy5wYXJhbWV0ZXJzLm1heFZhbHVlKSB7XHJcbiAgICAgIHJldHVybiB0aGlzLnBhcmFtZXRlcnMubWF4VmFsdWU7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHJlbWluZGVyIDwgc3RlcC8yID8gd2hvbGUqc3RlcCA6ICh3aG9sZSArIDEpKnN0ZXA7XHJcbiAgfVxyXG5cclxuICBnZXRNYWluUnVubmVyT2Zmc2V0ID0gKCk6IG51bWJlciA9PiB7XHJcbiAgICBjb25zdCBvZmZzZXQgPSB0aGlzLnJ1bm5lck1haW4uZ2V0UG9zaXRpb24oKSAtIHRoaXMuc2NhbGUuZ2V0UG9zaXRpb24oKSArIHRoaXMucnVubmVyTWFpbi5nZXRXaWR0aCgpLzI7XHJcbiAgICByZXR1cm4gb2Zmc2V0IDwgMD8gMCA6IG9mZnNldDtcclxuICB9XHJcblxyXG4gIGdldEFkZGl0aW9uYWxSdW5uZXJPZmZzZXQgPSAoKTogbnVtYmVyID0+IHtcclxuICAgIGlmICh0aGlzLnBhcmFtZXRlcnMuaXNSYW5nZSkge1xyXG4gICAgICByZXR1cm4gdGhpcy5ydW5uZXJBZGRpdGlvbmFsLmdldFBvc2l0aW9uKCkgLSB0aGlzLnNjYWxlLmdldFBvc2l0aW9uKCkgKyB0aGlzLnJ1bm5lck1haW4uZ2V0V2lkdGgoKS8yO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiAwO1xyXG4gIH1cclxuXHJcbiAgdXBkYXRlUHJvZ3Jlc3NCYXIgPSAoKTogdm9pZCA9PiB7XHJcbiAgICB0aGlzLnByb2dyZXNzQmFyLmluaXQodGhpcy5wYXJhbWV0ZXJzLmlzVmVydGljYWwpO1xyXG4gICAgdGhpcy5wcm9ncmVzc0Jhci5zZXRQb3NpdGlvbih0aGlzLmdldEFkZGl0aW9uYWxSdW5uZXJPZmZzZXQoKSk7XHJcbiAgICB0aGlzLnByb2dyZXNzQmFyLnNldERpbWVuc2lvbih0aGlzLmdldE1haW5SdW5uZXJPZmZzZXQoKSAtIHRoaXMuZ2V0QWRkaXRpb25hbFJ1bm5lck9mZnNldCgpKTtcclxuICB9XHJcblxyXG4gIGluaXQgPSAocGFyYW1ldGVyczogdHlwZXMuUGFyYW1ldGVycyk6IHZvaWQgPT4ge1xyXG4gICAgdGhpcy5wYXJhbWV0ZXJzID0gcGFyYW1ldGVycztcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IFRyYWNrO1xyXG4iLCJpbXBvcnQgY3JlYXRlRWxlbSBmcm9tICcuLi9jcmVhdGVFbGVtL2NyZWF0ZUVsZW0nO1xyXG5cclxuY2xhc3MgUHJvZ3Jlc3NCYXIge1xyXG4gIGVsZW06IEhUTUxFbGVtZW50O1xyXG4gIGlzVmVydGljYWw6IGJvb2xlYW47XHJcblxyXG4gIGNvbnN0cnVjdG9yKGlzVmVydGljYWw6IGJvb2xlYW4pIHtcclxuICAgIHRoaXMuZWxlbSA9IGNyZWF0ZUVsZW0oJ3NsaWRlcl9fc2NhbGUtZmlsbGluZycpO1xyXG4gICAgdGhpcy5pc1ZlcnRpY2FsID0gaXNWZXJ0aWNhbDtcclxuICB9XHJcblxyXG4gIHNldFBvc2l0aW9uID0gKG9mZnNldDogbnVtYmVyKTogdm9pZCA9PiB7XHJcbiAgICBpZiAodGhpcy5pc1ZlcnRpY2FsKSB7XHJcbiAgICAgIHRoaXMuZWxlbS5zdHlsZS5sZWZ0ID0gJzAnO1xyXG4gICAgICB0aGlzLmVsZW0uc3R5bGUud2lkdGggPSAnMTAwJSc7XHJcbiAgICAgIHRoaXMuZWxlbS5zdHlsZS50b3AgPSBvZmZzZXQgKyAncHgnO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5lbGVtLnN0eWxlLnRvcCA9ICcwJztcclxuICAgICAgdGhpcy5lbGVtLnN0eWxlLmhlaWdodCA9ICcxMDAlJztcclxuICAgICAgdGhpcy5lbGVtLnN0eWxlLmxlZnQgPSBvZmZzZXQgKyAncHgnO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgc2V0RGltZW5zaW9uID0gKGRpbWVuc2lvbjogbnVtYmVyKTogdm9pZCA9PiB7XHJcbiAgICBpZiAodGhpcy5pc1ZlcnRpY2FsKSB7XHJcbiAgICAgIHRoaXMuZWxlbS5zdHlsZS5oZWlnaHQgPSBkaW1lbnNpb24gKyAncHgnO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5lbGVtLnN0eWxlLndpZHRoID0gZGltZW5zaW9uICsgJ3B4JztcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGluaXQgPSAoaXNWZXJ0aWNhbDogYm9vbGVhbik6IHZvaWQgPT4ge1xyXG4gICAgdGhpcy5pc1ZlcnRpY2FsID0gaXNWZXJ0aWNhbDtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IFByb2dyZXNzQmFyO1xyXG4iLCJpbXBvcnQgKiBhcyB0eXBlcyBmcm9tICcuLi90eXBlcyc7XHJcbmltcG9ydCBNYWtlT2JzZXJ2YWJsZU9iamVjdCBmcm9tICcuLi9tYWtlT2JzZXJ2YWJsZU9iamVjdC9NYWtlT2JzZXJ2YWJsZU9iamVjdCc7XHJcblxyXG5jbGFzcyBNb2RlbCB7XHJcbiAgY3VycmVudFZhbHVlczogdHlwZXMuQ3VycmVudFZhbHVlcztcclxuICBvYnNlcnZlcnM6IE1ha2VPYnNlcnZhYmxlT2JqZWN0O1xyXG5cclxuICBjb25zdHJ1Y3RvcihjdXJyZW50VmFsdWVzOiB0eXBlcy5DdXJyZW50VmFsdWVzKSB7XHJcbiAgICB0aGlzLmN1cnJlbnRWYWx1ZXMgPSBjdXJyZW50VmFsdWVzO1xyXG4gICAgdGhpcy5vYnNlcnZlcnMgPSBuZXcgTWFrZU9ic2VydmFibGVPYmplY3QoKTtcclxuICB9XHJcblxyXG4gIHNldEN1cnJlbnRNaW5WYWx1ZShkYXRhOiBudW1iZXIpOiB2b2lkIHtcclxuICAgIGlmICh0aGlzLmN1cnJlbnRWYWx1ZXMuY3VycmVudE1pblZhbHVlICE9PSBkYXRhKSB7XHJcbiAgICAgIHRoaXMuY3VycmVudFZhbHVlcy5jdXJyZW50TWluVmFsdWUgPSBkYXRhO1xyXG4gICAgICB0aGlzLm9ic2VydmVycy5ub3RpZnlPYnNlcnZlcnMoKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHNldEN1cnJlbnRNYXhWYWx1ZShkYXRhOiBudW1iZXIpOiB2b2lkIHtcclxuICAgIGlmICh0aGlzLmN1cnJlbnRWYWx1ZXMuY3VycmVudE1heFZhbHVlICE9PSBkYXRhKSB7XHJcbiAgICAgIHRoaXMuY3VycmVudFZhbHVlcy5jdXJyZW50TWF4VmFsdWUgPSBkYXRhO1xyXG4gICAgICB0aGlzLm9ic2VydmVycy5ub3RpZnlPYnNlcnZlcnMoKTtcclxuICAgIH1cclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IE1vZGVsOyIsInZhciBtYXAgPSB7XG5cdFwiLi9Db250cm9sbGVyL0NvbnRyb2xsZXIudHNcIjogNyxcblx0XCIuL0NvbnRyb2xsZXIvYmxvY2tzL3BhcnNpbmdEaWdpdHMvUGFyc2luZ0RpZ2l0cy50c1wiOiAzLFxuXHRcIi4vTW9kZWwvTW9kZWwudHNcIjogMTQsXG5cdFwiLi9WaWV3L1ZpZXcudHNcIjogOCxcblx0XCIuL1ZpZXcvYmxvY2tzL2Jhci9CYXIudHNcIjogNCxcblx0XCIuL1ZpZXcvYmxvY2tzL2J1dHRvbi9CdXR0b24udHNcIjogMTAsXG5cdFwiLi9WaWV3L2Jsb2Nrcy9jcmVhdGVFbGVtL2NyZWF0ZUVsZW0udHNcIjogMCxcblx0XCIuL1ZpZXcvYmxvY2tzL2xhYmVsL0xhYmVsLnRzXCI6IDExLFxuXHRcIi4vVmlldy9ibG9ja3MvbWFyay9NYXJrLnRzXCI6IDksXG5cdFwiLi9WaWV3L2Jsb2Nrcy9wcm9ncmVzc0Jhci9Qcm9ncmVzc0Jhci50c1wiOiAxMyxcblx0XCIuL1ZpZXcvYmxvY2tzL3J1bm5lci9SdW5uZXIudHNcIjogNixcblx0XCIuL1ZpZXcvYmxvY2tzL3NjYWxlL1NjYWxlLnRzXCI6IDUsXG5cdFwiLi9WaWV3L2Jsb2Nrcy90cmFjay9UcmFjay50c1wiOiAxMixcblx0XCIuL21ha2VPYnNlcnZhYmxlT2JqZWN0L01ha2VPYnNlcnZhYmxlT2JqZWN0LnRzXCI6IDEsXG5cdFwiLi9zbGlkZXIudHNcIjogMTYsXG5cdFwiLi9zdHlsZS5zY3NzXCI6IDE3LFxuXHRcIi4vdHlwZXMudHNcIjogMlxufTtcblxuXG5mdW5jdGlvbiB3ZWJwYWNrQ29udGV4dChyZXEpIHtcblx0dmFyIGlkID0gd2VicGFja0NvbnRleHRSZXNvbHZlKHJlcSk7XG5cdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKGlkKTtcbn1cbmZ1bmN0aW9uIHdlYnBhY2tDb250ZXh0UmVzb2x2ZShyZXEpIHtcblx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhtYXAsIHJlcSkpIHtcblx0XHR2YXIgZSA9IG5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIgKyByZXEgKyBcIidcIik7XG5cdFx0ZS5jb2RlID0gJ01PRFVMRV9OT1RfRk9VTkQnO1xuXHRcdHRocm93IGU7XG5cdH1cblx0cmV0dXJuIG1hcFtyZXFdO1xufVxud2VicGFja0NvbnRleHQua2V5cyA9IGZ1bmN0aW9uIHdlYnBhY2tDb250ZXh0S2V5cygpIHtcblx0cmV0dXJuIE9iamVjdC5rZXlzKG1hcCk7XG59O1xud2VicGFja0NvbnRleHQucmVzb2x2ZSA9IHdlYnBhY2tDb250ZXh0UmVzb2x2ZTtcbm1vZHVsZS5leHBvcnRzID0gd2VicGFja0NvbnRleHQ7XG53ZWJwYWNrQ29udGV4dC5pZCA9IDE1OyIsImltcG9ydCBDb250cm9sbGVyIGZyb20gJy4vQ29udHJvbGxlci9Db250cm9sbGVyJztcclxuXHJcbihmdW5jdGlvbigkKSB7XHJcbiAgY29uc3QgY29uZmlnID0ge1xyXG4gICAgbWluVmFsdWU6IDAsXHJcbiAgICBtYXhWYWx1ZTogMTAwMCxcclxuICAgIHN0ZXA6IDEsXHJcbiAgICBpc1JhbmdlOiBmYWxzZSxcclxuICAgIGlzVmVydGljYWw6IGZhbHNlLFxyXG4gICAgc2hvd0xhYmVsOiBmYWxzZSxcclxuICAgIGlzRmxvYXQ6IGZhbHNlLFxyXG4gIH07XHJcblxyXG4gIGNvbnN0IG1ldGhvZHM6IE1ldGhvZHMgPSB7XHJcbiAgICBpbml0OiBmdW5jdGlvbihvcHQ6IENvbmZpZykge1xyXG4gICAgICBpZiAoISQodGhpcykuZGF0YSgnc2xpZGVyJykpIHtcclxuICAgICAgICBjb25zdCBuZXdDb25maWcgPSB7IC4uLmNvbmZpZyB9O1xyXG4gICAgICAgIGNvbnN0IHNsaWRlciA9IG5ldyBDb250cm9sbGVyKCQuZXh0ZW5kKG5ld0NvbmZpZywgb3B0KSk7XHJcbiAgICAgICAgJCh0aGlzKS5kYXRhKCdzbGlkZXInLCBzbGlkZXIpO1xyXG5cclxuICAgICAgICBzbGlkZXIuYXBwZW5kVG9Ob2RlKCQodGhpcykpO1xyXG4gICAgICB9XHJcbiAgICB9LFxyXG5cclxuICAgIHVwZGF0ZTogZnVuY3Rpb24ob3B0OiBDb25maWcpIHtcclxuICAgICAgY29uc3Qgc2xpZGVyID0gJCh0aGlzKS5kYXRhKCdzbGlkZXInKTtcclxuICAgICAgc2xpZGVyLnVwZGF0ZUNvbmZpZyhvcHQpO1xyXG4gICAgfSxcclxuXHJcbiAgICBnZXRDb25maWc6IGZ1bmN0aW9uKCkge1xyXG4gICAgICBjb25zdCBzbGlkZXIgPSAkKHRoaXMpLmRhdGEoJ3NsaWRlcicpO1xyXG4gICAgICByZXR1cm4gc2xpZGVyLmdldENvbmZpZygpO1xyXG4gICAgfSxcclxuXHJcbiAgICBzZXRWYWx1ZXM6IGZ1bmN0aW9uKG9wdDogQ29uZmlnKSB7XHJcbiAgICAgIGNvbnN0IHNsaWRlciA9ICQodGhpcykuZGF0YSgnc2xpZGVyJyk7XHJcbiAgICAgIHNsaWRlci5zZXRWYWx1ZXMob3B0LmN1cnJlbnRNaW5WYWx1ZSwgb3B0LmN1cnJlbnRNYXhWYWx1ZSk7XHJcbiAgICB9LFxyXG5cclxuICAgIGlucHV0c0F0dGFjaDogZnVuY3Rpb24ob3B0OiBJbnB1dHNPYmplY3QpIHtcclxuICAgICAgY29uc3Qgc2xpZGVyID0gJCh0aGlzKS5kYXRhKCdzbGlkZXInKTtcclxuICAgICAgc2xpZGVyLmFkZE9ic2VydmVyKCgpID0+IHtcclxuICAgICAgICBvcHQubWluVmFsdWVJbnB1dC52YWwoc2xpZGVyLmdldFZhbHVlcygpLmN1cnJlbnRNaW5WYWx1ZSk7XHJcbiAgICAgICAgb3B0Lm1heFZhbHVlSW5wdXQudmFsKHNsaWRlci5nZXRWYWx1ZXMoKS5jdXJyZW50TWF4VmFsdWUpO1xyXG4gICAgICAgIG9wdC5tYXhWYWx1ZS52YWwoc2xpZGVyLmdldENvbmZpZygpLm1heFZhbHVlKTtcclxuICAgICAgICBvcHQubWluVmFsdWUudmFsKHNsaWRlci5nZXRDb25maWcoKS5taW5WYWx1ZSk7XHJcbiAgICAgICAgb3B0LnN0ZXAudmFsKHNsaWRlci5nZXRDb25maWcoKS5zdGVwKTtcclxuICAgICAgfSlcclxuICAgIH0sXHJcbiAgfVxyXG5cclxuICAkLmZuLm9tZmdzbGlkZXIgPSBmdW5jdGlvbihtZXRob2Q6IHN0cmluZykge1xyXG4gICAgaWYgKG1ldGhvZHNbbWV0aG9kXSkge1xyXG4gICAgICByZXR1cm4gbWV0aG9kc1ttZXRob2RdLmFwcGx5KHRoaXMsIEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMSkpO1xyXG4gICAgfSBlbHNlIGlmICh0eXBlb2YgbWV0aG9kID09PSAnb2JqZWN0JyB8fCAhbWV0aG9kKSB7XHJcbiAgICAgIHJldHVybiBtZXRob2RzLmluaXQuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICQuZXJyb3IoYNCc0LXRgtC+0LQgJHttZXRob2R9INC90LUg0L3QsNC50LTQtdC9INCyINC/0LvQsNCz0LjQvdC1IGpRdWVyeS5vbWZnc2xpZGVyYCk7XHJcbiAgICB9XHJcbiAgfTtcclxufSkoalF1ZXJ5KTtcclxuIiwiZXhwb3J0IGRlZmF1bHQgX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcImluZGV4Lmh0bWxcIjsiLCJpbXBvcnQgJy4vZGVtby1wYWdlL2luZGV4Lmh0bWwnO1xyXG5cclxuZnVuY3Rpb24gaW1wb3J0QWxsKHI6ICBfX1dlYnBhY2tNb2R1bGVBcGkuUmVxdWlyZUNvbnRleHQpIHtcclxuICAgIHIua2V5cygpLmZvckVhY2gocik7XHJcbn1cclxuXHJcbmltcG9ydEFsbChyZXF1aXJlLmNvbnRleHQoJy4vcGx1Z2luJywgdHJ1ZSwgLyg/PCFcXC5kKVxcLihqc3x0c3xzY3NzKSQvaSkpOyJdLCJzb3VyY2VSb290IjoiIn0=