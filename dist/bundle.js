!function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=19)}([function(e,t,r){"use strict";r.r(t);var n=function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var n=Array(e),i=0;for(t=0;t<r;t++)for(var a=arguments[t],s=0,u=a.length;s<u;s++,i++)n[i]=a[s];return n},i=function(){function e(){this.observers=[]}return e.prototype.addObserver=function(e){if("function"!=typeof e)throw new Error("observer must be a function");this.observers.forEach((function(t){if(t===e)throw new Error("observer already in the list")})),this.observers.push(e)},e.prototype.removeObserver=function(e){for(var t=0;t<this.observers.length;t+=1){if(this.observers[t]===e)return void this.observers.splice(t,1)}throw new Error("could not find observer in list of observers")},e.prototype.notifyObservers=function(e){void 0===e&&(e=null),n(this.observers).map((function(t){return t(e)}))},e}();t.default=i},function(e,t,r){"use strict";r.r(t),t.default=function(e){var t=document.createElement("div");return t.ondragstart=function(){return!1},t.classList.add(e),t}},function(e,t,r){"use strict";r.r(t),r.d(t,"defaultParameters",(function(){return n}));var n={minValue:0,maxValue:1e3,step:1,isRange:!1,isVertical:!1,showLabel:!0,isFloat:!1}},function(e,t,r){"use strict";r.r(t);var n=function(){function e(){}return e.parsing=function(e){if("number"==typeof e)return e;if("string"==typeof e){if(/^-?\d+[.,]\d+$/.test(e))return parseFloat(e);if(/^-?\d+$/.test(e))return parseInt(e,10)}return null},e}();t.default=n},function(e,t,r){"use strict";r.r(t);var n=r(9),i=r(10),a=r(0),s=function(e,t){var r=this;this.getPosition=function(){return r.knob.getPosition()},this.setPosition=function(e,t){r.tooltip.setPosition(e+r.knob.getWidth()/2,t),r.knob.setPosition(e)},this.update=function(e){r.knob.update(e),r.tooltip.update(e)},this.getWidth=function(){return r.knob.getWidth()},this.hideRunner=function(){r.knob.elem.style.display="none",r.tooltip.elem.style.display="none"},this.hideLabel=function(){r.tooltip.elem.style.display="none"},this.showLabel=function(){r.tooltip.elem.style.display="block"},this.showRunner=function(){r.knob.elem.style.display="block"},this.appendToNode=function(e){[r.knob.elem,r.tooltip.elem].forEach((function(t){e.appendChild(t),t.onmousedown=r.handleRunnerMouseDown}))},this.handleRunnerMouseDown=function(e){e.preventDefault(),document.addEventListener("mousemove",r.handleRunnerMouseMove),document.addEventListener("mouseup",r.handleRunnerMouseUp)},this.handleRunnerMouseMove=function(e){r.observers.notifyObservers({event:e,runner:r})},this.handleRunnerMouseUp=function(){document.removeEventListener("mouseup",r.handleRunnerMouseUp),document.removeEventListener("mousemove",r.handleRunnerMouseMove)},this.isVertical=e,this.knob=new n.default(e),this.tooltip=new i.default(e),this.observers=new a.default,this.observers.addObserver(t)};t.default=s},function(e,t,r){"use strict";r.r(t);var n=r(2),i=r(6),a=r(14),s=r(0),u=r(3),o=function(e){var t=this;void 0===e&&(e=n.defaultParameters),this.appendToNode=function(e){t.view.appendToNode(e.get(0)),t.view.update()},this.updateConfig=function(e){var r=e;Object.keys(e).forEach((function(n){"step"===n?r.step=t.checkStep(e.step):"maxValue"===n?r.maxValue=t.checkMaxValue(e.maxValue):"minValue"===n&&(r.minValue=t.checkMinValue(e.minValue))})),t.view.parameters=Object.assign(t.view.parameters,r),t.view.update()},this.getValues=function(){return t.model.currentValues},this.setValues=function(e,r){(e||0===e)&&t.model.setCurrentMinValue(e),(r||0===r)&&t.model.setCurrentMaxValue(r)},this.getConfig=function(){return t.view.parameters},this.addObserver=function(e){t.observers.addObserver(e)},this.checkStep=function(e){var r=Math.abs(u.default.parsing(e));return t.isStepValueWrong(r)?t.view.parameters.step:(r%1!=0?t.view.parameters.isFloat=!0:t.isOthersValuesFloat("step")||(t.view.parameters.isFloat=!1),r)},this.isStepValueWrong=function(e){var r=e>(t.view.parameters.maxValue-t.view.parameters.minValue)/2;return null===e||0===e||r},this.isOthersValuesFloat=function(e){switch(e){case"step":return t.view.parameters.maxValue%1!=0||t.view.parameters.minValue%1!=0;case"maxValue":return t.view.parameters.step%1!=0||t.view.parameters.minValue%1!=0;case"minValue":return t.view.parameters.step%1!=0||t.view.parameters.maxValue%1!=0;default:return!1}},this.checkMaxValue=function(e){var r=u.default.parsing(e);return t.isMaxValueWrong(r)?t.view.parameters.maxValue:(r%1!=0?t.view.parameters.isFloat=!0:t.isOthersValuesFloat("maxValue")||(t.view.parameters.isFloat=!1),r)},this.isMaxValueWrong=function(e){return null===e||e<=t.view.parameters.minValue},this.checkMinValue=function(e){var r=u.default.parsing(e);return t.isMinValueWrong(r)?t.view.parameters.minValue:(r%1!=0?t.view.parameters.isFloat=!0:t.isOthersValuesFloat("minValue")||(t.view.parameters.isFloat=!1),r)},this.isMinValueWrong=function(e){return null===e||e>=t.view.parameters.maxValue},this.addViewObserver=function(){t.view.observers.addObserver((function(){t.model.currentValues=t.view.currentValues,t.observers.notifyObservers()}))},this.addModelObserver=function(){t.model.observers.addObserver((function(){t.view.currentValues=t.model.currentValues,t.view.update()}))},this.view=new i.default(e),this.model=new a.default({currentMinValue:e.minValue,currentMaxValue:e.maxValue}),this.observers=new s.default,this.addViewObserver(),this.addModelObserver()};t.default=o},function(e,t,r){"use strict";r.r(t);var n=r(2),i=r(0),a=r(7),s=function(e){var t=this;void 0===e&&(e=n.defaultParameters),this.update=function(){t.track.update(t.parameters),t.track.renewRunners(t.currentValues)},this.handleTrackValueChanging=function(e){"minValue"===e.typeOfValue?t.currentValues.currentMinValue=e.value:"maxValue"===e.typeOfValue&&(t.currentValues.currentMaxValue=e.value),t.observers.notifyObservers()},this.appendToNode=function(e){t.track.appendToNode(e)},this.init=function(){t.currentValues={currentMinValue:t.parameters.minValue,currentMaxValue:t.parameters.maxValue},t.track.observers.addObserver(t.handleTrackValueChanging)},this.parameters=e,this.observers=new i.default,this.track=new a.default(this.parameters),this.init()};t.default=s},function(e,t,r){"use strict";r.r(t);var n=r(8),i=r(4),a=r(11),s=r(13),u=r(0),o=function(){function e(e){var t=this;this.update=function(e){t.parameters=e,t.bar.update(t.parameters.isVertical),t.progressBar.update(t.parameters.isVertical),t.runnerAdditional.update(t.parameters.isVertical),t.runnerMain.update(t.parameters.isVertical),t.scale.update(t.parameters),t.runnerAdditional.hideRunner(),t.parameters.showLabel?(t.runnerAdditional.showLabel(),t.runnerMain.showLabel()):(t.runnerAdditional.hideLabel(),t.runnerMain.hideLabel()),t.parameters.isRange?t.runnerAdditional.showRunner():t.runnerAdditional.hideRunner(),t.runnerAdditional.setPosition(-t.runnerAdditional.getWidth()/2,t.parameters.minValue),t.runnerMain.setPosition(t.bar.getDimension()-t.runnerMain.getWidth()/2,t.parameters.maxValue)},this.appendToNode=function(e){e.appendChild(t.bar.elem).appendChild(t.progressBar.elem),t.bar.elem.onclick=t.handleBarClick,t.runnerMain.appendToNode(e),t.runnerAdditional.appendToNode(e),t.scale.marks.forEach((function(t){e.appendChild(t.elem)})),t.scale.moveMarks()},this.convertOffsetToValue=function(e){return(e-t.parameters.minValue)*t.bar.getDimension()/(t.parameters.maxValue-t.parameters.minValue)-t.runnerMain.getWidth()/2},this.getMainRunnerOffset=function(){var e=t.runnerMain.getPosition()-t.bar.getPosition()+t.runnerMain.getWidth()/2;return e<0?0:e},this.getAdditionalRunnerOffset=function(){return t.parameters.isRange?t.runnerAdditional.getPosition()-t.bar.getPosition()+t.runnerMain.getWidth()/2:0},this.handleRunnerMove=function(e){var r=e.event,n=e.runner;t.moveRunner(t.processRunnerMouseEvent(r,n))},this.moveRunner=function(e){e.runner.setPosition(e.offset,e.value),e.runner===t.runnerAdditional&&t.observers.notifyObservers({typeOfValue:"minValue",value:e.value}),e.runner===t.runnerMain&&t.observers.notifyObservers({typeOfValue:"maxValue",value:e.value}),t.updateProgressBar()},this.processRunnerMouseEvent=function(e,r){var n=(t.parameters.isVertical?e.clientY:e.clientX)-t.bar.getPosition()-t.runnerAdditional.getWidth()/2;return t.processRunnerOffset(n,r)},this.processRunnerOffset=function(e,r){var n,i;return i=t.checkRunnerOffset(e,r),{runner:r,offset:i=(n=t.roundOffsetRunner(i))[0],value:n[1]}},this.checkRunnerOffset=function(e,r){var n=t.parameters.step*t.bar.getDimension()/(t.parameters.maxValue-t.parameters.minValue),i=n/1.5>t.runnerMain.getWidth()?n/1.5:t.runnerMain.getWidth(),a=e;return r===t.runnerAdditional?e>t.runnerMain.getPosition()-t.bar.getPosition()-i&&(a=t.runnerMain.getPosition()-t.bar.getPosition()-i):r===t.runnerMain&&e<t.runnerAdditional.getPosition()-t.bar.getPosition()+i&&(a=t.runnerAdditional.getPosition()-t.bar.getPosition()+i),a},this.roundOffsetRunner=function(e){var r=t.parameters.minValue+(e+t.runnerMain.getWidth()/2)*(t.parameters.maxValue-t.parameters.minValue)/t.bar.getDimension(),n=t.round(r,t.parameters.step);t.parameters.isFloat&&(n=parseFloat(n.toFixed(2)));var i=t.convertOffsetToValue(n);return i<-t.runnerMain.getWidth()/2&&(i=-t.runnerMain.getWidth()/2,n=t.parameters.minValue),i>t.bar.getDimension()-t.runnerMain.getWidth()/2&&(i=t.bar.getDimension()-t.runnerMain.getWidth()/2,n=t.parameters.maxValue),[i,n]},this.round=function(e,r){var n=Math.trunc(e/r),i=+(e-n*r).toFixed(2);return e<0?Math.abs(i)<r/2?n*r:(n-1)*r:e<=t.parameters.minValue?t.parameters.minValue:e>=t.parameters.maxValue?t.parameters.maxValue:i<r/2?n*r:(n+1)*r},this.handleScaleClick=function(e){var r,n=t.convertOffsetToValue(e);r=t.parameters.isRange?t.checkRunnerCloser(n):t.runnerMain,t.moveRunner(t.processRunnerOffset(n,r))},this.checkRunnerCloser=function(e){return Math.abs(e-t.getMainRunnerOffset())<Math.abs(e-t.getAdditionalRunnerOffset())?t.runnerMain:t.runnerAdditional},this.handleBarClick=function(e){var r=(t.parameters.isVertical?e.clientY:e.clientX)-t.bar.getPosition()-t.runnerMain.getWidth()/2;t.moveRunner(t.processRunnerOffset(r,t.checkRunnerCloser(r)))},this.updateProgressBar=function(){t.progressBar.update(t.parameters.isVertical),t.progressBar.setPosition(t.getAdditionalRunnerOffset()),t.progressBar.setDimension(t.getMainRunnerOffset()-t.getAdditionalRunnerOffset())},this.parameters=e,this.runnerMain=new i.default(this.parameters.isVertical,this.handleRunnerMove),this.runnerAdditional=new i.default(this.parameters.isVertical,this.handleRunnerMove),this.progressBar=new s.default(this.parameters.isVertical),this.bar=new n.default(this.parameters.isVertical),this.scale=new a.default(this.parameters,this.handleScaleClick),this.observers=new u.default}return e.prototype.renewRunners=function(e){this.moveRunner(this.processRunnerOffset(this.convertOffsetToValue(e.currentMaxValue),this.runnerMain)),this.moveRunner(this.processRunnerOffset(this.convertOffsetToValue(e.currentMinValue),this.runnerAdditional))},e}();t.default=o},function(e,t,r){"use strict";r.r(t);var n=r(1),i=function(e){var t=this;this.getPosition=function(){return t.isVertical?t.elem.getBoundingClientRect().top:t.elem.getBoundingClientRect().left},this.getDimension=function(){return t.isVertical?t.elem.getBoundingClientRect().height:t.elem.getBoundingClientRect().width},this.update=function(e){t.isVertical=e,t.isVertical?t.elem.classList.add("slider__bar_position_vertical"):t.elem.classList.remove("slider__bar_position_vertical")},this.elem=Object(n.default)("slider__bar"),this.isVertical=e};t.default=i},function(e,t,r){"use strict";r.r(t);var n=r(1),i=function(e){var t=this;this.getWidth=function(){return t.elem.getBoundingClientRect().width},this.getPosition=function(){return t.isVertical?t.elem.getBoundingClientRect().top:t.elem.getBoundingClientRect().left},this.setPosition=function(e){t.isVertical?(t.elem.style.left="50%",t.elem.style.top=e+"px"):(t.elem.style.top="50%",t.elem.style.left=e+"px")},this.update=function(e){t.isVertical=e,t.isVertical?t.elem.classList.add("slider__button_position_vertical"):t.elem.classList.remove("slider__button_position_vertical")},this.elem=Object(n.default)("slider__button"),this.isVertical=e};t.default=i},function(e,t,r){"use strict";r.r(t);var n=r(1),i=function(e){var t=this;this.getPosition=function(){return t.isVertical?t.elem.getBoundingClientRect().top:t.elem.getBoundingClientRect().left},this.setPosition=function(e,r){t.elem.innerHTML=r+"",t.isVertical?(t.elem.style.left="50%",t.elem.style.top=e-t.getDimension()/2+"px"):(t.elem.style.top="50%",t.elem.style.left=e-t.getDimension()/2+"px")},this.getDimension=function(){return t.isVertical?t.elem.getBoundingClientRect().height:t.elem.getBoundingClientRect().width},this.update=function(e){t.isVertical=e,t.isVertical?t.elem.classList.add("slider__button-label_position_vertical"):t.elem.classList.remove("slider__button-label_position_vertical")},this.elem=Object(n.default)("slider__button-label"),this.isVertical=e};t.default=i},function(e,t,r){"use strict";r.r(t);var n=r(12),i=r(0),a=function(e,t){var r=this;this.update=function(e){r.parameters=e,r.moveMarks()},this.moveMarks=function(){r.marks.forEach((function(e,t){if(e.update(r.parameters.isVertical),0===t)e.setPosition(0,r.parameters.minValue);else if(t===r.marks.length-1)e.setPosition(100,r.parameters.maxValue);else{var n=r.round(r.parameters.minValue+(r.parameters.maxValue-r.parameters.minValue)*t/(r.marks.length-1));r.parameters.isFloat&&(n=parseFloat(n.toFixed(2)));var i=(n-r.parameters.minValue)/(r.parameters.maxValue-r.parameters.minValue);e.setPosition(100*i,n)}}))},this.init=function(e){r.moveMarks(),r.createMarks(),r.observers.addObserver(e)},this.handleScaleClick=function(e){r.observers.notifyObservers(e)},this.createMarks=function(){for(var e=0;e<5;e+=1){var t=new n.default(r.parameters.isVertical,r.handleScaleClick);r.marks.push(t)}},this.round=function(e){var t=Math.trunc(e/r.parameters.step),n=+(e-t*r.parameters.step).toFixed(2);return e<0?Math.abs(n)<r.parameters.step/2?t*r.parameters.step:(t-1)*r.parameters.step:n<r.parameters.step/2?t*r.parameters.step:(t+1)*r.parameters.step},this.parameters=e,this.marks=[],this.observers=new i.default,this.init(t)};t.default=a},function(e,t,r){"use strict";r.r(t);var n=r(1),i=r(0),a=function(e,t){var r=this;this.getPosition=function(){return r.isVertical?r.elem.getBoundingClientRect().top:r.elem.getBoundingClientRect().left},this.setPosition=function(e,t){r.elem.innerHTML=t+"",r.value=t,r.isVertical?(r.elem.style.left="50%",r.elem.style.top=e+"%",r.elem.style.marginTop=-r.getDimension()/2+"px",r.elem.style.marginLeft="-45px"):(r.elem.style.top="50%",r.elem.style.left=e+"%",r.elem.style.marginLeft=-r.getDimension()/2+"px",r.elem.style.marginTop="15px")},this.getDimension=function(){return r.isVertical?r.elem.getBoundingClientRect().height:r.elem.getBoundingClientRect().width},this.update=function(e){r.isVertical=e,r.isVertical?r.elem.classList.add("slider__mark_position_vertical"):r.elem.classList.remove("slider__mark_position_vertical")},this.init=function(e){r.elem.onclick=r.handleMarkClick,r.observers.addObserver(e)},this.handleMarkClick=function(){r.observers.notifyObservers(r.value)},this.elem=Object(n.default)("slider__mark"),this.isVertical=e,this.observers=new i.default,this.init(t)};t.default=a},function(e,t,r){"use strict";r.r(t);var n=r(1),i=function(e){var t=this;this.setPosition=function(e){t.isVertical?(t.elem.style.left="0",t.elem.style.width="100%",t.elem.style.top=e+"px"):(t.elem.style.top="0",t.elem.style.height="100%",t.elem.style.left=e+"px")},this.setDimension=function(e){t.isVertical?t.elem.style.height=e+"px":t.elem.style.width=e+"px"},this.update=function(e){t.isVertical=e},this.elem=Object(n.default)("slider__progress-bar"),this.isVertical=e};t.default=i},function(e,t,r){"use strict";r.r(t);var n=r(0),i=function(){function e(e){this.currentValues=e,this.observers=new n.default}return e.prototype.setCurrentMinValue=function(e){this.currentValues.currentMinValue!==e&&(this.currentValues.currentMinValue=e,this.observers.notifyObservers())},e.prototype.setCurrentMaxValue=function(e){this.currentValues.currentMaxValue!==e&&(this.currentValues.currentMaxValue=e,this.observers.notifyObservers())},e}();t.default=i},function(e,t,r){var n={"./Controller/Controller.ts":5,"./Controller/blocks/parsingDigits/ParsingDigits.ts":3,"./Model/Model.ts":14,"./View/View.ts":6,"./View/blocks/Bar/Bar.ts":8,"./View/blocks/Knob/Knob.ts":9,"./View/blocks/ProgressBar/ProgressBar.ts":13,"./View/blocks/Runner/Runner.ts":4,"./View/blocks/Scale/Mark/Mark.ts":12,"./View/blocks/Scale/Scale.ts":11,"./View/blocks/Tooltip/Tooltip.ts":10,"./View/blocks/Track/Track.ts":7,"./View/blocks/createElem/createElem.ts":1,"./makeObservableObject/MakeObservableObject.ts":0,"./slider.ts":16,"./style.scss":17,"./types.ts":2};function i(e){var t=a(e);return r(t)}function a(e){if(!r.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}i.keys=function(){return Object.keys(n)},i.resolve=a,e.exports=i,i.id=15},function(e,t,r){"use strict";r.r(t);var n,i,a=r(2),s=r(5),u=function(){return(u=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};n=jQuery,i={init:function(e){if(!n(this).data("slider")){var t=u({},a.defaultParameters),r=new s.default(n.extend(t,e));n(this).data("slider",r),r.appendToNode(n(this))}},update:function(e){n(this).data("slider").updateConfig(e)},getConfig:function(){return n(this).data("slider").getConfig()},setValues:function(e){n(this).data("slider").setValues(e.currentMinValue,e.currentMaxValue)},inputsAttach:function(e){var t=n(this).data("slider");t.addObserver((function(){e.minValueInput.val(t.getValues().currentMinValue),e.maxValueInput.val(t.getValues().currentMaxValue),e.maxValue.val(t.getConfig().maxValue),e.minValue.val(t.getConfig().minValue),e.step.val(t.getConfig().step)}))}},n.fn.omfgslider=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return i[e]?i[e].apply(this,t):"object"!=typeof e&&e?(n.error("Метод "+e+" не найден в плагине jQuery.omfgslider"),null):i.init.apply(this,e)}},function(e,t,r){},,function(e,t,r){"use strict";r.r(t);var n;r.p;(n=r(15)).keys().forEach(n)}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL3BsdWdpbi9tYWtlT2JzZXJ2YWJsZU9iamVjdC9NYWtlT2JzZXJ2YWJsZU9iamVjdC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvcGx1Z2luL1ZpZXcvYmxvY2tzL2NyZWF0ZUVsZW0vY3JlYXRlRWxlbS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvcGx1Z2luL3R5cGVzLnRzIiwid2VicGFjazovLy8uL3NyYy9wbHVnaW4vQ29udHJvbGxlci9ibG9ja3MvcGFyc2luZ0RpZ2l0cy9QYXJzaW5nRGlnaXRzLnRzIiwid2VicGFjazovLy8uL3NyYy9wbHVnaW4vVmlldy9ibG9ja3MvUnVubmVyL1J1bm5lci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvcGx1Z2luL0NvbnRyb2xsZXIvQ29udHJvbGxlci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvcGx1Z2luL1ZpZXcvVmlldy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvcGx1Z2luL1ZpZXcvYmxvY2tzL1RyYWNrL1RyYWNrLnRzIiwid2VicGFjazovLy8uL3NyYy9wbHVnaW4vVmlldy9ibG9ja3MvQmFyL0Jhci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvcGx1Z2luL1ZpZXcvYmxvY2tzL0tub2IvS25vYi50cyIsIndlYnBhY2s6Ly8vLi9zcmMvcGx1Z2luL1ZpZXcvYmxvY2tzL1Rvb2x0aXAvVG9vbHRpcC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvcGx1Z2luL1ZpZXcvYmxvY2tzL1NjYWxlL1NjYWxlLnRzIiwid2VicGFjazovLy8uL3NyYy9wbHVnaW4vVmlldy9ibG9ja3MvU2NhbGUvTWFyay9NYXJrLnRzIiwid2VicGFjazovLy8uL3NyYy9wbHVnaW4vVmlldy9ibG9ja3MvUHJvZ3Jlc3NCYXIvUHJvZ3Jlc3NCYXIudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3BsdWdpbi9Nb2RlbC9Nb2RlbC50cyIsIndlYnBhY2s6Ly8vXFwuZClcXC4oanN8dHN8c2NzcykkLyIsIndlYnBhY2s6Ly8vLi9zcmMvcGx1Z2luL3NsaWRlci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZGVtby1wYWdlL2luZGV4Lmh0bWwiLCJ3ZWJwYWNrOi8vLy4vc3JjL2luZGV4LnRzIl0sIm5hbWVzIjpbImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJleHBvcnRzIiwibW9kdWxlIiwiaSIsImwiLCJtb2R1bGVzIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJ0IiwibW9kZSIsIl9fZXNNb2R1bGUiLCJucyIsImNyZWF0ZSIsImtleSIsImJpbmQiLCJuIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwidGhpcyIsIm9ic2VydmVycyIsImFkZE9ic2VydmVyIiwiZm4iLCJFcnJvciIsImZvckVhY2giLCJvYnNlcnZlciIsInB1c2giLCJyZW1vdmVPYnNlcnZlciIsImxlbmd0aCIsInNwbGljZSIsIm5vdGlmeU9ic2VydmVycyIsImRhdGEiLCJtYXAiLCJjbGFzc05hbWUiLCJlbGVtIiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50Iiwib25kcmFnc3RhcnQiLCJjbGFzc0xpc3QiLCJhZGQiLCJkZWZhdWx0UGFyYW1ldGVycyIsIm1pblZhbHVlIiwibWF4VmFsdWUiLCJzdGVwIiwiaXNSYW5nZSIsImlzVmVydGljYWwiLCJzaG93TGFiZWwiLCJpc0Zsb2F0IiwicGFyc2luZyIsIml0ZW0iLCJ0ZXN0IiwicGFyc2VGbG9hdCIsInBhcnNlSW50IiwibW92ZU9ic2VydmVyIiwiZ2V0UG9zaXRpb24iLCJrbm9iIiwic2V0UG9zaXRpb24iLCJvZmZzZXQiLCJ0b29sdGlwIiwiZ2V0V2lkdGgiLCJ1cGRhdGUiLCJoaWRlUnVubmVyIiwic3R5bGUiLCJkaXNwbGF5IiwiaGlkZUxhYmVsIiwic2hvd1J1bm5lciIsImFwcGVuZFRvTm9kZSIsImVudHJ5IiwiYXBwZW5kQ2hpbGQiLCJvbm1vdXNlZG93biIsImhhbmRsZVJ1bm5lck1vdXNlRG93biIsImV2ZW50IiwicHJldmVudERlZmF1bHQiLCJhZGRFdmVudExpc3RlbmVyIiwiaGFuZGxlUnVubmVyTW91c2VNb3ZlIiwiaGFuZGxlUnVubmVyTW91c2VVcCIsInJ1bm5lciIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJwYXJhbWV0ZXJzIiwidmlldyIsInVwZGF0ZUNvbmZpZyIsInBhcmFtZXRlcnNTbmFwc2hvdCIsImtleXMiLCJjaGVja1N0ZXAiLCJjaGVja01heFZhbHVlIiwiY2hlY2tNaW5WYWx1ZSIsImFzc2lnbiIsImdldFZhbHVlcyIsIm1vZGVsIiwiY3VycmVudFZhbHVlcyIsInNldFZhbHVlcyIsImN1cnJlbnRNaW5WYWx1ZSIsImN1cnJlbnRNYXhWYWx1ZSIsInNldEN1cnJlbnRNaW5WYWx1ZSIsInNldEN1cnJlbnRNYXhWYWx1ZSIsImdldENvbmZpZyIsInN0ZXBDaGVja2VkIiwiTWF0aCIsImFicyIsImlzU3RlcFZhbHVlV3JvbmciLCJpc090aGVyc1ZhbHVlc0Zsb2F0IiwiaXNTdGVwTW9yZVRoYW5IYWxmIiwicGFyYW1ldGVyIiwibWF4VmFsdWVDaGVja2VkIiwiaXNNYXhWYWx1ZVdyb25nIiwibWluVmFsdWVDaGVja2VkIiwiaXNNaW5WYWx1ZVdyb25nIiwiYWRkVmlld09ic2VydmVyIiwiYWRkTW9kZWxPYnNlcnZlciIsInRyYWNrIiwicmVuZXdSdW5uZXJzIiwiaGFuZGxlVHJhY2tWYWx1ZUNoYW5naW5nIiwidHlwZU9mVmFsdWUiLCJpbml0IiwiYmFyIiwicHJvZ3Jlc3NCYXIiLCJydW5uZXJBZGRpdGlvbmFsIiwicnVubmVyTWFpbiIsInNjYWxlIiwiZ2V0RGltZW5zaW9uIiwib25jbGljayIsImhhbmRsZUJhckNsaWNrIiwibWFya3MiLCJtYXJrIiwibW92ZU1hcmtzIiwiY29udmVydE9mZnNldFRvVmFsdWUiLCJnZXRNYWluUnVubmVyT2Zmc2V0IiwiZ2V0QWRkaXRpb25hbFJ1bm5lck9mZnNldCIsImhhbmRsZVJ1bm5lck1vdmUiLCJtb3ZlUnVubmVyIiwicHJvY2Vzc1J1bm5lck1vdXNlRXZlbnQiLCJvYmoiLCJ1cGRhdGVQcm9ncmVzc0JhciIsImV2ZW50TW0iLCJjbGllbnRZIiwiY2xpZW50WCIsInByb2Nlc3NSdW5uZXJPZmZzZXQiLCJyb3VuZE9mZnNldCIsImNoZWNrUnVubmVyT2Zmc2V0Iiwicm91bmRPZmZzZXRSdW5uZXIiLCJzdGVwV2lkdGgiLCJtaW5PZmZzZXQiLCJuZXdPZmZzZXQiLCJjdXJyZW50T2Zmc2V0IiwiY3VycmVudFZhbHVlIiwicm91bmRWYWx1ZSIsInJvdW5kIiwidG9GaXhlZCIsIndob2xlIiwidHJ1bmMiLCJyZW1pbmRlciIsImhhbmRsZVNjYWxlQ2xpY2siLCJjaGVja1J1bm5lckNsb3NlciIsInNldERpbWVuc2lvbiIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsInRvcCIsImxlZnQiLCJoZWlnaHQiLCJ3aWR0aCIsInJlbW92ZSIsImlubmVySFRNTCIsIm9wdGlvbnMiLCJpbmRleCIsImNyZWF0ZU1hcmtzIiwibWFyZ2luVG9wIiwibWFyZ2luTGVmdCIsImhhbmRsZU1hcmtDbGljayIsImRpbWVuc2lvbiIsIndlYnBhY2tDb250ZXh0IiwicmVxIiwiaWQiLCJ3ZWJwYWNrQ29udGV4dFJlc29sdmUiLCJlIiwiY29kZSIsInJlc29sdmUiLCIkIiwibWV0aG9kcyIsImpRdWVyeSIsIm9wdCIsIm5ld0NvbmZpZyIsInNsaWRlciIsImV4dGVuZCIsImlucHV0c0F0dGFjaCIsIm1pblZhbHVlSW5wdXQiLCJ2YWwiLCJtYXhWYWx1ZUlucHV0Iiwib21mZ3NsaWRlciIsIm1ldGhvZCIsImFwcGx5IiwiYXJncyIsImVycm9yIl0sIm1hcHBpbmdzIjoiYUFDRSxJQUFJQSxFQUFtQixHQUd2QixTQUFTQyxFQUFvQkMsR0FHNUIsR0FBR0YsRUFBaUJFLEdBQ25CLE9BQU9GLEVBQWlCRSxHQUFVQyxRQUduQyxJQUFJQyxFQUFTSixFQUFpQkUsR0FBWSxDQUN6Q0csRUFBR0gsRUFDSEksR0FBRyxFQUNISCxRQUFTLElBVVYsT0FOQUksRUFBUUwsR0FBVU0sS0FBS0osRUFBT0QsUUFBU0MsRUFBUUEsRUFBT0QsUUFBU0YsR0FHL0RHLEVBQU9FLEdBQUksRUFHSkYsRUFBT0QsUUFLZkYsRUFBb0JRLEVBQUlGLEVBR3hCTixFQUFvQlMsRUFBSVYsRUFHeEJDLEVBQW9CVSxFQUFJLFNBQVNSLEVBQVNTLEVBQU1DLEdBQzNDWixFQUFvQmEsRUFBRVgsRUFBU1MsSUFDbENHLE9BQU9DLGVBQWViLEVBQVNTLEVBQU0sQ0FBRUssWUFBWSxFQUFNQyxJQUFLTCxLQUtoRVosRUFBb0JrQixFQUFJLFNBQVNoQixHQUNYLG9CQUFYaUIsUUFBMEJBLE9BQU9DLGFBQzFDTixPQUFPQyxlQUFlYixFQUFTaUIsT0FBT0MsWUFBYSxDQUFFQyxNQUFPLFdBRTdEUCxPQUFPQyxlQUFlYixFQUFTLGFBQWMsQ0FBRW1CLE9BQU8sS0FRdkRyQixFQUFvQnNCLEVBQUksU0FBU0QsRUFBT0UsR0FFdkMsR0FEVSxFQUFQQSxJQUFVRixFQUFRckIsRUFBb0JxQixJQUMvQixFQUFQRSxFQUFVLE9BQU9GLEVBQ3BCLEdBQVcsRUFBUEUsR0FBOEIsaUJBQVZGLEdBQXNCQSxHQUFTQSxFQUFNRyxXQUFZLE9BQU9ILEVBQ2hGLElBQUlJLEVBQUtYLE9BQU9ZLE9BQU8sTUFHdkIsR0FGQTFCLEVBQW9Ca0IsRUFBRU8sR0FDdEJYLE9BQU9DLGVBQWVVLEVBQUksVUFBVyxDQUFFVCxZQUFZLEVBQU1LLE1BQU9BLElBQ3RELEVBQVBFLEdBQTRCLGlCQUFURixFQUFtQixJQUFJLElBQUlNLEtBQU9OLEVBQU9yQixFQUFvQlUsRUFBRWUsRUFBSUUsRUFBSyxTQUFTQSxHQUFPLE9BQU9OLEVBQU1NLElBQVFDLEtBQUssS0FBTUQsSUFDOUksT0FBT0YsR0FJUnpCLEVBQW9CNkIsRUFBSSxTQUFTMUIsR0FDaEMsSUFBSVMsRUFBU1QsR0FBVUEsRUFBT3FCLFdBQzdCLFdBQXdCLE9BQU9yQixFQUFnQixTQUMvQyxXQUE4QixPQUFPQSxHQUV0QyxPQURBSCxFQUFvQlUsRUFBRUUsRUFBUSxJQUFLQSxHQUM1QkEsR0FJUlosRUFBb0JhLEVBQUksU0FBU2lCLEVBQVFDLEdBQVksT0FBT2pCLE9BQU9rQixVQUFVQyxlQUFlMUIsS0FBS3VCLEVBQVFDLElBR3pHL0IsRUFBb0JrQyxFQUFJLEdBSWpCbEMsRUFBb0JBLEVBQW9CbUMsRUFBSSxJLGtPQ2hGckQsYUFHRSxhQUNFQyxLQUFLQyxVQUFZLEdBOEJyQixPQTNCRSxZQUFBQyxZQUFBLFNBQVlDLEdBQ1YsR0FBa0IsbUJBQVBBLEVBQ1QsTUFBTSxJQUFJQyxNQUFNLCtCQUVsQkosS0FBS0MsVUFBVUksU0FBUSxTQUFDQyxHQUN0QixHQUFJQSxJQUFhSCxFQUNmLE1BQU0sSUFBSUMsTUFBTSxtQ0FHcEJKLEtBQUtDLFVBQVVNLEtBQUtKLElBR3RCLFlBQUFLLGVBQUEsU0FBZUwsR0FDYixJQUFLLElBQUluQyxFQUFJLEVBQUdBLEVBQUlnQyxLQUFLQyxVQUFVUSxPQUFRekMsR0FBSyxFQUFHLENBRWpELEdBRGlCZ0MsS0FBS0MsVUFBVWpDLEtBQ2ZtQyxFQUVmLFlBREFILEtBQUtDLFVBQVVTLE9BQU8xQyxFQUFHLEdBSTdCLE1BQU0sSUFBSW9DLE1BQU0saURBR2xCLFlBQUFPLGdCQUFBLFNBQWdCQyxRQUFBLElBQUFBLE1BQUEsTUFDWSxFQUFJWixLQUFLQyxXQUNqQlksS0FBSSxTQUFDUCxHQUFhLE9BQUFBLEVBQVNNLE9BRWpELEVBbENBLEdBb0NlLGEsNkJDdENmLE9BT2UsVUFQZixTQUFvQkUsR0FDbEIsSUFBTUMsRUFBT0MsU0FBU0MsY0FBYyxPQUdwQyxPQUZBRixFQUFLRyxZQUFjLFdBQU0sVUFDekJILEVBQUtJLFVBQVVDLElBQUlOLEdBQ1pDLEksNkJDNkNULHlEQUFPLElBQU1NLEVBQW9CLENBQy9CQyxTQUFVLEVBQ1ZDLFNBQVUsSUFDVkMsS0FBTSxFQUNOQyxTQUFTLEVBQ1RDLFlBQVksRUFDWkMsV0FBVyxFQUNYQyxTQUFTLEksNkJDeERYLHNDQWdCQSxPQWZTLEVBQUFDLFFBQVUsU0FBQ0MsR0FDaEIsR0FBb0IsaUJBQVRBLEVBQ1QsT0FBT0EsRUFHVCxHQUFvQixpQkFBVEEsRUFBbUIsQ0FDNUIsR0FBSSxpQkFBaUJDLEtBQUtELEdBQ3hCLE9BQU9FLFdBQVdGLEdBQ2xCLEdBQUksVUFBVUMsS0FBS0QsR0FDbkIsT0FBT0csU0FBU0gsRUFBTSxJQUkxQixPQUFPLE1BRVgsRUFoQkEsR0FrQmUsYSw2QkNqQmYsaUNBSUEsRUFTRSxTQUFZSixFQUFxQlEsR0FBakMsV0FRQSxLQUFBQyxZQUFjLFdBQ1osT0FBTyxFQUFLQyxLQUFLRCxlQUduQixLQUFBRSxZQUFjLFNBQUNDLEVBQWdCckQsR0FDN0IsRUFBS3NELFFBQVFGLFlBQVlDLEVBQVMsRUFBS0YsS0FBS0ksV0FBYSxFQUFHdkQsR0FDNUQsRUFBS21ELEtBQUtDLFlBQVlDLElBR3hCLEtBQUFHLE9BQVMsU0FBQ2YsR0FDUixFQUFLVSxLQUFLSyxPQUFPZixHQUNqQixFQUFLYSxRQUFRRSxPQUFPZixJQUd0QixLQUFBYyxTQUFXLFdBQ1QsT0FBTyxFQUFLSixLQUFLSSxZQUduQixLQUFBRSxXQUFhLFdBQ1gsRUFBS04sS0FBS3JCLEtBQUs0QixNQUFNQyxRQUFVLE9BQy9CLEVBQUtMLFFBQVF4QixLQUFLNEIsTUFBTUMsUUFBVSxRQUdwQyxLQUFBQyxVQUFZLFdBQ1YsRUFBS04sUUFBUXhCLEtBQUs0QixNQUFNQyxRQUFVLFFBR3BDLEtBQUFqQixVQUFZLFdBQ1YsRUFBS1ksUUFBUXhCLEtBQUs0QixNQUFNQyxRQUFVLFNBR3BDLEtBQUFFLFdBQWEsV0FDWCxFQUFLVixLQUFLckIsS0FBSzRCLE1BQU1DLFFBQVUsU0FHakMsS0FBQUcsYUFBZSxTQUFDQyxHQUNkLENBQUMsRUFBS1osS0FBS3JCLEtBQU0sRUFBS3dCLFFBQVF4QixNQUFNVixTQUFRLFNBQUNVLEdBQzNDaUMsRUFBTUMsWUFBWWxDLEdBQ2xCQSxFQUFLbUMsWUFBYyxFQUFLQywwQkFJcEIsS0FBQUEsc0JBQXdCLFNBQUNDLEdBQy9CQSxFQUFNQyxpQkFDTnJDLFNBQVNzQyxpQkFBaUIsWUFBYSxFQUFLQyx1QkFDNUN2QyxTQUFTc0MsaUJBQWlCLFVBQVcsRUFBS0Usc0JBR3BDLEtBQUFELHNCQUF3QixTQUFDSCxHQUMvQixFQUFLbkQsVUFBVVUsZ0JBQWdCLENBQUV5QyxNQUFPQSxFQUFPSyxPQUFRLEtBR2pELEtBQUFELG9CQUFzQixXQUM1QnhDLFNBQVMwQyxvQkFBb0IsVUFBVyxFQUFLRixxQkFDN0N4QyxTQUFTMEMsb0JBQW9CLFlBQWEsRUFBS0gsd0JBN0QvQ3ZELEtBQUswQixXQUFhQSxFQUNsQjFCLEtBQUtvQyxLQUFPLElBQUksVUFBS1YsR0FDckIxQixLQUFLdUMsUUFBVSxJQUFJLFVBQVFiLEdBQzNCMUIsS0FBS0MsVUFBWSxJQUFJLFVBQ3JCRCxLQUFLQyxVQUFVQyxZQUFZZ0MsSUE2RGhCLGEsNkJDaEZmLCtDQU1BLEVBT0UsU0FBWXlCLEdBQVosZ0JBQVksSUFBQUEsTUFBYSxxQkFXekIsS0FBQVosYUFBZSxTQUFDQyxHQUNkLEVBQUtZLEtBQUtiLGFBQWFDLEVBQU1uRSxJQUFJLElBQ2pDLEVBQUsrRSxLQUFLbkIsVUFHWixLQUFBb0IsYUFBZSxTQUFDRixHQUNkLElBQU1HLEVBQXFCSCxFQUMzQmpGLE9BQU9xRixLQUFLSixHQUFZdEQsU0FBUSxTQUFDZCxHQUNuQixTQUFSQSxFQUNGdUUsRUFBbUJ0QyxLQUFPLEVBQUt3QyxVQUFVTCxFQUFXbkMsTUFDbkMsYUFBUmpDLEVBQ1R1RSxFQUFtQnZDLFNBQVcsRUFBSzBDLGNBQWNOLEVBQVdwQyxVQUMzQyxhQUFSaEMsSUFDVHVFLEVBQW1CeEMsU0FBVyxFQUFLNEMsY0FBY1AsRUFBV3JDLGNBSWhFLEVBQUtzQyxLQUFLRCxXQUFhakYsT0FBT3lGLE9BQU8sRUFBS1AsS0FBS0QsV0FBWUcsR0FDM0QsRUFBS0YsS0FBS25CLFVBR1osS0FBQTJCLFVBQVksV0FDVixPQUFPLEVBQUtDLE1BQU1DLGVBR3BCLEtBQUFDLFVBQVksU0FBQ0MsRUFBeUJDLElBQ2hDRCxHQUF1QyxJQUFwQkEsSUFDckIsRUFBS0gsTUFBTUssbUJBQW1CRixJQUc1QkMsR0FBdUMsSUFBcEJBLElBQ3JCLEVBQUtKLE1BQU1NLG1CQUFtQkYsSUFJbEMsS0FBQUcsVUFBWSxXQUNWLE9BQU8sRUFBS2hCLEtBQUtELFlBR25CLEtBQUF6RCxZQUFjLFNBQUNDLEdBQ2IsRUFBS0YsVUFBVUMsWUFBWUMsSUFHckIsS0FBQTZELFVBQVksU0FBQ3hDLEdBQ25CLElBQU1xRCxFQUFjQyxLQUFLQyxJQUFJLFVBQWNsRCxRQUFRTCxJQUVuRCxPQUFJLEVBQUt3RCxpQkFBaUJILEdBQ2pCLEVBQUtqQixLQUFLRCxXQUFXbkMsTUFHMUJxRCxFQUFjLEdBQU0sRUFDdEIsRUFBS2pCLEtBQUtELFdBQVcvQixTQUFVLEVBQ3JCLEVBQUtxRCxvQkFBb0IsVUFDbkMsRUFBS3JCLEtBQUtELFdBQVcvQixTQUFVLEdBRzFCaUQsSUFHRCxLQUFBRyxpQkFBbUIsU0FBQ0gsR0FDMUIsSUFBTUssRUFBcUJMLEdBQ3RCLEVBQUtqQixLQUFLRCxXQUFXcEMsU0FBVyxFQUFLcUMsS0FBS0QsV0FBV3JDLFVBQVksRUFDdEUsT0FBd0IsT0FBaEJ1RCxHQUF3QyxJQUFoQkEsR0FBcUJLLEdBRy9DLEtBQUFELG9CQUFzQixTQUFDRSxHQUM3QixPQUFRQSxHQUNOLElBQUssT0FDSCxPQUFRLEVBQUt2QixLQUFLRCxXQUFXcEMsU0FBVyxHQUFNLEdBQUssRUFBS3FDLEtBQUtELFdBQVdyQyxTQUFXLEdBQU0sRUFDM0YsSUFBSyxXQUNILE9BQVEsRUFBS3NDLEtBQUtELFdBQVduQyxLQUFPLEdBQU0sR0FBSyxFQUFLb0MsS0FBS0QsV0FBV3JDLFNBQVcsR0FBTSxFQUN2RixJQUFLLFdBQ0gsT0FBUSxFQUFLc0MsS0FBS0QsV0FBV25DLEtBQU8sR0FBTSxHQUFLLEVBQUtvQyxLQUFLRCxXQUFXcEMsU0FBVyxHQUFNLEVBQ3ZGLFFBQ0UsT0FBTyxJQUlMLEtBQUEwQyxjQUFnQixTQUFDMUMsR0FDdkIsSUFBTTZELEVBQWtCLFVBQWN2RCxRQUFRTixHQUU5QyxPQUFJLEVBQUs4RCxnQkFBZ0JELEdBQ2hCLEVBQUt4QixLQUFLRCxXQUFXcEMsVUFHMUI2RCxFQUFrQixHQUFNLEVBQzFCLEVBQUt4QixLQUFLRCxXQUFXL0IsU0FBVSxFQUNyQixFQUFLcUQsb0JBQW9CLGNBQ25DLEVBQUtyQixLQUFLRCxXQUFXL0IsU0FBVSxHQUcxQndELElBR0QsS0FBQUMsZ0JBQWtCLFNBQUNELEdBQ3pCLE9BQTRCLE9BQXBCQSxHQUE0QkEsR0FBbUIsRUFBS3hCLEtBQUtELFdBQVdyQyxVQUd0RSxLQUFBNEMsY0FBZ0IsU0FBQzVDLEdBQ3ZCLElBQU1nRSxFQUFrQixVQUFjekQsUUFBUVAsR0FFOUMsT0FBSSxFQUFLaUUsZ0JBQWdCRCxHQUNoQixFQUFLMUIsS0FBS0QsV0FBV3JDLFVBRzFCZ0UsRUFBa0IsR0FBTSxFQUMxQixFQUFLMUIsS0FBS0QsV0FBVy9CLFNBQVUsRUFDckIsRUFBS3FELG9CQUFvQixjQUNuQyxFQUFLckIsS0FBS0QsV0FBVy9CLFNBQVUsR0FHMUIwRCxJQUdELEtBQUFDLGdCQUFrQixTQUFDRCxHQUN6QixPQUE0QixPQUFwQkEsR0FBNEJBLEdBQW1CLEVBQUsxQixLQUFLRCxXQUFXcEMsVUFHdEUsS0FBQWlFLGdCQUFrQixXQUN4QixFQUFLNUIsS0FBSzNELFVBQVVDLGFBQVksV0FDOUIsRUFBS21FLE1BQU1DLGNBQWdCLEVBQUtWLEtBQUtVLGNBQ3JDLEVBQUtyRSxVQUFVVSxzQkFJWCxLQUFBOEUsaUJBQW1CLFdBQ3pCLEVBQUtwQixNQUFNcEUsVUFBVUMsYUFBWSxXQUMvQixFQUFLMEQsS0FBS1UsY0FBZ0IsRUFBS0QsTUFBTUMsY0FDckMsRUFBS1YsS0FBS25CLGFBMUlaekMsS0FBSzRELEtBQU8sSUFBSSxVQUFLRCxHQUNyQjNELEtBQUtxRSxNQUFRLElBQUksVUFBTSxDQUNyQkcsZ0JBQWlCYixFQUFXckMsU0FDNUJtRCxnQkFBaUJkLEVBQVdwQyxXQUU5QnZCLEtBQUtDLFVBQVksSUFBSSxVQUNyQkQsS0FBS3dGLGtCQUNMeEYsS0FBS3lGLG9CQXdJTSxhLDZCQzdKZixnQ0FJQSxFQVNFLFNBQVk5QixHQUFaLGdCQUFZLElBQUFBLE1BQWEscUJBT3pCLEtBQUFsQixPQUFTLFdBQ1AsRUFBS2lELE1BQU1qRCxPQUFPLEVBQUtrQixZQUN2QixFQUFLK0IsTUFBTUMsYUFBYSxFQUFLckIsZ0JBRy9CLEtBQUFzQix5QkFBMkIsU0FBQ2hGLEdBQ0QsYUFBckJBLEVBQUtpRixZQUNQLEVBQUt2QixjQUFjRSxnQkFBa0I1RCxFQUFLM0IsTUFDWixhQUFyQjJCLEVBQUtpRixjQUNkLEVBQUt2QixjQUFjRyxnQkFBa0I3RCxFQUFLM0IsT0FHNUMsRUFBS2dCLFVBQVVVLG1CQUdqQixLQUFBb0MsYUFBZSxTQUFDQyxHQUNkLEVBQUswQyxNQUFNM0MsYUFBYUMsSUFHbEIsS0FBQThDLEtBQU8sV0FDYixFQUFLeEIsY0FBZ0IsQ0FDbkJFLGdCQUFpQixFQUFLYixXQUFXckMsU0FDakNtRCxnQkFBaUIsRUFBS2QsV0FBV3BDLFVBR25DLEVBQUttRSxNQUFNekYsVUFBVUMsWUFBWSxFQUFLMEYsMkJBL0J0QzVGLEtBQUsyRCxXQUFhQSxFQUNsQjNELEtBQUtDLFVBQVksSUFBSSxVQUNyQkQsS0FBSzBGLE1BQVEsSUFBSSxVQUFNMUYsS0FBSzJELFlBQzVCM0QsS0FBSzhGLFFBZ0NNLGEsNkJDaERmLGdEQU1BLGFBZUUsV0FBWW5DLEdBQVosV0FVQSxLQUFBbEIsT0FBUyxTQUFDa0IsR0FDUixFQUFLQSxXQUFhQSxFQUNsQixFQUFLb0MsSUFBSXRELE9BQU8sRUFBS2tCLFdBQVdqQyxZQUNoQyxFQUFLc0UsWUFBWXZELE9BQU8sRUFBS2tCLFdBQVdqQyxZQUN4QyxFQUFLdUUsaUJBQWlCeEQsT0FBTyxFQUFLa0IsV0FBV2pDLFlBQzdDLEVBQUt3RSxXQUFXekQsT0FBTyxFQUFLa0IsV0FBV2pDLFlBQ3ZDLEVBQUt5RSxNQUFNMUQsT0FBTyxFQUFLa0IsWUFDdkIsRUFBS3NDLGlCQUFpQnZELGFBRWxCLEVBQUtpQixXQUFXaEMsV0FDbEIsRUFBS3NFLGlCQUFpQnRFLFlBQ3RCLEVBQUt1RSxXQUFXdkUsY0FFaEIsRUFBS3NFLGlCQUFpQnBELFlBQ3RCLEVBQUtxRCxXQUFXckQsYUFHZCxFQUFLYyxXQUFXbEMsUUFDbEIsRUFBS3dFLGlCQUFpQm5ELGFBRXRCLEVBQUttRCxpQkFBaUJ2RCxhQUd4QixFQUFLdUQsaUJBQWlCNUQsYUFDbkIsRUFBSzRELGlCQUFpQnpELFdBQWEsRUFDcEMsRUFBS21CLFdBQVdyQyxVQUVsQixFQUFLNEUsV0FBVzdELFlBQ2QsRUFBSzBELElBQUlLLGVBQWlCLEVBQUtGLFdBQVcxRCxXQUFhLEVBQ3ZELEVBQUttQixXQUFXcEMsV0FtQnBCLEtBQUF3QixhQUFlLFNBQUNDLEdBQ2RBLEVBQU1DLFlBQVksRUFBSzhDLElBQUloRixNQUFNa0MsWUFBWSxFQUFLK0MsWUFBWWpGLE1BQzlELEVBQUtnRixJQUFJaEYsS0FBS3NGLFFBQVUsRUFBS0MsZUFDN0IsRUFBS0osV0FBV25ELGFBQWFDLEdBQzdCLEVBQUtpRCxpQkFBaUJsRCxhQUFhQyxHQUVuQyxFQUFLbUQsTUFBTUksTUFBTWxHLFNBQVEsU0FBQ21HLEdBQ3hCeEQsRUFBTUMsWUFBWXVELEVBQUt6RixTQUd6QixFQUFLb0YsTUFBTU0sYUFHTCxLQUFBQyxxQkFBdUIsU0FBQ3pILEdBQzlCLE9BQVVBLEVBQVEsRUFBSzBFLFdBQVdyQyxVQUFZLEVBQUt5RSxJQUFJSyxnQkFDbEQsRUFBS3pDLFdBQVdwQyxTQUFXLEVBQUtvQyxXQUFXckMsVUFDNUMsRUFBSzRFLFdBQVcxRCxXQUFhLEdBRzNCLEtBQUFtRSxvQkFBc0IsV0FDNUIsSUFBTXJFLEVBQVMsRUFBSzRELFdBQVcvRCxjQUFnQixFQUFLNEQsSUFBSTVELGNBQ3BELEVBQUsrRCxXQUFXMUQsV0FBYSxFQUNqQyxPQUFPRixFQUFTLEVBQUksRUFBSUEsR0FHbEIsS0FBQXNFLDBCQUE0QixXQUNsQyxPQUFJLEVBQUtqRCxXQUFXbEMsUUFDWCxFQUFLd0UsaUJBQWlCOUQsY0FBZ0IsRUFBSzRELElBQUk1RCxjQUNsRCxFQUFLK0QsV0FBVzFELFdBQWEsRUFHNUIsR0FHRCxLQUFBcUUsaUJBQW1CLFNBQUMsRyxJQUFFekQsRUFBSyxRQUFFSyxFQUFNLFNBQ3pDLEVBQUtxRCxXQUFXLEVBQUtDLHdCQUF3QjNELEVBQU9LLEtBRzlDLEtBQUFxRCxXQUFhLFNBQUNFLEdBQ3BCQSxFQUFJdkQsT0FBT3BCLFlBQVkyRSxFQUFJMUUsT0FBUTBFLEVBQUkvSCxPQUVuQytILEVBQUl2RCxTQUFXLEVBQUt3QyxrQkFDdEIsRUFBS2hHLFVBQVVVLGdCQUFnQixDQUFFa0YsWUFBYSxXQUFZNUcsTUFBTytILEVBQUkvSCxRQUduRStILEVBQUl2RCxTQUFXLEVBQUt5QyxZQUN0QixFQUFLakcsVUFBVVUsZ0JBQWdCLENBQUVrRixZQUFhLFdBQVk1RyxNQUFPK0gsRUFBSS9ILFFBR3ZFLEVBQUtnSSxxQkFHQyxLQUFBRix3QkFBMEIsU0FBQ0csRUFBcUJ6RCxHQUN0RCxJQUNNbkIsR0FEYSxFQUFLcUIsV0FBV2pDLFdBQWF3RixFQUFRQyxRQUFVRCxFQUFRRSxTQUM5QyxFQUFLckIsSUFBSTVELGNBQWdCLEVBQUs4RCxpQkFBaUJ6RCxXQUFhLEVBRXhGLE9BQU8sRUFBSzZFLG9CQUFvQi9FLEVBQVFtQixJQUdsQyxLQUFBNEQsb0JBQXNCLFNBQUMvRSxFQUFnQm1CLEcsTUFFekM2RCxFQUlKLE9BSEFBLEVBQWMsRUFBS0Msa0JBQWtCakYsRUFBUW1CLEdBR3RDLENBQ0xBLE9BQVFBLEVBQ1JuQixPQUpEZ0YsR0FBRCxFQUE0QixFQUFLRSxrQkFBa0JGLElBQXZDLEdBS1ZySSxNQUxzQixPQVNsQixLQUFBc0ksa0JBQW9CLFNBQUNqRixFQUFnQm1CLEdBQzNDLElBQU1nRSxFQUFhLEVBQUs5RCxXQUFXbkMsS0FBTyxFQUFLdUUsSUFBSUssZ0JBQzlDLEVBQUt6QyxXQUFXcEMsU0FBVyxFQUFLb0MsV0FBV3JDLFVBQzFDb0csRUFBWUQsRUFBWSxJQUFNLEVBQUt2QixXQUFXMUQsV0FDaERpRixFQUFZLElBQ1osRUFBS3ZCLFdBQVcxRCxXQUNoQm1GLEVBQVlyRixFQVloQixPQVZJbUIsSUFBVyxFQUFLd0MsaUJBQ2QzRCxFQUFTLEVBQUs0RCxXQUFXL0QsY0FBZ0IsRUFBSzRELElBQUk1RCxjQUFnQnVGLElBQ3BFQyxFQUFZLEVBQUt6QixXQUFXL0QsY0FBZ0IsRUFBSzRELElBQUk1RCxjQUFnQnVGLEdBRTlEakUsSUFBVyxFQUFLeUMsWUFDckI1RCxFQUFTLEVBQUsyRCxpQkFBaUI5RCxjQUFnQixFQUFLNEQsSUFBSTVELGNBQWdCdUYsSUFDMUVDLEVBQVksRUFBSzFCLGlCQUFpQjlELGNBQWdCLEVBQUs0RCxJQUFJNUQsY0FBZ0J1RixHQUl4RUMsR0FHRCxLQUFBSCxrQkFBb0IsU0FBQ0ksR0FDM0IsSUFBTUMsRUFBZSxFQUFLbEUsV0FBV3JDLFVBQy9Cc0csRUFBZ0IsRUFBSzFCLFdBQVcxRCxXQUFhLElBQzlDLEVBQUttQixXQUFXcEMsU0FBVyxFQUFLb0MsV0FBV3JDLFVBQzVDLEVBQUt5RSxJQUFJSyxlQUNUMEIsRUFBYSxFQUFLQyxNQUFNRixFQUFjLEVBQUtsRSxXQUFXbkMsTUFFdEQsRUFBS21DLFdBQVcvQixVQUNsQmtHLEVBQWE5RixXQUFXOEYsRUFBV0UsUUFBUSxLQUc3QyxJQUFJVixFQUFjLEVBQUtaLHFCQUFxQm9CLEdBWTVDLE9BVklSLEdBQWUsRUFBS3BCLFdBQVcxRCxXQUFhLElBQzlDOEUsR0FBZSxFQUFLcEIsV0FBVzFELFdBQWEsRUFDNUNzRixFQUFhLEVBQUtuRSxXQUFXckMsVUFHM0JnRyxFQUFjLEVBQUt2QixJQUFJSyxlQUFpQixFQUFLRixXQUFXMUQsV0FBYSxJQUN2RThFLEVBQWMsRUFBS3ZCLElBQUlLLGVBQWlCLEVBQUtGLFdBQVcxRCxXQUFhLEVBQ3JFc0YsRUFBYSxFQUFLbkUsV0FBV3BDLFVBR3hCLENBQUMrRixFQUFhUSxJQUdmLEtBQUFDLE1BQVEsU0FBQzlJLEVBQWV1QyxHQUM5QixJQUFNeUcsRUFBUW5ELEtBQUtvRCxNQUFNakosRUFBUXVDLEdBQzNCMkcsSUFBYWxKLEVBQVFnSixFQUFRekcsR0FBTXdHLFFBQVEsR0FFakQsT0FBSS9JLEVBQVEsRUFDSDZGLEtBQUtDLElBQUlvRCxHQUFZM0csRUFBTyxFQUFJeUcsRUFBUXpHLEdBQVF5RyxFQUFRLEdBQUt6RyxFQUdsRXZDLEdBQVMsRUFBSzBFLFdBQVdyQyxTQUNwQixFQUFLcUMsV0FBV3JDLFNBQ25CckMsR0FBUyxFQUFLMEUsV0FBV3BDLFNBQ3RCLEVBQUtvQyxXQUFXcEMsU0FHbEI0RyxFQUFXM0csRUFBTyxFQUFJeUcsRUFBUXpHLEdBQVF5RyxFQUFRLEdBQUt6RyxHQUdwRCxLQUFBNEcsaUJBQW1CLFNBQUNuSixHQUMxQixJQUNJd0UsRUFERW5CLEVBQVMsRUFBS29FLHFCQUFxQnpILEdBSXZDd0UsRUFERSxFQUFLRSxXQUFXbEMsUUFDVCxFQUFLNEcsa0JBQWtCL0YsR0FFdkIsRUFBSzRELFdBR2hCLEVBQUtZLFdBQVcsRUFBS08sb0JBQW9CL0UsRUFBUW1CLEtBRzNDLEtBQUE0RSxrQkFBb0IsU0FBQy9GLEdBQzNCLE9BQUl3QyxLQUFLQyxJQUFJekMsRUFBUyxFQUFLcUUsdUJBQ3ZCN0IsS0FBS0MsSUFBSXpDLEVBQVMsRUFBS3NFLDZCQUNsQixFQUFLVixXQUdQLEVBQUtELGtCQUdOLEtBQUFLLGVBQWlCLFNBQUNsRCxHQUN4QixJQUNNZCxHQURhLEVBQUtxQixXQUFXakMsV0FBYTBCLEVBQU0rRCxRQUFVL0QsRUFBTWdFLFNBQzFDLEVBQUtyQixJQUFJNUQsY0FBZ0IsRUFBSytELFdBQVcxRCxXQUFhLEVBRWxGLEVBQUtzRSxXQUFXLEVBQUtPLG9CQUFvQi9FLEVBQVEsRUFBSytGLGtCQUFrQi9GLE1BR2xFLEtBQUEyRSxrQkFBb0IsV0FDMUIsRUFBS2pCLFlBQVl2RCxPQUFPLEVBQUtrQixXQUFXakMsWUFDeEMsRUFBS3NFLFlBQVkzRCxZQUFZLEVBQUt1RSw2QkFDbEMsRUFBS1osWUFBWXNDLGFBQWEsRUFBSzNCLHNCQUF3QixFQUFLQyw4QkFqT2hFNUcsS0FBSzJELFdBQWFBLEVBQ2xCM0QsS0FBS2tHLFdBQWEsSUFBSSxVQUFPbEcsS0FBSzJELFdBQVdqQyxXQUFZMUIsS0FBSzZHLGtCQUM5RDdHLEtBQUtpRyxpQkFBbUIsSUFBSSxVQUFPakcsS0FBSzJELFdBQVdqQyxXQUFZMUIsS0FBSzZHLGtCQUNwRTdHLEtBQUtnRyxZQUFjLElBQUksVUFBWWhHLEtBQUsyRCxXQUFXakMsWUFDbkQxQixLQUFLK0YsSUFBTSxJQUFJLFVBQUkvRixLQUFLMkQsV0FBV2pDLFlBQ25DMUIsS0FBS21HLE1BQVEsSUFBSSxVQUFNbkcsS0FBSzJELFdBQVkzRCxLQUFLb0ksa0JBQzdDcEksS0FBS0MsVUFBWSxJQUFJLFVBNk56QixPQXpMRSxZQUFBMEYsYUFBQSxTQUFhckIsR0FDWHRFLEtBQUs4RyxXQUNIOUcsS0FBS3FILG9CQUNIckgsS0FBSzBHLHFCQUFxQnBDLEVBQWNHLGlCQUN4Q3pFLEtBQUtrRyxhQUdUbEcsS0FBSzhHLFdBQ0g5RyxLQUFLcUgsb0JBQ0hySCxLQUFLMEcscUJBQXFCcEMsRUFBY0UsaUJBQ3hDeEUsS0FBS2lHLG9CQStLYixFQW5QQSxHQXFQZSxhLDZCQzVQZixrQkFFQSxFQUtFLFNBQVl2RSxHQUFaLFdBS0EsS0FBQVMsWUFBYyxXQUNaLE9BQUksRUFBS1QsV0FDQSxFQUFLWCxLQUFLd0gsd0JBQXdCQyxJQUdwQyxFQUFLekgsS0FBS3dILHdCQUF3QkUsTUFHM0MsS0FBQXJDLGFBQWUsV0FDYixPQUFJLEVBQUsxRSxXQUNBLEVBQUtYLEtBQUt3SCx3QkFBd0JHLE9BR3BDLEVBQUszSCxLQUFLd0gsd0JBQXdCSSxPQUczQyxLQUFBbEcsT0FBUyxTQUFDZixHQUNSLEVBQUtBLFdBQWFBLEVBRWQsRUFBS0EsV0FDUCxFQUFLWCxLQUFLSSxVQUFVQyxJQUFJLGlDQUV4QixFQUFLTCxLQUFLSSxVQUFVeUgsT0FBTyxrQ0ExQjdCNUksS0FBS2UsS0FBTyxrQkFBVyxlQUN2QmYsS0FBSzBCLFdBQWFBLEdBOEJQLGEsNkJDdkNmLGtCQUVBLEVBS0UsU0FBWUEsR0FBWixXQUtBLEtBQUFjLFNBQVcsV0FDVCxPQUFPLEVBQUt6QixLQUFLd0gsd0JBQXdCSSxPQUczQyxLQUFBeEcsWUFBYyxXQUNaLE9BQUksRUFBS1QsV0FDQSxFQUFLWCxLQUFLd0gsd0JBQXdCQyxJQUdwQyxFQUFLekgsS0FBS3dILHdCQUF3QkUsTUFHM0MsS0FBQXBHLFlBQWMsU0FBQ0MsR0FDVCxFQUFLWixZQUNQLEVBQUtYLEtBQUs0QixNQUFNOEYsS0FBTyxNQUN2QixFQUFLMUgsS0FBSzRCLE1BQU02RixJQUFNbEcsRUFBUyxPQUUvQixFQUFLdkIsS0FBSzRCLE1BQU02RixJQUFNLE1BQ3RCLEVBQUt6SCxLQUFLNEIsTUFBTThGLEtBQU9uRyxFQUFTLE9BSXBDLEtBQUFHLE9BQVMsU0FBQ2YsR0FDUixFQUFLQSxXQUFhQSxFQUVkLEVBQUtBLFdBQ1AsRUFBS1gsS0FBS0ksVUFBVUMsSUFBSSxvQ0FFeEIsRUFBS0wsS0FBS0ksVUFBVXlILE9BQU8scUNBaEM3QjVJLEtBQUtlLEtBQU8sa0JBQVcsa0JBQ3ZCZixLQUFLMEIsV0FBYUEsR0FvQ1AsYSw2QkM3Q2Ysa0JBRUEsRUFLRSxTQUFZQSxHQUFaLFdBS0EsS0FBQVMsWUFBYyxXQUNaLE9BQUksRUFBS1QsV0FDQSxFQUFLWCxLQUFLd0gsd0JBQXdCQyxJQUdwQyxFQUFLekgsS0FBS3dILHdCQUF3QkUsTUFHM0MsS0FBQXBHLFlBQWMsU0FBQ0MsRUFBZ0JyRCxHQUM3QixFQUFLOEIsS0FBSzhILFVBQVk1SixFQUFRLEdBRTFCLEVBQUt5QyxZQUNQLEVBQUtYLEtBQUs0QixNQUFNOEYsS0FBTyxNQUN2QixFQUFLMUgsS0FBSzRCLE1BQU02RixJQUFNbEcsRUFBUyxFQUFLOEQsZUFBaUIsRUFBSSxPQUV6RCxFQUFLckYsS0FBSzRCLE1BQU02RixJQUFNLE1BQ3RCLEVBQUt6SCxLQUFLNEIsTUFBTThGLEtBQU9uRyxFQUFTLEVBQUs4RCxlQUFpQixFQUFJLE9BSTlELEtBQUFBLGFBQWUsV0FDYixPQUFJLEVBQUsxRSxXQUNBLEVBQUtYLEtBQUt3SCx3QkFBd0JHLE9BR3BDLEVBQUszSCxLQUFLd0gsd0JBQXdCSSxPQUczQyxLQUFBbEcsT0FBUyxTQUFDZixHQUNSLEVBQUtBLFdBQWFBLEVBRWQsRUFBS0EsV0FDUCxFQUFLWCxLQUFLSSxVQUFVQyxJQUFJLDBDQUV4QixFQUFLTCxLQUFLSSxVQUFVeUgsT0FBTywyQ0F0QzdCNUksS0FBS2UsS0FBTyxrQkFBVyx3QkFDdkJmLEtBQUswQixXQUFhQSxHQTBDUCxhLDZCQ2xEZiwwQkFHQSxFQU9FLFNBQVlpQyxFQUE4QnJELEdBQTFDLFdBT0EsS0FBQW1DLE9BQVMsU0FBQ3FHLEdBQ1IsRUFBS25GLFdBQWFtRixFQUNsQixFQUFLckMsYUFHUCxLQUFBQSxVQUFZLFdBQ1YsRUFBS0YsTUFBTWxHLFNBQVEsU0FBQ21HLEVBQU11QyxHQUV4QixHQURBdkMsRUFBSy9ELE9BQU8sRUFBS2tCLFdBQVdqQyxZQUNkLElBQVZxSCxFQUNGdkMsRUFBS25FLFlBQVksRUFBRyxFQUFLc0IsV0FBV3JDLGVBQy9CLEdBQUl5SCxJQUFVLEVBQUt4QyxNQUFNOUYsT0FBUyxFQUN2QytGLEVBQUtuRSxZQUFZLElBQUssRUFBS3NCLFdBQVdwQyxjQUNqQyxDQUNMLElBQUl1RyxFQUFhLEVBQUtDLE1BQU0sRUFBS3BFLFdBQVdyQyxVQUN0QyxFQUFLcUMsV0FBV3BDLFNBQVcsRUFBS29DLFdBQVdyQyxVQUFZeUgsR0FDeEQsRUFBS3hDLE1BQU05RixPQUFTLElBRXJCLEVBQUtrRCxXQUFXL0IsVUFDbEJrRyxFQUFhOUYsV0FBVzhGLEVBQVdFLFFBQVEsS0FHN0MsSUFBTTFGLEdBQVV3RixFQUFhLEVBQUtuRSxXQUFXckMsV0FDeEMsRUFBS3FDLFdBQVdwQyxTQUFXLEVBQUtvQyxXQUFXckMsVUFDaERrRixFQUFLbkUsWUFBcUIsSUFBVEMsRUFBY3dGLFFBSzdCLEtBQUFoQyxLQUFPLFNBQUN4RixHQUNkLEVBQUttRyxZQUNMLEVBQUt1QyxjQUNMLEVBQUsvSSxVQUFVQyxZQUFZSSxJQUdyQixLQUFBOEgsaUJBQW1CLFNBQUNuSixHQUMxQixFQUFLZ0IsVUFBVVUsZ0JBQWdCMUIsSUFHekIsS0FBQStKLFlBQWMsV0FDcEIsSUFBSyxJQUFJaEwsRUFBSSxFQUFHQSxFQUFJLEVBQUdBLEdBQUssRUFBRyxDQUM3QixJQUFNd0ksRUFBTyxJQUFJLFVBQUssRUFBSzdDLFdBQVdqQyxXQUFZLEVBQUswRyxrQkFDdkQsRUFBSzdCLE1BQU1oRyxLQUFLaUcsS0FJWixLQUFBdUIsTUFBUSxTQUFDOUksR0FDZixJQUFNZ0osRUFBUW5ELEtBQUtvRCxNQUFNakosRUFBUSxFQUFLMEUsV0FBV25DLE1BRTNDMkcsSUFBYWxKLEVBQVFnSixFQUFRLEVBQUt0RSxXQUFXbkMsTUFBTXdHLFFBQVEsR0FDakUsT0FBSS9JLEVBQVEsRUFDSDZGLEtBQUtDLElBQUlvRCxHQUFZLEVBQUt4RSxXQUFXbkMsS0FBTyxFQUMvQ3lHLEVBQVEsRUFBS3RFLFdBQVduQyxNQUN2QnlHLEVBQVEsR0FBSyxFQUFLdEUsV0FBV25DLEtBRzdCMkcsRUFBVyxFQUFLeEUsV0FBV25DLEtBQU8sRUFDckN5RyxFQUFRLEVBQUt0RSxXQUFXbkMsTUFDdkJ5RyxFQUFRLEdBQUssRUFBS3RFLFdBQVduQyxNQS9EbEN4QixLQUFLMkQsV0FBYUEsRUFDbEIzRCxLQUFLdUcsTUFBUSxHQUNidkcsS0FBS0MsVUFBWSxJQUFJLFVBQ3JCRCxLQUFLOEYsS0FBS3hGLElBZ0VDLGEsNkJDOUVmLHlCQUdBLEVBU0UsU0FBWW9CLEVBQXFCcEIsR0FBakMsV0FPQSxLQUFBNkIsWUFBYyxXQUNaLE9BQUksRUFBS1QsV0FDQSxFQUFLWCxLQUFLd0gsd0JBQXdCQyxJQUdwQyxFQUFLekgsS0FBS3dILHdCQUF3QkUsTUFHM0MsS0FBQXBHLFlBQWMsU0FBQ0MsRUFBZ0JyRCxHQUM3QixFQUFLOEIsS0FBSzhILFVBQVk1SixFQUFRLEdBQzlCLEVBQUtBLE1BQVFBLEVBRVQsRUFBS3lDLFlBQ1AsRUFBS1gsS0FBSzRCLE1BQU04RixLQUFPLE1BQ3ZCLEVBQUsxSCxLQUFLNEIsTUFBTTZGLElBQU1sRyxFQUFTLElBQy9CLEVBQUt2QixLQUFLNEIsTUFBTXNHLFdBQWEsRUFBSzdDLGVBQWlCLEVBQUksS0FDdkQsRUFBS3JGLEtBQUs0QixNQUFNdUcsV0FBYSxVQUU3QixFQUFLbkksS0FBSzRCLE1BQU02RixJQUFNLE1BQ3RCLEVBQUt6SCxLQUFLNEIsTUFBTThGLEtBQU9uRyxFQUFTLElBQ2hDLEVBQUt2QixLQUFLNEIsTUFBTXVHLFlBQWMsRUFBSzlDLGVBQWlCLEVBQUksS0FDeEQsRUFBS3JGLEtBQUs0QixNQUFNc0csVUFBWSxTQUloQyxLQUFBN0MsYUFBZSxXQUNiLE9BQUksRUFBSzFFLFdBQ0EsRUFBS1gsS0FBS3dILHdCQUF3QkcsT0FHcEMsRUFBSzNILEtBQUt3SCx3QkFBd0JJLE9BRzNDLEtBQUFsRyxPQUFTLFNBQUNmLEdBQ1IsRUFBS0EsV0FBYUEsRUFFZCxFQUFLQSxXQUNQLEVBQUtYLEtBQUtJLFVBQVVDLElBQUksa0NBRXhCLEVBQUtMLEtBQUtJLFVBQVV5SCxPQUFPLG1DQUl2QixLQUFBOUMsS0FBTyxTQUFDeEYsR0FDZCxFQUFLUyxLQUFLc0YsUUFBVSxFQUFLOEMsZ0JBQ3pCLEVBQUtsSixVQUFVQyxZQUFZSSxJQUdyQixLQUFBNkksZ0JBQWtCLFdBQ3hCLEVBQUtsSixVQUFVVSxnQkFBZ0IsRUFBSzFCLFFBdkRwQ2UsS0FBS2UsS0FBTyxrQkFBVyxnQkFDdkJmLEtBQUswQixXQUFhQSxFQUNsQjFCLEtBQUtDLFVBQVksSUFBSSxVQUNyQkQsS0FBSzhGLEtBQUt4RixJQXdEQyxhLDZCQ3pFZixrQkFFQSxFQUtFLFNBQVlvQixHQUFaLFdBS0EsS0FBQVcsWUFBYyxTQUFDQyxHQUNULEVBQUtaLFlBQ1AsRUFBS1gsS0FBSzRCLE1BQU04RixLQUFPLElBQ3ZCLEVBQUsxSCxLQUFLNEIsTUFBTWdHLE1BQVEsT0FDeEIsRUFBSzVILEtBQUs0QixNQUFNNkYsSUFBTWxHLEVBQVMsT0FFL0IsRUFBS3ZCLEtBQUs0QixNQUFNNkYsSUFBTSxJQUN0QixFQUFLekgsS0FBSzRCLE1BQU0rRixPQUFTLE9BQ3pCLEVBQUszSCxLQUFLNEIsTUFBTThGLEtBQU9uRyxFQUFTLE9BSXBDLEtBQUFnRyxhQUFlLFNBQUNjLEdBQ1YsRUFBSzFILFdBQ1AsRUFBS1gsS0FBSzRCLE1BQU0rRixPQUFTVSxFQUFZLEtBRXJDLEVBQUtySSxLQUFLNEIsTUFBTWdHLE1BQVFTLEVBQVksTUFJeEMsS0FBQTNHLE9BQVMsU0FBQ2YsR0FDUixFQUFLQSxXQUFhQSxHQXpCbEIxQixLQUFLZSxLQUFPLGtCQUFXLHdCQUN2QmYsS0FBSzBCLFdBQWFBLEdBNEJQLGEsNkJDcENmLGtCQUVBLGFBS0UsV0FBWTRDLEdBQ1Z0RSxLQUFLc0UsY0FBZ0JBLEVBQ3JCdEUsS0FBS0MsVUFBWSxJQUFJLFVBZ0J6QixPQWJFLFlBQUF5RSxtQkFBQSxTQUFtQjlELEdBQ2JaLEtBQUtzRSxjQUFjRSxrQkFBb0I1RCxJQUN6Q1osS0FBS3NFLGNBQWNFLGdCQUFrQjVELEVBQ3JDWixLQUFLQyxVQUFVVSxvQkFJbkIsWUFBQWdFLG1CQUFBLFNBQW1CL0QsR0FDYlosS0FBS3NFLGNBQWNHLGtCQUFvQjdELElBQ3pDWixLQUFLc0UsY0FBY0csZ0JBQWtCN0QsRUFDckNaLEtBQUtDLFVBQVVVLG9CQUdyQixFQXZCQSxHQXlCZSxhLGdCQzVCZixJQUFJRSxFQUFNLENBQ1QsNkJBQThCLEVBQzlCLHFEQUFzRCxFQUN0RCxtQkFBb0IsR0FDcEIsaUJBQWtCLEVBQ2xCLDJCQUE0QixFQUM1Qiw2QkFBOEIsRUFDOUIsMkNBQTRDLEdBQzVDLGlDQUFrQyxFQUNsQyxtQ0FBb0MsR0FDcEMsK0JBQWdDLEdBQ2hDLG1DQUFvQyxHQUNwQywrQkFBZ0MsRUFDaEMseUNBQTBDLEVBQzFDLGlEQUFrRCxFQUNsRCxjQUFlLEdBQ2YsZUFBZ0IsR0FDaEIsYUFBYyxHQUlmLFNBQVN3SSxFQUFlQyxHQUN2QixJQUFJQyxFQUFLQyxFQUFzQkYsR0FDL0IsT0FBTzFMLEVBQW9CMkwsR0FFNUIsU0FBU0MsRUFBc0JGLEdBQzlCLElBQUkxTCxFQUFvQmEsRUFBRW9DLEVBQUt5SSxHQUFNLENBQ3BDLElBQUlHLEVBQUksSUFBSXJKLE1BQU0sdUJBQXlCa0osRUFBTSxLQUVqRCxNQURBRyxFQUFFQyxLQUFPLG1CQUNIRCxFQUVQLE9BQU81SSxFQUFJeUksR0FFWkQsRUFBZXRGLEtBQU8sV0FDckIsT0FBT3JGLE9BQU9xRixLQUFLbEQsSUFFcEJ3SSxFQUFlTSxRQUFVSCxFQUN6QnpMLEVBQU9ELFFBQVV1TCxFQUNqQkEsRUFBZUUsR0FBSyxJLHdDQ2xDSUssRUFDaEJDLEUsNk5BRGdCRCxFQWdEdEJFLE9BL0NNRCxFQUFtQixDQUN2Qi9ELEtBQU0sU0FBY2lFLEdBQ2xCLElBQUtILEVBQUU1SixNQUFNWSxLQUFLLFVBQVcsQ0FDM0IsSUFBTW9KLEVBQVksRUFBSCxHQUFRLHFCQUNqQkMsRUFBUyxJQUFJLFVBQVdMLEVBQUVNLE9BQU9GLEVBQVdELElBQ2xESCxFQUFFNUosTUFBTVksS0FBSyxTQUFVcUosR0FDdkJBLEVBQU9sSCxhQUFhNkcsRUFBRTVKLFNBSTFCeUMsT0FBUSxTQUFnQnNILEdBQ1BILEVBQUU1SixNQUFNWSxLQUFLLFVBQ3JCaUQsYUFBYWtHLElBR3RCbkYsVUFBVyxXQUVULE9BRGVnRixFQUFFNUosTUFBTVksS0FBSyxVQUNkZ0UsYUFHaEJMLFVBQVcsU0FBbUJ3RixHQUNiSCxFQUFFNUosTUFBTVksS0FBSyxVQUNyQjJELFVBQVV3RixFQUFJdkYsZ0JBQWlCdUYsRUFBSXRGLGtCQUc1QzBGLGFBQWMsU0FBc0JKLEdBQ2xDLElBQU1FLEVBQVNMLEVBQUU1SixNQUFNWSxLQUFLLFVBQzVCcUosRUFBTy9KLGFBQVksV0FDakI2SixFQUFJSyxjQUFjQyxJQUFJSixFQUFPN0YsWUFBWUksaUJBQ3pDdUYsRUFBSU8sY0FBY0QsSUFBSUosRUFBTzdGLFlBQVlLLGlCQUN6Q3NGLEVBQUl4SSxTQUFTOEksSUFBSUosRUFBT3JGLFlBQVlyRCxVQUNwQ3dJLEVBQUl6SSxTQUFTK0ksSUFBSUosRUFBT3JGLFlBQVl0RCxVQUNwQ3lJLEVBQUl2SSxLQUFLNkksSUFBSUosRUFBT3JGLFlBQVlwRCxXQUt0Q29JLEVBQUV6SixHQUFHb0ssV0FBYSxTQUF1QkMsRyxJQUN2Qyx3REFDQSxPQUFJWCxFQUFRVyxHQUNIWCxFQUFRVyxHQUFRQyxNQUFNekssS0FBTTBLLEdBQ2IsaUJBQVhGLEdBQXdCQSxHQUdyQ1osRUFBRWUsTUFBTSxTQUFTSCxFQUFNLDBDQUNoQixNQUhFWCxFQUFRL0QsS0FBSzJFLE1BQU16SyxLQUFNd0ssSyx1REMvQ3ZCLElDRUkxTCxFREZKLEtDRUlBLEVBSVQsT0FITmlGLE9BQU8xRCxRQUFRdkIiLCJmaWxlIjoiYnVuZGxlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuIFx0XHR9XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3RcbiBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3RcbiBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbiBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbiBcdFx0cmV0dXJuIG5zO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDE5KTtcbiIsImltcG9ydCAqIGFzIHR5cGVzIGZyb20gJy4uL3R5cGVzJztcclxuXHJcbmNsYXNzIE1ha2VPYnNlcnZhYmxlT2JqZWN0IHtcclxuICBvYnNlcnZlcnM6IEFycmF5PHR5cGVzLkZ1bmN0aW9uQ2FsbGJhY2tEYXRhPjtcclxuXHJcbiAgY29uc3RydWN0b3IoKSB7XHJcbiAgICB0aGlzLm9ic2VydmVycyA9IFtdO1xyXG4gIH1cclxuXHJcbiAgYWRkT2JzZXJ2ZXIoZm46IHR5cGVzLkZ1bmN0aW9uQ2FsbGJhY2tEYXRhKTogdm9pZCB7XHJcbiAgICBpZiAodHlwZW9mIGZuICE9PSAnZnVuY3Rpb24nKSB7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcignb2JzZXJ2ZXIgbXVzdCBiZSBhIGZ1bmN0aW9uJyk7XHJcbiAgICB9XHJcbiAgICB0aGlzLm9ic2VydmVycy5mb3JFYWNoKChvYnNlcnZlcikgPT4ge1xyXG4gICAgICBpZiAob2JzZXJ2ZXIgPT09IGZuKSB7XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdvYnNlcnZlciBhbHJlYWR5IGluIHRoZSBsaXN0Jyk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gICAgdGhpcy5vYnNlcnZlcnMucHVzaChmbik7XHJcbiAgfVxyXG5cclxuICByZW1vdmVPYnNlcnZlcihmbjogdHlwZXMuRnVuY3Rpb25DYWxsYmFja0RhdGEpOiB2b2lkIHtcclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5vYnNlcnZlcnMubGVuZ3RoOyBpICs9IDEpIHtcclxuICAgICAgY29uc3Qgb2JzZXJ2ZXIgPSB0aGlzLm9ic2VydmVyc1tpXTtcclxuICAgICAgaWYgKG9ic2VydmVyID09PSBmbikge1xyXG4gICAgICAgIHRoaXMub2JzZXJ2ZXJzLnNwbGljZShpLCAxKTtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIHRocm93IG5ldyBFcnJvcignY291bGQgbm90IGZpbmQgb2JzZXJ2ZXIgaW4gbGlzdCBvZiBvYnNlcnZlcnMnKTtcclxuICB9XHJcblxyXG4gIG5vdGlmeU9ic2VydmVycyhkYXRhOiBhbnkgPSBudWxsKTogdm9pZCB7XHJcbiAgICBjb25zdCBvYnNlcnZlcnNTbmFwc2hvdCA9IFsuLi50aGlzLm9ic2VydmVyc107XHJcbiAgICBvYnNlcnZlcnNTbmFwc2hvdC5tYXAoKG9ic2VydmVyKSA9PiBvYnNlcnZlcihkYXRhKSk7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBNYWtlT2JzZXJ2YWJsZU9iamVjdDtcclxuIiwiZnVuY3Rpb24gY3JlYXRlRWxlbShjbGFzc05hbWU6IHN0cmluZykgOkhUTUxFbGVtZW50IHtcclxuICBjb25zdCBlbGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgZWxlbS5vbmRyYWdzdGFydCA9ICgpID0+IGZhbHNlO1xyXG4gIGVsZW0uY2xhc3NMaXN0LmFkZChjbGFzc05hbWUpO1xyXG4gIHJldHVybiBlbGVtO1xyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjcmVhdGVFbGVtO1xyXG4iLCJpbXBvcnQgUnVubmVyIGZyb20gJy4vVmlldy9ibG9ja3MvUnVubmVyL1J1bm5lcic7XHJcblxyXG5leHBvcnQgdHlwZSBGdW5jdGlvbkNhbGxiYWNrRGF0YSA9IChhcmc6IGFueSkgPT4gdm9pZDtcclxuXHJcbmV4cG9ydCB0eXBlIGNvbmZpZ1VwZGF0ZURhdGEgPSB7XHJcbiAgW2luZGV4OiBzdHJpbmddOiBudW1iZXJ8c3RyaW5nfGJvb2xlYW47XHJcbn1cclxuXHJcbmV4cG9ydCB0eXBlIFJ1bm5lck1vdmVEYXRhID0ge1xyXG4gIHJ1bm5lcjogUnVubmVyLFxyXG4gIG9mZnNldDogbnVtYmVyLFxyXG4gIHZhbHVlOiBudW1iZXIsXHJcbn1cclxuXHJcbmV4cG9ydCB0eXBlIEN1cnJlbnRWYWx1ZXMgPSB7XHJcbiAgY3VycmVudE1pblZhbHVlOiBudW1iZXIsXHJcbiAgY3VycmVudE1heFZhbHVlOiBudW1iZXIsXHJcbn1cclxuXHJcbmV4cG9ydCB0eXBlIEN1cnJlbnRWYWx1ZUNoYW5naW5nRGF0YSA9IHtcclxuICB0eXBlT2ZWYWx1ZTogc3RyaW5nLFxyXG4gIHZhbHVlOiBudW1iZXIsXHJcbn1cclxuXHJcbmV4cG9ydCB0eXBlIFJ1bm5lck9ic2VydmVyRGF0YSA9IHtcclxuICBldmVudDogTW91c2VFdmVudCxcclxuICBydW5uZXI6IFJ1bm5lcixcclxufVxyXG5cclxuZXhwb3J0IHR5cGUgUGFyYW1ldGVycyA9IHtcclxuICBtaW5WYWx1ZTogbnVtYmVyLFxyXG4gIG1heFZhbHVlOiBudW1iZXIsXHJcbiAgc3RlcDogbnVtYmVyLFxyXG4gIGlzUmFuZ2U6IGJvb2xlYW4sXHJcbiAgaXNWZXJ0aWNhbDogYm9vbGVhbixcclxuICBzaG93TGFiZWw6IGJvb2xlYW4sXHJcbiAgaXNGbG9hdDogYm9vbGVhblxyXG59XHJcblxyXG5leHBvcnQgdHlwZSBSYXdQYXJhbWV0ZXJzID0ge1xyXG4gIG1pblZhbHVlOiBzdHJpbmd8bnVtYmVyLFxyXG4gIG1heFZhbHVlOiBzdHJpbmd8bnVtYmVyLFxyXG4gIHN0ZXA6IHN0cmluZ3xudW1iZXIsXHJcbiAgaXNSYW5nZTogYm9vbGVhbixcclxuICBpc1ZlcnRpY2FsOiBib29sZWFuLFxyXG4gIHNob3dMYWJlbDogYm9vbGVhbixcclxuICBpc0Zsb2F0OiBib29sZWFuXHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBkZWZhdWx0UGFyYW1ldGVycyA9IHtcclxuICBtaW5WYWx1ZTogMCxcclxuICBtYXhWYWx1ZTogMTAwMCxcclxuICBzdGVwOiAxLFxyXG4gIGlzUmFuZ2U6IGZhbHNlLFxyXG4gIGlzVmVydGljYWw6IGZhbHNlLFxyXG4gIHNob3dMYWJlbDogdHJ1ZSxcclxuICBpc0Zsb2F0OiBmYWxzZVxyXG59O1xyXG4iLCJjbGFzcyBQYXJzaW5nRGlnaXRzIHtcclxuICBzdGF0aWMgcGFyc2luZyA9IChpdGVtOiBzdHJpbmd8bnVtYmVyKTogbnVtYmVyfG51bGwgPT4ge1xyXG4gICAgaWYgKHR5cGVvZiBpdGVtID09PSAnbnVtYmVyJykge1xyXG4gICAgICByZXR1cm4gaXRlbTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAodHlwZW9mIGl0ZW0gPT09ICdzdHJpbmcnKSB7XHJcbiAgICAgIGlmICgvXi0/XFxkK1suLF1cXGQrJC8udGVzdChpdGVtKSkge1xyXG4gICAgICAgIHJldHVybiBwYXJzZUZsb2F0KGl0ZW0pO1xyXG4gICAgICB9IGlmICgvXi0/XFxkKyQvLnRlc3QoaXRlbSkpIHtcclxuICAgICAgICByZXR1cm4gcGFyc2VJbnQoaXRlbSwgMTApO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIG51bGw7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBQYXJzaW5nRGlnaXRzO1xyXG4iLCJpbXBvcnQgKiBhcyB0eXBlcyBmcm9tICcuLi8uLi8uLi90eXBlcyc7XHJcbmltcG9ydCBLbm9iIGZyb20gJy4uL0tub2IvS25vYic7XHJcbmltcG9ydCBUb29sdGlwIGZyb20gJy4uL1Rvb2x0aXAvVG9vbHRpcCc7XHJcbmltcG9ydCBNYWtlT2JzZXJ2YWJsZU9iamVjdCBmcm9tICcuLi8uLi8uLi9tYWtlT2JzZXJ2YWJsZU9iamVjdC9NYWtlT2JzZXJ2YWJsZU9iamVjdCc7XHJcblxyXG5jbGFzcyBSdW5uZXIge1xyXG4gIGtub2I6IEtub2I7XHJcblxyXG4gIHRvb2x0aXA6IFRvb2x0aXA7XHJcblxyXG4gIGlzVmVydGljYWw6IGJvb2xlYW47XHJcblxyXG4gIG9ic2VydmVyczogTWFrZU9ic2VydmFibGVPYmplY3Q7XHJcblxyXG4gIGNvbnN0cnVjdG9yKGlzVmVydGljYWw6IGJvb2xlYW4sIG1vdmVPYnNlcnZlcjogdHlwZXMuRnVuY3Rpb25DYWxsYmFja0RhdGEpIHtcclxuICAgIHRoaXMuaXNWZXJ0aWNhbCA9IGlzVmVydGljYWw7XHJcbiAgICB0aGlzLmtub2IgPSBuZXcgS25vYihpc1ZlcnRpY2FsKTtcclxuICAgIHRoaXMudG9vbHRpcCA9IG5ldyBUb29sdGlwKGlzVmVydGljYWwpO1xyXG4gICAgdGhpcy5vYnNlcnZlcnMgPSBuZXcgTWFrZU9ic2VydmFibGVPYmplY3QoKTtcclxuICAgIHRoaXMub2JzZXJ2ZXJzLmFkZE9ic2VydmVyKG1vdmVPYnNlcnZlcik7XHJcbiAgfVxyXG5cclxuICBnZXRQb3NpdGlvbiA9ICgpOiBudW1iZXIgPT4ge1xyXG4gICAgcmV0dXJuIHRoaXMua25vYi5nZXRQb3NpdGlvbigpO1xyXG4gIH1cclxuXHJcbiAgc2V0UG9zaXRpb24gPSAob2Zmc2V0OiBudW1iZXIsIHZhbHVlOiBudW1iZXIpOiB2b2lkID0+IHtcclxuICAgIHRoaXMudG9vbHRpcC5zZXRQb3NpdGlvbihvZmZzZXQgKyB0aGlzLmtub2IuZ2V0V2lkdGgoKSAvIDIsIHZhbHVlKTtcclxuICAgIHRoaXMua25vYi5zZXRQb3NpdGlvbihvZmZzZXQpO1xyXG4gIH1cclxuXHJcbiAgdXBkYXRlID0gKGlzVmVydGljYWw6IGJvb2xlYW4pOiB2b2lkID0+IHtcclxuICAgIHRoaXMua25vYi51cGRhdGUoaXNWZXJ0aWNhbCk7XHJcbiAgICB0aGlzLnRvb2x0aXAudXBkYXRlKGlzVmVydGljYWwpO1xyXG4gIH1cclxuXHJcbiAgZ2V0V2lkdGggPSAoKTogbnVtYmVyID0+IHtcclxuICAgIHJldHVybiB0aGlzLmtub2IuZ2V0V2lkdGgoKTtcclxuICB9XHJcblxyXG4gIGhpZGVSdW5uZXIgPSAoKTogdm9pZCA9PiB7XHJcbiAgICB0aGlzLmtub2IuZWxlbS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xyXG4gICAgdGhpcy50b29sdGlwLmVsZW0uc3R5bGUuZGlzcGxheSA9ICdub25lJztcclxuICB9XHJcblxyXG4gIGhpZGVMYWJlbCA9ICgpOiB2b2lkID0+IHtcclxuICAgIHRoaXMudG9vbHRpcC5lbGVtLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XHJcbiAgfVxyXG5cclxuICBzaG93TGFiZWwgPSAoKTogdm9pZCA9PiB7XHJcbiAgICB0aGlzLnRvb2x0aXAuZWxlbS5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcclxuICB9XHJcblxyXG4gIHNob3dSdW5uZXIgPSAoKTogdm9pZCA9PiB7XHJcbiAgICB0aGlzLmtub2IuZWxlbS5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcclxuICB9XHJcblxyXG4gIGFwcGVuZFRvTm9kZSA9IChlbnRyeTogSFRNTEVsZW1lbnQpOiB2b2lkID0+IHtcclxuICAgIFt0aGlzLmtub2IuZWxlbSwgdGhpcy50b29sdGlwLmVsZW1dLmZvckVhY2goKGVsZW0pID0+IHtcclxuICAgICAgZW50cnkuYXBwZW5kQ2hpbGQoZWxlbSk7XHJcbiAgICAgIGVsZW0ub25tb3VzZWRvd24gPSB0aGlzLmhhbmRsZVJ1bm5lck1vdXNlRG93bjsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1wYXJhbS1yZWFzc2lnblxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGhhbmRsZVJ1bm5lck1vdXNlRG93biA9IChldmVudDogTW91c2VFdmVudCk6IHZvaWQgPT4ge1xyXG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIHRoaXMuaGFuZGxlUnVubmVyTW91c2VNb3ZlKTtcclxuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCB0aGlzLmhhbmRsZVJ1bm5lck1vdXNlVXApO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBoYW5kbGVSdW5uZXJNb3VzZU1vdmUgPSAoZXZlbnQ6IE1vdXNlRXZlbnQpOiB2b2lkID0+IHtcclxuICAgIHRoaXMub2JzZXJ2ZXJzLm5vdGlmeU9ic2VydmVycyh7IGV2ZW50OiBldmVudCwgcnVubmVyOiB0aGlzIH0pO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBoYW5kbGVSdW5uZXJNb3VzZVVwID0gKCk6IHZvaWQgPT4ge1xyXG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIHRoaXMuaGFuZGxlUnVubmVyTW91c2VVcCk7XHJcbiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCB0aGlzLmhhbmRsZVJ1bm5lck1vdXNlTW92ZSk7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBSdW5uZXI7XHJcbiIsImltcG9ydCAqIGFzIHR5cGVzIGZyb20gJy4uL3R5cGVzJztcclxuaW1wb3J0IFZpZXcgZnJvbSAnLi4vVmlldy9WaWV3JztcclxuaW1wb3J0IE1vZGVsIGZyb20gJy4uL01vZGVsL01vZGVsJztcclxuaW1wb3J0IE1ha2VPYnNlcnZhYmxlT2JqZWN0IGZyb20gJy4uL21ha2VPYnNlcnZhYmxlT2JqZWN0L01ha2VPYnNlcnZhYmxlT2JqZWN0JztcclxuaW1wb3J0IFBhcnNpbmdEaWdpdHMgZnJvbSAnLi9ibG9ja3MvcGFyc2luZ0RpZ2l0cy9QYXJzaW5nRGlnaXRzJztcclxuXHJcbmNsYXNzIENvbnRyb2xsZXIge1xyXG4gIHZpZXc6IFZpZXc7XHJcblxyXG4gIG1vZGVsOiBNb2RlbDtcclxuXHJcbiAgb2JzZXJ2ZXJzOiBNYWtlT2JzZXJ2YWJsZU9iamVjdDtcclxuXHJcbiAgY29uc3RydWN0b3IocGFyYW1ldGVycyA9IHR5cGVzLmRlZmF1bHRQYXJhbWV0ZXJzKSB7XHJcbiAgICB0aGlzLnZpZXcgPSBuZXcgVmlldyhwYXJhbWV0ZXJzKTtcclxuICAgIHRoaXMubW9kZWwgPSBuZXcgTW9kZWwoe1xyXG4gICAgICBjdXJyZW50TWluVmFsdWU6IHBhcmFtZXRlcnMubWluVmFsdWUsXHJcbiAgICAgIGN1cnJlbnRNYXhWYWx1ZTogcGFyYW1ldGVycy5tYXhWYWx1ZVxyXG4gICAgfSk7XHJcbiAgICB0aGlzLm9ic2VydmVycyA9IG5ldyBNYWtlT2JzZXJ2YWJsZU9iamVjdCgpO1xyXG4gICAgdGhpcy5hZGRWaWV3T2JzZXJ2ZXIoKTtcclxuICAgIHRoaXMuYWRkTW9kZWxPYnNlcnZlcigpO1xyXG4gIH1cclxuXHJcbiAgYXBwZW5kVG9Ob2RlID0gKGVudHJ5OiBKUXVlcnkpOiB2b2lkID0+IHtcclxuICAgIHRoaXMudmlldy5hcHBlbmRUb05vZGUoZW50cnkuZ2V0KDApKTtcclxuICAgIHRoaXMudmlldy51cGRhdGUoKTtcclxuICB9XHJcblxyXG4gIHVwZGF0ZUNvbmZpZyA9IChwYXJhbWV0ZXJzOiB0eXBlcy5SYXdQYXJhbWV0ZXJzKTogdm9pZCA9PiB7XHJcbiAgICBjb25zdCBwYXJhbWV0ZXJzU25hcHNob3QgPSBwYXJhbWV0ZXJzO1xyXG4gICAgT2JqZWN0LmtleXMocGFyYW1ldGVycykuZm9yRWFjaCgoa2V5KSA9PiB7XHJcbiAgICAgIGlmIChrZXkgPT09ICdzdGVwJykge1xyXG4gICAgICAgIHBhcmFtZXRlcnNTbmFwc2hvdC5zdGVwID0gdGhpcy5jaGVja1N0ZXAocGFyYW1ldGVycy5zdGVwIGFzIHN0cmluZyk7XHJcbiAgICAgIH0gZWxzZSBpZiAoa2V5ID09PSAnbWF4VmFsdWUnKSB7XHJcbiAgICAgICAgcGFyYW1ldGVyc1NuYXBzaG90Lm1heFZhbHVlID0gdGhpcy5jaGVja01heFZhbHVlKHBhcmFtZXRlcnMubWF4VmFsdWUgYXMgc3RyaW5nKTtcclxuICAgICAgfSBlbHNlIGlmIChrZXkgPT09ICdtaW5WYWx1ZScpIHtcclxuICAgICAgICBwYXJhbWV0ZXJzU25hcHNob3QubWluVmFsdWUgPSB0aGlzLmNoZWNrTWluVmFsdWUocGFyYW1ldGVycy5taW5WYWx1ZSBhcyBzdHJpbmcpO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICB0aGlzLnZpZXcucGFyYW1ldGVycyA9IE9iamVjdC5hc3NpZ24odGhpcy52aWV3LnBhcmFtZXRlcnMsIHBhcmFtZXRlcnNTbmFwc2hvdCk7XHJcbiAgICB0aGlzLnZpZXcudXBkYXRlKCk7XHJcbiAgfVxyXG5cclxuICBnZXRWYWx1ZXMgPSAoKTogdHlwZXMuQ3VycmVudFZhbHVlcyA9PiB7XHJcbiAgICByZXR1cm4gdGhpcy5tb2RlbC5jdXJyZW50VmFsdWVzO1xyXG4gIH1cclxuXHJcbiAgc2V0VmFsdWVzID0gKGN1cnJlbnRNaW5WYWx1ZTogbnVtYmVyLCBjdXJyZW50TWF4VmFsdWU6IG51bWJlcik6IHZvaWQgPT4ge1xyXG4gICAgaWYgKGN1cnJlbnRNaW5WYWx1ZSB8fCBjdXJyZW50TWluVmFsdWUgPT09IDApIHtcclxuICAgICAgdGhpcy5tb2RlbC5zZXRDdXJyZW50TWluVmFsdWUoY3VycmVudE1pblZhbHVlKTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoY3VycmVudE1heFZhbHVlIHx8IGN1cnJlbnRNYXhWYWx1ZSA9PT0gMCkge1xyXG4gICAgICB0aGlzLm1vZGVsLnNldEN1cnJlbnRNYXhWYWx1ZShjdXJyZW50TWF4VmFsdWUpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZ2V0Q29uZmlnID0gKCk6IHR5cGVzLlBhcmFtZXRlcnMgPT4ge1xyXG4gICAgcmV0dXJuIHRoaXMudmlldy5wYXJhbWV0ZXJzO1xyXG4gIH1cclxuXHJcbiAgYWRkT2JzZXJ2ZXIgPSAoZm46IHR5cGVzLkZ1bmN0aW9uQ2FsbGJhY2tEYXRhKTogdm9pZCA9PiB7XHJcbiAgICB0aGlzLm9ic2VydmVycy5hZGRPYnNlcnZlcihmbik7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGNoZWNrU3RlcCA9IChzdGVwOiBzdHJpbmcpOiBudW1iZXIgPT4ge1xyXG4gICAgY29uc3Qgc3RlcENoZWNrZWQgPSBNYXRoLmFicyhQYXJzaW5nRGlnaXRzLnBhcnNpbmcoc3RlcCkpO1xyXG5cclxuICAgIGlmICh0aGlzLmlzU3RlcFZhbHVlV3Jvbmcoc3RlcENoZWNrZWQpKSB7XHJcbiAgICAgIHJldHVybiB0aGlzLnZpZXcucGFyYW1ldGVycy5zdGVwO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChzdGVwQ2hlY2tlZCAlIDEgIT09IDApIHtcclxuICAgICAgdGhpcy52aWV3LnBhcmFtZXRlcnMuaXNGbG9hdCA9IHRydWU7XHJcbiAgICB9IGVsc2UgaWYgKCF0aGlzLmlzT3RoZXJzVmFsdWVzRmxvYXQoJ3N0ZXAnKSkge1xyXG4gICAgICB0aGlzLnZpZXcucGFyYW1ldGVycy5pc0Zsb2F0ID0gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHN0ZXBDaGVja2VkO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBpc1N0ZXBWYWx1ZVdyb25nID0gKHN0ZXBDaGVja2VkOiBudW1iZXIpOiBib29sZWFuID0+IHtcclxuICAgIGNvbnN0IGlzU3RlcE1vcmVUaGFuSGFsZiA9IHN0ZXBDaGVja2VkXHJcbiAgICAgID4gKHRoaXMudmlldy5wYXJhbWV0ZXJzLm1heFZhbHVlIC0gdGhpcy52aWV3LnBhcmFtZXRlcnMubWluVmFsdWUpIC8gMjtcclxuICAgIHJldHVybiAoc3RlcENoZWNrZWQgPT09IG51bGwgfHwgc3RlcENoZWNrZWQgPT09IDAgfHwgaXNTdGVwTW9yZVRoYW5IYWxmKTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgaXNPdGhlcnNWYWx1ZXNGbG9hdCA9IChwYXJhbWV0ZXI6IHN0cmluZyk6IGJvb2xlYW4gPT4ge1xyXG4gICAgc3dpdGNoIChwYXJhbWV0ZXIpIHtcclxuICAgICAgY2FzZSAnc3RlcCc6XHJcbiAgICAgICAgcmV0dXJuICh0aGlzLnZpZXcucGFyYW1ldGVycy5tYXhWYWx1ZSAlIDEgIT09IDAgfHwgdGhpcy52aWV3LnBhcmFtZXRlcnMubWluVmFsdWUgJSAxICE9PSAwKTtcclxuICAgICAgY2FzZSAnbWF4VmFsdWUnOlxyXG4gICAgICAgIHJldHVybiAodGhpcy52aWV3LnBhcmFtZXRlcnMuc3RlcCAlIDEgIT09IDAgfHwgdGhpcy52aWV3LnBhcmFtZXRlcnMubWluVmFsdWUgJSAxICE9PSAwKTtcclxuICAgICAgY2FzZSAnbWluVmFsdWUnOlxyXG4gICAgICAgIHJldHVybiAodGhpcy52aWV3LnBhcmFtZXRlcnMuc3RlcCAlIDEgIT09IDAgfHwgdGhpcy52aWV3LnBhcmFtZXRlcnMubWF4VmFsdWUgJSAxICE9PSAwKTtcclxuICAgICAgZGVmYXVsdDpcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGNoZWNrTWF4VmFsdWUgPSAobWF4VmFsdWU6IHN0cmluZyk6IG51bWJlciA9PiB7XHJcbiAgICBjb25zdCBtYXhWYWx1ZUNoZWNrZWQgPSBQYXJzaW5nRGlnaXRzLnBhcnNpbmcobWF4VmFsdWUpO1xyXG5cclxuICAgIGlmICh0aGlzLmlzTWF4VmFsdWVXcm9uZyhtYXhWYWx1ZUNoZWNrZWQpKSB7XHJcbiAgICAgIHJldHVybiB0aGlzLnZpZXcucGFyYW1ldGVycy5tYXhWYWx1ZTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAobWF4VmFsdWVDaGVja2VkICUgMSAhPT0gMCkge1xyXG4gICAgICB0aGlzLnZpZXcucGFyYW1ldGVycy5pc0Zsb2F0ID0gdHJ1ZTtcclxuICAgIH0gZWxzZSBpZiAoIXRoaXMuaXNPdGhlcnNWYWx1ZXNGbG9hdCgnbWF4VmFsdWUnKSkge1xyXG4gICAgICB0aGlzLnZpZXcucGFyYW1ldGVycy5pc0Zsb2F0ID0gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIG1heFZhbHVlQ2hlY2tlZDtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgaXNNYXhWYWx1ZVdyb25nID0gKG1heFZhbHVlQ2hlY2tlZDogbnVtYmVyKTogYm9vbGVhbiA9PiB7XHJcbiAgICByZXR1cm4gKG1heFZhbHVlQ2hlY2tlZCA9PT0gbnVsbCB8fCBtYXhWYWx1ZUNoZWNrZWQgPD0gdGhpcy52aWV3LnBhcmFtZXRlcnMubWluVmFsdWUpO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBjaGVja01pblZhbHVlID0gKG1pblZhbHVlOiBzdHJpbmcpOiBudW1iZXIgPT4ge1xyXG4gICAgY29uc3QgbWluVmFsdWVDaGVja2VkID0gUGFyc2luZ0RpZ2l0cy5wYXJzaW5nKG1pblZhbHVlKTtcclxuXHJcbiAgICBpZiAodGhpcy5pc01pblZhbHVlV3JvbmcobWluVmFsdWVDaGVja2VkKSkge1xyXG4gICAgICByZXR1cm4gdGhpcy52aWV3LnBhcmFtZXRlcnMubWluVmFsdWU7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKG1pblZhbHVlQ2hlY2tlZCAlIDEgIT09IDApIHtcclxuICAgICAgdGhpcy52aWV3LnBhcmFtZXRlcnMuaXNGbG9hdCA9IHRydWU7XHJcbiAgICB9IGVsc2UgaWYgKCF0aGlzLmlzT3RoZXJzVmFsdWVzRmxvYXQoJ21pblZhbHVlJykpIHtcclxuICAgICAgdGhpcy52aWV3LnBhcmFtZXRlcnMuaXNGbG9hdCA9IGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBtaW5WYWx1ZUNoZWNrZWQ7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGlzTWluVmFsdWVXcm9uZyA9IChtaW5WYWx1ZUNoZWNrZWQ6IG51bWJlcik6IGJvb2xlYW4gPT4ge1xyXG4gICAgcmV0dXJuIChtaW5WYWx1ZUNoZWNrZWQgPT09IG51bGwgfHwgbWluVmFsdWVDaGVja2VkID49IHRoaXMudmlldy5wYXJhbWV0ZXJzLm1heFZhbHVlKTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgYWRkVmlld09ic2VydmVyID0gKCk6IHZvaWQgPT4ge1xyXG4gICAgdGhpcy52aWV3Lm9ic2VydmVycy5hZGRPYnNlcnZlcigoKSA9PiB7XHJcbiAgICAgIHRoaXMubW9kZWwuY3VycmVudFZhbHVlcyA9IHRoaXMudmlldy5jdXJyZW50VmFsdWVzO1xyXG4gICAgICB0aGlzLm9ic2VydmVycy5ub3RpZnlPYnNlcnZlcnMoKTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBhZGRNb2RlbE9ic2VydmVyID0gKCk6IHZvaWQgPT4ge1xyXG4gICAgdGhpcy5tb2RlbC5vYnNlcnZlcnMuYWRkT2JzZXJ2ZXIoKCkgPT4ge1xyXG4gICAgICB0aGlzLnZpZXcuY3VycmVudFZhbHVlcyA9IHRoaXMubW9kZWwuY3VycmVudFZhbHVlcztcclxuICAgICAgdGhpcy52aWV3LnVwZGF0ZSgpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBDb250cm9sbGVyO1xyXG4iLCJpbXBvcnQgKiBhcyB0eXBlcyBmcm9tICcuLi90eXBlcyc7XHJcbmltcG9ydCBNYWtlT2JzZXJ2YWJsZU9iamVjdCBmcm9tICcuLi9tYWtlT2JzZXJ2YWJsZU9iamVjdC9NYWtlT2JzZXJ2YWJsZU9iamVjdCc7XHJcbmltcG9ydCBUcmFjayBmcm9tICcuL2Jsb2Nrcy9UcmFjay9UcmFjayc7XHJcblxyXG5jbGFzcyBWaWV3IHtcclxuICBwYXJhbWV0ZXJzOiB0eXBlcy5QYXJhbWV0ZXJzO1xyXG5cclxuICBjdXJyZW50VmFsdWVzOiB0eXBlcy5DdXJyZW50VmFsdWVzO1xyXG5cclxuICBvYnNlcnZlcnM6IE1ha2VPYnNlcnZhYmxlT2JqZWN0O1xyXG5cclxuICB0cmFjazogVHJhY2s7XHJcblxyXG4gIGNvbnN0cnVjdG9yKHBhcmFtZXRlcnMgPSB0eXBlcy5kZWZhdWx0UGFyYW1ldGVycykge1xyXG4gICAgdGhpcy5wYXJhbWV0ZXJzID0gcGFyYW1ldGVycztcclxuICAgIHRoaXMub2JzZXJ2ZXJzID0gbmV3IE1ha2VPYnNlcnZhYmxlT2JqZWN0KCk7XHJcbiAgICB0aGlzLnRyYWNrID0gbmV3IFRyYWNrKHRoaXMucGFyYW1ldGVycyk7XHJcbiAgICB0aGlzLmluaXQoKTtcclxuICB9XHJcblxyXG4gIHVwZGF0ZSA9ICgpOiB2b2lkID0+IHtcclxuICAgIHRoaXMudHJhY2sudXBkYXRlKHRoaXMucGFyYW1ldGVycyk7XHJcbiAgICB0aGlzLnRyYWNrLnJlbmV3UnVubmVycyh0aGlzLmN1cnJlbnRWYWx1ZXMpO1xyXG4gIH1cclxuXHJcbiAgaGFuZGxlVHJhY2tWYWx1ZUNoYW5naW5nID0gKGRhdGE6IHR5cGVzLkN1cnJlbnRWYWx1ZUNoYW5naW5nRGF0YSk6IHZvaWQgPT4ge1xyXG4gICAgaWYgKGRhdGEudHlwZU9mVmFsdWUgPT09ICdtaW5WYWx1ZScpIHtcclxuICAgICAgdGhpcy5jdXJyZW50VmFsdWVzLmN1cnJlbnRNaW5WYWx1ZSA9IGRhdGEudmFsdWU7XHJcbiAgICB9IGVsc2UgaWYgKGRhdGEudHlwZU9mVmFsdWUgPT09ICdtYXhWYWx1ZScpIHtcclxuICAgICAgdGhpcy5jdXJyZW50VmFsdWVzLmN1cnJlbnRNYXhWYWx1ZSA9IGRhdGEudmFsdWU7XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5vYnNlcnZlcnMubm90aWZ5T2JzZXJ2ZXJzKCk7XHJcbiAgfVxyXG5cclxuICBhcHBlbmRUb05vZGUgPSAoZW50cnk6IEhUTUxFbGVtZW50KTogdm9pZCA9PiB7XHJcbiAgICB0aGlzLnRyYWNrLmFwcGVuZFRvTm9kZShlbnRyeSk7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGluaXQgPSAoKTogdm9pZCA9PiB7XHJcbiAgICB0aGlzLmN1cnJlbnRWYWx1ZXMgPSB7XHJcbiAgICAgIGN1cnJlbnRNaW5WYWx1ZTogdGhpcy5wYXJhbWV0ZXJzLm1pblZhbHVlLFxyXG4gICAgICBjdXJyZW50TWF4VmFsdWU6IHRoaXMucGFyYW1ldGVycy5tYXhWYWx1ZVxyXG4gICAgfTtcclxuXHJcbiAgICB0aGlzLnRyYWNrLm9ic2VydmVycy5hZGRPYnNlcnZlcih0aGlzLmhhbmRsZVRyYWNrVmFsdWVDaGFuZ2luZyk7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBWaWV3O1xyXG4iLCJpbXBvcnQgKiBhcyB0eXBlcyBmcm9tICcuLi8uLi8uLi90eXBlcyc7XHJcbmltcG9ydCBCYXIgZnJvbSAnLi4vQmFyL0Jhcic7XHJcbmltcG9ydCBSdW5uZXIgZnJvbSAnLi4vUnVubmVyL1J1bm5lcic7XHJcbmltcG9ydCBTY2FsZSBmcm9tICcuLi9TY2FsZS9TY2FsZSc7XHJcbmltcG9ydCBQcm9ncmVzc0JhciBmcm9tICcuLi9Qcm9ncmVzc0Jhci9Qcm9ncmVzc0Jhcic7XHJcbmltcG9ydCBNYWtlT2JzZXJ2YWJsZU9iamVjdCBmcm9tICcuLi8uLi8uLi9tYWtlT2JzZXJ2YWJsZU9iamVjdC9NYWtlT2JzZXJ2YWJsZU9iamVjdCc7XHJcblxyXG5jbGFzcyBUcmFjayB7XHJcbiAgcGFyYW1ldGVyczogdHlwZXMuUGFyYW1ldGVycztcclxuXHJcbiAgcnVubmVyTWFpbjogUnVubmVyO1xyXG5cclxuICBydW5uZXJBZGRpdGlvbmFsOiBSdW5uZXI7XHJcblxyXG4gIHByb2dyZXNzQmFyOiBQcm9ncmVzc0JhcjtcclxuXHJcbiAgYmFyOiBCYXI7XHJcblxyXG4gIHNjYWxlOiBTY2FsZTtcclxuXHJcbiAgb2JzZXJ2ZXJzOiBNYWtlT2JzZXJ2YWJsZU9iamVjdDtcclxuXHJcbiAgY29uc3RydWN0b3IocGFyYW1ldGVyczogdHlwZXMuUGFyYW1ldGVycykge1xyXG4gICAgdGhpcy5wYXJhbWV0ZXJzID0gcGFyYW1ldGVycztcclxuICAgIHRoaXMucnVubmVyTWFpbiA9IG5ldyBSdW5uZXIodGhpcy5wYXJhbWV0ZXJzLmlzVmVydGljYWwsIHRoaXMuaGFuZGxlUnVubmVyTW92ZSk7XHJcbiAgICB0aGlzLnJ1bm5lckFkZGl0aW9uYWwgPSBuZXcgUnVubmVyKHRoaXMucGFyYW1ldGVycy5pc1ZlcnRpY2FsLCB0aGlzLmhhbmRsZVJ1bm5lck1vdmUpO1xyXG4gICAgdGhpcy5wcm9ncmVzc0JhciA9IG5ldyBQcm9ncmVzc0Jhcih0aGlzLnBhcmFtZXRlcnMuaXNWZXJ0aWNhbCk7XHJcbiAgICB0aGlzLmJhciA9IG5ldyBCYXIodGhpcy5wYXJhbWV0ZXJzLmlzVmVydGljYWwpO1xyXG4gICAgdGhpcy5zY2FsZSA9IG5ldyBTY2FsZSh0aGlzLnBhcmFtZXRlcnMsIHRoaXMuaGFuZGxlU2NhbGVDbGljayk7XHJcbiAgICB0aGlzLm9ic2VydmVycyA9IG5ldyBNYWtlT2JzZXJ2YWJsZU9iamVjdCgpO1xyXG4gIH1cclxuXHJcbiAgdXBkYXRlID0gKHBhcmFtZXRlcnM6IHR5cGVzLlBhcmFtZXRlcnMpOiB2b2lkID0+IHtcclxuICAgIHRoaXMucGFyYW1ldGVycyA9IHBhcmFtZXRlcnM7XHJcbiAgICB0aGlzLmJhci51cGRhdGUodGhpcy5wYXJhbWV0ZXJzLmlzVmVydGljYWwpO1xyXG4gICAgdGhpcy5wcm9ncmVzc0Jhci51cGRhdGUodGhpcy5wYXJhbWV0ZXJzLmlzVmVydGljYWwpO1xyXG4gICAgdGhpcy5ydW5uZXJBZGRpdGlvbmFsLnVwZGF0ZSh0aGlzLnBhcmFtZXRlcnMuaXNWZXJ0aWNhbCk7XHJcbiAgICB0aGlzLnJ1bm5lck1haW4udXBkYXRlKHRoaXMucGFyYW1ldGVycy5pc1ZlcnRpY2FsKTtcclxuICAgIHRoaXMuc2NhbGUudXBkYXRlKHRoaXMucGFyYW1ldGVycyk7XHJcbiAgICB0aGlzLnJ1bm5lckFkZGl0aW9uYWwuaGlkZVJ1bm5lcigpO1xyXG5cclxuICAgIGlmICh0aGlzLnBhcmFtZXRlcnMuc2hvd0xhYmVsKSB7XHJcbiAgICAgIHRoaXMucnVubmVyQWRkaXRpb25hbC5zaG93TGFiZWwoKTtcclxuICAgICAgdGhpcy5ydW5uZXJNYWluLnNob3dMYWJlbCgpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5ydW5uZXJBZGRpdGlvbmFsLmhpZGVMYWJlbCgpO1xyXG4gICAgICB0aGlzLnJ1bm5lck1haW4uaGlkZUxhYmVsKCk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHRoaXMucGFyYW1ldGVycy5pc1JhbmdlKSB7XHJcbiAgICAgIHRoaXMucnVubmVyQWRkaXRpb25hbC5zaG93UnVubmVyKCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLnJ1bm5lckFkZGl0aW9uYWwuaGlkZVJ1bm5lcigpO1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXMucnVubmVyQWRkaXRpb25hbC5zZXRQb3NpdGlvbihcclxuICAgICAgLXRoaXMucnVubmVyQWRkaXRpb25hbC5nZXRXaWR0aCgpIC8gMixcclxuICAgICAgdGhpcy5wYXJhbWV0ZXJzLm1pblZhbHVlXHJcbiAgICApO1xyXG4gICAgdGhpcy5ydW5uZXJNYWluLnNldFBvc2l0aW9uKFxyXG4gICAgICB0aGlzLmJhci5nZXREaW1lbnNpb24oKSAtIHRoaXMucnVubmVyTWFpbi5nZXRXaWR0aCgpIC8gMixcclxuICAgICAgdGhpcy5wYXJhbWV0ZXJzLm1heFZhbHVlXHJcbiAgICApO1xyXG4gIH1cclxuXHJcbiAgcmVuZXdSdW5uZXJzKGN1cnJlbnRWYWx1ZXM6IHR5cGVzLkN1cnJlbnRWYWx1ZXMpOiB2b2lkIHtcclxuICAgIHRoaXMubW92ZVJ1bm5lcihcclxuICAgICAgdGhpcy5wcm9jZXNzUnVubmVyT2Zmc2V0KFxyXG4gICAgICAgIHRoaXMuY29udmVydE9mZnNldFRvVmFsdWUoY3VycmVudFZhbHVlcy5jdXJyZW50TWF4VmFsdWUpLFxyXG4gICAgICAgIHRoaXMucnVubmVyTWFpblxyXG4gICAgICApXHJcbiAgICApO1xyXG4gICAgdGhpcy5tb3ZlUnVubmVyKFxyXG4gICAgICB0aGlzLnByb2Nlc3NSdW5uZXJPZmZzZXQoXHJcbiAgICAgICAgdGhpcy5jb252ZXJ0T2Zmc2V0VG9WYWx1ZShjdXJyZW50VmFsdWVzLmN1cnJlbnRNaW5WYWx1ZSksXHJcbiAgICAgICAgdGhpcy5ydW5uZXJBZGRpdGlvbmFsXHJcbiAgICAgIClcclxuICAgICk7XHJcbiAgfVxyXG5cclxuICBhcHBlbmRUb05vZGUgPSAoZW50cnk6IEhUTUxFbGVtZW50KTogdm9pZCA9PiB7XHJcbiAgICBlbnRyeS5hcHBlbmRDaGlsZCh0aGlzLmJhci5lbGVtKS5hcHBlbmRDaGlsZCh0aGlzLnByb2dyZXNzQmFyLmVsZW0pO1xyXG4gICAgdGhpcy5iYXIuZWxlbS5vbmNsaWNrID0gdGhpcy5oYW5kbGVCYXJDbGljaztcclxuICAgIHRoaXMucnVubmVyTWFpbi5hcHBlbmRUb05vZGUoZW50cnkpO1xyXG4gICAgdGhpcy5ydW5uZXJBZGRpdGlvbmFsLmFwcGVuZFRvTm9kZShlbnRyeSk7XHJcblxyXG4gICAgdGhpcy5zY2FsZS5tYXJrcy5mb3JFYWNoKChtYXJrKSA9PiB7XHJcbiAgICAgIGVudHJ5LmFwcGVuZENoaWxkKG1hcmsuZWxlbSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICB0aGlzLnNjYWxlLm1vdmVNYXJrcygpO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBjb252ZXJ0T2Zmc2V0VG9WYWx1ZSA9ICh2YWx1ZTogbnVtYmVyKTogbnVtYmVyID0+IHtcclxuICAgIHJldHVybiAoKCh2YWx1ZSAtIHRoaXMucGFyYW1ldGVycy5taW5WYWx1ZSkgKiB0aGlzLmJhci5nZXREaW1lbnNpb24oKSlcclxuICAgICAgLyAodGhpcy5wYXJhbWV0ZXJzLm1heFZhbHVlIC0gdGhpcy5wYXJhbWV0ZXJzLm1pblZhbHVlKVxyXG4gICAgICAtIHRoaXMucnVubmVyTWFpbi5nZXRXaWR0aCgpIC8gMik7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGdldE1haW5SdW5uZXJPZmZzZXQgPSAoKTogbnVtYmVyID0+IHtcclxuICAgIGNvbnN0IG9mZnNldCA9IHRoaXMucnVubmVyTWFpbi5nZXRQb3NpdGlvbigpIC0gdGhpcy5iYXIuZ2V0UG9zaXRpb24oKVxyXG4gICAgICArIHRoaXMucnVubmVyTWFpbi5nZXRXaWR0aCgpIC8gMjtcclxuICAgIHJldHVybiBvZmZzZXQgPCAwID8gMCA6IG9mZnNldDtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgZ2V0QWRkaXRpb25hbFJ1bm5lck9mZnNldCA9ICgpOiBudW1iZXIgPT4ge1xyXG4gICAgaWYgKHRoaXMucGFyYW1ldGVycy5pc1JhbmdlKSB7XHJcbiAgICAgIHJldHVybiB0aGlzLnJ1bm5lckFkZGl0aW9uYWwuZ2V0UG9zaXRpb24oKSAtIHRoaXMuYmFyLmdldFBvc2l0aW9uKClcclxuICAgICAgICArIHRoaXMucnVubmVyTWFpbi5nZXRXaWR0aCgpIC8gMjtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gMDtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgaGFuZGxlUnVubmVyTW92ZSA9ICh7IGV2ZW50LCBydW5uZXIgfTogdHlwZXMuUnVubmVyT2JzZXJ2ZXJEYXRhKTogdm9pZCA9PiB7XHJcbiAgICB0aGlzLm1vdmVSdW5uZXIodGhpcy5wcm9jZXNzUnVubmVyTW91c2VFdmVudChldmVudCwgcnVubmVyKSk7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIG1vdmVSdW5uZXIgPSAob2JqOiB0eXBlcy5SdW5uZXJNb3ZlRGF0YSk6IHZvaWQgPT4ge1xyXG4gICAgb2JqLnJ1bm5lci5zZXRQb3NpdGlvbihvYmoub2Zmc2V0LCBvYmoudmFsdWUpO1xyXG5cclxuICAgIGlmIChvYmoucnVubmVyID09PSB0aGlzLnJ1bm5lckFkZGl0aW9uYWwpIHtcclxuICAgICAgdGhpcy5vYnNlcnZlcnMubm90aWZ5T2JzZXJ2ZXJzKHsgdHlwZU9mVmFsdWU6ICdtaW5WYWx1ZScsIHZhbHVlOiBvYmoudmFsdWUgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKG9iai5ydW5uZXIgPT09IHRoaXMucnVubmVyTWFpbikge1xyXG4gICAgICB0aGlzLm9ic2VydmVycy5ub3RpZnlPYnNlcnZlcnMoeyB0eXBlT2ZWYWx1ZTogJ21heFZhbHVlJywgdmFsdWU6IG9iai52YWx1ZSB9KTtcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLnVwZGF0ZVByb2dyZXNzQmFyKCk7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIHByb2Nlc3NSdW5uZXJNb3VzZUV2ZW50ID0gKGV2ZW50TW06IE1vdXNlRXZlbnQsIHJ1bm5lcjogUnVubmVyKTogdHlwZXMuUnVubmVyTW92ZURhdGEgPT4ge1xyXG4gICAgY29uc3QgY29vcmRpbmF0ZSA9IHRoaXMucGFyYW1ldGVycy5pc1ZlcnRpY2FsID8gZXZlbnRNbS5jbGllbnRZIDogZXZlbnRNbS5jbGllbnRYO1xyXG4gICAgY29uc3Qgb2Zmc2V0ID0gY29vcmRpbmF0ZSAtIHRoaXMuYmFyLmdldFBvc2l0aW9uKCkgLSB0aGlzLnJ1bm5lckFkZGl0aW9uYWwuZ2V0V2lkdGgoKSAvIDI7XHJcblxyXG4gICAgcmV0dXJuIHRoaXMucHJvY2Vzc1J1bm5lck9mZnNldChvZmZzZXQsIHJ1bm5lcik7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIHByb2Nlc3NSdW5uZXJPZmZzZXQgPSAob2Zmc2V0OiBudW1iZXIsIHJ1bm5lcjogUnVubmVyKTogdHlwZXMuUnVubmVyTW92ZURhdGEgPT4ge1xyXG4gICAgbGV0IHJvdW5kVmFsdWUgPSAwO1xyXG4gICAgbGV0IHJvdW5kT2Zmc2V0O1xyXG4gICAgcm91bmRPZmZzZXQgPSB0aGlzLmNoZWNrUnVubmVyT2Zmc2V0KG9mZnNldCwgcnVubmVyKTtcclxuICAgIFtyb3VuZE9mZnNldCwgcm91bmRWYWx1ZV0gPSB0aGlzLnJvdW5kT2Zmc2V0UnVubmVyKHJvdW5kT2Zmc2V0KTtcclxuXHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBydW5uZXI6IHJ1bm5lcixcclxuICAgICAgb2Zmc2V0OiByb3VuZE9mZnNldCxcclxuICAgICAgdmFsdWU6IHJvdW5kVmFsdWVcclxuICAgIH07XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGNoZWNrUnVubmVyT2Zmc2V0ID0gKG9mZnNldDogbnVtYmVyLCBydW5uZXI6IFJ1bm5lcik6IG51bWJlciA9PiB7XHJcbiAgICBjb25zdCBzdGVwV2lkdGggPSAodGhpcy5wYXJhbWV0ZXJzLnN0ZXAgKiB0aGlzLmJhci5nZXREaW1lbnNpb24oKSlcclxuICAgICAgLyAodGhpcy5wYXJhbWV0ZXJzLm1heFZhbHVlIC0gdGhpcy5wYXJhbWV0ZXJzLm1pblZhbHVlKTtcclxuICAgIGNvbnN0IG1pbk9mZnNldCA9IHN0ZXBXaWR0aCAvIDEuNSA+IHRoaXMucnVubmVyTWFpbi5nZXRXaWR0aCgpXHJcbiAgICAgID8gc3RlcFdpZHRoIC8gMS41XHJcbiAgICAgIDogdGhpcy5ydW5uZXJNYWluLmdldFdpZHRoKCk7XHJcbiAgICBsZXQgbmV3T2Zmc2V0ID0gb2Zmc2V0O1xyXG5cclxuICAgIGlmIChydW5uZXIgPT09IHRoaXMucnVubmVyQWRkaXRpb25hbCkge1xyXG4gICAgICBpZiAob2Zmc2V0ID4gdGhpcy5ydW5uZXJNYWluLmdldFBvc2l0aW9uKCkgLSB0aGlzLmJhci5nZXRQb3NpdGlvbigpIC0gbWluT2Zmc2V0KSB7XHJcbiAgICAgICAgbmV3T2Zmc2V0ID0gdGhpcy5ydW5uZXJNYWluLmdldFBvc2l0aW9uKCkgLSB0aGlzLmJhci5nZXRQb3NpdGlvbigpIC0gbWluT2Zmc2V0O1xyXG4gICAgICB9XHJcbiAgICB9IGVsc2UgaWYgKHJ1bm5lciA9PT0gdGhpcy5ydW5uZXJNYWluKSB7XHJcbiAgICAgIGlmIChvZmZzZXQgPCB0aGlzLnJ1bm5lckFkZGl0aW9uYWwuZ2V0UG9zaXRpb24oKSAtIHRoaXMuYmFyLmdldFBvc2l0aW9uKCkgKyBtaW5PZmZzZXQpIHtcclxuICAgICAgICBuZXdPZmZzZXQgPSB0aGlzLnJ1bm5lckFkZGl0aW9uYWwuZ2V0UG9zaXRpb24oKSAtIHRoaXMuYmFyLmdldFBvc2l0aW9uKCkgKyBtaW5PZmZzZXQ7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gbmV3T2Zmc2V0O1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSByb3VuZE9mZnNldFJ1bm5lciA9IChjdXJyZW50T2Zmc2V0OiBudW1iZXIpOiBbbnVtYmVyLCBudW1iZXJdID0+IHtcclxuICAgIGNvbnN0IGN1cnJlbnRWYWx1ZSA9IHRoaXMucGFyYW1ldGVycy5taW5WYWx1ZVxyXG4gICAgICArICgoY3VycmVudE9mZnNldCArIHRoaXMucnVubmVyTWFpbi5nZXRXaWR0aCgpIC8gMilcclxuICAgICAgKiAodGhpcy5wYXJhbWV0ZXJzLm1heFZhbHVlIC0gdGhpcy5wYXJhbWV0ZXJzLm1pblZhbHVlKSlcclxuICAgICAgLyB0aGlzLmJhci5nZXREaW1lbnNpb24oKTtcclxuICAgIGxldCByb3VuZFZhbHVlID0gdGhpcy5yb3VuZChjdXJyZW50VmFsdWUsIHRoaXMucGFyYW1ldGVycy5zdGVwKTtcclxuXHJcbiAgICBpZiAodGhpcy5wYXJhbWV0ZXJzLmlzRmxvYXQpIHtcclxuICAgICAgcm91bmRWYWx1ZSA9IHBhcnNlRmxvYXQocm91bmRWYWx1ZS50b0ZpeGVkKDIpKTtcclxuICAgIH1cclxuXHJcbiAgICBsZXQgcm91bmRPZmZzZXQgPSB0aGlzLmNvbnZlcnRPZmZzZXRUb1ZhbHVlKHJvdW5kVmFsdWUpO1xyXG5cclxuICAgIGlmIChyb3VuZE9mZnNldCA8IC10aGlzLnJ1bm5lck1haW4uZ2V0V2lkdGgoKSAvIDIpIHtcclxuICAgICAgcm91bmRPZmZzZXQgPSAtdGhpcy5ydW5uZXJNYWluLmdldFdpZHRoKCkgLyAyO1xyXG4gICAgICByb3VuZFZhbHVlID0gdGhpcy5wYXJhbWV0ZXJzLm1pblZhbHVlO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChyb3VuZE9mZnNldCA+IHRoaXMuYmFyLmdldERpbWVuc2lvbigpIC0gdGhpcy5ydW5uZXJNYWluLmdldFdpZHRoKCkgLyAyKSB7XHJcbiAgICAgIHJvdW5kT2Zmc2V0ID0gdGhpcy5iYXIuZ2V0RGltZW5zaW9uKCkgLSB0aGlzLnJ1bm5lck1haW4uZ2V0V2lkdGgoKSAvIDI7XHJcbiAgICAgIHJvdW5kVmFsdWUgPSB0aGlzLnBhcmFtZXRlcnMubWF4VmFsdWU7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIFtyb3VuZE9mZnNldCwgcm91bmRWYWx1ZV07XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIHJvdW5kID0gKHZhbHVlOiBudW1iZXIsIHN0ZXA6IG51bWJlcik6IG51bWJlciA9PiB7XHJcbiAgICBjb25zdCB3aG9sZSA9IE1hdGgudHJ1bmModmFsdWUgLyBzdGVwKTtcclxuICAgIGNvbnN0IHJlbWluZGVyID0gKyh2YWx1ZSAtIHdob2xlICogc3RlcCkudG9GaXhlZCgyKTtcclxuXHJcbiAgICBpZiAodmFsdWUgPCAwKSB7XHJcbiAgICAgIHJldHVybiBNYXRoLmFicyhyZW1pbmRlcikgPCBzdGVwIC8gMiA/IHdob2xlICogc3RlcCA6ICh3aG9sZSAtIDEpICogc3RlcDtcclxuICAgIH1cclxuXHJcbiAgICBpZiAodmFsdWUgPD0gdGhpcy5wYXJhbWV0ZXJzLm1pblZhbHVlKSB7XHJcbiAgICAgIHJldHVybiB0aGlzLnBhcmFtZXRlcnMubWluVmFsdWU7XHJcbiAgICB9IGlmICh2YWx1ZSA+PSB0aGlzLnBhcmFtZXRlcnMubWF4VmFsdWUpIHtcclxuICAgICAgcmV0dXJuIHRoaXMucGFyYW1ldGVycy5tYXhWYWx1ZTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gcmVtaW5kZXIgPCBzdGVwIC8gMiA/IHdob2xlICogc3RlcCA6ICh3aG9sZSArIDEpICogc3RlcDtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgaGFuZGxlU2NhbGVDbGljayA9ICh2YWx1ZTogbnVtYmVyKSA9PiB7XHJcbiAgICBjb25zdCBvZmZzZXQgPSB0aGlzLmNvbnZlcnRPZmZzZXRUb1ZhbHVlKHZhbHVlKTtcclxuICAgIGxldCBydW5uZXI7XHJcblxyXG4gICAgaWYgKHRoaXMucGFyYW1ldGVycy5pc1JhbmdlKSB7XHJcbiAgICAgIHJ1bm5lciA9IHRoaXMuY2hlY2tSdW5uZXJDbG9zZXIob2Zmc2V0KTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHJ1bm5lciA9IHRoaXMucnVubmVyTWFpbjtcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLm1vdmVSdW5uZXIodGhpcy5wcm9jZXNzUnVubmVyT2Zmc2V0KG9mZnNldCwgcnVubmVyKSk7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGNoZWNrUnVubmVyQ2xvc2VyID0gKG9mZnNldDogbnVtYmVyKTogUnVubmVyID0+IHtcclxuICAgIGlmIChNYXRoLmFicyhvZmZzZXQgLSB0aGlzLmdldE1haW5SdW5uZXJPZmZzZXQoKSlcclxuICAgICAgPCBNYXRoLmFicyhvZmZzZXQgLSB0aGlzLmdldEFkZGl0aW9uYWxSdW5uZXJPZmZzZXQoKSkpIHtcclxuICAgICAgcmV0dXJuIHRoaXMucnVubmVyTWFpbjtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gdGhpcy5ydW5uZXJBZGRpdGlvbmFsO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBoYW5kbGVCYXJDbGljayA9IChldmVudDogTW91c2VFdmVudCk6IHZvaWQgPT4ge1xyXG4gICAgY29uc3QgY29vcmRpbmF0ZSA9IHRoaXMucGFyYW1ldGVycy5pc1ZlcnRpY2FsID8gZXZlbnQuY2xpZW50WSA6IGV2ZW50LmNsaWVudFg7XHJcbiAgICBjb25zdCBvZmZzZXQgPSBjb29yZGluYXRlIC0gdGhpcy5iYXIuZ2V0UG9zaXRpb24oKSAtIHRoaXMucnVubmVyTWFpbi5nZXRXaWR0aCgpIC8gMjtcclxuXHJcbiAgICB0aGlzLm1vdmVSdW5uZXIodGhpcy5wcm9jZXNzUnVubmVyT2Zmc2V0KG9mZnNldCwgdGhpcy5jaGVja1J1bm5lckNsb3NlcihvZmZzZXQpKSk7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIHVwZGF0ZVByb2dyZXNzQmFyID0gKCk6IHZvaWQgPT4ge1xyXG4gICAgdGhpcy5wcm9ncmVzc0Jhci51cGRhdGUodGhpcy5wYXJhbWV0ZXJzLmlzVmVydGljYWwpO1xyXG4gICAgdGhpcy5wcm9ncmVzc0Jhci5zZXRQb3NpdGlvbih0aGlzLmdldEFkZGl0aW9uYWxSdW5uZXJPZmZzZXQoKSk7XHJcbiAgICB0aGlzLnByb2dyZXNzQmFyLnNldERpbWVuc2lvbih0aGlzLmdldE1haW5SdW5uZXJPZmZzZXQoKSAtIHRoaXMuZ2V0QWRkaXRpb25hbFJ1bm5lck9mZnNldCgpKTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IFRyYWNrO1xyXG4iLCJpbXBvcnQgY3JlYXRlRWxlbSBmcm9tICcuLi9jcmVhdGVFbGVtL2NyZWF0ZUVsZW0nO1xyXG5cclxuY2xhc3MgQmFyIHtcclxuICBlbGVtOiBIVE1MRWxlbWVudDtcclxuXHJcbiAgaXNWZXJ0aWNhbDogYm9vbGVhbjtcclxuXHJcbiAgY29uc3RydWN0b3IoaXNWZXJ0aWNhbDogYm9vbGVhbikge1xyXG4gICAgdGhpcy5lbGVtID0gY3JlYXRlRWxlbSgnc2xpZGVyX19iYXInKTtcclxuICAgIHRoaXMuaXNWZXJ0aWNhbCA9IGlzVmVydGljYWw7XHJcbiAgfVxyXG5cclxuICBnZXRQb3NpdGlvbiA9ICgpOiBudW1iZXIgPT4ge1xyXG4gICAgaWYgKHRoaXMuaXNWZXJ0aWNhbCkge1xyXG4gICAgICByZXR1cm4gdGhpcy5lbGVtLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnRvcDtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gdGhpcy5lbGVtLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmxlZnQ7XHJcbiAgfVxyXG5cclxuICBnZXREaW1lbnNpb24gPSAoKTogbnVtYmVyID0+IHtcclxuICAgIGlmICh0aGlzLmlzVmVydGljYWwpIHtcclxuICAgICAgcmV0dXJuIHRoaXMuZWxlbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5oZWlnaHQ7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHRoaXMuZWxlbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS53aWR0aDtcclxuICB9XHJcblxyXG4gIHVwZGF0ZSA9IChpc1ZlcnRpY2FsOiBib29sZWFuKTogdm9pZCA9PiB7XHJcbiAgICB0aGlzLmlzVmVydGljYWwgPSBpc1ZlcnRpY2FsO1xyXG5cclxuICAgIGlmICh0aGlzLmlzVmVydGljYWwpIHtcclxuICAgICAgdGhpcy5lbGVtLmNsYXNzTGlzdC5hZGQoJ3NsaWRlcl9fYmFyX3Bvc2l0aW9uX3ZlcnRpY2FsJyk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLmVsZW0uY2xhc3NMaXN0LnJlbW92ZSgnc2xpZGVyX19iYXJfcG9zaXRpb25fdmVydGljYWwnKTtcclxuICAgIH1cclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IEJhcjtcclxuIiwiaW1wb3J0IGNyZWF0ZUVsZW0gZnJvbSAnLi4vY3JlYXRlRWxlbS9jcmVhdGVFbGVtJztcclxuXHJcbmNsYXNzIEtub2Ige1xyXG4gIGVsZW06IEhUTUxFbGVtZW50O1xyXG5cclxuICBpc1ZlcnRpY2FsOiBib29sZWFuO1xyXG5cclxuICBjb25zdHJ1Y3Rvcihpc1ZlcnRpY2FsOiBib29sZWFuKSB7XHJcbiAgICB0aGlzLmVsZW0gPSBjcmVhdGVFbGVtKCdzbGlkZXJfX2J1dHRvbicpO1xyXG4gICAgdGhpcy5pc1ZlcnRpY2FsID0gaXNWZXJ0aWNhbDtcclxuICB9XHJcblxyXG4gIGdldFdpZHRoID0gKCk6IG51bWJlciA9PiB7XHJcbiAgICByZXR1cm4gdGhpcy5lbGVtLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLndpZHRoO1xyXG4gIH1cclxuXHJcbiAgZ2V0UG9zaXRpb24gPSAoKTogbnVtYmVyID0+IHtcclxuICAgIGlmICh0aGlzLmlzVmVydGljYWwpIHtcclxuICAgICAgcmV0dXJuIHRoaXMuZWxlbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS50b3A7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHRoaXMuZWxlbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5sZWZ0O1xyXG4gIH1cclxuXHJcbiAgc2V0UG9zaXRpb24gPSAob2Zmc2V0OiBudW1iZXIpOiB2b2lkID0+IHtcclxuICAgIGlmICh0aGlzLmlzVmVydGljYWwpIHtcclxuICAgICAgdGhpcy5lbGVtLnN0eWxlLmxlZnQgPSAnNTAlJztcclxuICAgICAgdGhpcy5lbGVtLnN0eWxlLnRvcCA9IG9mZnNldCArICdweCc7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLmVsZW0uc3R5bGUudG9wID0gJzUwJSc7XHJcbiAgICAgIHRoaXMuZWxlbS5zdHlsZS5sZWZ0ID0gb2Zmc2V0ICsgJ3B4JztcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHVwZGF0ZSA9IChpc1ZlcnRpY2FsOiBib29sZWFuKTogdm9pZCA9PiB7XHJcbiAgICB0aGlzLmlzVmVydGljYWwgPSBpc1ZlcnRpY2FsO1xyXG5cclxuICAgIGlmICh0aGlzLmlzVmVydGljYWwpIHtcclxuICAgICAgdGhpcy5lbGVtLmNsYXNzTGlzdC5hZGQoJ3NsaWRlcl9fYnV0dG9uX3Bvc2l0aW9uX3ZlcnRpY2FsJyk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLmVsZW0uY2xhc3NMaXN0LnJlbW92ZSgnc2xpZGVyX19idXR0b25fcG9zaXRpb25fdmVydGljYWwnKTtcclxuICAgIH1cclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IEtub2I7XHJcbiIsImltcG9ydCBjcmVhdGVFbGVtIGZyb20gJy4uL2NyZWF0ZUVsZW0vY3JlYXRlRWxlbSc7XHJcblxyXG5jbGFzcyBUb29sdGlwIHtcclxuICBlbGVtOiBIVE1MRWxlbWVudDtcclxuXHJcbiAgaXNWZXJ0aWNhbDogYm9vbGVhbjtcclxuXHJcbiAgY29uc3RydWN0b3IoaXNWZXJ0aWNhbDogYm9vbGVhbikge1xyXG4gICAgdGhpcy5lbGVtID0gY3JlYXRlRWxlbSgnc2xpZGVyX19idXR0b24tbGFiZWwnKTtcclxuICAgIHRoaXMuaXNWZXJ0aWNhbCA9IGlzVmVydGljYWw7XHJcbiAgfVxyXG5cclxuICBnZXRQb3NpdGlvbiA9ICgpOiBudW1iZXIgPT4ge1xyXG4gICAgaWYgKHRoaXMuaXNWZXJ0aWNhbCkge1xyXG4gICAgICByZXR1cm4gdGhpcy5lbGVtLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnRvcDtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gdGhpcy5lbGVtLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmxlZnQ7XHJcbiAgfVxyXG5cclxuICBzZXRQb3NpdGlvbiA9IChvZmZzZXQ6IG51bWJlciwgdmFsdWU6IG51bWJlcik6IHZvaWQgPT4ge1xyXG4gICAgdGhpcy5lbGVtLmlubmVySFRNTCA9IHZhbHVlICsgJyc7XHJcblxyXG4gICAgaWYgKHRoaXMuaXNWZXJ0aWNhbCkge1xyXG4gICAgICB0aGlzLmVsZW0uc3R5bGUubGVmdCA9ICc1MCUnO1xyXG4gICAgICB0aGlzLmVsZW0uc3R5bGUudG9wID0gb2Zmc2V0IC0gdGhpcy5nZXREaW1lbnNpb24oKSAvIDIgKyAncHgnO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5lbGVtLnN0eWxlLnRvcCA9ICc1MCUnO1xyXG4gICAgICB0aGlzLmVsZW0uc3R5bGUubGVmdCA9IG9mZnNldCAtIHRoaXMuZ2V0RGltZW5zaW9uKCkgLyAyICsgJ3B4JztcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGdldERpbWVuc2lvbiA9ICgpOiBudW1iZXIgPT4ge1xyXG4gICAgaWYgKHRoaXMuaXNWZXJ0aWNhbCkge1xyXG4gICAgICByZXR1cm4gdGhpcy5lbGVtLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmhlaWdodDtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gdGhpcy5lbGVtLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLndpZHRoO1xyXG4gIH1cclxuXHJcbiAgdXBkYXRlID0gKGlzVmVydGljYWw6IGJvb2xlYW4pOiB2b2lkID0+IHtcclxuICAgIHRoaXMuaXNWZXJ0aWNhbCA9IGlzVmVydGljYWw7XHJcblxyXG4gICAgaWYgKHRoaXMuaXNWZXJ0aWNhbCkge1xyXG4gICAgICB0aGlzLmVsZW0uY2xhc3NMaXN0LmFkZCgnc2xpZGVyX19idXR0b24tbGFiZWxfcG9zaXRpb25fdmVydGljYWwnKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuZWxlbS5jbGFzc0xpc3QucmVtb3ZlKCdzbGlkZXJfX2J1dHRvbi1sYWJlbF9wb3NpdGlvbl92ZXJ0aWNhbCcpO1xyXG4gICAgfVxyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgVG9vbHRpcDtcclxuIiwiaW1wb3J0ICogYXMgdHlwZXMgZnJvbSAnLi4vLi4vLi4vdHlwZXMnO1xyXG5pbXBvcnQgTWFyayBmcm9tICcuL01hcmsvTWFyayc7XHJcbmltcG9ydCBNYWtlT2JzZXJ2YWJsZU9iamVjdCBmcm9tICcuLi8uLi8uLi9tYWtlT2JzZXJ2YWJsZU9iamVjdC9NYWtlT2JzZXJ2YWJsZU9iamVjdCc7XHJcblxyXG5jbGFzcyBTY2FsZSB7XHJcbiAgcGFyYW1ldGVyczogdHlwZXMuUGFyYW1ldGVycztcclxuXHJcbiAgbWFya3M6IEFycmF5PE1hcms+O1xyXG5cclxuICBvYnNlcnZlcnM6IE1ha2VPYnNlcnZhYmxlT2JqZWN0O1xyXG5cclxuICBjb25zdHJ1Y3RvcihwYXJhbWV0ZXJzOiB0eXBlcy5QYXJhbWV0ZXJzLCBvYnNlcnZlcjogdHlwZXMuRnVuY3Rpb25DYWxsYmFja0RhdGEpIHtcclxuICAgIHRoaXMucGFyYW1ldGVycyA9IHBhcmFtZXRlcnM7XHJcbiAgICB0aGlzLm1hcmtzID0gW107XHJcbiAgICB0aGlzLm9ic2VydmVycyA9IG5ldyBNYWtlT2JzZXJ2YWJsZU9iamVjdCgpO1xyXG4gICAgdGhpcy5pbml0KG9ic2VydmVyKTtcclxuICB9XHJcblxyXG4gIHVwZGF0ZSA9IChvcHRpb25zOiB0eXBlcy5QYXJhbWV0ZXJzKTogdm9pZCA9PiB7XHJcbiAgICB0aGlzLnBhcmFtZXRlcnMgPSBvcHRpb25zO1xyXG4gICAgdGhpcy5tb3ZlTWFya3MoKTtcclxuICB9XHJcblxyXG4gIG1vdmVNYXJrcyA9ICgpOiB2b2lkID0+IHtcclxuICAgIHRoaXMubWFya3MuZm9yRWFjaCgobWFyaywgaW5kZXgpID0+IHtcclxuICAgICAgbWFyay51cGRhdGUodGhpcy5wYXJhbWV0ZXJzLmlzVmVydGljYWwpO1xyXG4gICAgICBpZiAoaW5kZXggPT09IDApIHtcclxuICAgICAgICBtYXJrLnNldFBvc2l0aW9uKDAsIHRoaXMucGFyYW1ldGVycy5taW5WYWx1ZSk7XHJcbiAgICAgIH0gZWxzZSBpZiAoaW5kZXggPT09IHRoaXMubWFya3MubGVuZ3RoIC0gMSkge1xyXG4gICAgICAgIG1hcmsuc2V0UG9zaXRpb24oMTAwLCB0aGlzLnBhcmFtZXRlcnMubWF4VmFsdWUpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGxldCByb3VuZFZhbHVlID0gdGhpcy5yb3VuZCh0aGlzLnBhcmFtZXRlcnMubWluVmFsdWVcclxuICAgICAgICAgICsgKCh0aGlzLnBhcmFtZXRlcnMubWF4VmFsdWUgLSB0aGlzLnBhcmFtZXRlcnMubWluVmFsdWUpICogaW5kZXgpXHJcbiAgICAgICAgICAvICh0aGlzLm1hcmtzLmxlbmd0aCAtIDEpKTtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMucGFyYW1ldGVycy5pc0Zsb2F0KSB7XHJcbiAgICAgICAgICByb3VuZFZhbHVlID0gcGFyc2VGbG9hdChyb3VuZFZhbHVlLnRvRml4ZWQoMikpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3Qgb2Zmc2V0ID0gKHJvdW5kVmFsdWUgLSB0aGlzLnBhcmFtZXRlcnMubWluVmFsdWUpXHJcbiAgICAgICAgICAvICh0aGlzLnBhcmFtZXRlcnMubWF4VmFsdWUgLSB0aGlzLnBhcmFtZXRlcnMubWluVmFsdWUpO1xyXG4gICAgICAgIG1hcmsuc2V0UG9zaXRpb24ob2Zmc2V0ICogMTAwLCByb3VuZFZhbHVlKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGluaXQgPSAob2JzZXJ2ZXI6IHR5cGVzLkZ1bmN0aW9uQ2FsbGJhY2tEYXRhKTogdm9pZCA9PiB7XHJcbiAgICB0aGlzLm1vdmVNYXJrcygpO1xyXG4gICAgdGhpcy5jcmVhdGVNYXJrcygpO1xyXG4gICAgdGhpcy5vYnNlcnZlcnMuYWRkT2JzZXJ2ZXIob2JzZXJ2ZXIpO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBoYW5kbGVTY2FsZUNsaWNrID0gKHZhbHVlOiBudW1iZXIpOiB2b2lkID0+IHtcclxuICAgIHRoaXMub2JzZXJ2ZXJzLm5vdGlmeU9ic2VydmVycyh2YWx1ZSk7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGNyZWF0ZU1hcmtzID0gKCk6IHZvaWQgPT4ge1xyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCA1OyBpICs9IDEpIHtcclxuICAgICAgY29uc3QgbWFyayA9IG5ldyBNYXJrKHRoaXMucGFyYW1ldGVycy5pc1ZlcnRpY2FsLCB0aGlzLmhhbmRsZVNjYWxlQ2xpY2spO1xyXG4gICAgICB0aGlzLm1hcmtzLnB1c2gobWFyayk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIHJvdW5kID0gKHZhbHVlOiBudW1iZXIpOiBudW1iZXIgPT4ge1xyXG4gICAgY29uc3Qgd2hvbGUgPSBNYXRoLnRydW5jKHZhbHVlIC8gdGhpcy5wYXJhbWV0ZXJzLnN0ZXApO1xyXG5cclxuICAgIGNvbnN0IHJlbWluZGVyID0gKyh2YWx1ZSAtIHdob2xlICogdGhpcy5wYXJhbWV0ZXJzLnN0ZXApLnRvRml4ZWQoMik7XHJcbiAgICBpZiAodmFsdWUgPCAwKSB7XHJcbiAgICAgIHJldHVybiBNYXRoLmFicyhyZW1pbmRlcikgPCB0aGlzLnBhcmFtZXRlcnMuc3RlcCAvIDJcclxuICAgICAgICA/IHdob2xlICogdGhpcy5wYXJhbWV0ZXJzLnN0ZXBcclxuICAgICAgICA6ICh3aG9sZSAtIDEpICogdGhpcy5wYXJhbWV0ZXJzLnN0ZXA7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHJlbWluZGVyIDwgdGhpcy5wYXJhbWV0ZXJzLnN0ZXAgLyAyXHJcbiAgICAgID8gd2hvbGUgKiB0aGlzLnBhcmFtZXRlcnMuc3RlcFxyXG4gICAgICA6ICh3aG9sZSArIDEpICogdGhpcy5wYXJhbWV0ZXJzLnN0ZXA7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBTY2FsZTtcclxuIiwiaW1wb3J0ICogYXMgdHlwZXMgZnJvbSAnLi4vLi4vLi4vLi4vdHlwZXMnO1xyXG5pbXBvcnQgY3JlYXRlRWxlbSBmcm9tICcuLi8uLi9jcmVhdGVFbGVtL2NyZWF0ZUVsZW0nO1xyXG5pbXBvcnQgTWFrZU9ic2VydmFibGVPYmplY3QgZnJvbSAnLi4vLi4vLi4vLi4vbWFrZU9ic2VydmFibGVPYmplY3QvTWFrZU9ic2VydmFibGVPYmplY3QnO1xyXG5cclxuY2xhc3MgTWFyayB7XHJcbiAgZWxlbTogSFRNTEVsZW1lbnQ7XHJcblxyXG4gIGlzVmVydGljYWw6IGJvb2xlYW47XHJcblxyXG4gIHZhbHVlOiBudW1iZXI7XHJcblxyXG4gIG9ic2VydmVyczogTWFrZU9ic2VydmFibGVPYmplY3Q7XHJcblxyXG4gIGNvbnN0cnVjdG9yKGlzVmVydGljYWw6IGJvb2xlYW4sIG9ic2VydmVyOiB0eXBlcy5GdW5jdGlvbkNhbGxiYWNrRGF0YSkge1xyXG4gICAgdGhpcy5lbGVtID0gY3JlYXRlRWxlbSgnc2xpZGVyX19tYXJrJyk7XHJcbiAgICB0aGlzLmlzVmVydGljYWwgPSBpc1ZlcnRpY2FsO1xyXG4gICAgdGhpcy5vYnNlcnZlcnMgPSBuZXcgTWFrZU9ic2VydmFibGVPYmplY3QoKTtcclxuICAgIHRoaXMuaW5pdChvYnNlcnZlcik7XHJcbiAgfVxyXG5cclxuICBnZXRQb3NpdGlvbiA9ICgpOiBudW1iZXIgPT4ge1xyXG4gICAgaWYgKHRoaXMuaXNWZXJ0aWNhbCkge1xyXG4gICAgICByZXR1cm4gdGhpcy5lbGVtLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnRvcDtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gdGhpcy5lbGVtLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmxlZnQ7XHJcbiAgfVxyXG5cclxuICBzZXRQb3NpdGlvbiA9IChvZmZzZXQ6IG51bWJlciwgdmFsdWU6IG51bWJlcik6IHZvaWQgPT4ge1xyXG4gICAgdGhpcy5lbGVtLmlubmVySFRNTCA9IHZhbHVlICsgJyc7XHJcbiAgICB0aGlzLnZhbHVlID0gdmFsdWU7XHJcblxyXG4gICAgaWYgKHRoaXMuaXNWZXJ0aWNhbCkge1xyXG4gICAgICB0aGlzLmVsZW0uc3R5bGUubGVmdCA9ICc1MCUnO1xyXG4gICAgICB0aGlzLmVsZW0uc3R5bGUudG9wID0gb2Zmc2V0ICsgJyUnO1xyXG4gICAgICB0aGlzLmVsZW0uc3R5bGUubWFyZ2luVG9wID0gLXRoaXMuZ2V0RGltZW5zaW9uKCkgLyAyICsgJ3B4JztcclxuICAgICAgdGhpcy5lbGVtLnN0eWxlLm1hcmdpbkxlZnQgPSAnLTQ1cHgnO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5lbGVtLnN0eWxlLnRvcCA9ICc1MCUnO1xyXG4gICAgICB0aGlzLmVsZW0uc3R5bGUubGVmdCA9IG9mZnNldCArICclJztcclxuICAgICAgdGhpcy5lbGVtLnN0eWxlLm1hcmdpbkxlZnQgPSAtdGhpcy5nZXREaW1lbnNpb24oKSAvIDIgKyAncHgnO1xyXG4gICAgICB0aGlzLmVsZW0uc3R5bGUubWFyZ2luVG9wID0gJzE1cHgnO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZ2V0RGltZW5zaW9uID0gKCk6IG51bWJlciA9PiB7XHJcbiAgICBpZiAodGhpcy5pc1ZlcnRpY2FsKSB7XHJcbiAgICAgIHJldHVybiB0aGlzLmVsZW0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkuaGVpZ2h0O1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB0aGlzLmVsZW0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkud2lkdGg7XHJcbiAgfVxyXG5cclxuICB1cGRhdGUgPSAoaXNWZXJ0aWNhbDogYm9vbGVhbik6IHZvaWQgPT4ge1xyXG4gICAgdGhpcy5pc1ZlcnRpY2FsID0gaXNWZXJ0aWNhbDtcclxuXHJcbiAgICBpZiAodGhpcy5pc1ZlcnRpY2FsKSB7XHJcbiAgICAgIHRoaXMuZWxlbS5jbGFzc0xpc3QuYWRkKCdzbGlkZXJfX21hcmtfcG9zaXRpb25fdmVydGljYWwnKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuZWxlbS5jbGFzc0xpc3QucmVtb3ZlKCdzbGlkZXJfX21hcmtfcG9zaXRpb25fdmVydGljYWwnKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHByaXZhdGUgaW5pdCA9IChvYnNlcnZlcjogdHlwZXMuRnVuY3Rpb25DYWxsYmFja0RhdGEpOiB2b2lkID0+IHtcclxuICAgIHRoaXMuZWxlbS5vbmNsaWNrID0gdGhpcy5oYW5kbGVNYXJrQ2xpY2s7XHJcbiAgICB0aGlzLm9ic2VydmVycy5hZGRPYnNlcnZlcihvYnNlcnZlcik7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGhhbmRsZU1hcmtDbGljayA9ICgpOiB2b2lkID0+IHtcclxuICAgIHRoaXMub2JzZXJ2ZXJzLm5vdGlmeU9ic2VydmVycyh0aGlzLnZhbHVlKTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IE1hcms7XHJcbiIsImltcG9ydCBjcmVhdGVFbGVtIGZyb20gJy4uL2NyZWF0ZUVsZW0vY3JlYXRlRWxlbSc7XHJcblxyXG5jbGFzcyBQcm9ncmVzc0JhciB7XHJcbiAgZWxlbTogSFRNTEVsZW1lbnQ7XHJcblxyXG4gIGlzVmVydGljYWw6IGJvb2xlYW47XHJcblxyXG4gIGNvbnN0cnVjdG9yKGlzVmVydGljYWw6IGJvb2xlYW4pIHtcclxuICAgIHRoaXMuZWxlbSA9IGNyZWF0ZUVsZW0oJ3NsaWRlcl9fcHJvZ3Jlc3MtYmFyJyk7XHJcbiAgICB0aGlzLmlzVmVydGljYWwgPSBpc1ZlcnRpY2FsO1xyXG4gIH1cclxuXHJcbiAgc2V0UG9zaXRpb24gPSAob2Zmc2V0OiBudW1iZXIpOiB2b2lkID0+IHtcclxuICAgIGlmICh0aGlzLmlzVmVydGljYWwpIHtcclxuICAgICAgdGhpcy5lbGVtLnN0eWxlLmxlZnQgPSAnMCc7XHJcbiAgICAgIHRoaXMuZWxlbS5zdHlsZS53aWR0aCA9ICcxMDAlJztcclxuICAgICAgdGhpcy5lbGVtLnN0eWxlLnRvcCA9IG9mZnNldCArICdweCc7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLmVsZW0uc3R5bGUudG9wID0gJzAnO1xyXG4gICAgICB0aGlzLmVsZW0uc3R5bGUuaGVpZ2h0ID0gJzEwMCUnO1xyXG4gICAgICB0aGlzLmVsZW0uc3R5bGUubGVmdCA9IG9mZnNldCArICdweCc7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBzZXREaW1lbnNpb24gPSAoZGltZW5zaW9uOiBudW1iZXIpOiB2b2lkID0+IHtcclxuICAgIGlmICh0aGlzLmlzVmVydGljYWwpIHtcclxuICAgICAgdGhpcy5lbGVtLnN0eWxlLmhlaWdodCA9IGRpbWVuc2lvbiArICdweCc7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLmVsZW0uc3R5bGUud2lkdGggPSBkaW1lbnNpb24gKyAncHgnO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgdXBkYXRlID0gKGlzVmVydGljYWw6IGJvb2xlYW4pOiB2b2lkID0+IHtcclxuICAgIHRoaXMuaXNWZXJ0aWNhbCA9IGlzVmVydGljYWw7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBQcm9ncmVzc0JhcjtcclxuIiwiaW1wb3J0ICogYXMgdHlwZXMgZnJvbSAnLi4vdHlwZXMnO1xyXG5pbXBvcnQgTWFrZU9ic2VydmFibGVPYmplY3QgZnJvbSAnLi4vbWFrZU9ic2VydmFibGVPYmplY3QvTWFrZU9ic2VydmFibGVPYmplY3QnO1xyXG5cclxuY2xhc3MgTW9kZWwge1xyXG4gIGN1cnJlbnRWYWx1ZXM6IHR5cGVzLkN1cnJlbnRWYWx1ZXM7XHJcblxyXG4gIG9ic2VydmVyczogTWFrZU9ic2VydmFibGVPYmplY3Q7XHJcblxyXG4gIGNvbnN0cnVjdG9yKGN1cnJlbnRWYWx1ZXM6IHR5cGVzLkN1cnJlbnRWYWx1ZXMpIHtcclxuICAgIHRoaXMuY3VycmVudFZhbHVlcyA9IGN1cnJlbnRWYWx1ZXM7XHJcbiAgICB0aGlzLm9ic2VydmVycyA9IG5ldyBNYWtlT2JzZXJ2YWJsZU9iamVjdCgpO1xyXG4gIH1cclxuXHJcbiAgc2V0Q3VycmVudE1pblZhbHVlKGRhdGE6IG51bWJlcik6IHZvaWQge1xyXG4gICAgaWYgKHRoaXMuY3VycmVudFZhbHVlcy5jdXJyZW50TWluVmFsdWUgIT09IGRhdGEpIHtcclxuICAgICAgdGhpcy5jdXJyZW50VmFsdWVzLmN1cnJlbnRNaW5WYWx1ZSA9IGRhdGE7XHJcbiAgICAgIHRoaXMub2JzZXJ2ZXJzLm5vdGlmeU9ic2VydmVycygpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgc2V0Q3VycmVudE1heFZhbHVlKGRhdGE6IG51bWJlcik6IHZvaWQge1xyXG4gICAgaWYgKHRoaXMuY3VycmVudFZhbHVlcy5jdXJyZW50TWF4VmFsdWUgIT09IGRhdGEpIHtcclxuICAgICAgdGhpcy5jdXJyZW50VmFsdWVzLmN1cnJlbnRNYXhWYWx1ZSA9IGRhdGE7XHJcbiAgICAgIHRoaXMub2JzZXJ2ZXJzLm5vdGlmeU9ic2VydmVycygpO1xyXG4gICAgfVxyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgTW9kZWw7XHJcbiIsInZhciBtYXAgPSB7XG5cdFwiLi9Db250cm9sbGVyL0NvbnRyb2xsZXIudHNcIjogNSxcblx0XCIuL0NvbnRyb2xsZXIvYmxvY2tzL3BhcnNpbmdEaWdpdHMvUGFyc2luZ0RpZ2l0cy50c1wiOiAzLFxuXHRcIi4vTW9kZWwvTW9kZWwudHNcIjogMTQsXG5cdFwiLi9WaWV3L1ZpZXcudHNcIjogNixcblx0XCIuL1ZpZXcvYmxvY2tzL0Jhci9CYXIudHNcIjogOCxcblx0XCIuL1ZpZXcvYmxvY2tzL0tub2IvS25vYi50c1wiOiA5LFxuXHRcIi4vVmlldy9ibG9ja3MvUHJvZ3Jlc3NCYXIvUHJvZ3Jlc3NCYXIudHNcIjogMTMsXG5cdFwiLi9WaWV3L2Jsb2Nrcy9SdW5uZXIvUnVubmVyLnRzXCI6IDQsXG5cdFwiLi9WaWV3L2Jsb2Nrcy9TY2FsZS9NYXJrL01hcmsudHNcIjogMTIsXG5cdFwiLi9WaWV3L2Jsb2Nrcy9TY2FsZS9TY2FsZS50c1wiOiAxMSxcblx0XCIuL1ZpZXcvYmxvY2tzL1Rvb2x0aXAvVG9vbHRpcC50c1wiOiAxMCxcblx0XCIuL1ZpZXcvYmxvY2tzL1RyYWNrL1RyYWNrLnRzXCI6IDcsXG5cdFwiLi9WaWV3L2Jsb2Nrcy9jcmVhdGVFbGVtL2NyZWF0ZUVsZW0udHNcIjogMSxcblx0XCIuL21ha2VPYnNlcnZhYmxlT2JqZWN0L01ha2VPYnNlcnZhYmxlT2JqZWN0LnRzXCI6IDAsXG5cdFwiLi9zbGlkZXIudHNcIjogMTYsXG5cdFwiLi9zdHlsZS5zY3NzXCI6IDE3LFxuXHRcIi4vdHlwZXMudHNcIjogMlxufTtcblxuXG5mdW5jdGlvbiB3ZWJwYWNrQ29udGV4dChyZXEpIHtcblx0dmFyIGlkID0gd2VicGFja0NvbnRleHRSZXNvbHZlKHJlcSk7XG5cdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKGlkKTtcbn1cbmZ1bmN0aW9uIHdlYnBhY2tDb250ZXh0UmVzb2x2ZShyZXEpIHtcblx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhtYXAsIHJlcSkpIHtcblx0XHR2YXIgZSA9IG5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIgKyByZXEgKyBcIidcIik7XG5cdFx0ZS5jb2RlID0gJ01PRFVMRV9OT1RfRk9VTkQnO1xuXHRcdHRocm93IGU7XG5cdH1cblx0cmV0dXJuIG1hcFtyZXFdO1xufVxud2VicGFja0NvbnRleHQua2V5cyA9IGZ1bmN0aW9uIHdlYnBhY2tDb250ZXh0S2V5cygpIHtcblx0cmV0dXJuIE9iamVjdC5rZXlzKG1hcCk7XG59O1xud2VicGFja0NvbnRleHQucmVzb2x2ZSA9IHdlYnBhY2tDb250ZXh0UmVzb2x2ZTtcbm1vZHVsZS5leHBvcnRzID0gd2VicGFja0NvbnRleHQ7XG53ZWJwYWNrQ29udGV4dC5pZCA9IDE1OyIsIi8qIGdsb2JhbCBqUXVlcnkgKi9cclxuaW1wb3J0ICogYXMgdHlwZXMgZnJvbSAnLi90eXBlcyc7XHJcbmltcG9ydCBDb250cm9sbGVyIGZyb20gJy4vQ29udHJvbGxlci9Db250cm9sbGVyJztcclxuXHJcbihmdW5jdGlvbiBwbHVnaW5XcmFwcGVyKCQpIHtcclxuICBjb25zdCBtZXRob2RzOiBNZXRob2RzID0ge1xyXG4gICAgaW5pdDogZnVuY3Rpb24gaW5pdChvcHQ6IHR5cGVzLlBhcmFtZXRlcnMpIHtcclxuICAgICAgaWYgKCEkKHRoaXMpLmRhdGEoJ3NsaWRlcicpKSB7XHJcbiAgICAgICAgY29uc3QgbmV3Q29uZmlnID0geyAuLi50eXBlcy5kZWZhdWx0UGFyYW1ldGVycyB9O1xyXG4gICAgICAgIGNvbnN0IHNsaWRlciA9IG5ldyBDb250cm9sbGVyKCQuZXh0ZW5kKG5ld0NvbmZpZywgb3B0KSk7XHJcbiAgICAgICAgJCh0aGlzKS5kYXRhKCdzbGlkZXInLCBzbGlkZXIpO1xyXG4gICAgICAgIHNsaWRlci5hcHBlbmRUb05vZGUoJCh0aGlzKSk7XHJcbiAgICAgIH1cclxuICAgIH0sXHJcblxyXG4gICAgdXBkYXRlOiBmdW5jdGlvbiB1cGRhdGUob3B0OiB0eXBlcy5QYXJhbWV0ZXJzKSB7XHJcbiAgICAgIGNvbnN0IHNsaWRlciA9ICQodGhpcykuZGF0YSgnc2xpZGVyJyk7XHJcbiAgICAgIHNsaWRlci51cGRhdGVDb25maWcob3B0KTtcclxuICAgIH0sXHJcblxyXG4gICAgZ2V0Q29uZmlnOiBmdW5jdGlvbiBnZXRDb25maWcoKSB7XHJcbiAgICAgIGNvbnN0IHNsaWRlciA9ICQodGhpcykuZGF0YSgnc2xpZGVyJyk7XHJcbiAgICAgIHJldHVybiBzbGlkZXIuZ2V0Q29uZmlnKCk7XHJcbiAgICB9LFxyXG5cclxuICAgIHNldFZhbHVlczogZnVuY3Rpb24gc2V0VmFsdWVzKG9wdDogdHlwZXMuQ3VycmVudFZhbHVlcykge1xyXG4gICAgICBjb25zdCBzbGlkZXIgPSAkKHRoaXMpLmRhdGEoJ3NsaWRlcicpO1xyXG4gICAgICBzbGlkZXIuc2V0VmFsdWVzKG9wdC5jdXJyZW50TWluVmFsdWUsIG9wdC5jdXJyZW50TWF4VmFsdWUpO1xyXG4gICAgfSxcclxuXHJcbiAgICBpbnB1dHNBdHRhY2g6IGZ1bmN0aW9uIGlucHV0c0F0dGFjaChvcHQ6IElucHV0c09iamVjdCkge1xyXG4gICAgICBjb25zdCBzbGlkZXIgPSAkKHRoaXMpLmRhdGEoJ3NsaWRlcicpO1xyXG4gICAgICBzbGlkZXIuYWRkT2JzZXJ2ZXIoKCkgPT4ge1xyXG4gICAgICAgIG9wdC5taW5WYWx1ZUlucHV0LnZhbChzbGlkZXIuZ2V0VmFsdWVzKCkuY3VycmVudE1pblZhbHVlKTtcclxuICAgICAgICBvcHQubWF4VmFsdWVJbnB1dC52YWwoc2xpZGVyLmdldFZhbHVlcygpLmN1cnJlbnRNYXhWYWx1ZSk7XHJcbiAgICAgICAgb3B0Lm1heFZhbHVlLnZhbChzbGlkZXIuZ2V0Q29uZmlnKCkubWF4VmFsdWUpO1xyXG4gICAgICAgIG9wdC5taW5WYWx1ZS52YWwoc2xpZGVyLmdldENvbmZpZygpLm1pblZhbHVlKTtcclxuICAgICAgICBvcHQuc3RlcC52YWwoc2xpZGVyLmdldENvbmZpZygpLnN0ZXApO1xyXG4gICAgICB9KTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICAkLmZuLm9tZmdzbGlkZXIgPSBmdW5jdGlvbiBwcm9jZXNzTWV0aG9kKG1ldGhvZDogc3RyaW5nLCAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXBhcmFtLXJlYXNzaWduXHJcbiAgICAuLi5hcmdzOiBBcnJheTx0eXBlcy5jb25maWdVcGRhdGVEYXRhPikge1xyXG4gICAgaWYgKG1ldGhvZHNbbWV0aG9kXSkge1xyXG4gICAgICByZXR1cm4gbWV0aG9kc1ttZXRob2RdLmFwcGx5KHRoaXMsIGFyZ3MpO1xyXG4gICAgfSBpZiAodHlwZW9mIG1ldGhvZCA9PT0gJ29iamVjdCcgfHwgIW1ldGhvZCkge1xyXG4gICAgICByZXR1cm4gbWV0aG9kcy5pbml0LmFwcGx5KHRoaXMsIG1ldGhvZCk7XHJcbiAgICB9XHJcbiAgICAkLmVycm9yKGDQnNC10YLQvtC0ICR7bWV0aG9kfSDQvdC1INC90LDQudC00LXQvSDQsiDQv9C70LDQs9C40L3QtSBqUXVlcnkub21mZ3NsaWRlcmApO1xyXG4gICAgcmV0dXJuIG51bGw7XHJcbiAgfTtcclxufShqUXVlcnkpKTtcclxuIiwiZXhwb3J0IGRlZmF1bHQgX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcImluZGV4Lmh0bWxcIjsiLCJpbXBvcnQgJy4vZGVtby1wYWdlL2luZGV4Lmh0bWwnO1xyXG5cclxuZnVuY3Rpb24gaW1wb3J0QWxsKHI6IF9fV2VicGFja01vZHVsZUFwaS5SZXF1aXJlQ29udGV4dCkge1xyXG4gIHIua2V5cygpLmZvckVhY2gocik7XHJcbn1cclxuXHJcbmltcG9ydEFsbChyZXF1aXJlLmNvbnRleHQoJy4vcGx1Z2luJywgdHJ1ZSwgLyg/PCFcXC5kKVxcLihqc3x0c3xzY3NzKSQvaSkpO1xyXG4iXSwic291cmNlUm9vdCI6IiJ9