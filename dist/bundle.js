!function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=19)}([function(e,t,n){"use strict";n.r(t);var r=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var s=arguments[t],a=0,o=s.length;a<o;a++,i++)r[i]=s[a];return r},i=function(){function e(){this.observers=[]}return e.prototype.addObserver=function(e){if("function"!=typeof e)throw new Error("observer must be a function");this.observers.map((function(t){if(t===e)throw new Error("observer already in the list")})),this.observers.push(e)},e.prototype.removeObserver=function(e){for(var t=0;t<this.observers.length;t++){if(this.observers[t]===e)return void this.observers.splice(t,1)}throw new Error("could not find observer in list of observers")},e.prototype.notifyObservers=function(){r(this.observers).map((function(e){return e()}))},e.prototype.notifyObserversData=function(e){r(this.observers).map((function(t){return t(e)}))},e}();t.default=i},function(e,t,n){"use strict";n.r(t),t.default=function(e){var t=document.createElement("div");return t.ondragstart=function(){return!1},t.classList.add(e),t}},function(e,t,n){"use strict";n.r(t),n.d(t,"defaultParameters",(function(){return r}));var r={minValue:0,maxValue:1e3,step:1,isRange:!1,isVertical:!1,showLabel:!1,isFloat:!1}},function(e,t,n){"use strict";n.r(t);var r=function(){function e(){}return e.parsing=function(e){if("number"==typeof e)return e;if("string"==typeof e){if(/^-?\d+[.,]\d+$/.test(e))return parseFloat(e);if(/^-?\d+$/.test(e))return parseInt(e)}return null},e}();t.default=r},function(e,t,n){"use strict";n.r(t);var r=n(9),i=n(10),s=n(0),a=function(e,t){var n=this;this.getPosition=function(){return n.knob.getPosition()},this.setPosition=function(e,t){n.tooltip.setPosition(e+n.knob.getWidth()/2,t),n.knob.setPosition(e)},this.init=function(e){n.knob.init(e),n.tooltip.init(e)},this.getWidth=function(){return n.knob.getWidth()},this.hideRunner=function(){n.knob.elem.style.display="none",n.tooltip.elem.style.display="none"},this.hideLabel=function(){n.tooltip.elem.style.display="none"},this.showLabel=function(){n.tooltip.elem.style.display="block"},this.showRunner=function(){n.knob.elem.style.display="block"},this.appendToNode=function(e){[n.knob.elem,n.tooltip.elem].forEach((function(t){e.appendChild(t),t.onmousedown=n.handleRunnerMouseDown}))},this.handleRunnerMouseDown=function(e){e.preventDefault(),document.addEventListener("mousemove",n.handleRunnerMouseMove),document.addEventListener("mouseup",n.handleRunnerMouseUp)},this.handleRunnerMouseMove=function(e){n.observers.notifyObserversData({event:e,runner:n})},this.handleRunnerMouseUp=function(){document.removeEventListener("mouseup",n.handleRunnerMouseUp),document.removeEventListener("mousemove",n.handleRunnerMouseMove)},this.isVertical=e,this.knob=new r.default(e),this.tooltip=new i.default(e),this.observers=new s.default,this.observers.addObserver(t)};t.default=a},function(e,t,n){"use strict";n.r(t);var r=n(2),i=n(6),s=n(14),a=n(0),o=n(3),u=function(e){var t=this;void 0===e&&(e=r.defaultParameters),this.appendToNode=function(e){t.view.appendToNode(e.get(0)),t.view.init()},this.updateConfig=function(e){Object.keys(e).forEach((function(n){"step"===n?e.step=t.checkStep(e.step):"maxValue"===n?e.maxValue=t.checkMaxValue(e.maxValue):"minValue"===n&&(e.minValue=t.checkMinValue(e.minValue))})),t.view.parameters=Object.assign(t.view.parameters,e),t.view.init()},this.getValues=function(){return t.model.currentValues},this.setValues=function(e,n){(e||0===e)&&t.model.setCurrentMinValue(e),(n||0===n)&&t.model.setCurrentMaxValue(n)},this.getConfig=function(){return t.view.parameters},this.addObserver=function(e){t.observers.addObserver(e)},this.checkStep=function(e){var n=Math.abs(o.default.parsing(e));return t.isStepValueWrong(n)?t.view.parameters.step:(n%1!=0?t.view.parameters.isFloat=!0:t.isOthersValuesFloat("step")||(t.view.parameters.isFloat=!1),n)},this.isStepValueWrong=function(e){var n=e>(t.view.parameters.maxValue-t.view.parameters.minValue)/2;return null===e||0===e||n},this.isOthersValuesFloat=function(e){switch(e){case"step":return t.view.parameters.maxValue%1!=0||t.view.parameters.minValue%1!=0;case"maxValue":return t.view.parameters.step%1!=0||t.view.parameters.minValue%1!=0;case"minValue":return t.view.parameters.step%1!=0||t.view.parameters.maxValue%1!=0;default:return!1}},this.checkMaxValue=function(e){var n=o.default.parsing(e);return t.isMaxValueWrong(n)?t.view.parameters.maxValue:(n%1!=0?t.view.parameters.isFloat=!0:t.isOthersValuesFloat("maxValue")||(t.view.parameters.isFloat=!1),n)},this.isMaxValueWrong=function(e){return null===e||e<=t.view.parameters.minValue},this.checkMinValue=function(e){var n=o.default.parsing(e);return t.isMinValueWrong(n)?t.view.parameters.minValue:(n%1!=0?t.view.parameters.isFloat=!0:t.isOthersValuesFloat("minValue")||(t.view.parameters.isFloat=!1),n)},this.isMinValueWrong=function(e){return null===e||e>=t.view.parameters.maxValue},this.addViewObserver=function(){t.view.observers.addObserver((function(){t.model.currentValues=t.view.currentValues,t.observers.notifyObservers()}))},this.addModelObserver=function(){t.model.observers.addObserver((function(){t.view.currentValues=t.model.currentValues,t.view.init()}))},this.view=new i.default(e),this.model=new s.default({currentMinValue:e.minValue,currentMaxValue:e.maxValue}),this.observers=new a.default,this.addViewObserver(),this.addModelObserver()};t.default=u},function(e,t,n){"use strict";n.r(t);var r=n(2),i=n(0),s=n(7),a=function(e){var t=this;void 0===e&&(e=r.defaultParameters),this.init=function(){t.track.init(t.parameters),t.track.renewRunners(t.currentValues)},this.handleTrackValueChanging=function(e){"minValue"===e.typeOfValue?t.currentValues.currentMinValue=e.value:"maxValue"===e.typeOfValue&&(t.currentValues.currentMaxValue=e.value),t.observers.notifyObservers()},this.appendToNode=function(e){t.track.appendToNode(e)},this.currentValues={currentMinValue:e.minValue,currentMaxValue:e.maxValue},this.observers=new i.default,this.parameters=e,this.track=new s.default(this.parameters),this.track.observers.addObserver(this.handleTrackValueChanging)};t.default=a},function(e,t,n){"use strict";n.r(t);var r=n(8),i=n(4),s=n(11),a=n(13),o=n(0),u=function(){function e(e){var t=this;this.init=function(e){t.parameters=e,t.bar.init(t.parameters.isVertical),t.progressBar.init(t.parameters.isVertical),t.runnerAdditional.init(t.parameters.isVertical),t.runnerMain.init(t.parameters.isVertical),t.scale.init(t.parameters),t.runnerAdditional.hideRunner(),t.parameters.showLabel?(t.runnerAdditional.showLabel(),t.runnerMain.showLabel()):(t.runnerAdditional.hideLabel(),t.runnerMain.hideLabel()),t.parameters.isRange?t.runnerAdditional.showRunner():t.runnerAdditional.hideRunner(),t.runnerAdditional.setPosition(-t.runnerAdditional.getWidth()/2,t.parameters.minValue),t.runnerMain.setPosition(t.bar.getDimension()-t.runnerMain.getWidth()/2,t.parameters.maxValue)},this.appendToNode=function(e){e.appendChild(t.bar.elem).appendChild(t.progressBar.elem),t.bar.elem.onclick=t.handleBarClick,t.runnerMain.appendToNode(e),t.runnerAdditional.appendToNode(e),t.scale.marks.forEach((function(t){e.appendChild(t.elem)})),t.scale.moveMarks()},this.convertOffsetToValue=function(e){return(e-t.parameters.minValue)*t.bar.getDimension()/(t.parameters.maxValue-t.parameters.minValue)-t.runnerMain.getWidth()/2},this.getMainRunnerOffset=function(){var e=t.runnerMain.getPosition()-t.bar.getPosition()+t.runnerMain.getWidth()/2;return e<0?0:e},this.getAdditionalRunnerOffset=function(){return t.parameters.isRange?t.runnerAdditional.getPosition()-t.bar.getPosition()+t.runnerMain.getWidth()/2:0},this.handleRunnerMove=function(e){var n=e.event,r=e.runner;t.moveRunner(t.processRunnerMouseEvent(n,r))},this.moveRunner=function(e){e.runner.setPosition(e.offset,e.value),e.runner===t.runnerAdditional&&t.observers.notifyObserversData({typeOfValue:"minValue",value:e.value}),e.runner===t.runnerMain&&t.observers.notifyObserversData({typeOfValue:"maxValue",value:e.value}),t.updateProgressBar()},this.processRunnerMouseEvent=function(e,n){var r=(t.parameters.isVertical?e.clientY:e.clientX)-t.bar.getPosition()-t.runnerAdditional.getWidth()/2;return t.processRunnerOffset(r,n)},this.processRunnerOffset=function(e,n){var r,i;return i=t.checkRunnerOffset(e,n),{runner:n,offset:i=(r=t.roundOffsetRunner(i))[0],value:r[1]}},this.checkRunnerOffset=function(e,n){var r=t.parameters.step*t.bar.getDimension()/(t.parameters.maxValue-t.parameters.minValue),i=r/1.5>t.runnerMain.getWidth()?r/1.5:t.runnerMain.getWidth(),s=e;return n===t.runnerAdditional?e>t.runnerMain.getPosition()-t.bar.getPosition()-i&&(s=t.runnerMain.getPosition()-t.bar.getPosition()-i):n===t.runnerMain&&e<t.runnerAdditional.getPosition()-t.bar.getPosition()+i&&(s=t.runnerAdditional.getPosition()-t.bar.getPosition()+i),s},this.roundOffsetRunner=function(e){var n=t.parameters.minValue+(e+t.runnerMain.getWidth()/2)*(t.parameters.maxValue-t.parameters.minValue)/t.bar.getDimension(),r=t.round(n,t.parameters.step);t.parameters.isFloat&&(r=parseFloat(r.toFixed(2)));var i=t.convertOffsetToValue(r);return i<-t.runnerMain.getWidth()/2&&(i=-t.runnerMain.getWidth()/2,r=t.parameters.minValue),i>t.bar.getDimension()-t.runnerMain.getWidth()/2&&(i=t.bar.getDimension()-t.runnerMain.getWidth()/2,r=t.parameters.maxValue),[i,r]},this.round=function(e,n){var r=Math.trunc(e/n),i=+(e-r*n).toFixed(2);return e<0?Math.abs(i)<n/2?r*n:(r-1)*n:e<=t.parameters.minValue?t.parameters.minValue:e>=t.parameters.maxValue?t.parameters.maxValue:i<n/2?r*n:(r+1)*n},this.handleScaleClick=function(e){var n,r=t.convertOffsetToValue(e);n=t.parameters.isRange?t.checkRunnerCloser(r):t.runnerMain,t.moveRunner(t.processRunnerOffset(r,n))},this.checkRunnerCloser=function(e){return Math.abs(e-t.getMainRunnerOffset())<Math.abs(e-t.getAdditionalRunnerOffset())?t.runnerMain:t.runnerAdditional},this.handleBarClick=function(e){var n=(t.parameters.isVertical?e.clientY:e.clientX)-t.bar.getPosition()-t.runnerMain.getWidth()/2;t.moveRunner(t.processRunnerOffset(n,t.checkRunnerCloser(n)))},this.updateProgressBar=function(){t.progressBar.init(t.parameters.isVertical),t.progressBar.setPosition(t.getAdditionalRunnerOffset()),t.progressBar.setDimension(t.getMainRunnerOffset()-t.getAdditionalRunnerOffset())},this.parameters=e,this.bar=new r.default(this.parameters.isVertical),this.progressBar=new a.default(this.parameters.isVertical),this.scale=new s.default(this.parameters,this.handleScaleClick),this.runnerAdditional=new i.default(this.parameters.isVertical,this.handleRunnerMove),this.runnerMain=new i.default(this.parameters.isVertical,this.handleRunnerMove),this.observers=new o.default}return e.prototype.renewRunners=function(e){this.moveRunner(this.processRunnerOffset(this.convertOffsetToValue(e.currentMaxValue),this.runnerMain)),this.moveRunner(this.processRunnerOffset(this.convertOffsetToValue(e.currentMinValue),this.runnerAdditional))},e}();t.default=u},function(e,t,n){"use strict";n.r(t);var r=n(1),i=function(e){var t=this;this.getPosition=function(){return t.isVertical?t.elem.getBoundingClientRect().top:t.elem.getBoundingClientRect().left},this.getDimension=function(){return t.isVertical?t.elem.getBoundingClientRect().height:t.elem.getBoundingClientRect().width},this.init=function(e){t.isVertical=e,t.isVertical?t.elem.classList.add("slider__bar_position_vertical"):t.elem.classList.remove("slider__bar_position_vertical")},this.elem=Object(r.default)("slider__bar"),this.isVertical=e};t.default=i},function(e,t,n){"use strict";n.r(t);var r=n(1),i=function(e){var t=this;this.getWidth=function(){return t.elem.getBoundingClientRect().width},this.getPosition=function(){return t.isVertical?t.elem.getBoundingClientRect().top:t.elem.getBoundingClientRect().left},this.setPosition=function(e){t.isVertical?(t.elem.style.left="50%",t.elem.style.top=e+"px"):(t.elem.style.top="50%",t.elem.style.left=e+"px")},this.init=function(e){t.isVertical=e,t.isVertical?t.elem.classList.add("slider__button_position_vertical"):t.elem.classList.remove("slider__button_position_vertical")},this.elem=Object(r.default)("slider__button"),this.isVertical=e};t.default=i},function(e,t,n){"use strict";n.r(t);var r=n(1),i=function(e){var t=this;this.getPosition=function(){return t.isVertical?t.elem.getBoundingClientRect().top:t.elem.getBoundingClientRect().left},this.setPosition=function(e,n){t.elem.innerHTML=n+"",t.isVertical?(t.elem.style.left="50%",t.elem.style.top=e-t.getDimension()/2+"px"):(t.elem.style.top="50%",t.elem.style.left=e-t.getDimension()/2+"px")},this.getDimension=function(){return t.isVertical?t.elem.getBoundingClientRect().height:t.elem.getBoundingClientRect().width},this.init=function(e){t.isVertical=e,t.isVertical?t.elem.classList.add("slider__button-label_position_vertical"):t.elem.classList.remove("slider__button-label_position_vertical")},this.elem=Object(r.default)("slider__button-label"),this.isVertical=e};t.default=i},function(e,t,n){"use strict";n.r(t);var r=n(12),i=n(0),s=function(e,t){var n=this;this.init=function(e){n.parameters=e,n.moveMarks()},this.moveMarks=function(){n.marks.forEach((function(e,t){if(e.init(n.parameters.isVertical),0===t)e.setPosition(0,n.parameters.minValue);else if(t===n.marks.length-1)e.setPosition(100,n.parameters.maxValue);else{var r=n.round(n.parameters.minValue+(n.parameters.maxValue-n.parameters.minValue)*t/(n.marks.length-1));n.parameters.isFloat&&(r=parseFloat(r.toFixed(2)));var i=(r-n.parameters.minValue)/(n.parameters.maxValue-n.parameters.minValue);e.setPosition(100*i,r)}}))},this.handleScaleClick=function(e){n.observers.notifyObserversData(e)},this.createMarks=function(){for(var e=0;e<5;e+=1){var t=new r.default(n.parameters.isVertical,n.handleScaleClick);n.marks.push(t)}},this.round=function(e){var t=Math.trunc(e/n.parameters.step),r=+(e-t*n.parameters.step).toFixed(2);return e<0?Math.abs(r)<n.parameters.step/2?t*n.parameters.step:(t-1)*n.parameters.step:r<n.parameters.step/2?t*n.parameters.step:(t+1)*n.parameters.step},this.marks=[],this.parameters=e,this.createMarks(),this.init(e),this.observers=new i.default,this.observers.addObserver(t)};t.default=s},function(e,t,n){"use strict";n.r(t);var r=n(1),i=n(0),s=function(e,t){var n=this;this.getPosition=function(){return n.isVertical?n.elem.getBoundingClientRect().top:n.elem.getBoundingClientRect().left},this.setPosition=function(e,t){n.elem.innerHTML=t+"",n.value=t,n.isVertical?(n.elem.style.left="50%",n.elem.style.top=e+"%",n.elem.style.marginTop=-n.getDimension()/2+"px",n.elem.style.marginLeft="-45px"):(n.elem.style.top="50%",n.elem.style.left=e+"%",n.elem.style.marginLeft=-n.getDimension()/2+"px",n.elem.style.marginTop="15px")},this.getDimension=function(){return n.isVertical?n.elem.getBoundingClientRect().height:n.elem.getBoundingClientRect().width},this.init=function(e){n.isVertical=e,n.isVertical?n.elem.classList.add("slider__mark_position_vertical"):n.elem.classList.remove("slider__mark_position_vertical")},this.handleMarkClick=function(){n.observers.notifyObserversData(n.value)},this.elem=Object(r.default)("slider__mark"),this.isVertical=e,this.observers=new i.default,this.observers.addObserver(t),this.elem.onclick=this.handleMarkClick};t.default=s},function(e,t,n){"use strict";n.r(t);var r=n(1),i=function(e){var t=this;this.setPosition=function(e){t.isVertical?(t.elem.style.left="0",t.elem.style.width="100%",t.elem.style.top=e+"px"):(t.elem.style.top="0",t.elem.style.height="100%",t.elem.style.left=e+"px")},this.setDimension=function(e){t.isVertical?t.elem.style.height=e+"px":t.elem.style.width=e+"px"},this.init=function(e){t.isVertical=e},this.elem=Object(r.default)("slider__progress-bar"),this.isVertical=e};t.default=i},function(e,t,n){"use strict";n.r(t);var r=n(0),i=function(){function e(e){this.currentValues=e,this.observers=new r.default}return e.prototype.setCurrentMinValue=function(e){this.currentValues.currentMinValue!==e&&(this.currentValues.currentMinValue=e,this.observers.notifyObservers())},e.prototype.setCurrentMaxValue=function(e){this.currentValues.currentMaxValue!==e&&(this.currentValues.currentMaxValue=e,this.observers.notifyObservers())},e}();t.default=i},function(e,t,n){var r={"./Controller/Controller.ts":5,"./Controller/blocks/parsingDigits/ParsingDigits.ts":3,"./Model/Model.ts":14,"./View/View.ts":6,"./View/blocks/Bar/Bar.ts":8,"./View/blocks/Knob/Knob.ts":9,"./View/blocks/ProgressBar/ProgressBar.ts":13,"./View/blocks/Runner/Runner.ts":4,"./View/blocks/Scale/Mark/Mark.ts":12,"./View/blocks/Scale/Scale.ts":11,"./View/blocks/Tooltip/Tooltip.ts":10,"./View/blocks/Track/Track.ts":7,"./View/blocks/createElem/createElem.ts":1,"./makeObservableObject/MakeObservableObject.ts":0,"./slider.ts":16,"./style.scss":17,"./types.ts":2};function i(e){var t=s(e);return n(t)}function s(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}i.keys=function(){return Object.keys(r)},i.resolve=s,e.exports=i,i.id=15},function(e,t,n){"use strict";n.r(t);var r,i,s,a=n(5),o=function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};r=jQuery,i={minValue:0,maxValue:1e3,step:1,isRange:!1,isVertical:!1,showLabel:!1,isFloat:!1},s={init:function(e){if(!r(this).data("slider")){var t=o({},i),n=new a.default(r.extend(t,e));r(this).data("slider",n),n.appendToNode(r(this))}},update:function(e){r(this).data("slider").updateConfig(e)},getConfig:function(){return r(this).data("slider").getConfig()},setValues:function(e){r(this).data("slider").setValues(e.currentMinValue,e.currentMaxValue)},inputsAttach:function(e){var t=r(this).data("slider");t.addObserver((function(){e.minValueInput.val(t.getValues().currentMinValue),e.maxValueInput.val(t.getValues().currentMaxValue),e.maxValue.val(t.getConfig().maxValue),e.minValue.val(t.getConfig().minValue),e.step.val(t.getConfig().step)}))}},r.fn.omfgslider=function(e){return s[e]?s[e].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof e&&e?void r.error("Метод "+e+" не найден в плагине jQuery.omfgslider"):s.init.apply(this,arguments)}},function(e,t,n){},,function(e,t,n){"use strict";n.r(t);var r;n.p;(r=n(15)).keys().forEach(r)}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL3BsdWdpbi9tYWtlT2JzZXJ2YWJsZU9iamVjdC9NYWtlT2JzZXJ2YWJsZU9iamVjdC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvcGx1Z2luL1ZpZXcvYmxvY2tzL2NyZWF0ZUVsZW0vY3JlYXRlRWxlbS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvcGx1Z2luL3R5cGVzLnRzIiwid2VicGFjazovLy8uL3NyYy9wbHVnaW4vQ29udHJvbGxlci9ibG9ja3MvcGFyc2luZ0RpZ2l0cy9QYXJzaW5nRGlnaXRzLnRzIiwid2VicGFjazovLy8uL3NyYy9wbHVnaW4vVmlldy9ibG9ja3MvUnVubmVyL1J1bm5lci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvcGx1Z2luL0NvbnRyb2xsZXIvQ29udHJvbGxlci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvcGx1Z2luL1ZpZXcvVmlldy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvcGx1Z2luL1ZpZXcvYmxvY2tzL1RyYWNrL1RyYWNrLnRzIiwid2VicGFjazovLy8uL3NyYy9wbHVnaW4vVmlldy9ibG9ja3MvQmFyL0Jhci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvcGx1Z2luL1ZpZXcvYmxvY2tzL0tub2IvS25vYi50cyIsIndlYnBhY2s6Ly8vLi9zcmMvcGx1Z2luL1ZpZXcvYmxvY2tzL1Rvb2x0aXAvVG9vbHRpcC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvcGx1Z2luL1ZpZXcvYmxvY2tzL1NjYWxlL1NjYWxlLnRzIiwid2VicGFjazovLy8uL3NyYy9wbHVnaW4vVmlldy9ibG9ja3MvU2NhbGUvTWFyay9NYXJrLnRzIiwid2VicGFjazovLy8uL3NyYy9wbHVnaW4vVmlldy9ibG9ja3MvUHJvZ3Jlc3NCYXIvUHJvZ3Jlc3NCYXIudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3BsdWdpbi9Nb2RlbC9Nb2RlbC50cyIsIndlYnBhY2s6Ly8vXFwuZClcXC4oanN8dHN8c2NzcykkLyIsIndlYnBhY2s6Ly8vLi9zcmMvcGx1Z2luL3NsaWRlci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZGVtby1wYWdlL2luZGV4Lmh0bWwiLCJ3ZWJwYWNrOi8vLy4vc3JjL2luZGV4LnRzIl0sIm5hbWVzIjpbImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJleHBvcnRzIiwibW9kdWxlIiwiaSIsImwiLCJtb2R1bGVzIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJ0IiwibW9kZSIsIl9fZXNNb2R1bGUiLCJucyIsImNyZWF0ZSIsImtleSIsImJpbmQiLCJuIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwidGhpcyIsIm9ic2VydmVycyIsImFkZE9ic2VydmVyIiwiZm4iLCJFcnJvciIsIm1hcCIsIm9ic2VydmVyIiwicHVzaCIsInJlbW92ZU9ic2VydmVyIiwibGVuZ3RoIiwic3BsaWNlIiwibm90aWZ5T2JzZXJ2ZXJzIiwibm90aWZ5T2JzZXJ2ZXJzRGF0YSIsImRhdGEiLCJjbGFzc05hbWUiLCJlbGVtIiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50Iiwib25kcmFnc3RhcnQiLCJjbGFzc0xpc3QiLCJhZGQiLCJkZWZhdWx0UGFyYW1ldGVycyIsIm1pblZhbHVlIiwibWF4VmFsdWUiLCJzdGVwIiwiaXNSYW5nZSIsImlzVmVydGljYWwiLCJzaG93TGFiZWwiLCJpc0Zsb2F0IiwicGFyc2luZyIsIml0ZW0iLCJ0ZXN0IiwicGFyc2VGbG9hdCIsInBhcnNlSW50IiwibW92ZU9ic2VydmVyIiwiZ2V0UG9zaXRpb24iLCJrbm9iIiwic2V0UG9zaXRpb24iLCJvZmZzZXQiLCJ0b29sdGlwIiwiZ2V0V2lkdGgiLCJpbml0IiwiaGlkZVJ1bm5lciIsInN0eWxlIiwiZGlzcGxheSIsImhpZGVMYWJlbCIsInNob3dSdW5uZXIiLCJhcHBlbmRUb05vZGUiLCJlbnRyeSIsImZvckVhY2giLCJhcHBlbmRDaGlsZCIsIm9ubW91c2Vkb3duIiwiaGFuZGxlUnVubmVyTW91c2VEb3duIiwiZXZlbnQiLCJwcmV2ZW50RGVmYXVsdCIsImFkZEV2ZW50TGlzdGVuZXIiLCJoYW5kbGVSdW5uZXJNb3VzZU1vdmUiLCJoYW5kbGVSdW5uZXJNb3VzZVVwIiwicnVubmVyIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsInBhcmFtZXRlcnMiLCJ2aWV3IiwidXBkYXRlQ29uZmlnIiwia2V5cyIsImNoZWNrU3RlcCIsImNoZWNrTWF4VmFsdWUiLCJjaGVja01pblZhbHVlIiwiYXNzaWduIiwiZ2V0VmFsdWVzIiwibW9kZWwiLCJjdXJyZW50VmFsdWVzIiwic2V0VmFsdWVzIiwiY3VycmVudE1pblZhbHVlIiwiY3VycmVudE1heFZhbHVlIiwic2V0Q3VycmVudE1pblZhbHVlIiwic2V0Q3VycmVudE1heFZhbHVlIiwiZ2V0Q29uZmlnIiwic3RlcENoZWNrZWQiLCJNYXRoIiwiYWJzIiwiaXNTdGVwVmFsdWVXcm9uZyIsImlzT3RoZXJzVmFsdWVzRmxvYXQiLCJpc1N0ZXBNb3JlVGhhbkhhbGYiLCJwYXJhbWV0ZXIiLCJtYXhWYWx1ZUNoZWNrZWQiLCJpc01heFZhbHVlV3JvbmciLCJtaW5WYWx1ZUNoZWNrZWQiLCJpc01pblZhbHVlV3JvbmciLCJhZGRWaWV3T2JzZXJ2ZXIiLCJhZGRNb2RlbE9ic2VydmVyIiwidHJhY2siLCJyZW5ld1J1bm5lcnMiLCJoYW5kbGVUcmFja1ZhbHVlQ2hhbmdpbmciLCJ0eXBlT2ZWYWx1ZSIsImJhciIsInByb2dyZXNzQmFyIiwicnVubmVyQWRkaXRpb25hbCIsInJ1bm5lck1haW4iLCJzY2FsZSIsImdldERpbWVuc2lvbiIsIm9uY2xpY2siLCJoYW5kbGVCYXJDbGljayIsIm1hcmtzIiwibWFyayIsIm1vdmVNYXJrcyIsImNvbnZlcnRPZmZzZXRUb1ZhbHVlIiwiZ2V0TWFpblJ1bm5lck9mZnNldCIsImdldEFkZGl0aW9uYWxSdW5uZXJPZmZzZXQiLCJoYW5kbGVSdW5uZXJNb3ZlIiwibW92ZVJ1bm5lciIsInByb2Nlc3NSdW5uZXJNb3VzZUV2ZW50Iiwib2JqIiwidXBkYXRlUHJvZ3Jlc3NCYXIiLCJldmVudE1tIiwiY2xpZW50WSIsImNsaWVudFgiLCJwcm9jZXNzUnVubmVyT2Zmc2V0Iiwicm91bmRPZmZzZXQiLCJjaGVja1J1bm5lck9mZnNldCIsInJvdW5kT2Zmc2V0UnVubmVyIiwic3RlcFdpZHRoIiwibWluT2Zmc2V0IiwibmV3T2Zmc2V0IiwiY3VycmVudE9mZnNldCIsImN1cnJlbnRWYWx1ZSIsInJvdW5kVmFsdWUiLCJyb3VuZCIsInRvRml4ZWQiLCJ3aG9sZSIsInRydW5jIiwicmVtaW5kZXIiLCJoYW5kbGVTY2FsZUNsaWNrIiwiY2hlY2tSdW5uZXJDbG9zZXIiLCJzZXREaW1lbnNpb24iLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJ0b3AiLCJsZWZ0IiwiaGVpZ2h0Iiwid2lkdGgiLCJyZW1vdmUiLCJpbm5lckhUTUwiLCJvcHRpb25zIiwiaW5kZXgiLCJjcmVhdGVNYXJrcyIsIm1hcmdpblRvcCIsIm1hcmdpbkxlZnQiLCJoYW5kbGVNYXJrQ2xpY2siLCJkaW1lbnNpb24iLCJ3ZWJwYWNrQ29udGV4dCIsInJlcSIsImlkIiwid2VicGFja0NvbnRleHRSZXNvbHZlIiwiZSIsImNvZGUiLCJyZXNvbHZlIiwiJCIsImNvbmZpZyIsIm1ldGhvZHMiLCJqUXVlcnkiLCJvcHQiLCJuZXdDb25maWciLCJzbGlkZXIiLCJleHRlbmQiLCJ1cGRhdGUiLCJpbnB1dHNBdHRhY2giLCJtaW5WYWx1ZUlucHV0IiwidmFsIiwibWF4VmFsdWVJbnB1dCIsIm9tZmdzbGlkZXIiLCJtZXRob2QiLCJhcHBseSIsIkFycmF5Iiwic2xpY2UiLCJhcmd1bWVudHMiLCJlcnJvciJdLCJtYXBwaW5ncyI6ImFBQ0UsSUFBSUEsRUFBbUIs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SUwsRUFBT3JGLFlBQVl0RCxVQUNwQ3lJLEVBQUl2SSxLQUFLOEksSUFBSUwsRUFBT3JGLFlBQVlwRCxXQUt0Q21JLEVBQUV4SixHQUFHcUssV0FBYSxTQUFTQyxHQUN6QixPQUFJWixFQUFRWSxHQUNIWixFQUFRWSxHQUFRQyxNQUFNMUssS0FBTTJLLE1BQU0vSyxVQUFVZ0wsTUFBTXpNLEtBQUswTSxVQUFXLElBQzlDLGlCQUFYSixHQUF3QkEsT0FHeENkLEVBQUVtQixNQUFNLFNBQVNMLEVBQU0sMENBRmhCWixFQUFRcEgsS0FBS2lJLE1BQU0xSyxLQUFNNkssYSx1REN2RHZCLElDRUkvTCxFREZKLEtDRUlBLEVBSVQsT0FITmlGLE9BQU9kLFFBQVFuRSIsImZpbGUiOiJidW5kbGUuanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gMTkpO1xuIiwiY2xhc3MgTWFrZU9ic2VydmFibGVPYmplY3Qge1xyXG4gIG9ic2VydmVyczogQXJyYXk8RnVuY3Rpb24+O1xyXG5cclxuICBjb25zdHJ1Y3RvcigpIHtcclxuICAgIHRoaXMub2JzZXJ2ZXJzID0gW107XHJcbiAgfVxyXG5cclxuICBhZGRPYnNlcnZlcihmbjogRnVuY3Rpb24pOiB2b2lkIHtcclxuICAgIGlmICh0eXBlb2YgZm4gIT09ICdmdW5jdGlvbicpIHtcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKCdvYnNlcnZlciBtdXN0IGJlIGEgZnVuY3Rpb24nKTtcclxuICAgIH1cclxuICAgIHRoaXMub2JzZXJ2ZXJzLm1hcCgob2JzZXJ2ZXIpID0+IHtcclxuICAgICAgaWYgKG9ic2VydmVyID09PSBmbikge1xyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcignb2JzZXJ2ZXIgYWxyZWFkeSBpbiB0aGUgbGlzdCcpO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICAgIHRoaXMub2JzZXJ2ZXJzLnB1c2goZm4pO1xyXG4gIH1cclxuXHJcbiAgcmVtb3ZlT2JzZXJ2ZXIoZm46IEZ1bmN0aW9uKTogdm9pZCB7XHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMub2JzZXJ2ZXJzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgIGNvbnN0IG9ic2VydmVyID0gdGhpcy5vYnNlcnZlcnNbaV07XHJcbiAgICAgIGlmIChvYnNlcnZlciA9PT0gZm4pIHtcclxuICAgICAgICB0aGlzLm9ic2VydmVycy5zcGxpY2UoaSwgMSk7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ2NvdWxkIG5vdCBmaW5kIG9ic2VydmVyIGluIGxpc3Qgb2Ygb2JzZXJ2ZXJzJyk7XHJcbiAgfVxyXG5cclxuICBub3RpZnlPYnNlcnZlcnMoKTogdm9pZCB7XHJcbiAgICBjb25zdCBvYnNlcnZlcnNTbmFwc2hvdCA9IFsuLi50aGlzLm9ic2VydmVyc107XHJcbiAgICBvYnNlcnZlcnNTbmFwc2hvdC5tYXAoKG9ic2VydmVyKSA9PiBvYnNlcnZlcigpKTtcclxuICB9XHJcblxyXG4gIG5vdGlmeU9ic2VydmVyc0RhdGEoZGF0YTogYW55KTogdm9pZCB7XHJcbiAgICBjb25zdCBvYnNlcnZlcnNTbmFwc2hvdCA9IFsuLi50aGlzLm9ic2VydmVyc107XHJcbiAgICBvYnNlcnZlcnNTbmFwc2hvdC5tYXAoKG9ic2VydmVyKSA9PiBvYnNlcnZlcihkYXRhKSk7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBNYWtlT2JzZXJ2YWJsZU9iamVjdDtcclxuIiwiZnVuY3Rpb24gY3JlYXRlRWxlbShjbGFzc05hbWU6IHN0cmluZykgOkhUTUxFbGVtZW50IHtcclxuICBjb25zdCBlbGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgZWxlbS5vbmRyYWdzdGFydCA9ICgpID0+IGZhbHNlO1xyXG4gIGVsZW0uY2xhc3NMaXN0LmFkZChjbGFzc05hbWUpO1xyXG4gIHJldHVybiBlbGVtO1xyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjcmVhdGVFbGVtO1xyXG4iLCJpbXBvcnQgUnVubmVyIGZyb20gJy4vVmlldy9ibG9ja3MvUnVubmVyL1J1bm5lcic7XHJcbmltcG9ydCBCYXIgZnJvbSAnLi9WaWV3L2Jsb2Nrcy9CYXIvQmFyJztcclxuaW1wb3J0IFByb2dyZXNzQmFyIGZyb20gJy4vVmlldy9ibG9ja3MvUHJvZ3Jlc3NCYXIvUHJvZ3Jlc3NCYXInO1xyXG5cclxuZXhwb3J0IHR5cGUgUnVubmVyTW92ZURhdGEgPSB7XHJcbiAgcnVubmVyOiBSdW5uZXIsXHJcbiAgb2Zmc2V0OiBudW1iZXIsXHJcbiAgdmFsdWU6IG51bWJlcixcclxufVxyXG5cclxuZXhwb3J0IHR5cGUgQ3VycmVudFZhbHVlcyA9IHtcclxuICBjdXJyZW50TWluVmFsdWU6IG51bWJlcixcclxuICBjdXJyZW50TWF4VmFsdWU6IG51bWJlcixcclxufVxyXG5cclxuZXhwb3J0IHR5cGUgQ3VycmVudFZhbHVlQ2hhbmdpbmdEYXRhID0ge1xyXG4gIHR5cGVPZlZhbHVlOiBzdHJpbmcsXHJcbiAgdmFsdWU6IG51bWJlcixcclxufVxyXG5cclxuZXhwb3J0IHR5cGUgUnVubmVyT2JzZXJ2ZXJEYXRhID0ge1xyXG4gIGV2ZW50OiBNb3VzZUV2ZW50LFxyXG4gIHJ1bm5lcjogUnVubmVyLFxyXG59XHJcblxyXG5leHBvcnQgdHlwZSBQYXJhbWV0ZXJzID0ge1xyXG4gIG1pblZhbHVlOiBudW1iZXIsXHJcbiAgbWF4VmFsdWU6IG51bWJlcixcclxuICBzdGVwOiBudW1iZXIsXHJcbiAgaXNSYW5nZTogYm9vbGVhbixcclxuICBpc1ZlcnRpY2FsOiBib29sZWFuLFxyXG4gIHNob3dMYWJlbDogYm9vbGVhbixcclxuICBpc0Zsb2F0OiBib29sZWFuXHJcbn1cclxuXHJcbmV4cG9ydCB0eXBlIFJhd1BhcmFtZXRlcnMgPSB7XHJcbiAgbWluVmFsdWU6IHN0cmluZ3xudW1iZXIsXHJcbiAgbWF4VmFsdWU6IHN0cmluZ3xudW1iZXIsXHJcbiAgc3RlcDogc3RyaW5nfG51bWJlcixcclxuICBpc1JhbmdlOiBib29sZWFuLFxyXG4gIGlzVmVydGljYWw6IGJvb2xlYW4sXHJcbiAgc2hvd0xhYmVsOiBib29sZWFuLFxyXG4gIGlzRmxvYXQ6IGJvb2xlYW5cclxufVxyXG5cclxuZXhwb3J0IHR5cGUgVHJhY2tDb25zdHJ1Y3RvckRhdGEgPSB7XHJcbiAgcnVubmVyTWFpbjogUnVubmVyLFxyXG4gIHJ1bm5lckFkZGl0aW9uYWw6IFJ1bm5lcixcclxuICBiYXI6IEJhcixcclxuICBwcm9ncmVzc0JhcjogUHJvZ3Jlc3NCYXIsXHJcbiAgcGFyYW1ldGVyczogUGFyYW1ldGVycztcclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IGRlZmF1bHRQYXJhbWV0ZXJzID0ge1xyXG4gIG1pblZhbHVlOiAwLFxyXG4gIG1heFZhbHVlOiAxMDAwLFxyXG4gIHN0ZXA6IDEsXHJcbiAgaXNSYW5nZTogZmFsc2UsXHJcbiAgaXNWZXJ0aWNhbDogZmFsc2UsXHJcbiAgc2hvd0xhYmVsOiBmYWxzZSxcclxuICBpc0Zsb2F0OiBmYWxzZVxyXG59O1xyXG4iLCJjbGFzcyBQYXJzaW5nRGlnaXRzIHtcclxuICBzdGF0aWMgcGFyc2luZyA9IChpdGVtOiBzdHJpbmd8bnVtYmVyKTogbnVtYmVyfG51bGwgPT4ge1xyXG4gICAgaWYgKHR5cGVvZiBpdGVtID09PSAnbnVtYmVyJykge1xyXG4gICAgICByZXR1cm4gaXRlbTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAodHlwZW9mIGl0ZW0gPT09ICdzdHJpbmcnKSB7XHJcbiAgICAgIGlmICgvXi0/XFxkK1suLF1cXGQrJC8udGVzdChpdGVtKSkge1xyXG4gICAgICAgIHJldHVybiBwYXJzZUZsb2F0KGl0ZW0pO1xyXG4gICAgICB9IGlmICgvXi0/XFxkKyQvLnRlc3QoaXRlbSkpIHtcclxuICAgICAgICByZXR1cm4gcGFyc2VJbnQoaXRlbSk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gbnVsbDtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IFBhcnNpbmdEaWdpdHM7XHJcbiIsImltcG9ydCBLbm9iIGZyb20gJy4uL0tub2IvS25vYic7XHJcbmltcG9ydCBUb29sdGlwIGZyb20gJy4uL1Rvb2x0aXAvVG9vbHRpcCc7XHJcbmltcG9ydCBNYWtlT2JzZXJ2YWJsZU9iamVjdCBmcm9tICcuLi8uLi8uLi9tYWtlT2JzZXJ2YWJsZU9iamVjdC9NYWtlT2JzZXJ2YWJsZU9iamVjdCc7XHJcblxyXG5jbGFzcyBSdW5uZXIge1xyXG4gIGtub2I6IEtub2I7XHJcblxyXG4gIHRvb2x0aXA6IFRvb2x0aXA7XHJcblxyXG4gIGlzVmVydGljYWw6IGJvb2xlYW47XHJcblxyXG4gIG9ic2VydmVyczogTWFrZU9ic2VydmFibGVPYmplY3Q7XHJcblxyXG4gIGNvbnN0cnVjdG9yKGlzVmVydGljYWw6IGJvb2xlYW4sIG1vdmVPYnNlcnZlcjogRnVuY3Rpb24pIHtcclxuICAgIHRoaXMuaXNWZXJ0aWNhbCA9IGlzVmVydGljYWw7XHJcbiAgICB0aGlzLmtub2IgPSBuZXcgS25vYihpc1ZlcnRpY2FsKTtcclxuICAgIHRoaXMudG9vbHRpcCA9IG5ldyBUb29sdGlwKGlzVmVydGljYWwpO1xyXG4gICAgdGhpcy5vYnNlcnZlcnMgPSBuZXcgTWFrZU9ic2VydmFibGVPYmplY3QoKTtcclxuICAgIHRoaXMub2JzZXJ2ZXJzLmFkZE9ic2VydmVyKG1vdmVPYnNlcnZlcik7XHJcbiAgfVxyXG5cclxuICBnZXRQb3NpdGlvbiA9ICgpOiBudW1iZXIgPT4ge1xyXG4gICAgcmV0dXJuIHRoaXMua25vYi5nZXRQb3NpdGlvbigpO1xyXG4gIH1cclxuXHJcbiAgc2V0UG9zaXRpb24gPSAob2Zmc2V0OiBudW1iZXIsIHZhbHVlOiBudW1iZXIpOiB2b2lkID0+IHtcclxuICAgIHRoaXMudG9vbHRpcC5zZXRQb3NpdGlvbihvZmZzZXQgKyB0aGlzLmtub2IuZ2V0V2lkdGgoKSAvIDIsIHZhbHVlKTtcclxuICAgIHRoaXMua25vYi5zZXRQb3NpdGlvbihvZmZzZXQpO1xyXG4gIH1cclxuXHJcbiAgaW5pdCA9IChpc1ZlcnRpY2FsOiBib29sZWFuKTogdm9pZCA9PiB7XHJcbiAgICB0aGlzLmtub2IuaW5pdChpc1ZlcnRpY2FsKTtcclxuICAgIHRoaXMudG9vbHRpcC5pbml0KGlzVmVydGljYWwpO1xyXG4gIH1cclxuXHJcbiAgZ2V0V2lkdGggPSAoKTogbnVtYmVyID0+IHtcclxuICAgIHJldHVybiB0aGlzLmtub2IuZ2V0V2lkdGgoKTtcclxuICB9XHJcblxyXG4gIGhpZGVSdW5uZXIgPSAoKTogdm9pZCA9PiB7XHJcbiAgICB0aGlzLmtub2IuZWxlbS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xyXG4gICAgdGhpcy50b29sdGlwLmVsZW0uc3R5bGUuZGlzcGxheSA9ICdub25lJztcclxuICB9XHJcblxyXG4gIGhpZGVMYWJlbCA9ICgpOiB2b2lkID0+IHtcclxuICAgIHRoaXMudG9vbHRpcC5lbGVtLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XHJcbiAgfVxyXG5cclxuICBzaG93TGFiZWwgPSAoKTogdm9pZCA9PiB7XHJcbiAgICB0aGlzLnRvb2x0aXAuZWxlbS5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcclxuICB9XHJcblxyXG4gIHNob3dSdW5uZXIgPSAoKTogdm9pZCA9PiB7XHJcbiAgICB0aGlzLmtub2IuZWxlbS5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcclxuICB9XHJcblxyXG4gIGFwcGVuZFRvTm9kZSA9IChlbnRyeTogSFRNTEVsZW1lbnQpOiB2b2lkID0+IHtcclxuICAgIFt0aGlzLmtub2IuZWxlbSwgdGhpcy50b29sdGlwLmVsZW1dLmZvckVhY2goKGVsZW0pID0+IHtcclxuICAgICAgZW50cnkuYXBwZW5kQ2hpbGQoZWxlbSk7XHJcbiAgICAgIGVsZW0ub25tb3VzZWRvd24gPSB0aGlzLmhhbmRsZVJ1bm5lck1vdXNlRG93bjsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1wYXJhbS1yZWFzc2lnblxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGhhbmRsZVJ1bm5lck1vdXNlRG93biA9IChldmVudDogTW91c2VFdmVudCk6IHZvaWQgPT4ge1xyXG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIHRoaXMuaGFuZGxlUnVubmVyTW91c2VNb3ZlKTtcclxuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCB0aGlzLmhhbmRsZVJ1bm5lck1vdXNlVXApO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBoYW5kbGVSdW5uZXJNb3VzZU1vdmUgPSAoZXZlbnQ6IE1vdXNlRXZlbnQpOiB2b2lkID0+IHtcclxuICAgIHRoaXMub2JzZXJ2ZXJzLm5vdGlmeU9ic2VydmVyc0RhdGEoeyBldmVudDogZXZlbnQsIHJ1bm5lcjogdGhpcyB9KTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgaGFuZGxlUnVubmVyTW91c2VVcCA9ICgpOiB2b2lkID0+IHtcclxuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCB0aGlzLmhhbmRsZVJ1bm5lck1vdXNlVXApO1xyXG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgdGhpcy5oYW5kbGVSdW5uZXJNb3VzZU1vdmUpO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgUnVubmVyO1xyXG4iLCJpbXBvcnQgKiBhcyB0eXBlcyBmcm9tICcuLi90eXBlcyc7XHJcbmltcG9ydCBWaWV3IGZyb20gJy4uL1ZpZXcvVmlldyc7XHJcbmltcG9ydCBNb2RlbCBmcm9tICcuLi9Nb2RlbC9Nb2RlbCc7XHJcbmltcG9ydCBNYWtlT2JzZXJ2YWJsZU9iamVjdCBmcm9tICcuLi9tYWtlT2JzZXJ2YWJsZU9iamVjdC9NYWtlT2JzZXJ2YWJsZU9iamVjdCc7XHJcbmltcG9ydCBQYXJzaW5nRGlnaXRzIGZyb20gJy4vYmxvY2tzL3BhcnNpbmdEaWdpdHMvUGFyc2luZ0RpZ2l0cyc7XHJcblxyXG5jbGFzcyBDb250cm9sbGVyIHtcclxuICB2aWV3OiBWaWV3O1xyXG5cclxuICBtb2RlbDogTW9kZWw7XHJcblxyXG4gIG9ic2VydmVyczogTWFrZU9ic2VydmFibGVPYmplY3Q7XHJcblxyXG4gIGNvbnN0cnVjdG9yKHBhcmFtZXRlcnMgPSB0eXBlcy5kZWZhdWx0UGFyYW1ldGVycykge1xyXG4gICAgdGhpcy52aWV3ID0gbmV3IFZpZXcocGFyYW1ldGVycyk7XHJcbiAgICB0aGlzLm1vZGVsID0gbmV3IE1vZGVsKHsgY3VycmVudE1pblZhbHVlOiBwYXJhbWV0ZXJzLm1pblZhbHVlLCBjdXJyZW50TWF4VmFsdWU6IHBhcmFtZXRlcnMubWF4VmFsdWUgfSk7XHJcbiAgICB0aGlzLm9ic2VydmVycyA9IG5ldyBNYWtlT2JzZXJ2YWJsZU9iamVjdCgpO1xyXG4gICAgdGhpcy5hZGRWaWV3T2JzZXJ2ZXIoKTtcclxuICAgIHRoaXMuYWRkTW9kZWxPYnNlcnZlcigpO1xyXG4gIH1cclxuXHJcbiAgYXBwZW5kVG9Ob2RlID0gKGVudHJ5OiBKUXVlcnkpOiB2b2lkID0+IHtcclxuICAgIHRoaXMudmlldy5hcHBlbmRUb05vZGUoZW50cnkuZ2V0KDApKTtcclxuICAgIHRoaXMudmlldy5pbml0KCk7XHJcbiAgfVxyXG5cclxuICB1cGRhdGVDb25maWcgPSAocGFyYW1ldGVyczogdHlwZXMuUmF3UGFyYW1ldGVycyk6IHZvaWQgPT4ge1xyXG4gICAgT2JqZWN0LmtleXMocGFyYW1ldGVycykuZm9yRWFjaCgoa2V5KSA9PiB7XHJcbiAgICAgIGlmIChrZXkgPT09ICdzdGVwJykge1xyXG4gICAgICAgIHBhcmFtZXRlcnMuc3RlcCA9IHRoaXMuY2hlY2tTdGVwKHBhcmFtZXRlcnMuc3RlcCBhcyBzdHJpbmcpO1xyXG4gICAgICB9IGVsc2UgaWYgKGtleSA9PT0gJ21heFZhbHVlJykge1xyXG4gICAgICAgIHBhcmFtZXRlcnMubWF4VmFsdWUgPSB0aGlzLmNoZWNrTWF4VmFsdWUocGFyYW1ldGVycy5tYXhWYWx1ZSBhcyBzdHJpbmcpO1xyXG4gICAgICB9IGVsc2UgaWYgKGtleSA9PT0gJ21pblZhbHVlJykge1xyXG4gICAgICAgIHBhcmFtZXRlcnMubWluVmFsdWUgPSB0aGlzLmNoZWNrTWluVmFsdWUocGFyYW1ldGVycy5taW5WYWx1ZSBhcyBzdHJpbmcpO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICB0aGlzLnZpZXcucGFyYW1ldGVycyA9IE9iamVjdC5hc3NpZ24odGhpcy52aWV3LnBhcmFtZXRlcnMsIHBhcmFtZXRlcnMpO1xyXG4gICAgdGhpcy52aWV3LmluaXQoKTtcclxuICB9XHJcblxyXG4gIGdldFZhbHVlcyA9ICgpOiB0eXBlcy5DdXJyZW50VmFsdWVzID0+IHtcclxuICAgIHJldHVybiB0aGlzLm1vZGVsLmN1cnJlbnRWYWx1ZXM7XHJcbiAgfVxyXG5cclxuICBzZXRWYWx1ZXMgPSAoY3VycmVudE1pblZhbHVlOiBudW1iZXIsIGN1cnJlbnRNYXhWYWx1ZTogbnVtYmVyKTogdm9pZCA9PiB7XHJcbiAgICBpZiAoY3VycmVudE1pblZhbHVlIHx8IGN1cnJlbnRNaW5WYWx1ZSA9PT0gMCkge1xyXG4gICAgICB0aGlzLm1vZGVsLnNldEN1cnJlbnRNaW5WYWx1ZShjdXJyZW50TWluVmFsdWUpO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChjdXJyZW50TWF4VmFsdWUgfHwgY3VycmVudE1heFZhbHVlID09PSAwKSB7XHJcbiAgICAgIHRoaXMubW9kZWwuc2V0Q3VycmVudE1heFZhbHVlKGN1cnJlbnRNYXhWYWx1ZSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBnZXRDb25maWcgPSAoKTogdHlwZXMuUGFyYW1ldGVycyA9PiB7XHJcbiAgICByZXR1cm4gdGhpcy52aWV3LnBhcmFtZXRlcnM7XHJcbiAgfVxyXG5cclxuICBhZGRPYnNlcnZlciA9IChmbjogRnVuY3Rpb24pOiB2b2lkID0+IHtcclxuICAgIHRoaXMub2JzZXJ2ZXJzLmFkZE9ic2VydmVyKGZuKTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgY2hlY2tTdGVwID0gKHN0ZXA6IHN0cmluZyk6IG51bWJlciA9PiB7XHJcbiAgICBjb25zdCBzdGVwQ2hlY2tlZCA9IE1hdGguYWJzKFBhcnNpbmdEaWdpdHMucGFyc2luZyhzdGVwKSk7XHJcblxyXG4gICAgaWYgKHRoaXMuaXNTdGVwVmFsdWVXcm9uZyhzdGVwQ2hlY2tlZCkpIHtcclxuICAgICAgcmV0dXJuIHRoaXMudmlldy5wYXJhbWV0ZXJzLnN0ZXA7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHN0ZXBDaGVja2VkICUgMSAhPT0gMCkge1xyXG4gICAgICB0aGlzLnZpZXcucGFyYW1ldGVycy5pc0Zsb2F0ID0gdHJ1ZTtcclxuICAgIH0gZWxzZSBpZiAoIXRoaXMuaXNPdGhlcnNWYWx1ZXNGbG9hdCgnc3RlcCcpKSB7XHJcbiAgICAgIHRoaXMudmlldy5wYXJhbWV0ZXJzLmlzRmxvYXQgPSBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gc3RlcENoZWNrZWQ7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGlzU3RlcFZhbHVlV3JvbmcgPSAoc3RlcENoZWNrZWQ6IG51bWJlcik6IGJvb2xlYW4gPT4ge1xyXG4gICAgY29uc3QgaXNTdGVwTW9yZVRoYW5IYWxmID0gc3RlcENoZWNrZWRcclxuICAgICAgPiAodGhpcy52aWV3LnBhcmFtZXRlcnMubWF4VmFsdWUgLSB0aGlzLnZpZXcucGFyYW1ldGVycy5taW5WYWx1ZSkgLyAyO1xyXG4gICAgcmV0dXJuIChzdGVwQ2hlY2tlZCA9PT0gbnVsbCB8fCBzdGVwQ2hlY2tlZCA9PT0gMCB8fCBpc1N0ZXBNb3JlVGhhbkhhbGYpO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBpc090aGVyc1ZhbHVlc0Zsb2F0ID0gKHBhcmFtZXRlcjogc3RyaW5nKTogYm9vbGVhbiA9PiB7XHJcbiAgICBzd2l0Y2ggKHBhcmFtZXRlcikge1xyXG4gICAgICBjYXNlICdzdGVwJzpcclxuICAgICAgICByZXR1cm4gKHRoaXMudmlldy5wYXJhbWV0ZXJzLm1heFZhbHVlICUgMSAhPT0gMCB8fCB0aGlzLnZpZXcucGFyYW1ldGVycy5taW5WYWx1ZSAlIDEgIT09IDApO1xyXG4gICAgICBjYXNlICdtYXhWYWx1ZSc6XHJcbiAgICAgICAgcmV0dXJuICh0aGlzLnZpZXcucGFyYW1ldGVycy5zdGVwICUgMSAhPT0gMCB8fCB0aGlzLnZpZXcucGFyYW1ldGVycy5taW5WYWx1ZSAlIDEgIT09IDApO1xyXG4gICAgICBjYXNlICdtaW5WYWx1ZSc6XHJcbiAgICAgICAgcmV0dXJuICh0aGlzLnZpZXcucGFyYW1ldGVycy5zdGVwICUgMSAhPT0gMCB8fCB0aGlzLnZpZXcucGFyYW1ldGVycy5tYXhWYWx1ZSAlIDEgIT09IDApO1xyXG4gICAgICBkZWZhdWx0OlxyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHByaXZhdGUgY2hlY2tNYXhWYWx1ZSA9IChtYXhWYWx1ZTogc3RyaW5nKTogbnVtYmVyID0+IHtcclxuICAgIGNvbnN0IG1heFZhbHVlQ2hlY2tlZCA9IFBhcnNpbmdEaWdpdHMucGFyc2luZyhtYXhWYWx1ZSk7XHJcblxyXG4gICAgaWYgKHRoaXMuaXNNYXhWYWx1ZVdyb25nKG1heFZhbHVlQ2hlY2tlZCkpIHtcclxuICAgICAgcmV0dXJuIHRoaXMudmlldy5wYXJhbWV0ZXJzLm1heFZhbHVlO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChtYXhWYWx1ZUNoZWNrZWQgJSAxICE9PSAwKSB7XHJcbiAgICAgIHRoaXMudmlldy5wYXJhbWV0ZXJzLmlzRmxvYXQgPSB0cnVlO1xyXG4gICAgfSBlbHNlIGlmICghdGhpcy5pc090aGVyc1ZhbHVlc0Zsb2F0KCdtYXhWYWx1ZScpKSB7XHJcbiAgICAgIHRoaXMudmlldy5wYXJhbWV0ZXJzLmlzRmxvYXQgPSBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gbWF4VmFsdWVDaGVja2VkO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBpc01heFZhbHVlV3JvbmcgPSAobWF4VmFsdWVDaGVja2VkOiBudW1iZXIpOiBib29sZWFuID0+IHtcclxuICAgIHJldHVybiAobWF4VmFsdWVDaGVja2VkID09PSBudWxsIHx8IG1heFZhbHVlQ2hlY2tlZCA8PSB0aGlzLnZpZXcucGFyYW1ldGVycy5taW5WYWx1ZSk7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGNoZWNrTWluVmFsdWUgPSAobWluVmFsdWU6IHN0cmluZyk6IG51bWJlciA9PiB7XHJcbiAgICBjb25zdCBtaW5WYWx1ZUNoZWNrZWQgPSBQYXJzaW5nRGlnaXRzLnBhcnNpbmcobWluVmFsdWUpO1xyXG5cclxuICAgIGlmICh0aGlzLmlzTWluVmFsdWVXcm9uZyhtaW5WYWx1ZUNoZWNrZWQpKSB7XHJcbiAgICAgIHJldHVybiB0aGlzLnZpZXcucGFyYW1ldGVycy5taW5WYWx1ZTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAobWluVmFsdWVDaGVja2VkICUgMSAhPT0gMCkge1xyXG4gICAgICB0aGlzLnZpZXcucGFyYW1ldGVycy5pc0Zsb2F0ID0gdHJ1ZTtcclxuICAgIH0gZWxzZSBpZiAoIXRoaXMuaXNPdGhlcnNWYWx1ZXNGbG9hdCgnbWluVmFsdWUnKSkge1xyXG4gICAgICB0aGlzLnZpZXcucGFyYW1ldGVycy5pc0Zsb2F0ID0gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIG1pblZhbHVlQ2hlY2tlZDtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgaXNNaW5WYWx1ZVdyb25nID0gKG1pblZhbHVlQ2hlY2tlZDogbnVtYmVyKTogYm9vbGVhbiA9PiB7XHJcbiAgICByZXR1cm4gKG1pblZhbHVlQ2hlY2tlZCA9PT0gbnVsbCB8fCBtaW5WYWx1ZUNoZWNrZWQgPj0gdGhpcy52aWV3LnBhcmFtZXRlcnMubWF4VmFsdWUpO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBhZGRWaWV3T2JzZXJ2ZXIgPSAoKTogdm9pZCA9PiB7XHJcbiAgICB0aGlzLnZpZXcub2JzZXJ2ZXJzLmFkZE9ic2VydmVyKCgpID0+IHtcclxuICAgICAgdGhpcy5tb2RlbC5jdXJyZW50VmFsdWVzID0gdGhpcy52aWV3LmN1cnJlbnRWYWx1ZXM7XHJcbiAgICAgIHRoaXMub2JzZXJ2ZXJzLm5vdGlmeU9ic2VydmVycygpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGFkZE1vZGVsT2JzZXJ2ZXIgPSAoKTogdm9pZCA9PiB7XHJcbiAgICB0aGlzLm1vZGVsLm9ic2VydmVycy5hZGRPYnNlcnZlcigoKSA9PiB7XHJcbiAgICAgIHRoaXMudmlldy5jdXJyZW50VmFsdWVzID0gdGhpcy5tb2RlbC5jdXJyZW50VmFsdWVzO1xyXG4gICAgICB0aGlzLnZpZXcuaW5pdCgpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBDb250cm9sbGVyO1xyXG4iLCJpbXBvcnQgKiBhcyB0eXBlcyBmcm9tICcuLi90eXBlcyc7XHJcbmltcG9ydCBNYWtlT2JzZXJ2YWJsZU9iamVjdCBmcm9tICcuLi9tYWtlT2JzZXJ2YWJsZU9iamVjdC9NYWtlT2JzZXJ2YWJsZU9iamVjdCc7XHJcbmltcG9ydCBUcmFjayBmcm9tICcuL2Jsb2Nrcy9UcmFjay9UcmFjayc7XHJcblxyXG5jbGFzcyBWaWV3IHtcclxuICBwYXJhbWV0ZXJzOiB0eXBlcy5QYXJhbWV0ZXJzO1xyXG5cclxuICBjdXJyZW50VmFsdWVzOiB0eXBlcy5DdXJyZW50VmFsdWVzO1xyXG5cclxuICBvYnNlcnZlcnM6IE1ha2VPYnNlcnZhYmxlT2JqZWN0O1xyXG5cclxuICB0cmFjazogVHJhY2s7XHJcblxyXG4gIGNvbnN0cnVjdG9yKHBhcmFtZXRlcnMgPSB0eXBlcy5kZWZhdWx0UGFyYW1ldGVycykge1xyXG4gICAgdGhpcy5jdXJyZW50VmFsdWVzID0ge1xyXG4gICAgICBjdXJyZW50TWluVmFsdWU6IHBhcmFtZXRlcnMubWluVmFsdWUsXHJcbiAgICAgIGN1cnJlbnRNYXhWYWx1ZTogcGFyYW1ldGVycy5tYXhWYWx1ZVxyXG4gICAgfTtcclxuXHJcbiAgICB0aGlzLm9ic2VydmVycyA9IG5ldyBNYWtlT2JzZXJ2YWJsZU9iamVjdCgpO1xyXG4gICAgdGhpcy5wYXJhbWV0ZXJzID0gcGFyYW1ldGVycztcclxuICAgIHRoaXMudHJhY2sgPSBuZXcgVHJhY2sodGhpcy5wYXJhbWV0ZXJzKTtcclxuICAgIHRoaXMudHJhY2sub2JzZXJ2ZXJzLmFkZE9ic2VydmVyKHRoaXMuaGFuZGxlVHJhY2tWYWx1ZUNoYW5naW5nKTtcclxuICB9XHJcblxyXG4gIGluaXQgPSAoKTogdm9pZCA9PiB7XHJcbiAgICB0aGlzLnRyYWNrLmluaXQodGhpcy5wYXJhbWV0ZXJzKTtcclxuICAgIHRoaXMudHJhY2sucmVuZXdSdW5uZXJzKHRoaXMuY3VycmVudFZhbHVlcyk7XHJcbiAgfVxyXG5cclxuICBoYW5kbGVUcmFja1ZhbHVlQ2hhbmdpbmcgPSAoZGF0YTogdHlwZXMuQ3VycmVudFZhbHVlQ2hhbmdpbmdEYXRhKTogdm9pZCA9PiB7XHJcbiAgICBpZiAoZGF0YS50eXBlT2ZWYWx1ZSA9PT0gJ21pblZhbHVlJykge1xyXG4gICAgICB0aGlzLmN1cnJlbnRWYWx1ZXMuY3VycmVudE1pblZhbHVlID0gZGF0YS52YWx1ZTtcclxuICAgIH0gZWxzZSBpZiAoZGF0YS50eXBlT2ZWYWx1ZSA9PT0gJ21heFZhbHVlJykge1xyXG4gICAgICB0aGlzLmN1cnJlbnRWYWx1ZXMuY3VycmVudE1heFZhbHVlID0gZGF0YS52YWx1ZTtcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLm9ic2VydmVycy5ub3RpZnlPYnNlcnZlcnMoKTtcclxuICB9XHJcblxyXG4gIGFwcGVuZFRvTm9kZSA9IChlbnRyeTogSFRNTEVsZW1lbnQpOiB2b2lkID0+IHtcclxuICAgIHRoaXMudHJhY2suYXBwZW5kVG9Ob2RlKGVudHJ5KTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IFZpZXc7XHJcbiIsImltcG9ydCAqIGFzIHR5cGVzIGZyb20gJy4uLy4uLy4uL3R5cGVzJztcclxuaW1wb3J0IEJhciBmcm9tICcuLi9CYXIvQmFyJztcclxuaW1wb3J0IFJ1bm5lciBmcm9tICcuLi9SdW5uZXIvUnVubmVyJztcclxuaW1wb3J0IFNjYWxlIGZyb20gJy4uL1NjYWxlL1NjYWxlJztcclxuaW1wb3J0IFByb2dyZXNzQmFyIGZyb20gJy4uL1Byb2dyZXNzQmFyL1Byb2dyZXNzQmFyJztcclxuaW1wb3J0IE1ha2VPYnNlcnZhYmxlT2JqZWN0IGZyb20gJy4uLy4uLy4uL21ha2VPYnNlcnZhYmxlT2JqZWN0L01ha2VPYnNlcnZhYmxlT2JqZWN0JztcclxuXHJcbmNsYXNzIFRyYWNrIHtcclxuICBwYXJhbWV0ZXJzOiB0eXBlcy5QYXJhbWV0ZXJzO1xyXG5cclxuICBydW5uZXJNYWluOiBSdW5uZXI7XHJcblxyXG4gIHJ1bm5lckFkZGl0aW9uYWw6IFJ1bm5lcjtcclxuXHJcbiAgcHJvZ3Jlc3NCYXI6IFByb2dyZXNzQmFyO1xyXG5cclxuICBiYXI6IEJhcjtcclxuXHJcbiAgc2NhbGU6IFNjYWxlO1xyXG5cclxuICBvYnNlcnZlcnM6IE1ha2VPYnNlcnZhYmxlT2JqZWN0O1xyXG5cclxuICBjb25zdHJ1Y3RvcihwYXJhbWV0ZXJzOiB0eXBlcy5QYXJhbWV0ZXJzKSB7XHJcbiAgICB0aGlzLnBhcmFtZXRlcnMgPSBwYXJhbWV0ZXJzO1xyXG4gICAgdGhpcy5iYXIgPSBuZXcgQmFyKHRoaXMucGFyYW1ldGVycy5pc1ZlcnRpY2FsKTtcclxuICAgIHRoaXMucHJvZ3Jlc3NCYXIgPSBuZXcgUHJvZ3Jlc3NCYXIodGhpcy5wYXJhbWV0ZXJzLmlzVmVydGljYWwpO1xyXG4gICAgdGhpcy5zY2FsZSA9IG5ldyBTY2FsZSh0aGlzLnBhcmFtZXRlcnMsIHRoaXMuaGFuZGxlU2NhbGVDbGljayk7XHJcbiAgICB0aGlzLnJ1bm5lckFkZGl0aW9uYWwgPSBuZXcgUnVubmVyKHRoaXMucGFyYW1ldGVycy5pc1ZlcnRpY2FsLCB0aGlzLmhhbmRsZVJ1bm5lck1vdmUpO1xyXG4gICAgdGhpcy5ydW5uZXJNYWluID0gbmV3IFJ1bm5lcih0aGlzLnBhcmFtZXRlcnMuaXNWZXJ0aWNhbCwgdGhpcy5oYW5kbGVSdW5uZXJNb3ZlKTtcclxuICAgIHRoaXMub2JzZXJ2ZXJzID0gbmV3IE1ha2VPYnNlcnZhYmxlT2JqZWN0KCk7XHJcbiAgfVxyXG5cclxuICBpbml0ID0gKHBhcmFtZXRlcnM6IHR5cGVzLlBhcmFtZXRlcnMpOiB2b2lkID0+IHtcclxuICAgIHRoaXMucGFyYW1ldGVycyA9IHBhcmFtZXRlcnM7XHJcbiAgICB0aGlzLmJhci5pbml0KHRoaXMucGFyYW1ldGVycy5pc1ZlcnRpY2FsKTtcclxuICAgIHRoaXMucHJvZ3Jlc3NCYXIuaW5pdCh0aGlzLnBhcmFtZXRlcnMuaXNWZXJ0aWNhbCk7XHJcbiAgICB0aGlzLnJ1bm5lckFkZGl0aW9uYWwuaW5pdCh0aGlzLnBhcmFtZXRlcnMuaXNWZXJ0aWNhbCk7XHJcbiAgICB0aGlzLnJ1bm5lck1haW4uaW5pdCh0aGlzLnBhcmFtZXRlcnMuaXNWZXJ0aWNhbCk7XHJcbiAgICB0aGlzLnNjYWxlLmluaXQodGhpcy5wYXJhbWV0ZXJzKTtcclxuICAgIHRoaXMucnVubmVyQWRkaXRpb25hbC5oaWRlUnVubmVyKCk7XHJcblxyXG4gICAgaWYgKHRoaXMucGFyYW1ldGVycy5zaG93TGFiZWwpIHtcclxuICAgICAgdGhpcy5ydW5uZXJBZGRpdGlvbmFsLnNob3dMYWJlbCgpO1xyXG4gICAgICB0aGlzLnJ1bm5lck1haW4uc2hvd0xhYmVsKCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLnJ1bm5lckFkZGl0aW9uYWwuaGlkZUxhYmVsKCk7XHJcbiAgICAgIHRoaXMucnVubmVyTWFpbi5oaWRlTGFiZWwoKTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAodGhpcy5wYXJhbWV0ZXJzLmlzUmFuZ2UpIHtcclxuICAgICAgdGhpcy5ydW5uZXJBZGRpdGlvbmFsLnNob3dSdW5uZXIoKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMucnVubmVyQWRkaXRpb25hbC5oaWRlUnVubmVyKCk7XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5ydW5uZXJBZGRpdGlvbmFsLnNldFBvc2l0aW9uKFxyXG4gICAgICAtdGhpcy5ydW5uZXJBZGRpdGlvbmFsLmdldFdpZHRoKCkgLyAyLFxyXG4gICAgICB0aGlzLnBhcmFtZXRlcnMubWluVmFsdWVcclxuICAgICk7XHJcbiAgICB0aGlzLnJ1bm5lck1haW4uc2V0UG9zaXRpb24oXHJcbiAgICAgIHRoaXMuYmFyLmdldERpbWVuc2lvbigpIC0gdGhpcy5ydW5uZXJNYWluLmdldFdpZHRoKCkgLyAyLFxyXG4gICAgICB0aGlzLnBhcmFtZXRlcnMubWF4VmFsdWVcclxuICAgICk7XHJcbiAgfVxyXG5cclxuICByZW5ld1J1bm5lcnMoY3VycmVudFZhbHVlczogdHlwZXMuQ3VycmVudFZhbHVlcyk6IHZvaWQge1xyXG4gICAgdGhpcy5tb3ZlUnVubmVyKFxyXG4gICAgICB0aGlzLnByb2Nlc3NSdW5uZXJPZmZzZXQoXHJcbiAgICAgICAgdGhpcy5jb252ZXJ0T2Zmc2V0VG9WYWx1ZShjdXJyZW50VmFsdWVzLmN1cnJlbnRNYXhWYWx1ZSksXHJcbiAgICAgICAgdGhpcy5ydW5uZXJNYWluXHJcbiAgICAgIClcclxuICAgICk7XHJcbiAgICB0aGlzLm1vdmVSdW5uZXIoXHJcbiAgICAgIHRoaXMucHJvY2Vzc1J1bm5lck9mZnNldChcclxuICAgICAgICB0aGlzLmNvbnZlcnRPZmZzZXRUb1ZhbHVlKGN1cnJlbnRWYWx1ZXMuY3VycmVudE1pblZhbHVlKSxcclxuICAgICAgICB0aGlzLnJ1bm5lckFkZGl0aW9uYWxcclxuICAgICAgKVxyXG4gICAgKTtcclxuICB9XHJcblxyXG4gIGFwcGVuZFRvTm9kZSA9IChlbnRyeTogSFRNTEVsZW1lbnQpOiB2b2lkID0+IHtcclxuICAgIGVudHJ5LmFwcGVuZENoaWxkKHRoaXMuYmFyLmVsZW0pLmFwcGVuZENoaWxkKHRoaXMucHJvZ3Jlc3NCYXIuZWxlbSk7XHJcbiAgICB0aGlzLmJhci5lbGVtLm9uY2xpY2sgPSB0aGlzLmhhbmRsZUJhckNsaWNrO1xyXG4gICAgdGhpcy5ydW5uZXJNYWluLmFwcGVuZFRvTm9kZShlbnRyeSk7XHJcbiAgICB0aGlzLnJ1bm5lckFkZGl0aW9uYWwuYXBwZW5kVG9Ob2RlKGVudHJ5KTtcclxuXHJcbiAgICB0aGlzLnNjYWxlLm1hcmtzLmZvckVhY2goKG1hcmspID0+IHtcclxuICAgICAgZW50cnkuYXBwZW5kQ2hpbGQobWFyay5lbGVtKTtcclxuICAgIH0pO1xyXG5cclxuICAgIHRoaXMuc2NhbGUubW92ZU1hcmtzKCk7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGNvbnZlcnRPZmZzZXRUb1ZhbHVlID0gKHZhbHVlOiBudW1iZXIpOiBudW1iZXIgPT4ge1xyXG4gICAgcmV0dXJuICgoKHZhbHVlIC0gdGhpcy5wYXJhbWV0ZXJzLm1pblZhbHVlKSAqIHRoaXMuYmFyLmdldERpbWVuc2lvbigpKVxyXG4gICAgICAvICh0aGlzLnBhcmFtZXRlcnMubWF4VmFsdWUgLSB0aGlzLnBhcmFtZXRlcnMubWluVmFsdWUpXHJcbiAgICAgIC0gdGhpcy5ydW5uZXJNYWluLmdldFdpZHRoKCkgLyAyKTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgZ2V0TWFpblJ1bm5lck9mZnNldCA9ICgpOiBudW1iZXIgPT4ge1xyXG4gICAgY29uc3Qgb2Zmc2V0ID0gdGhpcy5ydW5uZXJNYWluLmdldFBvc2l0aW9uKCkgLSB0aGlzLmJhci5nZXRQb3NpdGlvbigpXHJcbiAgICAgICsgdGhpcy5ydW5uZXJNYWluLmdldFdpZHRoKCkgLyAyO1xyXG4gICAgcmV0dXJuIG9mZnNldCA8IDAgPyAwIDogb2Zmc2V0O1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBnZXRBZGRpdGlvbmFsUnVubmVyT2Zmc2V0ID0gKCk6IG51bWJlciA9PiB7XHJcbiAgICBpZiAodGhpcy5wYXJhbWV0ZXJzLmlzUmFuZ2UpIHtcclxuICAgICAgcmV0dXJuIHRoaXMucnVubmVyQWRkaXRpb25hbC5nZXRQb3NpdGlvbigpIC0gdGhpcy5iYXIuZ2V0UG9zaXRpb24oKVxyXG4gICAgICAgICsgdGhpcy5ydW5uZXJNYWluLmdldFdpZHRoKCkgLyAyO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiAwO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBoYW5kbGVSdW5uZXJNb3ZlID0gKHsgZXZlbnQsIHJ1bm5lciB9OiB0eXBlcy5SdW5uZXJPYnNlcnZlckRhdGEpOiB2b2lkID0+IHtcclxuICAgIHRoaXMubW92ZVJ1bm5lcih0aGlzLnByb2Nlc3NSdW5uZXJNb3VzZUV2ZW50KGV2ZW50LCBydW5uZXIpKTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgbW92ZVJ1bm5lciA9IChvYmo6IHR5cGVzLlJ1bm5lck1vdmVEYXRhKTogdm9pZCA9PiB7XHJcbiAgICBvYmoucnVubmVyLnNldFBvc2l0aW9uKG9iai5vZmZzZXQsIG9iai52YWx1ZSk7XHJcblxyXG4gICAgaWYgKG9iai5ydW5uZXIgPT09IHRoaXMucnVubmVyQWRkaXRpb25hbCkge1xyXG4gICAgICB0aGlzLm9ic2VydmVycy5ub3RpZnlPYnNlcnZlcnNEYXRhKHsgdHlwZU9mVmFsdWU6ICdtaW5WYWx1ZScsIHZhbHVlOiBvYmoudmFsdWUgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKG9iai5ydW5uZXIgPT09IHRoaXMucnVubmVyTWFpbikge1xyXG4gICAgICB0aGlzLm9ic2VydmVycy5ub3RpZnlPYnNlcnZlcnNEYXRhKHsgdHlwZU9mVmFsdWU6ICdtYXhWYWx1ZScsIHZhbHVlOiBvYmoudmFsdWUgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy51cGRhdGVQcm9ncmVzc0JhcigpO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBwcm9jZXNzUnVubmVyTW91c2VFdmVudCA9IChldmVudE1tOiBNb3VzZUV2ZW50LCBydW5uZXI6IFJ1bm5lcik6IHR5cGVzLlJ1bm5lck1vdmVEYXRhID0+IHtcclxuICAgIGNvbnN0IGNvb3JkaW5hdGUgPSB0aGlzLnBhcmFtZXRlcnMuaXNWZXJ0aWNhbCA/IGV2ZW50TW0uY2xpZW50WSA6IGV2ZW50TW0uY2xpZW50WDtcclxuICAgIGNvbnN0IG9mZnNldCA9IGNvb3JkaW5hdGUgLSB0aGlzLmJhci5nZXRQb3NpdGlvbigpIC0gdGhpcy5ydW5uZXJBZGRpdGlvbmFsLmdldFdpZHRoKCkgLyAyO1xyXG5cclxuICAgIHJldHVybiB0aGlzLnByb2Nlc3NSdW5uZXJPZmZzZXQob2Zmc2V0LCBydW5uZXIpO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBwcm9jZXNzUnVubmVyT2Zmc2V0ID0gKG9mZnNldDogbnVtYmVyLCBydW5uZXI6IFJ1bm5lcik6IHR5cGVzLlJ1bm5lck1vdmVEYXRhID0+IHtcclxuICAgIGxldCByb3VuZFZhbHVlO1xyXG4gICAgbGV0IHJvdW5kT2Zmc2V0O1xyXG4gICAgcm91bmRPZmZzZXQgPSB0aGlzLmNoZWNrUnVubmVyT2Zmc2V0KG9mZnNldCwgcnVubmVyKTtcclxuICAgIFtyb3VuZE9mZnNldCwgcm91bmRWYWx1ZV0gPSB0aGlzLnJvdW5kT2Zmc2V0UnVubmVyKHJvdW5kT2Zmc2V0KTtcclxuXHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBydW5uZXI6IHJ1bm5lcixcclxuICAgICAgb2Zmc2V0OiByb3VuZE9mZnNldCxcclxuICAgICAgdmFsdWU6IHJvdW5kVmFsdWVcclxuICAgIH07XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGNoZWNrUnVubmVyT2Zmc2V0ID0gKG9mZnNldDogbnVtYmVyLCBydW5uZXI6IFJ1bm5lcik6IG51bWJlciA9PiB7XHJcbiAgICBjb25zdCBzdGVwV2lkdGggPSAodGhpcy5wYXJhbWV0ZXJzLnN0ZXAgKiB0aGlzLmJhci5nZXREaW1lbnNpb24oKSlcclxuICAgICAgLyAodGhpcy5wYXJhbWV0ZXJzLm1heFZhbHVlIC0gdGhpcy5wYXJhbWV0ZXJzLm1pblZhbHVlKTtcclxuICAgIGNvbnN0IG1pbk9mZnNldCA9IHN0ZXBXaWR0aCAvIDEuNSA+IHRoaXMucnVubmVyTWFpbi5nZXRXaWR0aCgpXHJcbiAgICAgID8gc3RlcFdpZHRoIC8gMS41XHJcbiAgICAgIDogdGhpcy5ydW5uZXJNYWluLmdldFdpZHRoKCk7XHJcbiAgICBsZXQgbmV3T2Zmc2V0ID0gb2Zmc2V0O1xyXG5cclxuICAgIGlmIChydW5uZXIgPT09IHRoaXMucnVubmVyQWRkaXRpb25hbCkge1xyXG4gICAgICBpZiAob2Zmc2V0ID4gdGhpcy5ydW5uZXJNYWluLmdldFBvc2l0aW9uKCkgLSB0aGlzLmJhci5nZXRQb3NpdGlvbigpIC0gbWluT2Zmc2V0KSB7XHJcbiAgICAgICAgbmV3T2Zmc2V0ID0gdGhpcy5ydW5uZXJNYWluLmdldFBvc2l0aW9uKCkgLSB0aGlzLmJhci5nZXRQb3NpdGlvbigpIC0gbWluT2Zmc2V0O1xyXG4gICAgICB9XHJcbiAgICB9IGVsc2UgaWYgKHJ1bm5lciA9PT0gdGhpcy5ydW5uZXJNYWluKSB7XHJcbiAgICAgIGlmIChvZmZzZXQgPCB0aGlzLnJ1bm5lckFkZGl0aW9uYWwuZ2V0UG9zaXRpb24oKSAtIHRoaXMuYmFyLmdldFBvc2l0aW9uKCkgKyBtaW5PZmZzZXQpIHtcclxuICAgICAgICBuZXdPZmZzZXQgPSB0aGlzLnJ1bm5lckFkZGl0aW9uYWwuZ2V0UG9zaXRpb24oKSAtIHRoaXMuYmFyLmdldFBvc2l0aW9uKCkgKyBtaW5PZmZzZXQ7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gbmV3T2Zmc2V0O1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSByb3VuZE9mZnNldFJ1bm5lciA9IChjdXJyZW50T2Zmc2V0OiBudW1iZXIpOiBbbnVtYmVyLCBudW1iZXJdID0+IHtcclxuICAgIGNvbnN0IGN1cnJlbnRWYWx1ZSA9IHRoaXMucGFyYW1ldGVycy5taW5WYWx1ZVxyXG4gICAgICArICgoY3VycmVudE9mZnNldCArIHRoaXMucnVubmVyTWFpbi5nZXRXaWR0aCgpIC8gMilcclxuICAgICAgKiAodGhpcy5wYXJhbWV0ZXJzLm1heFZhbHVlIC0gdGhpcy5wYXJhbWV0ZXJzLm1pblZhbHVlKSlcclxuICAgICAgLyB0aGlzLmJhci5nZXREaW1lbnNpb24oKTtcclxuICAgIGxldCByb3VuZFZhbHVlID0gdGhpcy5yb3VuZChjdXJyZW50VmFsdWUsIHRoaXMucGFyYW1ldGVycy5zdGVwKTtcclxuXHJcbiAgICBpZiAodGhpcy5wYXJhbWV0ZXJzLmlzRmxvYXQpIHtcclxuICAgICAgcm91bmRWYWx1ZSA9IHBhcnNlRmxvYXQocm91bmRWYWx1ZS50b0ZpeGVkKDIpKTtcclxuICAgIH1cclxuXHJcbiAgICBsZXQgcm91bmRPZmZzZXQgPSB0aGlzLmNvbnZlcnRPZmZzZXRUb1ZhbHVlKHJvdW5kVmFsdWUpO1xyXG5cclxuICAgIGlmIChyb3VuZE9mZnNldCA8IC10aGlzLnJ1bm5lck1haW4uZ2V0V2lkdGgoKSAvIDIpIHtcclxuICAgICAgcm91bmRPZmZzZXQgPSAtdGhpcy5ydW5uZXJNYWluLmdldFdpZHRoKCkgLyAyO1xyXG4gICAgICByb3VuZFZhbHVlID0gdGhpcy5wYXJhbWV0ZXJzLm1pblZhbHVlO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChyb3VuZE9mZnNldCA+IHRoaXMuYmFyLmdldERpbWVuc2lvbigpIC0gdGhpcy5ydW5uZXJNYWluLmdldFdpZHRoKCkgLyAyKSB7XHJcbiAgICAgIHJvdW5kT2Zmc2V0ID0gdGhpcy5iYXIuZ2V0RGltZW5zaW9uKCkgLSB0aGlzLnJ1bm5lck1haW4uZ2V0V2lkdGgoKSAvIDI7XHJcbiAgICAgIHJvdW5kVmFsdWUgPSB0aGlzLnBhcmFtZXRlcnMubWF4VmFsdWU7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIFtyb3VuZE9mZnNldCwgcm91bmRWYWx1ZV07XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIHJvdW5kID0gKHZhbHVlOiBudW1iZXIsIHN0ZXA6IG51bWJlcik6IG51bWJlciA9PiB7XHJcbiAgICBjb25zdCB3aG9sZSA9IE1hdGgudHJ1bmModmFsdWUgLyBzdGVwKTtcclxuICAgIGNvbnN0IHJlbWluZGVyID0gKyh2YWx1ZSAtIHdob2xlICogc3RlcCkudG9GaXhlZCgyKTtcclxuXHJcbiAgICBpZiAodmFsdWUgPCAwKSB7XHJcbiAgICAgIHJldHVybiBNYXRoLmFicyhyZW1pbmRlcikgPCBzdGVwIC8gMiA/IHdob2xlICogc3RlcCA6ICh3aG9sZSAtIDEpICogc3RlcDtcclxuICAgIH1cclxuXHJcbiAgICBpZiAodmFsdWUgPD0gdGhpcy5wYXJhbWV0ZXJzLm1pblZhbHVlKSB7XHJcbiAgICAgIHJldHVybiB0aGlzLnBhcmFtZXRlcnMubWluVmFsdWU7XHJcbiAgICB9IGlmICh2YWx1ZSA+PSB0aGlzLnBhcmFtZXRlcnMubWF4VmFsdWUpIHtcclxuICAgICAgcmV0dXJuIHRoaXMucGFyYW1ldGVycy5tYXhWYWx1ZTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gcmVtaW5kZXIgPCBzdGVwIC8gMiA/IHdob2xlICogc3RlcCA6ICh3aG9sZSArIDEpICogc3RlcDtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgaGFuZGxlU2NhbGVDbGljayA9ICh2YWx1ZTogbnVtYmVyKSA9PiB7XHJcbiAgICBjb25zdCBvZmZzZXQgPSB0aGlzLmNvbnZlcnRPZmZzZXRUb1ZhbHVlKHZhbHVlKTtcclxuICAgIGxldCBydW5uZXI7XHJcblxyXG4gICAgaWYgKHRoaXMucGFyYW1ldGVycy5pc1JhbmdlKSB7XHJcbiAgICAgIHJ1bm5lciA9IHRoaXMuY2hlY2tSdW5uZXJDbG9zZXIob2Zmc2V0KTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHJ1bm5lciA9IHRoaXMucnVubmVyTWFpbjtcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLm1vdmVSdW5uZXIodGhpcy5wcm9jZXNzUnVubmVyT2Zmc2V0KG9mZnNldCwgcnVubmVyKSk7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGNoZWNrUnVubmVyQ2xvc2VyID0gKG9mZnNldDogbnVtYmVyKTogUnVubmVyID0+IHtcclxuICAgIGlmIChNYXRoLmFicyhvZmZzZXQgLSB0aGlzLmdldE1haW5SdW5uZXJPZmZzZXQoKSkgPCBNYXRoLmFicyhvZmZzZXQgLSB0aGlzLmdldEFkZGl0aW9uYWxSdW5uZXJPZmZzZXQoKSkpIHtcclxuICAgICAgcmV0dXJuIHRoaXMucnVubmVyTWFpbjtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gdGhpcy5ydW5uZXJBZGRpdGlvbmFsO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBoYW5kbGVCYXJDbGljayA9IChldmVudDogTW91c2VFdmVudCk6IHZvaWQgPT4ge1xyXG4gICAgY29uc3QgY29vcmRpbmF0ZSA9IHRoaXMucGFyYW1ldGVycy5pc1ZlcnRpY2FsID8gZXZlbnQuY2xpZW50WSA6IGV2ZW50LmNsaWVudFg7XHJcbiAgICBjb25zdCBvZmZzZXQgPSBjb29yZGluYXRlIC0gdGhpcy5iYXIuZ2V0UG9zaXRpb24oKSAtIHRoaXMucnVubmVyTWFpbi5nZXRXaWR0aCgpIC8gMjtcclxuXHJcbiAgICB0aGlzLm1vdmVSdW5uZXIodGhpcy5wcm9jZXNzUnVubmVyT2Zmc2V0KG9mZnNldCwgdGhpcy5jaGVja1J1bm5lckNsb3NlcihvZmZzZXQpKSk7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIHVwZGF0ZVByb2dyZXNzQmFyID0gKCk6IHZvaWQgPT4ge1xyXG4gICAgdGhpcy5wcm9ncmVzc0Jhci5pbml0KHRoaXMucGFyYW1ldGVycy5pc1ZlcnRpY2FsKTtcclxuICAgIHRoaXMucHJvZ3Jlc3NCYXIuc2V0UG9zaXRpb24odGhpcy5nZXRBZGRpdGlvbmFsUnVubmVyT2Zmc2V0KCkpO1xyXG4gICAgdGhpcy5wcm9ncmVzc0Jhci5zZXREaW1lbnNpb24odGhpcy5nZXRNYWluUnVubmVyT2Zmc2V0KCkgLSB0aGlzLmdldEFkZGl0aW9uYWxSdW5uZXJPZmZzZXQoKSk7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBUcmFjaztcclxuIiwiaW1wb3J0IGNyZWF0ZUVsZW0gZnJvbSAnLi4vY3JlYXRlRWxlbS9jcmVhdGVFbGVtJztcclxuXHJcbmNsYXNzIEJhciB7XHJcbiAgZWxlbTogSFRNTEVsZW1lbnQ7XHJcblxyXG4gIGlzVmVydGljYWw6IGJvb2xlYW47XHJcblxyXG4gIGNvbnN0cnVjdG9yKGlzVmVydGljYWw6IGJvb2xlYW4pIHtcclxuICAgIHRoaXMuZWxlbSA9IGNyZWF0ZUVsZW0oJ3NsaWRlcl9fYmFyJyk7XHJcbiAgICB0aGlzLmlzVmVydGljYWwgPSBpc1ZlcnRpY2FsO1xyXG4gIH1cclxuXHJcbiAgZ2V0UG9zaXRpb24gPSAoKTogbnVtYmVyID0+IHtcclxuICAgIGlmICh0aGlzLmlzVmVydGljYWwpIHtcclxuICAgICAgcmV0dXJuIHRoaXMuZWxlbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS50b3A7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHRoaXMuZWxlbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5sZWZ0O1xyXG4gIH1cclxuXHJcbiAgZ2V0RGltZW5zaW9uID0gKCk6IG51bWJlciA9PiB7XHJcbiAgICBpZiAodGhpcy5pc1ZlcnRpY2FsKSB7XHJcbiAgICAgIHJldHVybiB0aGlzLmVsZW0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkuaGVpZ2h0O1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB0aGlzLmVsZW0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkud2lkdGg7XHJcbiAgfVxyXG5cclxuICBpbml0ID0gKGlzVmVydGljYWw6IGJvb2xlYW4pOiB2b2lkID0+IHtcclxuICAgIHRoaXMuaXNWZXJ0aWNhbCA9IGlzVmVydGljYWw7XHJcblxyXG4gICAgaWYgKHRoaXMuaXNWZXJ0aWNhbCkge1xyXG4gICAgICB0aGlzLmVsZW0uY2xhc3NMaXN0LmFkZCgnc2xpZGVyX19iYXJfcG9zaXRpb25fdmVydGljYWwnKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuZWxlbS5jbGFzc0xpc3QucmVtb3ZlKCdzbGlkZXJfX2Jhcl9wb3NpdGlvbl92ZXJ0aWNhbCcpO1xyXG4gICAgfVxyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgQmFyO1xyXG4iLCJpbXBvcnQgY3JlYXRlRWxlbSBmcm9tICcuLi9jcmVhdGVFbGVtL2NyZWF0ZUVsZW0nO1xyXG5cclxuY2xhc3MgS25vYiB7XHJcbiAgZWxlbTogSFRNTEVsZW1lbnQ7XHJcblxyXG4gIGlzVmVydGljYWw6IGJvb2xlYW47XHJcblxyXG4gIGNvbnN0cnVjdG9yKGlzVmVydGljYWw6IGJvb2xlYW4pIHtcclxuICAgIHRoaXMuZWxlbSA9IGNyZWF0ZUVsZW0oJ3NsaWRlcl9fYnV0dG9uJyk7XHJcbiAgICB0aGlzLmlzVmVydGljYWwgPSBpc1ZlcnRpY2FsO1xyXG4gIH1cclxuXHJcbiAgZ2V0V2lkdGggPSAoKTogbnVtYmVyID0+IHtcclxuICAgIHJldHVybiB0aGlzLmVsZW0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkud2lkdGg7XHJcbiAgfVxyXG5cclxuICBnZXRQb3NpdGlvbiA9ICgpOiBudW1iZXIgPT4ge1xyXG4gICAgaWYgKHRoaXMuaXNWZXJ0aWNhbCkge1xyXG4gICAgICByZXR1cm4gdGhpcy5lbGVtLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnRvcDtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gdGhpcy5lbGVtLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmxlZnQ7XHJcbiAgfVxyXG5cclxuICBzZXRQb3NpdGlvbiA9IChvZmZzZXQ6IG51bWJlcik6IHZvaWQgPT4ge1xyXG4gICAgaWYgKHRoaXMuaXNWZXJ0aWNhbCkge1xyXG4gICAgICB0aGlzLmVsZW0uc3R5bGUubGVmdCA9ICc1MCUnO1xyXG4gICAgICB0aGlzLmVsZW0uc3R5bGUudG9wID0gb2Zmc2V0ICsgJ3B4JztcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuZWxlbS5zdHlsZS50b3AgPSAnNTAlJztcclxuICAgICAgdGhpcy5lbGVtLnN0eWxlLmxlZnQgPSBvZmZzZXQgKyAncHgnO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgaW5pdCA9IChpc1ZlcnRpY2FsOiBib29sZWFuKTogdm9pZCA9PiB7XHJcbiAgICB0aGlzLmlzVmVydGljYWwgPSBpc1ZlcnRpY2FsO1xyXG5cclxuICAgIGlmICh0aGlzLmlzVmVydGljYWwpIHtcclxuICAgICAgdGhpcy5lbGVtLmNsYXNzTGlzdC5hZGQoJ3NsaWRlcl9fYnV0dG9uX3Bvc2l0aW9uX3ZlcnRpY2FsJyk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLmVsZW0uY2xhc3NMaXN0LnJlbW92ZSgnc2xpZGVyX19idXR0b25fcG9zaXRpb25fdmVydGljYWwnKTtcclxuICAgIH1cclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IEtub2I7XHJcbiIsImltcG9ydCBjcmVhdGVFbGVtIGZyb20gJy4uL2NyZWF0ZUVsZW0vY3JlYXRlRWxlbSc7XHJcblxyXG5jbGFzcyBUb29sdGlwIHtcclxuICBlbGVtOiBIVE1MRWxlbWVudDtcclxuXHJcbiAgaXNWZXJ0aWNhbDogYm9vbGVhbjtcclxuXHJcbiAgY29uc3RydWN0b3IoaXNWZXJ0aWNhbDogYm9vbGVhbikge1xyXG4gICAgdGhpcy5lbGVtID0gY3JlYXRlRWxlbSgnc2xpZGVyX19idXR0b24tbGFiZWwnKTtcclxuICAgIHRoaXMuaXNWZXJ0aWNhbCA9IGlzVmVydGljYWw7XHJcbiAgfVxyXG5cclxuICBnZXRQb3NpdGlvbiA9ICgpOiBudW1iZXIgPT4ge1xyXG4gICAgaWYgKHRoaXMuaXNWZXJ0aWNhbCkge1xyXG4gICAgICByZXR1cm4gdGhpcy5lbGVtLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnRvcDtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gdGhpcy5lbGVtLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmxlZnQ7XHJcbiAgfVxyXG5cclxuICBzZXRQb3NpdGlvbiA9IChvZmZzZXQ6IG51bWJlciwgdmFsdWU6IG51bWJlcik6IHZvaWQgPT4ge1xyXG4gICAgdGhpcy5lbGVtLmlubmVySFRNTCA9IHZhbHVlICsgJyc7XHJcblxyXG4gICAgaWYgKHRoaXMuaXNWZXJ0aWNhbCkge1xyXG4gICAgICB0aGlzLmVsZW0uc3R5bGUubGVmdCA9ICc1MCUnO1xyXG4gICAgICB0aGlzLmVsZW0uc3R5bGUudG9wID0gb2Zmc2V0IC0gdGhpcy5nZXREaW1lbnNpb24oKSAvIDIgKyAncHgnO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5lbGVtLnN0eWxlLnRvcCA9ICc1MCUnO1xyXG4gICAgICB0aGlzLmVsZW0uc3R5bGUubGVmdCA9IG9mZnNldCAtIHRoaXMuZ2V0RGltZW5zaW9uKCkgLyAyICsgJ3B4JztcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGdldERpbWVuc2lvbiA9ICgpOiBudW1iZXIgPT4ge1xyXG4gICAgaWYgKHRoaXMuaXNWZXJ0aWNhbCkge1xyXG4gICAgICByZXR1cm4gdGhpcy5lbGVtLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmhlaWdodDtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gdGhpcy5lbGVtLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLndpZHRoO1xyXG4gIH1cclxuXHJcbiAgaW5pdCA9IChpc1ZlcnRpY2FsOiBib29sZWFuKTogdm9pZCA9PiB7XHJcbiAgICB0aGlzLmlzVmVydGljYWwgPSBpc1ZlcnRpY2FsO1xyXG5cclxuICAgIGlmICh0aGlzLmlzVmVydGljYWwpIHtcclxuICAgICAgdGhpcy5lbGVtLmNsYXNzTGlzdC5hZGQoJ3NsaWRlcl9fYnV0dG9uLWxhYmVsX3Bvc2l0aW9uX3ZlcnRpY2FsJyk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLmVsZW0uY2xhc3NMaXN0LnJlbW92ZSgnc2xpZGVyX19idXR0b24tbGFiZWxfcG9zaXRpb25fdmVydGljYWwnKTtcclxuICAgIH1cclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IFRvb2x0aXA7XHJcbiIsImltcG9ydCAqIGFzIHR5cGVzIGZyb20gJy4uLy4uLy4uL3R5cGVzJztcclxuaW1wb3J0IE1hcmsgZnJvbSAnLi9NYXJrL01hcmsnO1xyXG5pbXBvcnQgTWFrZU9ic2VydmFibGVPYmplY3QgZnJvbSAnLi4vLi4vLi4vbWFrZU9ic2VydmFibGVPYmplY3QvTWFrZU9ic2VydmFibGVPYmplY3QnO1xyXG5cclxuY2xhc3MgU2NhbGUge1xyXG4gIHBhcmFtZXRlcnM6IHR5cGVzLlBhcmFtZXRlcnM7XHJcblxyXG4gIG1hcmtzOiBBcnJheTxNYXJrPjtcclxuXHJcbiAgb2JzZXJ2ZXJzOiBNYWtlT2JzZXJ2YWJsZU9iamVjdDtcclxuXHJcbiAgY29uc3RydWN0b3IocGFyYW1ldGVyczogdHlwZXMuUGFyYW1ldGVycywgb2JzZXJ2ZXI6IEZ1bmN0aW9uKSB7XHJcbiAgICB0aGlzLm1hcmtzID0gW107XHJcbiAgICB0aGlzLnBhcmFtZXRlcnMgPSBwYXJhbWV0ZXJzO1xyXG4gICAgdGhpcy5jcmVhdGVNYXJrcygpO1xyXG4gICAgdGhpcy5pbml0KHBhcmFtZXRlcnMpO1xyXG4gICAgdGhpcy5vYnNlcnZlcnMgPSBuZXcgTWFrZU9ic2VydmFibGVPYmplY3QoKTtcclxuICAgIHRoaXMub2JzZXJ2ZXJzLmFkZE9ic2VydmVyKG9ic2VydmVyKTtcclxuICB9XHJcblxyXG4gIGluaXQgPSAob3B0aW9uczogdHlwZXMuUGFyYW1ldGVycyk6IHZvaWQgPT4ge1xyXG4gICAgdGhpcy5wYXJhbWV0ZXJzID0gb3B0aW9ucztcclxuICAgIHRoaXMubW92ZU1hcmtzKCk7XHJcbiAgfVxyXG5cclxuICBtb3ZlTWFya3MgPSAoKTogdm9pZCA9PiB7XHJcbiAgICB0aGlzLm1hcmtzLmZvckVhY2goKG1hcmssIGluZGV4KSA9PiB7XHJcbiAgICAgIG1hcmsuaW5pdCh0aGlzLnBhcmFtZXRlcnMuaXNWZXJ0aWNhbCk7XHJcbiAgICAgIGlmIChpbmRleCA9PT0gMCkge1xyXG4gICAgICAgIG1hcmsuc2V0UG9zaXRpb24oMCwgdGhpcy5wYXJhbWV0ZXJzLm1pblZhbHVlKTtcclxuICAgICAgfSBlbHNlIGlmIChpbmRleCA9PT0gdGhpcy5tYXJrcy5sZW5ndGggLSAxKSB7XHJcbiAgICAgICAgbWFyay5zZXRQb3NpdGlvbigxMDAsIHRoaXMucGFyYW1ldGVycy5tYXhWYWx1ZSk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgbGV0IHJvdW5kVmFsdWUgPSB0aGlzLnJvdW5kKHRoaXMucGFyYW1ldGVycy5taW5WYWx1ZVxyXG4gICAgICAgICAgKyAoKHRoaXMucGFyYW1ldGVycy5tYXhWYWx1ZSAtIHRoaXMucGFyYW1ldGVycy5taW5WYWx1ZSkgKiBpbmRleClcclxuICAgICAgICAgIC8gKHRoaXMubWFya3MubGVuZ3RoIC0gMSkpO1xyXG5cclxuICAgICAgICBpZiAodGhpcy5wYXJhbWV0ZXJzLmlzRmxvYXQpIHtcclxuICAgICAgICAgIHJvdW5kVmFsdWUgPSBwYXJzZUZsb2F0KHJvdW5kVmFsdWUudG9GaXhlZCgyKSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb25zdCBvZmZzZXQgPSAocm91bmRWYWx1ZSAtIHRoaXMucGFyYW1ldGVycy5taW5WYWx1ZSlcclxuICAgICAgICAgIC8gKHRoaXMucGFyYW1ldGVycy5tYXhWYWx1ZSAtIHRoaXMucGFyYW1ldGVycy5taW5WYWx1ZSk7XHJcbiAgICAgICAgbWFyay5zZXRQb3NpdGlvbihvZmZzZXQgKiAxMDAsIHJvdW5kVmFsdWUpO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgaGFuZGxlU2NhbGVDbGljayA9ICh2YWx1ZTogbnVtYmVyKTogdm9pZCA9PiB7XHJcbiAgICB0aGlzLm9ic2VydmVycy5ub3RpZnlPYnNlcnZlcnNEYXRhKHZhbHVlKTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgY3JlYXRlTWFya3MgPSAoKTogdm9pZCA9PiB7XHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IDU7IGkgKz0gMSkge1xyXG4gICAgICBjb25zdCBtYXJrID0gbmV3IE1hcmsodGhpcy5wYXJhbWV0ZXJzLmlzVmVydGljYWwsIHRoaXMuaGFuZGxlU2NhbGVDbGljayk7XHJcbiAgICAgIHRoaXMubWFya3MucHVzaChtYXJrKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHByaXZhdGUgcm91bmQgPSAodmFsdWU6IG51bWJlcik6IG51bWJlciA9PiB7XHJcbiAgICBjb25zdCB3aG9sZSA9IE1hdGgudHJ1bmModmFsdWUgLyB0aGlzLnBhcmFtZXRlcnMuc3RlcCk7XHJcblxyXG4gICAgY29uc3QgcmVtaW5kZXIgPSArKHZhbHVlIC0gd2hvbGUgKiB0aGlzLnBhcmFtZXRlcnMuc3RlcCkudG9GaXhlZCgyKTtcclxuICAgIGlmICh2YWx1ZSA8IDApIHtcclxuICAgICAgcmV0dXJuIE1hdGguYWJzKHJlbWluZGVyKSA8IHRoaXMucGFyYW1ldGVycy5zdGVwIC8gMlxyXG4gICAgICAgID8gd2hvbGUgKiB0aGlzLnBhcmFtZXRlcnMuc3RlcFxyXG4gICAgICAgIDogKHdob2xlIC0gMSkgKiB0aGlzLnBhcmFtZXRlcnMuc3RlcDtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gcmVtaW5kZXIgPCB0aGlzLnBhcmFtZXRlcnMuc3RlcCAvIDJcclxuICAgICAgPyB3aG9sZSAqIHRoaXMucGFyYW1ldGVycy5zdGVwXHJcbiAgICAgIDogKHdob2xlICsgMSkgKiB0aGlzLnBhcmFtZXRlcnMuc3RlcDtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IFNjYWxlO1xyXG4iLCJpbXBvcnQgY3JlYXRlRWxlbSBmcm9tICcuLi8uLi9jcmVhdGVFbGVtL2NyZWF0ZUVsZW0nO1xyXG5pbXBvcnQgTWFrZU9ic2VydmFibGVPYmplY3QgZnJvbSAnLi4vLi4vLi4vLi4vbWFrZU9ic2VydmFibGVPYmplY3QvTWFrZU9ic2VydmFibGVPYmplY3QnO1xyXG5cclxuY2xhc3MgTWFyayB7XHJcbiAgZWxlbTogSFRNTEVsZW1lbnQ7XHJcblxyXG4gIGlzVmVydGljYWw6IGJvb2xlYW47XHJcblxyXG4gIHZhbHVlOiBudW1iZXI7XHJcblxyXG4gIG9ic2VydmVyczogTWFrZU9ic2VydmFibGVPYmplY3Q7XHJcblxyXG4gIGNvbnN0cnVjdG9yKGlzVmVydGljYWw6IGJvb2xlYW4sIG9ic2VydmVyOiBGdW5jdGlvbikge1xyXG4gICAgdGhpcy5lbGVtID0gY3JlYXRlRWxlbSgnc2xpZGVyX19tYXJrJyk7XHJcbiAgICB0aGlzLmlzVmVydGljYWwgPSBpc1ZlcnRpY2FsO1xyXG4gICAgdGhpcy5vYnNlcnZlcnMgPSBuZXcgTWFrZU9ic2VydmFibGVPYmplY3QoKTtcclxuICAgIHRoaXMub2JzZXJ2ZXJzLmFkZE9ic2VydmVyKG9ic2VydmVyKTtcclxuICAgIHRoaXMuZWxlbS5vbmNsaWNrID0gdGhpcy5oYW5kbGVNYXJrQ2xpY2s7XHJcbiAgfVxyXG5cclxuICBnZXRQb3NpdGlvbiA9ICgpOiBudW1iZXIgPT4ge1xyXG4gICAgaWYgKHRoaXMuaXNWZXJ0aWNhbCkge1xyXG4gICAgICByZXR1cm4gdGhpcy5lbGVtLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnRvcDtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gdGhpcy5lbGVtLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmxlZnQ7XHJcbiAgfVxyXG5cclxuICBzZXRQb3NpdGlvbiA9IChvZmZzZXQ6IG51bWJlciwgdmFsdWU6IG51bWJlcik6IHZvaWQgPT4ge1xyXG4gICAgdGhpcy5lbGVtLmlubmVySFRNTCA9IHZhbHVlICsgJyc7XHJcbiAgICB0aGlzLnZhbHVlID0gdmFsdWU7XHJcblxyXG4gICAgaWYgKHRoaXMuaXNWZXJ0aWNhbCkge1xyXG4gICAgICB0aGlzLmVsZW0uc3R5bGUubGVmdCA9ICc1MCUnO1xyXG4gICAgICB0aGlzLmVsZW0uc3R5bGUudG9wID0gb2Zmc2V0ICsgJyUnO1xyXG4gICAgICB0aGlzLmVsZW0uc3R5bGUubWFyZ2luVG9wID0gLXRoaXMuZ2V0RGltZW5zaW9uKCkgLyAyICsgJ3B4JztcclxuICAgICAgdGhpcy5lbGVtLnN0eWxlLm1hcmdpbkxlZnQgPSAnLTQ1cHgnO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5lbGVtLnN0eWxlLnRvcCA9ICc1MCUnO1xyXG4gICAgICB0aGlzLmVsZW0uc3R5bGUubGVmdCA9IG9mZnNldCArICclJztcclxuICAgICAgdGhpcy5lbGVtLnN0eWxlLm1hcmdpbkxlZnQgPSAtdGhpcy5nZXREaW1lbnNpb24oKSAvIDIgKyAncHgnO1xyXG4gICAgICB0aGlzLmVsZW0uc3R5bGUubWFyZ2luVG9wID0gJzE1cHgnO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZ2V0RGltZW5zaW9uID0gKCk6IG51bWJlciA9PiB7XHJcbiAgICBpZiAodGhpcy5pc1ZlcnRpY2FsKSB7XHJcbiAgICAgIHJldHVybiB0aGlzLmVsZW0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkuaGVpZ2h0O1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB0aGlzLmVsZW0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkud2lkdGg7XHJcbiAgfVxyXG5cclxuICBpbml0ID0gKGlzVmVydGljYWw6IGJvb2xlYW4pOiB2b2lkID0+IHtcclxuICAgIHRoaXMuaXNWZXJ0aWNhbCA9IGlzVmVydGljYWw7XHJcblxyXG4gICAgaWYgKHRoaXMuaXNWZXJ0aWNhbCkge1xyXG4gICAgICB0aGlzLmVsZW0uY2xhc3NMaXN0LmFkZCgnc2xpZGVyX19tYXJrX3Bvc2l0aW9uX3ZlcnRpY2FsJyk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLmVsZW0uY2xhc3NMaXN0LnJlbW92ZSgnc2xpZGVyX19tYXJrX3Bvc2l0aW9uX3ZlcnRpY2FsJyk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGhhbmRsZU1hcmtDbGljayA9ICgpOiB2b2lkID0+IHtcclxuICAgIHRoaXMub2JzZXJ2ZXJzLm5vdGlmeU9ic2VydmVyc0RhdGEodGhpcy52YWx1ZSk7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBNYXJrO1xyXG4iLCJpbXBvcnQgY3JlYXRlRWxlbSBmcm9tICcuLi9jcmVhdGVFbGVtL2NyZWF0ZUVsZW0nO1xyXG5cclxuY2xhc3MgUHJvZ3Jlc3NCYXIge1xyXG4gIGVsZW06IEhUTUxFbGVtZW50O1xyXG5cclxuICBpc1ZlcnRpY2FsOiBib29sZWFuO1xyXG5cclxuICBjb25zdHJ1Y3Rvcihpc1ZlcnRpY2FsOiBib29sZWFuKSB7XHJcbiAgICB0aGlzLmVsZW0gPSBjcmVhdGVFbGVtKCdzbGlkZXJfX3Byb2dyZXNzLWJhcicpO1xyXG4gICAgdGhpcy5pc1ZlcnRpY2FsID0gaXNWZXJ0aWNhbDtcclxuICB9XHJcblxyXG4gIHNldFBvc2l0aW9uID0gKG9mZnNldDogbnVtYmVyKTogdm9pZCA9PiB7XHJcbiAgICBpZiAodGhpcy5pc1ZlcnRpY2FsKSB7XHJcbiAgICAgIHRoaXMuZWxlbS5zdHlsZS5sZWZ0ID0gJzAnO1xyXG4gICAgICB0aGlzLmVsZW0uc3R5bGUud2lkdGggPSAnMTAwJSc7XHJcbiAgICAgIHRoaXMuZWxlbS5zdHlsZS50b3AgPSBvZmZzZXQgKyAncHgnO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5lbGVtLnN0eWxlLnRvcCA9ICcwJztcclxuICAgICAgdGhpcy5lbGVtLnN0eWxlLmhlaWdodCA9ICcxMDAlJztcclxuICAgICAgdGhpcy5lbGVtLnN0eWxlLmxlZnQgPSBvZmZzZXQgKyAncHgnO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgc2V0RGltZW5zaW9uID0gKGRpbWVuc2lvbjogbnVtYmVyKTogdm9pZCA9PiB7XHJcbiAgICBpZiAodGhpcy5pc1ZlcnRpY2FsKSB7XHJcbiAgICAgIHRoaXMuZWxlbS5zdHlsZS5oZWlnaHQgPSBkaW1lbnNpb24gKyAncHgnO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5lbGVtLnN0eWxlLndpZHRoID0gZGltZW5zaW9uICsgJ3B4JztcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGluaXQgPSAoaXNWZXJ0aWNhbDogYm9vbGVhbik6IHZvaWQgPT4ge1xyXG4gICAgdGhpcy5pc1ZlcnRpY2FsID0gaXNWZXJ0aWNhbDtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IFByb2dyZXNzQmFyO1xyXG4iLCJpbXBvcnQgKiBhcyB0eXBlcyBmcm9tICcuLi90eXBlcyc7XHJcbmltcG9ydCBNYWtlT2JzZXJ2YWJsZU9iamVjdCBmcm9tICcuLi9tYWtlT2JzZXJ2YWJsZU9iamVjdC9NYWtlT2JzZXJ2YWJsZU9iamVjdCc7XHJcblxyXG5jbGFzcyBNb2RlbCB7XHJcbiAgY3VycmVudFZhbHVlczogdHlwZXMuQ3VycmVudFZhbHVlcztcclxuXHJcbiAgb2JzZXJ2ZXJzOiBNYWtlT2JzZXJ2YWJsZU9iamVjdDtcclxuXHJcbiAgY29uc3RydWN0b3IoY3VycmVudFZhbHVlczogdHlwZXMuQ3VycmVudFZhbHVlcykge1xyXG4gICAgdGhpcy5jdXJyZW50VmFsdWVzID0gY3VycmVudFZhbHVlcztcclxuICAgIHRoaXMub2JzZXJ2ZXJzID0gbmV3IE1ha2VPYnNlcnZhYmxlT2JqZWN0KCk7XHJcbiAgfVxyXG5cclxuICBzZXRDdXJyZW50TWluVmFsdWUoZGF0YTogbnVtYmVyKTogdm9pZCB7XHJcbiAgICBpZiAodGhpcy5jdXJyZW50VmFsdWVzLmN1cnJlbnRNaW5WYWx1ZSAhPT0gZGF0YSkge1xyXG4gICAgICB0aGlzLmN1cnJlbnRWYWx1ZXMuY3VycmVudE1pblZhbHVlID0gZGF0YTtcclxuICAgICAgdGhpcy5vYnNlcnZlcnMubm90aWZ5T2JzZXJ2ZXJzKCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBzZXRDdXJyZW50TWF4VmFsdWUoZGF0YTogbnVtYmVyKTogdm9pZCB7XHJcbiAgICBpZiAodGhpcy5jdXJyZW50VmFsdWVzLmN1cnJlbnRNYXhWYWx1ZSAhPT0gZGF0YSkge1xyXG4gICAgICB0aGlzLmN1cnJlbnRWYWx1ZXMuY3VycmVudE1heFZhbHVlID0gZGF0YTtcclxuICAgICAgdGhpcy5vYnNlcnZlcnMubm90aWZ5T2JzZXJ2ZXJzKCk7XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBNb2RlbDtcclxuIiwidmFyIG1hcCA9IHtcblx0XCIuL0NvbnRyb2xsZXIvQ29udHJvbGxlci50c1wiOiA1LFxuXHRcIi4vQ29udHJvbGxlci9ibG9ja3MvcGFyc2luZ0RpZ2l0cy9QYXJzaW5nRGlnaXRzLnRzXCI6IDMsXG5cdFwiLi9Nb2RlbC9Nb2RlbC50c1wiOiAxNCxcblx0XCIuL1ZpZXcvVmlldy50c1wiOiA2LFxuXHRcIi4vVmlldy9ibG9ja3MvQmFyL0Jhci50c1wiOiA4LFxuXHRcIi4vVmlldy9ibG9ja3MvS25vYi9Lbm9iLnRzXCI6IDksXG5cdFwiLi9WaWV3L2Jsb2Nrcy9Qcm9ncmVzc0Jhci9Qcm9ncmVzc0Jhci50c1wiOiAxMyxcblx0XCIuL1ZpZXcvYmxvY2tzL1J1bm5lci9SdW5uZXIudHNcIjogNCxcblx0XCIuL1ZpZXcvYmxvY2tzL1NjYWxlL01hcmsvTWFyay50c1wiOiAxMixcblx0XCIuL1ZpZXcvYmxvY2tzL1NjYWxlL1NjYWxlLnRzXCI6IDExLFxuXHRcIi4vVmlldy9ibG9ja3MvVG9vbHRpcC9Ub29sdGlwLnRzXCI6IDEwLFxuXHRcIi4vVmlldy9ibG9ja3MvVHJhY2svVHJhY2sudHNcIjogNyxcblx0XCIuL1ZpZXcvYmxvY2tzL2NyZWF0ZUVsZW0vY3JlYXRlRWxlbS50c1wiOiAxLFxuXHRcIi4vbWFrZU9ic2VydmFibGVPYmplY3QvTWFrZU9ic2VydmFibGVPYmplY3QudHNcIjogMCxcblx0XCIuL3NsaWRlci50c1wiOiAxNixcblx0XCIuL3N0eWxlLnNjc3NcIjogMTcsXG5cdFwiLi90eXBlcy50c1wiOiAyXG59O1xuXG5cbmZ1bmN0aW9uIHdlYnBhY2tDb250ZXh0KHJlcSkge1xuXHR2YXIgaWQgPSB3ZWJwYWNrQ29udGV4dFJlc29sdmUocmVxKTtcblx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oaWQpO1xufVxuZnVuY3Rpb24gd2VicGFja0NvbnRleHRSZXNvbHZlKHJlcSkge1xuXHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKG1hcCwgcmVxKSkge1xuXHRcdHZhciBlID0gbmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIiArIHJlcSArIFwiJ1wiKTtcblx0XHRlLmNvZGUgPSAnTU9EVUxFX05PVF9GT1VORCc7XG5cdFx0dGhyb3cgZTtcblx0fVxuXHRyZXR1cm4gbWFwW3JlcV07XG59XG53ZWJwYWNrQ29udGV4dC5rZXlzID0gZnVuY3Rpb24gd2VicGFja0NvbnRleHRLZXlzKCkge1xuXHRyZXR1cm4gT2JqZWN0LmtleXMobWFwKTtcbn07XG53ZWJwYWNrQ29udGV4dC5yZXNvbHZlID0gd2VicGFja0NvbnRleHRSZXNvbHZlO1xubW9kdWxlLmV4cG9ydHMgPSB3ZWJwYWNrQ29udGV4dDtcbndlYnBhY2tDb250ZXh0LmlkID0gMTU7IiwiaW1wb3J0IENvbnRyb2xsZXIgZnJvbSAnLi9Db250cm9sbGVyL0NvbnRyb2xsZXInO1xyXG5cclxuKGZ1bmN0aW9uKCQpIHtcclxuICBjb25zdCBjb25maWcgPSB7XHJcbiAgICBtaW5WYWx1ZTogMCxcclxuICAgIG1heFZhbHVlOiAxMDAwLFxyXG4gICAgc3RlcDogMSxcclxuICAgIGlzUmFuZ2U6IGZhbHNlLFxyXG4gICAgaXNWZXJ0aWNhbDogZmFsc2UsXHJcbiAgICBzaG93TGFiZWw6IGZhbHNlLFxyXG4gICAgaXNGbG9hdDogZmFsc2UsXHJcbiAgfTtcclxuXHJcbiAgY29uc3QgbWV0aG9kczogTWV0aG9kcyA9IHtcclxuICAgIGluaXQ6IGZ1bmN0aW9uKG9wdDogQ29uZmlnKSB7XHJcbiAgICAgIGlmICghJCh0aGlzKS5kYXRhKCdzbGlkZXInKSkge1xyXG4gICAgICAgIGNvbnN0IG5ld0NvbmZpZyA9IHsgLi4uY29uZmlnIH07XHJcbiAgICAgICAgY29uc3Qgc2xpZGVyID0gbmV3IENvbnRyb2xsZXIoJC5leHRlbmQobmV3Q29uZmlnLCBvcHQpKTtcclxuICAgICAgICAkKHRoaXMpLmRhdGEoJ3NsaWRlcicsIHNsaWRlcik7XHJcblxyXG4gICAgICAgIHNsaWRlci5hcHBlbmRUb05vZGUoJCh0aGlzKSk7XHJcbiAgICAgIH1cclxuICAgIH0sXHJcblxyXG4gICAgdXBkYXRlOiBmdW5jdGlvbihvcHQ6IENvbmZpZykge1xyXG4gICAgICBjb25zdCBzbGlkZXIgPSAkKHRoaXMpLmRhdGEoJ3NsaWRlcicpO1xyXG4gICAgICBzbGlkZXIudXBkYXRlQ29uZmlnKG9wdCk7XHJcbiAgICB9LFxyXG5cclxuICAgIGdldENvbmZpZzogZnVuY3Rpb24oKSB7XHJcbiAgICAgIGNvbnN0IHNsaWRlciA9ICQodGhpcykuZGF0YSgnc2xpZGVyJyk7XHJcbiAgICAgIHJldHVybiBzbGlkZXIuZ2V0Q29uZmlnKCk7XHJcbiAgICB9LFxyXG5cclxuICAgIHNldFZhbHVlczogZnVuY3Rpb24ob3B0OiBDb25maWcpIHtcclxuICAgICAgY29uc3Qgc2xpZGVyID0gJCh0aGlzKS5kYXRhKCdzbGlkZXInKTtcclxuICAgICAgc2xpZGVyLnNldFZhbHVlcyhvcHQuY3VycmVudE1pblZhbHVlLCBvcHQuY3VycmVudE1heFZhbHVlKTtcclxuICAgIH0sXHJcblxyXG4gICAgaW5wdXRzQXR0YWNoOiBmdW5jdGlvbihvcHQ6IElucHV0c09iamVjdCkge1xyXG4gICAgICBjb25zdCBzbGlkZXIgPSAkKHRoaXMpLmRhdGEoJ3NsaWRlcicpO1xyXG4gICAgICBzbGlkZXIuYWRkT2JzZXJ2ZXIoKCkgPT4ge1xyXG4gICAgICAgIG9wdC5taW5WYWx1ZUlucHV0LnZhbChzbGlkZXIuZ2V0VmFsdWVzKCkuY3VycmVudE1pblZhbHVlKTtcclxuICAgICAgICBvcHQubWF4VmFsdWVJbnB1dC52YWwoc2xpZGVyLmdldFZhbHVlcygpLmN1cnJlbnRNYXhWYWx1ZSk7XHJcbiAgICAgICAgb3B0Lm1heFZhbHVlLnZhbChzbGlkZXIuZ2V0Q29uZmlnKCkubWF4VmFsdWUpO1xyXG4gICAgICAgIG9wdC5taW5WYWx1ZS52YWwoc2xpZGVyLmdldENvbmZpZygpLm1pblZhbHVlKTtcclxuICAgICAgICBvcHQuc3RlcC52YWwoc2xpZGVyLmdldENvbmZpZygpLnN0ZXApO1xyXG4gICAgICB9KVxyXG4gICAgfSxcclxuICB9XHJcblxyXG4gICQuZm4ub21mZ3NsaWRlciA9IGZ1bmN0aW9uKG1ldGhvZDogc3RyaW5nKSB7XHJcbiAgICBpZiAobWV0aG9kc1ttZXRob2RdKSB7XHJcbiAgICAgIHJldHVybiBtZXRob2RzW21ldGhvZF0uYXBwbHkodGhpcywgQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKSk7XHJcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBtZXRob2QgPT09ICdvYmplY3QnIHx8ICFtZXRob2QpIHtcclxuICAgICAgcmV0dXJuIG1ldGhvZHMuaW5pdC5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgJC5lcnJvcihg0JzQtdGC0L7QtCAke21ldGhvZH0g0L3QtSDQvdCw0LnQtNC10L0g0LIg0L/Qu9Cw0LPQuNC90LUgalF1ZXJ5Lm9tZmdzbGlkZXJgKTtcclxuICAgIH1cclxuICB9O1xyXG59KShqUXVlcnkpO1xyXG4iLCJleHBvcnQgZGVmYXVsdCBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyArIFwiaW5kZXguaHRtbFwiOyIsImltcG9ydCAnLi9kZW1vLXBhZ2UvaW5kZXguaHRtbCc7XHJcblxyXG5mdW5jdGlvbiBpbXBvcnRBbGwocjogX19XZWJwYWNrTW9kdWxlQXBpLlJlcXVpcmVDb250ZXh0KSB7XHJcbiAgci5rZXlzKCkuZm9yRWFjaChyKTtcclxufVxyXG5cclxuaW1wb3J0QWxsKHJlcXVpcmUuY29udGV4dCgnLi9wbHVnaW4nLCB0cnVlLCAvKD88IVxcLmQpXFwuKGpzfHRzfHNjc3MpJC9pKSk7XHJcbiJdLCJzb3VyY2VSb290IjoiIn0=