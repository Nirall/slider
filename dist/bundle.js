!function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=19)}([function(e,t,r){"use strict";r.r(t);var n=function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var n=Array(e),i=0;for(t=0;t<r;t++)for(var a=arguments[t],s=0,o=a.length;s<o;s++,i++)n[i]=a[s];return n},i=function(){function e(){this.observers=[]}return e.prototype.addObserver=function(e){if("function"!=typeof e)throw new Error("observer must be a function");this.observers.forEach((function(t){if(t===e)throw new Error("observer already in the list")})),this.observers.push(e)},e.prototype.removeObserver=function(e){for(var t=0;t<this.observers.length;t+=1){if(this.observers[t]===e)return void this.observers.splice(t,1)}throw new Error("could not find observer in list of observers")},e.prototype.notifyObservers=function(){n(this.observers).map((function(e){return e()}))},e.prototype.notifyObserversData=function(e){n(this.observers).map((function(t){return t(e)}))},e}();t.default=i},function(e,t,r){"use strict";r.r(t),t.default=function(e){var t=document.createElement("div");return t.ondragstart=function(){return!1},t.classList.add(e),t}},function(e,t,r){"use strict";r.r(t),r.d(t,"defaultParameters",(function(){return n}));var n={minValue:0,maxValue:1e3,step:1,isRange:!1,isVertical:!1,showLabel:!1,isFloat:!1}},function(e,t,r){"use strict";r.r(t);var n=function(){function e(){}return e.parsing=function(e){if("number"==typeof e)return e;if("string"==typeof e){if(/^-?\d+[.,]\d+$/.test(e))return parseFloat(e);if(/^-?\d+$/.test(e))return parseInt(e,10)}return null},e}();t.default=n},function(e,t,r){"use strict";r.r(t);var n=r(9),i=r(10),a=r(0),s=function(e,t){var r=this;this.getPosition=function(){return r.knob.getPosition()},this.setPosition=function(e,t){r.tooltip.setPosition(e+r.knob.getWidth()/2,t),r.knob.setPosition(e)},this.update=function(e){r.knob.update(e),r.tooltip.update(e)},this.getWidth=function(){return r.knob.getWidth()},this.hideRunner=function(){r.knob.elem.style.display="none",r.tooltip.elem.style.display="none"},this.hideLabel=function(){r.tooltip.elem.style.display="none"},this.showLabel=function(){r.tooltip.elem.style.display="block"},this.showRunner=function(){r.knob.elem.style.display="block"},this.appendToNode=function(e){[r.knob.elem,r.tooltip.elem].forEach((function(t){e.appendChild(t),t.onmousedown=r.handleRunnerMouseDown}))},this.handleRunnerMouseDown=function(e){e.preventDefault(),document.addEventListener("mousemove",r.handleRunnerMouseMove),document.addEventListener("mouseup",r.handleRunnerMouseUp)},this.handleRunnerMouseMove=function(e){r.observers.notifyObserversData({event:e,runner:r})},this.handleRunnerMouseUp=function(){document.removeEventListener("mouseup",r.handleRunnerMouseUp),document.removeEventListener("mousemove",r.handleRunnerMouseMove)},this.isVertical=e,this.knob=new n.default(e),this.tooltip=new i.default(e),this.observers=new a.default,this.observers.addObserver(t)};t.default=s},function(e,t,r){"use strict";r.r(t);var n=r(2),i=r(6),a=r(14),s=r(0),o=r(3),u=function(e){var t=this;void 0===e&&(e=n.defaultParameters),this.appendToNode=function(e){t.view.appendToNode(e.get(0)),t.view.update()},this.updateConfig=function(e){var r=e;Object.keys(e).forEach((function(n){"step"===n?r.step=t.checkStep(e.step):"maxValue"===n?r.maxValue=t.checkMaxValue(e.maxValue):"minValue"===n&&(r.minValue=t.checkMinValue(e.minValue))})),t.view.parameters=Object.assign(t.view.parameters,r),t.view.update()},this.getValues=function(){return t.model.currentValues},this.setValues=function(e,r){(e||0===e)&&t.model.setCurrentMinValue(e),(r||0===r)&&t.model.setCurrentMaxValue(r)},this.getConfig=function(){return t.view.parameters},this.addObserver=function(e){t.observers.addObserver(e)},this.checkStep=function(e){var r=Math.abs(o.default.parsing(e));return t.isStepValueWrong(r)?t.view.parameters.step:(r%1!=0?t.view.parameters.isFloat=!0:t.isOthersValuesFloat("step")||(t.view.parameters.isFloat=!1),r)},this.isStepValueWrong=function(e){var r=e>(t.view.parameters.maxValue-t.view.parameters.minValue)/2;return null===e||0===e||r},this.isOthersValuesFloat=function(e){switch(e){case"step":return t.view.parameters.maxValue%1!=0||t.view.parameters.minValue%1!=0;case"maxValue":return t.view.parameters.step%1!=0||t.view.parameters.minValue%1!=0;case"minValue":return t.view.parameters.step%1!=0||t.view.parameters.maxValue%1!=0;default:return!1}},this.checkMaxValue=function(e){var r=o.default.parsing(e);return t.isMaxValueWrong(r)?t.view.parameters.maxValue:(r%1!=0?t.view.parameters.isFloat=!0:t.isOthersValuesFloat("maxValue")||(t.view.parameters.isFloat=!1),r)},this.isMaxValueWrong=function(e){return null===e||e<=t.view.parameters.minValue},this.checkMinValue=function(e){var r=o.default.parsing(e);return t.isMinValueWrong(r)?t.view.parameters.minValue:(r%1!=0?t.view.parameters.isFloat=!0:t.isOthersValuesFloat("minValue")||(t.view.parameters.isFloat=!1),r)},this.isMinValueWrong=function(e){return null===e||e>=t.view.parameters.maxValue},this.addViewObserver=function(){t.view.observers.addObserver((function(){t.model.currentValues=t.view.currentValues,t.observers.notifyObservers()}))},this.addModelObserver=function(){t.model.observers.addObserver((function(){t.view.currentValues=t.model.currentValues,t.view.update()}))},this.view=new i.default(e),this.model=new a.default({currentMinValue:e.minValue,currentMaxValue:e.maxValue}),this.observers=new s.default,this.addViewObserver(),this.addModelObserver()};t.default=u},function(e,t,r){"use strict";r.r(t);var n=r(2),i=r(0),a=r(7),s=function(e){var t=this;void 0===e&&(e=n.defaultParameters),this.update=function(){t.track.update(t.parameters),t.track.renewRunners(t.currentValues)},this.handleTrackValueChanging=function(e){"minValue"===e.typeOfValue?t.currentValues.currentMinValue=e.value:"maxValue"===e.typeOfValue&&(t.currentValues.currentMaxValue=e.value),t.observers.notifyObservers()},this.appendToNode=function(e){t.track.appendToNode(e)},this.init=function(){t.currentValues={currentMinValue:t.parameters.minValue,currentMaxValue:t.parameters.maxValue},t.track.observers.addObserver(t.handleTrackValueChanging)},this.parameters=e,this.observers=new i.default,this.track=new a.default(this.parameters),this.init()};t.default=s},function(e,t,r){"use strict";r.r(t);var n=r(8),i=r(4),a=r(11),s=r(13),o=r(0),u=function(){function e(e){var t=this;this.update=function(e){t.parameters=e,t.bar.update(t.parameters.isVertical),t.progressBar.update(t.parameters.isVertical),t.runnerAdditional.update(t.parameters.isVertical),t.runnerMain.update(t.parameters.isVertical),t.scale.update(t.parameters),t.runnerAdditional.hideRunner(),t.parameters.showLabel?(t.runnerAdditional.showLabel(),t.runnerMain.showLabel()):(t.runnerAdditional.hideLabel(),t.runnerMain.hideLabel()),t.parameters.isRange?t.runnerAdditional.showRunner():t.runnerAdditional.hideRunner(),t.runnerAdditional.setPosition(-t.runnerAdditional.getWidth()/2,t.parameters.minValue),t.runnerMain.setPosition(t.bar.getDimension()-t.runnerMain.getWidth()/2,t.parameters.maxValue)},this.appendToNode=function(e){e.appendChild(t.bar.elem).appendChild(t.progressBar.elem),t.bar.elem.onclick=t.handleBarClick,t.runnerMain.appendToNode(e),t.runnerAdditional.appendToNode(e),t.scale.marks.forEach((function(t){e.appendChild(t.elem)})),t.scale.moveMarks()},this.convertOffsetToValue=function(e){return(e-t.parameters.minValue)*t.bar.getDimension()/(t.parameters.maxValue-t.parameters.minValue)-t.runnerMain.getWidth()/2},this.getMainRunnerOffset=function(){var e=t.runnerMain.getPosition()-t.bar.getPosition()+t.runnerMain.getWidth()/2;return e<0?0:e},this.getAdditionalRunnerOffset=function(){return t.parameters.isRange?t.runnerAdditional.getPosition()-t.bar.getPosition()+t.runnerMain.getWidth()/2:0},this.handleRunnerMove=function(e){var r=e.event,n=e.runner;t.moveRunner(t.processRunnerMouseEvent(r,n))},this.moveRunner=function(e){e.runner.setPosition(e.offset,e.value),e.runner===t.runnerAdditional&&t.observers.notifyObserversData({typeOfValue:"minValue",value:e.value}),e.runner===t.runnerMain&&t.observers.notifyObserversData({typeOfValue:"maxValue",value:e.value}),t.updateProgressBar()},this.processRunnerMouseEvent=function(e,r){var n=(t.parameters.isVertical?e.clientY:e.clientX)-t.bar.getPosition()-t.runnerAdditional.getWidth()/2;return t.processRunnerOffset(n,r)},this.processRunnerOffset=function(e,r){var n,i;return i=t.checkRunnerOffset(e,r),{runner:r,offset:i=(n=t.roundOffsetRunner(i))[0],value:n[1]}},this.checkRunnerOffset=function(e,r){var n=t.parameters.step*t.bar.getDimension()/(t.parameters.maxValue-t.parameters.minValue),i=n/1.5>t.runnerMain.getWidth()?n/1.5:t.runnerMain.getWidth(),a=e;return r===t.runnerAdditional?e>t.runnerMain.getPosition()-t.bar.getPosition()-i&&(a=t.runnerMain.getPosition()-t.bar.getPosition()-i):r===t.runnerMain&&e<t.runnerAdditional.getPosition()-t.bar.getPosition()+i&&(a=t.runnerAdditional.getPosition()-t.bar.getPosition()+i),a},this.roundOffsetRunner=function(e){var r=t.parameters.minValue+(e+t.runnerMain.getWidth()/2)*(t.parameters.maxValue-t.parameters.minValue)/t.bar.getDimension(),n=t.round(r,t.parameters.step);t.parameters.isFloat&&(n=parseFloat(n.toFixed(2)));var i=t.convertOffsetToValue(n);return i<-t.runnerMain.getWidth()/2&&(i=-t.runnerMain.getWidth()/2,n=t.parameters.minValue),i>t.bar.getDimension()-t.runnerMain.getWidth()/2&&(i=t.bar.getDimension()-t.runnerMain.getWidth()/2,n=t.parameters.maxValue),[i,n]},this.round=function(e,r){var n=Math.trunc(e/r),i=+(e-n*r).toFixed(2);return e<0?Math.abs(i)<r/2?n*r:(n-1)*r:e<=t.parameters.minValue?t.parameters.minValue:e>=t.parameters.maxValue?t.parameters.maxValue:i<r/2?n*r:(n+1)*r},this.handleScaleClick=function(e){var r,n=t.convertOffsetToValue(e);r=t.parameters.isRange?t.checkRunnerCloser(n):t.runnerMain,t.moveRunner(t.processRunnerOffset(n,r))},this.checkRunnerCloser=function(e){return Math.abs(e-t.getMainRunnerOffset())<Math.abs(e-t.getAdditionalRunnerOffset())?t.runnerMain:t.runnerAdditional},this.handleBarClick=function(e){var r=(t.parameters.isVertical?e.clientY:e.clientX)-t.bar.getPosition()-t.runnerMain.getWidth()/2;t.moveRunner(t.processRunnerOffset(r,t.checkRunnerCloser(r)))},this.updateProgressBar=function(){t.progressBar.update(t.parameters.isVertical),t.progressBar.setPosition(t.getAdditionalRunnerOffset()),t.progressBar.setDimension(t.getMainRunnerOffset()-t.getAdditionalRunnerOffset())},this.parameters=e,this.runnerMain=new i.default(this.parameters.isVertical,this.handleRunnerMove),this.runnerAdditional=new i.default(this.parameters.isVertical,this.handleRunnerMove),this.progressBar=new s.default(this.parameters.isVertical),this.bar=new n.default(this.parameters.isVertical),this.scale=new a.default(this.parameters,this.handleScaleClick),this.observers=new o.default}return e.prototype.renewRunners=function(e){this.moveRunner(this.processRunnerOffset(this.convertOffsetToValue(e.currentMaxValue),this.runnerMain)),this.moveRunner(this.processRunnerOffset(this.convertOffsetToValue(e.currentMinValue),this.runnerAdditional))},e}();t.default=u},function(e,t,r){"use strict";r.r(t);var n=r(1),i=function(e){var t=this;this.getPosition=function(){return t.isVertical?t.elem.getBoundingClientRect().top:t.elem.getBoundingClientRect().left},this.getDimension=function(){return t.isVertical?t.elem.getBoundingClientRect().height:t.elem.getBoundingClientRect().width},this.update=function(e){t.isVertical=e,t.isVertical?t.elem.classList.add("slider__bar_position_vertical"):t.elem.classList.remove("slider__bar_position_vertical")},this.elem=Object(n.default)("slider__bar"),this.isVertical=e};t.default=i},function(e,t,r){"use strict";r.r(t);var n=r(1),i=function(e){var t=this;this.getWidth=function(){return t.elem.getBoundingClientRect().width},this.getPosition=function(){return t.isVertical?t.elem.getBoundingClientRect().top:t.elem.getBoundingClientRect().left},this.setPosition=function(e){t.isVertical?(t.elem.style.left="50%",t.elem.style.top=e+"px"):(t.elem.style.top="50%",t.elem.style.left=e+"px")},this.update=function(e){t.isVertical=e,t.isVertical?t.elem.classList.add("slider__button_position_vertical"):t.elem.classList.remove("slider__button_position_vertical")},this.elem=Object(n.default)("slider__button"),this.isVertical=e};t.default=i},function(e,t,r){"use strict";r.r(t);var n=r(1),i=function(e){var t=this;this.getPosition=function(){return t.isVertical?t.elem.getBoundingClientRect().top:t.elem.getBoundingClientRect().left},this.setPosition=function(e,r){t.elem.innerHTML=r+"",t.isVertical?(t.elem.style.left="50%",t.elem.style.top=e-t.getDimension()/2+"px"):(t.elem.style.top="50%",t.elem.style.left=e-t.getDimension()/2+"px")},this.getDimension=function(){return t.isVertical?t.elem.getBoundingClientRect().height:t.elem.getBoundingClientRect().width},this.update=function(e){t.isVertical=e,t.isVertical?t.elem.classList.add("slider__button-label_position_vertical"):t.elem.classList.remove("slider__button-label_position_vertical")},this.elem=Object(n.default)("slider__button-label"),this.isVertical=e};t.default=i},function(e,t,r){"use strict";r.r(t);var n=r(12),i=r(0),a=function(e,t){var r=this;this.update=function(e){r.parameters=e,r.moveMarks()},this.moveMarks=function(){r.marks.forEach((function(e,t){if(e.update(r.parameters.isVertical),0===t)e.setPosition(0,r.parameters.minValue);else if(t===r.marks.length-1)e.setPosition(100,r.parameters.maxValue);else{var n=r.round(r.parameters.minValue+(r.parameters.maxValue-r.parameters.minValue)*t/(r.marks.length-1));r.parameters.isFloat&&(n=parseFloat(n.toFixed(2)));var i=(n-r.parameters.minValue)/(r.parameters.maxValue-r.parameters.minValue);e.setPosition(100*i,n)}}))},this.init=function(e){r.moveMarks(),r.createMarks(),r.observers.addObserver(e)},this.handleScaleClick=function(e){r.observers.notifyObserversData(e)},this.createMarks=function(){for(var e=0;e<5;e+=1){var t=new n.default(r.parameters.isVertical,r.handleScaleClick);r.marks.push(t)}},this.round=function(e){var t=Math.trunc(e/r.parameters.step),n=+(e-t*r.parameters.step).toFixed(2);return e<0?Math.abs(n)<r.parameters.step/2?t*r.parameters.step:(t-1)*r.parameters.step:n<r.parameters.step/2?t*r.parameters.step:(t+1)*r.parameters.step},this.parameters=e,this.marks=[],this.observers=new i.default,this.init(t)};t.default=a},function(e,t,r){"use strict";r.r(t);var n=r(1),i=r(0),a=function(e,t){var r=this;this.getPosition=function(){return r.isVertical?r.elem.getBoundingClientRect().top:r.elem.getBoundingClientRect().left},this.setPosition=function(e,t){r.elem.innerHTML=t+"",r.value=t,r.isVertical?(r.elem.style.left="50%",r.elem.style.top=e+"%",r.elem.style.marginTop=-r.getDimension()/2+"px",r.elem.style.marginLeft="-45px"):(r.elem.style.top="50%",r.elem.style.left=e+"%",r.elem.style.marginLeft=-r.getDimension()/2+"px",r.elem.style.marginTop="15px")},this.getDimension=function(){return r.isVertical?r.elem.getBoundingClientRect().height:r.elem.getBoundingClientRect().width},this.update=function(e){r.isVertical=e,r.isVertical?r.elem.classList.add("slider__mark_position_vertical"):r.elem.classList.remove("slider__mark_position_vertical")},this.init=function(e){r.elem.onclick=r.handleMarkClick,r.observers.addObserver(e)},this.handleMarkClick=function(){r.observers.notifyObserversData(r.value)},this.elem=Object(n.default)("slider__mark"),this.isVertical=e,this.observers=new i.default,this.init(t)};t.default=a},function(e,t,r){"use strict";r.r(t);var n=r(1),i=function(e){var t=this;this.setPosition=function(e){t.isVertical?(t.elem.style.left="0",t.elem.style.width="100%",t.elem.style.top=e+"px"):(t.elem.style.top="0",t.elem.style.height="100%",t.elem.style.left=e+"px")},this.setDimension=function(e){t.isVertical?t.elem.style.height=e+"px":t.elem.style.width=e+"px"},this.update=function(e){t.isVertical=e},this.elem=Object(n.default)("slider__progress-bar"),this.isVertical=e};t.default=i},function(e,t,r){"use strict";r.r(t);var n=r(0),i=function(){function e(e){this.currentValues=e,this.observers=new n.default}return e.prototype.setCurrentMinValue=function(e){this.currentValues.currentMinValue!==e&&(this.currentValues.currentMinValue=e,this.observers.notifyObservers())},e.prototype.setCurrentMaxValue=function(e){this.currentValues.currentMaxValue!==e&&(this.currentValues.currentMaxValue=e,this.observers.notifyObservers())},e}();t.default=i},function(e,t,r){var n={"./Controller/Controller.ts":5,"./Controller/blocks/parsingDigits/ParsingDigits.ts":3,"./Model/Model.ts":14,"./View/View.ts":6,"./View/blocks/Bar/Bar.ts":8,"./View/blocks/Knob/Knob.ts":9,"./View/blocks/ProgressBar/ProgressBar.ts":13,"./View/blocks/Runner/Runner.ts":4,"./View/blocks/Scale/Mark/Mark.ts":12,"./View/blocks/Scale/Scale.ts":11,"./View/blocks/Tooltip/Tooltip.ts":10,"./View/blocks/Track/Track.ts":7,"./View/blocks/createElem/createElem.ts":1,"./makeObservableObject/MakeObservableObject.ts":0,"./slider.ts":16,"./style.scss":17,"./types.ts":2};function i(e){var t=a(e);return r(t)}function a(e){if(!r.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}i.keys=function(){return Object.keys(n)},i.resolve=a,e.exports=i,i.id=15},function(e,t,r){"use strict";r.r(t);var n,i,a,s=r(5),o=function(){return(o=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};n=jQuery,i={minValue:0,maxValue:1e3,step:1,isRange:!1,isVertical:!1,showLabel:!1,isFloat:!1},a={init:function(e){if(!n(this).data("slider")){var t=o({},i),r=new s.default(n.extend(t,e));n(this).data("slider",r),r.appendToNode(n(this))}},update:function(e){n(this).data("slider").updateConfig(e)},getConfig:function(){return n(this).data("slider").getConfig()},setValues:function(e){n(this).data("slider").setValues(e.currentMinValue,e.currentMaxValue)},inputsAttach:function(e){var t=n(this).data("slider");t.addObserver((function(){e.minValueInput.val(t.getValues().currentMinValue),e.maxValueInput.val(t.getValues().currentMaxValue),e.maxValue.val(t.getConfig().maxValue),e.minValue.val(t.getConfig().minValue),e.step.val(t.getConfig().step)}))}},n.fn.omfgslider=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return a[e]?a[e].apply(this,t):"object"!=typeof e&&e?void n.error("Метод "+e+" не найден в плагине jQuery.omfgslider"):a.init.apply(this,arguments)}},function(e,t,r){},,function(e,t,r){"use strict";r.r(t);var n;r.p;(n=r(15)).keys().forEach(n)}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL3BsdWdpbi9tYWtlT2JzZXJ2YWJsZU9iamVjdC9NYWtlT2JzZXJ2YWJsZU9iamVjdC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvcGx1Z2luL1ZpZXcvYmxvY2tzL2NyZWF0ZUVsZW0vY3JlYXRlRWxlbS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvcGx1Z2luL3R5cGVzLnRzIiwid2VicGFjazovLy8uL3NyYy9wbHVnaW4vQ29udHJvbGxlci9ibG9ja3MvcGFyc2luZ0RpZ2l0cy9QYXJzaW5nRGlnaXRzLnRzIiwid2VicGFjazovLy8uL3NyYy9wbHVnaW4vVmlldy9ibG9ja3MvUnVubmVyL1J1bm5lci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvcGx1Z2luL0NvbnRyb2xsZXIvQ29udHJvbGxlci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvcGx1Z2luL1ZpZXcvVmlldy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvcGx1Z2luL1ZpZXcvYmxvY2tzL1RyYWNrL1RyYWNrLnRzIiwid2VicGFjazovLy8uL3NyYy9wbHVnaW4vVmlldy9ibG9ja3MvQmFyL0Jhci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvcGx1Z2luL1ZpZXcvYmxvY2tzL0tub2IvS25vYi50cyIsIndlYnBhY2s6Ly8vLi9zcmMvcGx1Z2luL1ZpZXcvYmxvY2tzL1Rvb2x0aXAvVG9vbHRpcC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvcGx1Z2luL1ZpZXcvYmxvY2tzL1NjYWxlL1NjYWxlLnRzIiwid2VicGFjazovLy8uL3NyYy9wbHVnaW4vVmlldy9ibG9ja3MvU2NhbGUvTWFyay9NYXJrLnRzIiwid2VicGFjazovLy8uL3NyYy9wbHVnaW4vVmlldy9ibG9ja3MvUHJvZ3Jlc3NCYXIvUHJvZ3Jlc3NCYXIudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3BsdWdpbi9Nb2RlbC9Nb2RlbC50cyIsIndlYnBhY2s6Ly8vXFwuZClcXC4oanN8dHN8c2NzcykkLyIsIndlYnBhY2s6Ly8vLi9zcmMvcGx1Z2luL3NsaWRlci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZGVtby1wYWdlL2luZGV4Lmh0bWwiLCJ3ZWJwYWNrOi8vLy4vc3JjL2luZGV4LnRzIl0sIm5hbWVzIjpbImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJleHBvcnRzIiwibW9kdWxlIiwiaSIsImwiLCJtb2R1bGVzIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJ0IiwibW9kZSIsIl9fZXNNb2R1bGUiLCJucyIsImNyZWF0ZSIsImtleSIsImJpbmQiLCJuIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwidGhpcyIsIm9ic2VydmVycyIsImFkZE9ic2VydmVyIiwiZm4iLCJFcnJvciIsImZvckVhY2giLCJvYnNlcnZlciIsInB1c2giLCJyZW1vdmVPYnNlcnZlciIsImxlbmd0aCIsInNwbGljZSIsIm5vdGlmeU9ic2VydmVycyIsIm1hcCIsIm5vdGlmeU9ic2VydmVyc0RhdGEiLCJkYXRhIiwiY2xhc3NOYW1lIiwiZWxlbSIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsIm9uZHJhZ3N0YXJ0IiwiY2xhc3NMaXN0IiwiYWRkIiwiZGVmYXVsdFBhcmFtZXRlcnMiLCJtaW5WYWx1ZSIsIm1heFZhbHVlIiwic3RlcCIsImlzUmFuZ2UiLCJpc1ZlcnRpY2FsIiwic2hvd0xhYmVsIiwiaXNGbG9hdCIsInBhcnNpbmciLCJpdGVtIiwidGVzdCIsInBhcnNlRmxvYXQiLCJwYXJzZUludCIsIm1vdmVPYnNlcnZlciIsImdldFBvc2l0aW9uIiwia25vYiIsInNldFBvc2l0aW9uIiwib2Zmc2V0IiwidG9vbHRpcCIsImdldFdpZHRoIiwidXBkYXRlIiwiaGlkZVJ1bm5lciIsInN0eWxlIiwiZGlzcGxheSIsImhpZGVMYWJlbCIsInNob3dSdW5uZXIiLCJhcHBlbmRUb05vZGUiLCJlbnRyeSIsImFwcGVuZENoaWxkIiwib25tb3VzZWRvd24iLCJoYW5kbGVSdW5uZXJNb3VzZURvd24iLCJldmVudCIsInByZXZlbnREZWZhdWx0IiwiYWRkRXZlbnRMaXN0ZW5lciIsImhhbmRsZVJ1bm5lck1vdXNlTW92ZSIsImhhbmRsZVJ1bm5lck1vdXNlVXAiLCJydW5uZXIiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwicGFyYW1ldGVycyIsInZpZXciLCJ1cGRhdGVDb25maWciLCJwYXJhbWV0ZXJzU25hcHNob3QiLCJrZXlzIiwiY2hlY2tTdGVwIiwiY2hlY2tNYXhWYWx1ZSIsImNoZWNrTWluVmFsdWUiLCJhc3NpZ24iLCJnZXRWYWx1ZXMiLCJtb2RlbCIsImN1cnJlbnRWYWx1ZXMiLCJzZXRWYWx1ZXMiLCJjdXJyZW50TWluVmFsdWUiLCJjdXJyZW50TWF4VmFsdWUiLCJzZXRDdXJyZW50TWluVmFsdWUiLCJzZXRDdXJyZW50TWF4VmFsdWUiLCJnZXRDb25maWciLCJzdGVwQ2hlY2tlZCIsIk1hdGgiLCJhYnMiLCJpc1N0ZXBWYWx1ZVdyb25nIiwiaXNPdGhlcnNWYWx1ZXNGbG9hdCIsImlzU3RlcE1vcmVUaGFuSGFsZiIsInBhcmFtZXRlciIsIm1heFZhbHVlQ2hlY2tlZCIsImlzTWF4VmFsdWVXcm9uZyIsIm1pblZhbHVlQ2hlY2tlZCIsImlzTWluVmFsdWVXcm9uZyIsImFkZFZpZXdPYnNlcnZlciIsImFkZE1vZGVsT2JzZXJ2ZXIiLCJ0cmFjayIsInJlbmV3UnVubmVycyIsImhhbmRsZVRyYWNrVmFsdWVDaGFuZ2luZyIsInR5cGVPZlZhbHVlIiwiaW5pdCIsImJhciIsInByb2dyZXNzQmFyIiwicnVubmVyQWRkaXRpb25hbCIsInJ1bm5lck1haW4iLCJzY2FsZSIsImdldERpbWVuc2lvbiIsIm9uY2xpY2siLCJoYW5kbGVCYXJDbGljayIsIm1hcmtzIiwibWFyayIsIm1vdmVNYXJrcyIsImNvbnZlcnRPZmZzZXRUb1ZhbHVlIiwiZ2V0TWFpblJ1bm5lck9mZnNldCIsImdldEFkZGl0aW9uYWxSdW5uZXJPZmZzZXQiLCJoYW5kbGVSdW5uZXJNb3ZlIiwibW92ZVJ1bm5lciIsInByb2Nlc3NSdW5uZXJNb3VzZUV2ZW50Iiwib2JqIiwidXBkYXRlUHJvZ3Jlc3NCYXIiLCJldmVudE1tIiwiY2xpZW50WSIsImNsaWVudFgiLCJwcm9jZXNzUnVubmVyT2Zmc2V0Iiwicm91bmRPZmZzZXQiLCJjaGVja1J1bm5lck9mZnNldCIsInJvdW5kT2Zmc2V0UnVubmVyIiwic3RlcFdpZHRoIiwibWluT2Zmc2V0IiwibmV3T2Zmc2V0IiwiY3VycmVudE9mZnNldCIsImN1cnJlbnRWYWx1ZSIsInJvdW5kVmFsdWUiLCJyb3VuZCIsInRvRml4ZWQiLCJ3aG9sZSIsInRydW5jIiwicmVtaW5kZXIiLCJoYW5kbGVTY2FsZUNsaWNrIiwiY2hlY2tSdW5uZXJDbG9zZXIiLCJzZXREaW1lbnNpb24iLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJ0b3AiLCJsZWZ0IiwiaGVpZ2h0Iiwid2lkdGgiLCJyZW1vdmUiLCJpbm5lckhUTUwiLCJvcHRpb25zIiwiaW5kZXgiLCJjcmVhdGVNYXJrcyIsIm1hcmdpblRvcCIsIm1hcmdpbkxlZnQiLCJoYW5kbGVNYXJrQ2xpY2siLCJkaW1lbnNpb24iLCJ3ZWJwYWNrQ29udGV4dCIsInJlcSIsImlkIiwid2VicGFja0NvbnRleHRSZXNvbHZlIiwiZSIsImNvZGUiLCJyZXNvbHZlIiwiJCIsImNvbmZpZyIsIm1ldGhvZHMiLCJqUXVlcnkiLCJvcHQiLCJuZXdDb25maWciLCJzbGlkZXIiLCJleHRlbmQiLCJpbnB1dHNBdHRhY2giLCJtaW5WYWx1ZUlucHV0IiwidmFsIiwibWF4VmFsdWVJbnB1dCIsIm9tZmdzbGlkZXIiLCJtZXRob2QiLCJhcHBseSIsImFyZ3MiLCJlcnJvciIsImFyZ3VtZW50cyJdLCJtYXBwaW5ncyI6ImFBQ0UsSUFBSUEsRUFBbUIsR0FHdkIsU0FBU0MsRUFBb0JDLEdBRzVCLEdBQUdGLEVBQWlCRSxHQUNuQixPQUFPRixFQUFpQkUsR0FBVUMsUUFHbkMsSUFBSUMsRUFBU0osRUFBaUJFLEdBQVksQ0FDekNHLEVBQUdILEVBQ0hJLEdBQUcsRUFDSEgsUUFBUyxJQVVWLE9BTkFJLEVBQVFMLEdBQVVNLEtBQUtKLEVBQU9ELFFBQVNDLEVBQVFBLEVBQU9ELFFBQVNGLEdBRy9ERyxFQUFPRSxHQUFJLEVBR0pGLEVBQU9ELFFBS2ZGLEVBQW9CUSxFQUFJRixFQUd4Qk4sRUFBb0JTLEVBQUlWLEVBR3hCQyxFQUFvQlUsRUFBSSxTQUFTUixFQUFTUyxFQUFNQyxHQUMzQ1osRUFBb0JhLEVBQUVYLEVBQVNTLElBQ2xDRyxPQUFPQyxlQUFlYixFQUFTUyxFQUFNLENBQUVLLFlBQVksRUFBTUMsSUFBS0wsS0FLaEVaLEVBQW9Ca0IsRUFBSSxTQUFTaEIsR0FDWCxvQkFBWGlCLFFBQTBCQSxPQUFPQyxhQUMxQ04sT0FBT0MsZUFBZWIsRUFBU2lCLE9BQU9DLFlBQWEsQ0FBRUMsTUFBTyxXQUU3RFAsT0FBT0MsZUFBZWIsRUFBUyxhQUFjLENBQUVtQixPQUFPLEtBUXZEckIsRUFBb0JzQixFQUFJLFNBQVNELEVBQU9FLEdBRXZDLEdBRFUsRUFBUEEsSUFBVUYsRUFBUXJCLEVBQW9CcUIsSUFDL0IsRUFBUEUsRUFBVSxPQUFPRixFQUNwQixHQUFXLEVBQVBFLEdBQThCLGlCQUFWRixHQUFzQkEsR0FBU0EsRUFBTUcsV0FBWSxPQUFPSCxFQUNoRixJQUFJSSxFQUFLWCxPQUFPWSxPQUFPLE1BR3ZCLEdBRkExQixFQUFvQmtCLEVBQUVPLEdBQ3RCWCxPQUFPQyxlQUFlVSxFQUFJLFVBQVcsQ0FBRVQsWUFBWSxFQUFNSyxNQUFPQSxJQUN0RCxFQUFQRSxHQUE0QixpQkFBVEYsRUFBbUIsSUFBSSxJQUFJTSxLQUFPTixFQUFPckIsRUFBb0JVLEVBQUVlLEVBQUlFLEVBQUssU0FBU0EsR0FBTyxPQUFPTixFQUFNTSxJQUFRQyxLQUFLLEtBQU1ELElBQzlJLE9BQU9GLEdBSVJ6QixFQUFvQjZCLEVBQUksU0FBUzFCLEdBQ2hDLElBQUlTLEVBQVNULEdBQVVBLEVBQU9xQixXQUM3QixXQUF3QixPQUFPckIsRUFBZ0IsU0FDL0MsV0FBOEIsT0FBT0EsR0FFdEMsT0FEQUgsRUFBb0JVLEVBQUVFLEVBQVEsSUFBS0EsR0FDNUJBLEdBSVJaLEVBQW9CYSxFQUFJLFNBQVNpQixFQUFRQyxHQUFZLE9BQU9qQixPQUFPa0IsVUFBVUMsZUFBZTFCLEtBQUt1QixFQUFRQyxJQUd6Ry9CLEVBQW9Ca0MsRUFBSSxHQUlqQmxDLEVBQW9CQSxFQUFvQm1DLEVBQUksSSxrT0NsRnJELGFBR0UsYUFDRUMsS0FBS0MsVUFBWSxHQW1DckIsT0FoQ0UsWUFBQUMsWUFBQSxTQUFZQyxHQUNWLEdBQWtCLG1CQUFQQSxFQUNULE1BQU0sSUFBSUMsTUFBTSwrQkFFbEJKLEtBQUtDLFVBQVVJLFNBQVEsU0FBQ0MsR0FDdEIsR0FBSUEsSUFBYUgsRUFDZixNQUFNLElBQUlDLE1BQU0sbUNBR3BCSixLQUFLQyxVQUFVTSxLQUFLSixJQUd0QixZQUFBSyxlQUFBLFNBQWVMLEdBQ2IsSUFBSyxJQUFJbkMsRUFBSSxFQUFHQSxFQUFJZ0MsS0FBS0MsVUFBVVEsT0FBUXpDLEdBQUssRUFBRyxDQUVqRCxHQURpQmdDLEtBQUtDLFVBQVVqQyxLQUNmbUMsRUFFZixZQURBSCxLQUFLQyxVQUFVUyxPQUFPMUMsRUFBRyxHQUk3QixNQUFNLElBQUlvQyxNQUFNLGlEQUdsQixZQUFBTyxnQkFBQSxXQUM0QixFQUFJWCxLQUFLQyxXQUNqQlcsS0FBSSxTQUFDTixHQUFhLE9BQUFBLFFBR3RDLFlBQUFPLG9CQUFBLFNBQW9CQyxHQUNRLEVBQUlkLEtBQUtDLFdBQ2pCVyxLQUFJLFNBQUNOLEdBQWEsT0FBQUEsRUFBU1EsT0FFakQsRUF2Q0EsR0F5Q2UsYSw2QkN6Q2YsT0FPZSxVQVBmLFNBQW9CQyxHQUNsQixJQUFNQyxFQUFPQyxTQUFTQyxjQUFjLE9BR3BDLE9BRkFGLEVBQUtHLFlBQWMsV0FBTSxVQUN6QkgsRUFBS0ksVUFBVUMsSUFBSU4sR0FDWkMsSSw2QkMyQ1QseURBQU8sSUFBTU0sRUFBb0IsQ0FDL0JDLFNBQVUsRUFDVkMsU0FBVSxJQUNWQyxLQUFNLEVBQ05DLFNBQVMsRUFDVEMsWUFBWSxFQUNaQyxXQUFXLEVBQ1hDLFNBQVMsSSw2QkN0RFgsc0NBZ0JBLE9BZlMsRUFBQUMsUUFBVSxTQUFDQyxHQUNoQixHQUFvQixpQkFBVEEsRUFDVCxPQUFPQSxFQUdULEdBQW9CLGlCQUFUQSxFQUFtQixDQUM1QixHQUFJLGlCQUFpQkMsS0FBS0QsR0FDeEIsT0FBT0UsV0FBV0YsR0FDbEIsR0FBSSxVQUFVQyxLQUFLRCxHQUNuQixPQUFPRyxTQUFTSCxFQUFNLElBSTFCLE9BQU8sTUFFWCxFQWhCQSxHQWtCZSxhLDZCQ2pCZixpQ0FJQSxFQVNFLFNBQVlKLEVBQXFCUSxHQUFqQyxXQVFBLEtBQUFDLFlBQWMsV0FDWixPQUFPLEVBQUtDLEtBQUtELGVBR25CLEtBQUFFLFlBQWMsU0FBQ0MsRUFBZ0J0RCxHQUM3QixFQUFLdUQsUUFBUUYsWUFBWUMsRUFBUyxFQUFLRixLQUFLSSxXQUFhLEVBQUd4RCxHQUM1RCxFQUFLb0QsS0FBS0MsWUFBWUMsSUFHeEIsS0FBQUcsT0FBUyxTQUFDZixHQUNSLEVBQUtVLEtBQUtLLE9BQU9mLEdBQ2pCLEVBQUthLFFBQVFFLE9BQU9mLElBR3RCLEtBQUFjLFNBQVcsV0FDVCxPQUFPLEVBQUtKLEtBQUtJLFlBR25CLEtBQUFFLFdBQWEsV0FDWCxFQUFLTixLQUFLckIsS0FBSzRCLE1BQU1DLFFBQVUsT0FDL0IsRUFBS0wsUUFBUXhCLEtBQUs0QixNQUFNQyxRQUFVLFFBR3BDLEtBQUFDLFVBQVksV0FDVixFQUFLTixRQUFReEIsS0FBSzRCLE1BQU1DLFFBQVUsUUFHcEMsS0FBQWpCLFVBQVksV0FDVixFQUFLWSxRQUFReEIsS0FBSzRCLE1BQU1DLFFBQVUsU0FHcEMsS0FBQUUsV0FBYSxXQUNYLEVBQUtWLEtBQUtyQixLQUFLNEIsTUFBTUMsUUFBVSxTQUdqQyxLQUFBRyxhQUFlLFNBQUNDLEdBQ2QsQ0FBQyxFQUFLWixLQUFLckIsS0FBTSxFQUFLd0IsUUFBUXhCLE1BQU1YLFNBQVEsU0FBQ1csR0FDM0NpQyxFQUFNQyxZQUFZbEMsR0FDbEJBLEVBQUttQyxZQUFjLEVBQUtDLDBCQUlwQixLQUFBQSxzQkFBd0IsU0FBQ0MsR0FDL0JBLEVBQU1DLGlCQUNOckMsU0FBU3NDLGlCQUFpQixZQUFhLEVBQUtDLHVCQUM1Q3ZDLFNBQVNzQyxpQkFBaUIsVUFBVyxFQUFLRSxzQkFHcEMsS0FBQUQsc0JBQXdCLFNBQUNILEdBQy9CLEVBQUtwRCxVQUFVWSxvQkFBb0IsQ0FBRXdDLE1BQU9BLEVBQU9LLE9BQVEsS0FHckQsS0FBQUQsb0JBQXNCLFdBQzVCeEMsU0FBUzBDLG9CQUFvQixVQUFXLEVBQUtGLHFCQUM3Q3hDLFNBQVMwQyxvQkFBb0IsWUFBYSxFQUFLSCx3QkE3RC9DeEQsS0FBSzJCLFdBQWFBLEVBQ2xCM0IsS0FBS3FDLEtBQU8sSUFBSSxVQUFLVixHQUNyQjNCLEtBQUt3QyxRQUFVLElBQUksVUFBUWIsR0FDM0IzQixLQUFLQyxVQUFZLElBQUksVUFDckJELEtBQUtDLFVBQVVDLFlBQVlpQyxJQTZEaEIsYSw2QkNoRmYsK0NBTUEsRUFPRSxTQUFZeUIsR0FBWixnQkFBWSxJQUFBQSxNQUFhLHFCQVd6QixLQUFBWixhQUFlLFNBQUNDLEdBQ2QsRUFBS1ksS0FBS2IsYUFBYUMsRUFBTXBFLElBQUksSUFDakMsRUFBS2dGLEtBQUtuQixVQUdaLEtBQUFvQixhQUFlLFNBQUNGLEdBQ2QsSUFBTUcsRUFBcUJILEVBQzNCbEYsT0FBT3NGLEtBQUtKLEdBQVl2RCxTQUFRLFNBQUNkLEdBQ25CLFNBQVJBLEVBQ0Z3RSxFQUFtQnRDLEtBQU8sRUFBS3dDLFVBQVVMLEVBQVduQyxNQUNuQyxhQUFSbEMsRUFDVHdFLEVBQW1CdkMsU0FBVyxFQUFLMEMsY0FBY04sRUFBV3BDLFVBQzNDLGFBQVJqQyxJQUNUd0UsRUFBbUJ4QyxTQUFXLEVBQUs0QyxjQUFjUCxFQUFXckMsY0FJaEUsRUFBS3NDLEtBQUtELFdBQWFsRixPQUFPMEYsT0FBTyxFQUFLUCxLQUFLRCxXQUFZRyxHQUMzRCxFQUFLRixLQUFLbkIsVUFHWixLQUFBMkIsVUFBWSxXQUNWLE9BQU8sRUFBS0MsTUFBTUMsZUFHcEIsS0FBQUMsVUFBWSxTQUFDQyxFQUF5QkMsSUFDaENELEdBQXVDLElBQXBCQSxJQUNyQixFQUFLSCxNQUFNSyxtQkFBbUJGLElBRzVCQyxHQUF1QyxJQUFwQkEsSUFDckIsRUFBS0osTUFBTU0sbUJBQW1CRixJQUlsQyxLQUFBRyxVQUFZLFdBQ1YsT0FBTyxFQUFLaEIsS0FBS0QsWUFHbkIsS0FBQTFELFlBQWMsU0FBQ0MsR0FDYixFQUFLRixVQUFVQyxZQUFZQyxJQUdyQixLQUFBOEQsVUFBWSxTQUFDeEMsR0FDbkIsSUFBTXFELEVBQWNDLEtBQUtDLElBQUksVUFBY2xELFFBQVFMLElBRW5ELE9BQUksRUFBS3dELGlCQUFpQkgsR0FDakIsRUFBS2pCLEtBQUtELFdBQVduQyxNQUcxQnFELEVBQWMsR0FBTSxFQUN0QixFQUFLakIsS0FBS0QsV0FBVy9CLFNBQVUsRUFDckIsRUFBS3FELG9CQUFvQixVQUNuQyxFQUFLckIsS0FBS0QsV0FBVy9CLFNBQVUsR0FHMUJpRCxJQUdELEtBQUFHLGlCQUFtQixTQUFDSCxHQUMxQixJQUFNSyxFQUFxQkwsR0FDdEIsRUFBS2pCLEtBQUtELFdBQVdwQyxTQUFXLEVBQUtxQyxLQUFLRCxXQUFXckMsVUFBWSxFQUN0RSxPQUF3QixPQUFoQnVELEdBQXdDLElBQWhCQSxHQUFxQkssR0FHL0MsS0FBQUQsb0JBQXNCLFNBQUNFLEdBQzdCLE9BQVFBLEdBQ04sSUFBSyxPQUNILE9BQVEsRUFBS3ZCLEtBQUtELFdBQVdwQyxTQUFXLEdBQU0sR0FBSyxFQUFLcUMsS0FBS0QsV0FBV3JDLFNBQVcsR0FBTSxFQUMzRixJQUFLLFdBQ0gsT0FBUSxFQUFLc0MsS0FBS0QsV0FBV25DLEtBQU8sR0FBTSxHQUFLLEVBQUtvQyxLQUFLRCxXQUFXckMsU0FBVyxHQUFNLEVBQ3ZGLElBQUssV0FDSCxPQUFRLEVBQUtzQyxLQUFLRCxXQUFXbkMsS0FBTyxHQUFNLEdBQUssRUFBS29DLEtBQUtELFdBQVdwQyxTQUFXLEdBQU0sRUFDdkYsUUFDRSxPQUFPLElBSUwsS0FBQTBDLGNBQWdCLFNBQUMxQyxHQUN2QixJQUFNNkQsRUFBa0IsVUFBY3ZELFFBQVFOLEdBRTlDLE9BQUksRUFBSzhELGdCQUFnQkQsR0FDaEIsRUFBS3hCLEtBQUtELFdBQVdwQyxVQUcxQjZELEVBQWtCLEdBQU0sRUFDMUIsRUFBS3hCLEtBQUtELFdBQVcvQixTQUFVLEVBQ3JCLEVBQUtxRCxvQkFBb0IsY0FDbkMsRUFBS3JCLEtBQUtELFdBQVcvQixTQUFVLEdBRzFCd0QsSUFHRCxLQUFBQyxnQkFBa0IsU0FBQ0QsR0FDekIsT0FBNEIsT0FBcEJBLEdBQTRCQSxHQUFtQixFQUFLeEIsS0FBS0QsV0FBV3JDLFVBR3RFLEtBQUE0QyxjQUFnQixTQUFDNUMsR0FDdkIsSUFBTWdFLEVBQWtCLFVBQWN6RCxRQUFRUCxHQUU5QyxPQUFJLEVBQUtpRSxnQkFBZ0JELEdBQ2hCLEVBQUsxQixLQUFLRCxXQUFXckMsVUFHMUJnRSxFQUFrQixHQUFNLEVBQzFCLEVBQUsxQixLQUFLRCxXQUFXL0IsU0FBVSxFQUNyQixFQUFLcUQsb0JBQW9CLGNBQ25DLEVBQUtyQixLQUFLRCxXQUFXL0IsU0FBVSxHQUcxQjBELElBR0QsS0FBQUMsZ0JBQWtCLFNBQUNELEdBQ3pCLE9BQTRCLE9BQXBCQSxHQUE0QkEsR0FBbUIsRUFBSzFCLEtBQUtELFdBQVdwQyxVQUd0RSxLQUFBaUUsZ0JBQWtCLFdBQ3hCLEVBQUs1QixLQUFLNUQsVUFBVUMsYUFBWSxXQUM5QixFQUFLb0UsTUFBTUMsY0FBZ0IsRUFBS1YsS0FBS1UsY0FDckMsRUFBS3RFLFVBQVVVLHNCQUlYLEtBQUErRSxpQkFBbUIsV0FDekIsRUFBS3BCLE1BQU1yRSxVQUFVQyxhQUFZLFdBQy9CLEVBQUsyRCxLQUFLVSxjQUFnQixFQUFLRCxNQUFNQyxjQUNyQyxFQUFLVixLQUFLbkIsYUExSVoxQyxLQUFLNkQsS0FBTyxJQUFJLFVBQUtELEdBQ3JCNUQsS0FBS3NFLE1BQVEsSUFBSSxVQUFNLENBQ3JCRyxnQkFBaUJiLEVBQVdyQyxTQUM1Qm1ELGdCQUFpQmQsRUFBV3BDLFdBRTlCeEIsS0FBS0MsVUFBWSxJQUFJLFVBQ3JCRCxLQUFLeUYsa0JBQ0x6RixLQUFLMEYsb0JBd0lNLGEsNkJDN0pmLGdDQUlBLEVBU0UsU0FBWTlCLEdBQVosZ0JBQVksSUFBQUEsTUFBYSxxQkFPekIsS0FBQWxCLE9BQVMsV0FDUCxFQUFLaUQsTUFBTWpELE9BQU8sRUFBS2tCLFlBQ3ZCLEVBQUsrQixNQUFNQyxhQUFhLEVBQUtyQixnQkFHL0IsS0FBQXNCLHlCQUEyQixTQUFDL0UsR0FDRCxhQUFyQkEsRUFBS2dGLFlBQ1AsRUFBS3ZCLGNBQWNFLGdCQUFrQjNELEVBQUs3QixNQUNaLGFBQXJCNkIsRUFBS2dGLGNBQ2QsRUFBS3ZCLGNBQWNHLGdCQUFrQjVELEVBQUs3QixPQUc1QyxFQUFLZ0IsVUFBVVUsbUJBR2pCLEtBQUFxQyxhQUFlLFNBQUNDLEdBQ2QsRUFBSzBDLE1BQU0zQyxhQUFhQyxJQUdsQixLQUFBOEMsS0FBTyxXQUNiLEVBQUt4QixjQUFnQixDQUNuQkUsZ0JBQWlCLEVBQUtiLFdBQVdyQyxTQUNqQ21ELGdCQUFpQixFQUFLZCxXQUFXcEMsVUFHbkMsRUFBS21FLE1BQU0xRixVQUFVQyxZQUFZLEVBQUsyRiwyQkEvQnRDN0YsS0FBSzRELFdBQWFBLEVBQ2xCNUQsS0FBS0MsVUFBWSxJQUFJLFVBQ3JCRCxLQUFLMkYsTUFBUSxJQUFJLFVBQU0zRixLQUFLNEQsWUFDNUI1RCxLQUFLK0YsUUFnQ00sYSw2QkNoRGYsZ0RBTUEsYUFlRSxXQUFZbkMsR0FBWixXQVVBLEtBQUFsQixPQUFTLFNBQUNrQixHQUNSLEVBQUtBLFdBQWFBLEVBQ2xCLEVBQUtvQyxJQUFJdEQsT0FBTyxFQUFLa0IsV0FBV2pDLFlBQ2hDLEVBQUtzRSxZQUFZdkQsT0FBTyxFQUFLa0IsV0FBV2pDLFlBQ3hDLEVBQUt1RSxpQkFBaUJ4RCxPQUFPLEVBQUtrQixXQUFXakMsWUFDN0MsRUFBS3dFLFdBQVd6RCxPQUFPLEVBQUtrQixXQUFXakMsWUFDdkMsRUFBS3lFLE1BQU0xRCxPQUFPLEVBQUtrQixZQUN2QixFQUFLc0MsaUJBQWlCdkQsYUFFbEIsRUFBS2lCLFdBQVdoQyxXQUNsQixFQUFLc0UsaUJBQWlCdEUsWUFDdEIsRUFBS3VFLFdBQVd2RSxjQUVoQixFQUFLc0UsaUJBQWlCcEQsWUFDdEIsRUFBS3FELFdBQVdyRCxhQUdkLEVBQUtjLFdBQVdsQyxRQUNsQixFQUFLd0UsaUJBQWlCbkQsYUFFdEIsRUFBS21ELGlCQUFpQnZELGFBR3hCLEVBQUt1RCxpQkFBaUI1RCxhQUNuQixFQUFLNEQsaUJBQWlCekQsV0FBYSxFQUNwQyxFQUFLbUIsV0FBV3JDLFVBRWxCLEVBQUs0RSxXQUFXN0QsWUFDZCxFQUFLMEQsSUFBSUssZUFBaUIsRUFBS0YsV0FBVzFELFdBQWEsRUFDdkQsRUFBS21CLFdBQVdwQyxXQW1CcEIsS0FBQXdCLGFBQWUsU0FBQ0MsR0FDZEEsRUFBTUMsWUFBWSxFQUFLOEMsSUFBSWhGLE1BQU1rQyxZQUFZLEVBQUsrQyxZQUFZakYsTUFDOUQsRUFBS2dGLElBQUloRixLQUFLc0YsUUFBVSxFQUFLQyxlQUM3QixFQUFLSixXQUFXbkQsYUFBYUMsR0FDN0IsRUFBS2lELGlCQUFpQmxELGFBQWFDLEdBRW5DLEVBQUttRCxNQUFNSSxNQUFNbkcsU0FBUSxTQUFDb0csR0FDeEJ4RCxFQUFNQyxZQUFZdUQsRUFBS3pGLFNBR3pCLEVBQUtvRixNQUFNTSxhQUdMLEtBQUFDLHFCQUF1QixTQUFDMUgsR0FDOUIsT0FBVUEsRUFBUSxFQUFLMkUsV0FBV3JDLFVBQVksRUFBS3lFLElBQUlLLGdCQUNsRCxFQUFLekMsV0FBV3BDLFNBQVcsRUFBS29DLFdBQVdyQyxVQUM1QyxFQUFLNEUsV0FBVzFELFdBQWEsR0FHM0IsS0FBQW1FLG9CQUFzQixXQUM1QixJQUFNckUsRUFBUyxFQUFLNEQsV0FBVy9ELGNBQWdCLEVBQUs0RCxJQUFJNUQsY0FDcEQsRUFBSytELFdBQVcxRCxXQUFhLEVBQ2pDLE9BQU9GLEVBQVMsRUFBSSxFQUFJQSxHQUdsQixLQUFBc0UsMEJBQTRCLFdBQ2xDLE9BQUksRUFBS2pELFdBQVdsQyxRQUNYLEVBQUt3RSxpQkFBaUI5RCxjQUFnQixFQUFLNEQsSUFBSTVELGNBQ2xELEVBQUsrRCxXQUFXMUQsV0FBYSxFQUc1QixHQUdELEtBQUFxRSxpQkFBbUIsU0FBQyxHLElBQUV6RCxFQUFLLFFBQUVLLEVBQU0sU0FDekMsRUFBS3FELFdBQVcsRUFBS0Msd0JBQXdCM0QsRUFBT0ssS0FHOUMsS0FBQXFELFdBQWEsU0FBQ0UsR0FDcEJBLEVBQUl2RCxPQUFPcEIsWUFBWTJFLEVBQUkxRSxPQUFRMEUsRUFBSWhJLE9BRW5DZ0ksRUFBSXZELFNBQVcsRUFBS3dDLGtCQUN0QixFQUFLakcsVUFBVVksb0JBQW9CLENBQUVpRixZQUFhLFdBQVk3RyxNQUFPZ0ksRUFBSWhJLFFBR3ZFZ0ksRUFBSXZELFNBQVcsRUFBS3lDLFlBQ3RCLEVBQUtsRyxVQUFVWSxvQkFBb0IsQ0FBRWlGLFlBQWEsV0FBWTdHLE1BQU9nSSxFQUFJaEksUUFHM0UsRUFBS2lJLHFCQUdDLEtBQUFGLHdCQUEwQixTQUFDRyxFQUFxQnpELEdBQ3RELElBQ01uQixHQURhLEVBQUtxQixXQUFXakMsV0FBYXdGLEVBQVFDLFFBQVVELEVBQVFFLFNBQzlDLEVBQUtyQixJQUFJNUQsY0FBZ0IsRUFBSzhELGlCQUFpQnpELFdBQWEsRUFFeEYsT0FBTyxFQUFLNkUsb0JBQW9CL0UsRUFBUW1CLElBR2xDLEtBQUE0RCxvQkFBc0IsU0FBQy9FLEVBQWdCbUIsRyxNQUV6QzZELEVBSUosT0FIQUEsRUFBYyxFQUFLQyxrQkFBa0JqRixFQUFRbUIsR0FHdEMsQ0FDTEEsT0FBUUEsRUFDUm5CLE9BSkRnRixHQUFELEVBQTRCLEVBQUtFLGtCQUFrQkYsSUFBdkMsR0FLVnRJLE1BTHNCLE9BU2xCLEtBQUF1SSxrQkFBb0IsU0FBQ2pGLEVBQWdCbUIsR0FDM0MsSUFBTWdFLEVBQWEsRUFBSzlELFdBQVduQyxLQUFPLEVBQUt1RSxJQUFJSyxnQkFDOUMsRUFBS3pDLFdBQVdwQyxTQUFXLEVBQUtvQyxXQUFXckMsVUFDMUNvRyxFQUFZRCxFQUFZLElBQU0sRUFBS3ZCLFdBQVcxRCxXQUNoRGlGLEVBQVksSUFDWixFQUFLdkIsV0FBVzFELFdBQ2hCbUYsRUFBWXJGLEVBWWhCLE9BVkltQixJQUFXLEVBQUt3QyxpQkFDZDNELEVBQVMsRUFBSzRELFdBQVcvRCxjQUFnQixFQUFLNEQsSUFBSTVELGNBQWdCdUYsSUFDcEVDLEVBQVksRUFBS3pCLFdBQVcvRCxjQUFnQixFQUFLNEQsSUFBSTVELGNBQWdCdUYsR0FFOURqRSxJQUFXLEVBQUt5QyxZQUNyQjVELEVBQVMsRUFBSzJELGlCQUFpQjlELGNBQWdCLEVBQUs0RCxJQUFJNUQsY0FBZ0J1RixJQUMxRUMsRUFBWSxFQUFLMUIsaUJBQWlCOUQsY0FBZ0IsRUFBSzRELElBQUk1RCxjQUFnQnVGLEdBSXhFQyxHQUdELEtBQUFILGtCQUFvQixTQUFDSSxHQUMzQixJQUFNQyxFQUFlLEVBQUtsRSxXQUFXckMsVUFDL0JzRyxFQUFnQixFQUFLMUIsV0FBVzFELFdBQWEsSUFDOUMsRUFBS21CLFdBQVdwQyxTQUFXLEVBQUtvQyxXQUFXckMsVUFDNUMsRUFBS3lFLElBQUlLLGVBQ1QwQixFQUFhLEVBQUtDLE1BQU1GLEVBQWMsRUFBS2xFLFdBQVduQyxNQUV0RCxFQUFLbUMsV0FBVy9CLFVBQ2xCa0csRUFBYTlGLFdBQVc4RixFQUFXRSxRQUFRLEtBRzdDLElBQUlWLEVBQWMsRUFBS1oscUJBQXFCb0IsR0FZNUMsT0FWSVIsR0FBZSxFQUFLcEIsV0FBVzFELFdBQWEsSUFDOUM4RSxHQUFlLEVBQUtwQixXQUFXMUQsV0FBYSxFQUM1Q3NGLEVBQWEsRUFBS25FLFdBQVdyQyxVQUczQmdHLEVBQWMsRUFBS3ZCLElBQUlLLGVBQWlCLEVBQUtGLFdBQVcxRCxXQUFhLElBQ3ZFOEUsRUFBYyxFQUFLdkIsSUFBSUssZUFBaUIsRUFBS0YsV0FBVzFELFdBQWEsRUFDckVzRixFQUFhLEVBQUtuRSxXQUFXcEMsVUFHeEIsQ0FBQytGLEVBQWFRLElBR2YsS0FBQUMsTUFBUSxTQUFDL0ksRUFBZXdDLEdBQzlCLElBQU15RyxFQUFRbkQsS0FBS29ELE1BQU1sSixFQUFRd0MsR0FDM0IyRyxJQUFhbkosRUFBUWlKLEVBQVF6RyxHQUFNd0csUUFBUSxHQUVqRCxPQUFJaEosRUFBUSxFQUNIOEYsS0FBS0MsSUFBSW9ELEdBQVkzRyxFQUFPLEVBQUl5RyxFQUFRekcsR0FBUXlHLEVBQVEsR0FBS3pHLEVBR2xFeEMsR0FBUyxFQUFLMkUsV0FBV3JDLFNBQ3BCLEVBQUtxQyxXQUFXckMsU0FDbkJ0QyxHQUFTLEVBQUsyRSxXQUFXcEMsU0FDdEIsRUFBS29DLFdBQVdwQyxTQUdsQjRHLEVBQVczRyxFQUFPLEVBQUl5RyxFQUFRekcsR0FBUXlHLEVBQVEsR0FBS3pHLEdBR3BELEtBQUE0RyxpQkFBbUIsU0FBQ3BKLEdBQzFCLElBQ0l5RSxFQURFbkIsRUFBUyxFQUFLb0UscUJBQXFCMUgsR0FJdkN5RSxFQURFLEVBQUtFLFdBQVdsQyxRQUNULEVBQUs0RyxrQkFBa0IvRixHQUV2QixFQUFLNEQsV0FHaEIsRUFBS1ksV0FBVyxFQUFLTyxvQkFBb0IvRSxFQUFRbUIsS0FHM0MsS0FBQTRFLGtCQUFvQixTQUFDL0YsR0FDM0IsT0FBSXdDLEtBQUtDLElBQUl6QyxFQUFTLEVBQUtxRSx1QkFDdkI3QixLQUFLQyxJQUFJekMsRUFBUyxFQUFLc0UsNkJBQ2xCLEVBQUtWLFdBR1AsRUFBS0Qsa0JBR04sS0FBQUssZUFBaUIsU0FBQ2xELEdBQ3hCLElBQ01kLEdBRGEsRUFBS3FCLFdBQVdqQyxXQUFhMEIsRUFBTStELFFBQVUvRCxFQUFNZ0UsU0FDMUMsRUFBS3JCLElBQUk1RCxjQUFnQixFQUFLK0QsV0FBVzFELFdBQWEsRUFFbEYsRUFBS3NFLFdBQVcsRUFBS08sb0JBQW9CL0UsRUFBUSxFQUFLK0Ysa0JBQWtCL0YsTUFHbEUsS0FBQTJFLGtCQUFvQixXQUMxQixFQUFLakIsWUFBWXZELE9BQU8sRUFBS2tCLFdBQVdqQyxZQUN4QyxFQUFLc0UsWUFBWTNELFlBQVksRUFBS3VFLDZCQUNsQyxFQUFLWixZQUFZc0MsYUFBYSxFQUFLM0Isc0JBQXdCLEVBQUtDLDhCQWpPaEU3RyxLQUFLNEQsV0FBYUEsRUFDbEI1RCxLQUFLbUcsV0FBYSxJQUFJLFVBQU9uRyxLQUFLNEQsV0FBV2pDLFdBQVkzQixLQUFLOEcsa0JBQzlEOUcsS0FBS2tHLGlCQUFtQixJQUFJLFVBQU9sRyxLQUFLNEQsV0FBV2pDLFdBQVkzQixLQUFLOEcsa0JBQ3BFOUcsS0FBS2lHLFlBQWMsSUFBSSxVQUFZakcsS0FBSzRELFdBQVdqQyxZQUNuRDNCLEtBQUtnRyxJQUFNLElBQUksVUFBSWhHLEtBQUs0RCxXQUFXakMsWUFDbkMzQixLQUFLb0csTUFBUSxJQUFJLFVBQU1wRyxLQUFLNEQsV0FBWTVELEtBQUtxSSxrQkFDN0NySSxLQUFLQyxVQUFZLElBQUksVUE2TnpCLE9BekxFLFlBQUEyRixhQUFBLFNBQWFyQixHQUNYdkUsS0FBSytHLFdBQ0gvRyxLQUFLc0gsb0JBQ0h0SCxLQUFLMkcscUJBQXFCcEMsRUFBY0csaUJBQ3hDMUUsS0FBS21HLGFBR1RuRyxLQUFLK0csV0FDSC9HLEtBQUtzSCxvQkFDSHRILEtBQUsyRyxxQkFBcUJwQyxFQUFjRSxpQkFDeEN6RSxLQUFLa0csb0JBK0tiLEVBblBBLEdBcVBlLGEsNkJDNVBmLGtCQUVBLEVBS0UsU0FBWXZFLEdBQVosV0FLQSxLQUFBUyxZQUFjLFdBQ1osT0FBSSxFQUFLVCxXQUNBLEVBQUtYLEtBQUt3SCx3QkFBd0JDLElBR3BDLEVBQUt6SCxLQUFLd0gsd0JBQXdCRSxNQUczQyxLQUFBckMsYUFBZSxXQUNiLE9BQUksRUFBSzFFLFdBQ0EsRUFBS1gsS0FBS3dILHdCQUF3QkcsT0FHcEMsRUFBSzNILEtBQUt3SCx3QkFBd0JJLE9BRzNDLEtBQUFsRyxPQUFTLFNBQUNmLEdBQ1IsRUFBS0EsV0FBYUEsRUFFZCxFQUFLQSxXQUNQLEVBQUtYLEtBQUtJLFVBQVVDLElBQUksaUNBRXhCLEVBQUtMLEtBQUtJLFVBQVV5SCxPQUFPLGtDQTFCN0I3SSxLQUFLZ0IsS0FBTyxrQkFBVyxlQUN2QmhCLEtBQUsyQixXQUFhQSxHQThCUCxhLDZCQ3ZDZixrQkFFQSxFQUtFLFNBQVlBLEdBQVosV0FLQSxLQUFBYyxTQUFXLFdBQ1QsT0FBTyxFQUFLekIsS0FBS3dILHdCQUF3QkksT0FHM0MsS0FBQXhHLFlBQWMsV0FDWixPQUFJLEVBQUtULFdBQ0EsRUFBS1gsS0FBS3dILHdCQUF3QkMsSUFHcEMsRUFBS3pILEtBQUt3SCx3QkFBd0JFLE1BRzNDLEtBQUFwRyxZQUFjLFNBQUNDLEdBQ1QsRUFBS1osWUFDUCxFQUFLWCxLQUFLNEIsTUFBTThGLEtBQU8sTUFDdkIsRUFBSzFILEtBQUs0QixNQUFNNkYsSUFBTWxHLEVBQVMsT0FFL0IsRUFBS3ZCLEtBQUs0QixNQUFNNkYsSUFBTSxNQUN0QixFQUFLekgsS0FBSzRCLE1BQU04RixLQUFPbkcsRUFBUyxPQUlwQyxLQUFBRyxPQUFTLFNBQUNmLEdBQ1IsRUFBS0EsV0FBYUEsRUFFZCxFQUFLQSxXQUNQLEVBQUtYLEtBQUtJLFVBQVVDLElBQUksb0NBRXhCLEVBQUtMLEtBQUtJLFVBQVV5SCxPQUFPLHFDQWhDN0I3SSxLQUFLZ0IsS0FBTyxrQkFBVyxrQkFDdkJoQixLQUFLMkIsV0FBYUEsR0FvQ1AsYSw2QkM3Q2Ysa0JBRUEsRUFLRSxTQUFZQSxHQUFaLFdBS0EsS0FBQVMsWUFBYyxXQUNaLE9BQUksRUFBS1QsV0FDQSxFQUFLWCxLQUFLd0gsd0JBQXdCQyxJQUdwQyxFQUFLekgsS0FBS3dILHdCQUF3QkUsTUFHM0MsS0FBQXBHLFlBQWMsU0FBQ0MsRUFBZ0J0RCxHQUM3QixFQUFLK0IsS0FBSzhILFVBQVk3SixFQUFRLEdBRTFCLEVBQUswQyxZQUNQLEVBQUtYLEtBQUs0QixNQUFNOEYsS0FBTyxNQUN2QixFQUFLMUgsS0FBSzRCLE1BQU02RixJQUFNbEcsRUFBUyxFQUFLOEQsZUFBaUIsRUFBSSxPQUV6RCxFQUFLckYsS0FBSzRCLE1BQU02RixJQUFNLE1BQ3RCLEVBQUt6SCxLQUFLNEIsTUFBTThGLEtBQU9uRyxFQUFTLEVBQUs4RCxlQUFpQixFQUFJLE9BSTlELEtBQUFBLGFBQWUsV0FDYixPQUFJLEVBQUsxRSxXQUNBLEVBQUtYLEtBQUt3SCx3QkFBd0JHLE9BR3BDLEVBQUszSCxLQUFLd0gsd0JBQXdCSSxPQUczQyxLQUFBbEcsT0FBUyxTQUFDZixHQUNSLEVBQUtBLFdBQWFBLEVBRWQsRUFBS0EsV0FDUCxFQUFLWCxLQUFLSSxVQUFVQyxJQUFJLDBDQUV4QixFQUFLTCxLQUFLSSxVQUFVeUgsT0FBTywyQ0F0QzdCN0ksS0FBS2dCLEtBQU8sa0JBQVcsd0JBQ3ZCaEIsS0FBSzJCLFdBQWFBLEdBMENQLGEsNkJDbERmLDBCQUdBLEVBT0UsU0FBWWlDLEVBQThCdEQsR0FBMUMsV0FPQSxLQUFBb0MsT0FBUyxTQUFDcUcsR0FDUixFQUFLbkYsV0FBYW1GLEVBQ2xCLEVBQUtyQyxhQUdQLEtBQUFBLFVBQVksV0FDVixFQUFLRixNQUFNbkcsU0FBUSxTQUFDb0csRUFBTXVDLEdBRXhCLEdBREF2QyxFQUFLL0QsT0FBTyxFQUFLa0IsV0FBV2pDLFlBQ2QsSUFBVnFILEVBQ0Z2QyxFQUFLbkUsWUFBWSxFQUFHLEVBQUtzQixXQUFXckMsZUFDL0IsR0FBSXlILElBQVUsRUFBS3hDLE1BQU0vRixPQUFTLEVBQ3ZDZ0csRUFBS25FLFlBQVksSUFBSyxFQUFLc0IsV0FBV3BDLGNBQ2pDLENBQ0wsSUFBSXVHLEVBQWEsRUFBS0MsTUFBTSxFQUFLcEUsV0FBV3JDLFVBQ3RDLEVBQUtxQyxXQUFXcEMsU0FBVyxFQUFLb0MsV0FBV3JDLFVBQVl5SCxHQUN4RCxFQUFLeEMsTUFBTS9GLE9BQVMsSUFFckIsRUFBS21ELFdBQVcvQixVQUNsQmtHLEVBQWE5RixXQUFXOEYsRUFBV0UsUUFBUSxLQUc3QyxJQUFNMUYsR0FBVXdGLEVBQWEsRUFBS25FLFdBQVdyQyxXQUN4QyxFQUFLcUMsV0FBV3BDLFNBQVcsRUFBS29DLFdBQVdyQyxVQUNoRGtGLEVBQUtuRSxZQUFxQixJQUFUQyxFQUFjd0YsUUFLN0IsS0FBQWhDLEtBQU8sU0FBQ3pGLEdBQ2QsRUFBS29HLFlBQ0wsRUFBS3VDLGNBQ0wsRUFBS2hKLFVBQVVDLFlBQVlJLElBR3JCLEtBQUErSCxpQkFBbUIsU0FBQ3BKLEdBQzFCLEVBQUtnQixVQUFVWSxvQkFBb0I1QixJQUc3QixLQUFBZ0ssWUFBYyxXQUNwQixJQUFLLElBQUlqTCxFQUFJLEVBQUdBLEVBQUksRUFBR0EsR0FBSyxFQUFHLENBQzdCLElBQU15SSxFQUFPLElBQUksVUFBSyxFQUFLN0MsV0FBV2pDLFdBQVksRUFBSzBHLGtCQUN2RCxFQUFLN0IsTUFBTWpHLEtBQUtrRyxLQUlaLEtBQUF1QixNQUFRLFNBQUMvSSxHQUNmLElBQU1pSixFQUFRbkQsS0FBS29ELE1BQU1sSixFQUFRLEVBQUsyRSxXQUFXbkMsTUFFM0MyRyxJQUFhbkosRUFBUWlKLEVBQVEsRUFBS3RFLFdBQVduQyxNQUFNd0csUUFBUSxHQUNqRSxPQUFJaEosRUFBUSxFQUNIOEYsS0FBS0MsSUFBSW9ELEdBQVksRUFBS3hFLFdBQVduQyxLQUFPLEVBQy9DeUcsRUFBUSxFQUFLdEUsV0FBV25DLE1BQ3ZCeUcsRUFBUSxHQUFLLEVBQUt0RSxXQUFXbkMsS0FHN0IyRyxFQUFXLEVBQUt4RSxXQUFXbkMsS0FBTyxFQUNyQ3lHLEVBQVEsRUFBS3RFLFdBQVduQyxNQUN2QnlHLEVBQVEsR0FBSyxFQUFLdEUsV0FBV25DLE1BL0RsQ3pCLEtBQUs0RCxXQUFhQSxFQUNsQjVELEtBQUt3RyxNQUFRLEdBQ2J4RyxLQUFLQyxVQUFZLElBQUksVUFDckJELEtBQUsrRixLQUFLekYsSUFnRUMsYSw2QkM5RWYseUJBR0EsRUFTRSxTQUFZcUIsRUFBcUJyQixHQUFqQyxXQU9BLEtBQUE4QixZQUFjLFdBQ1osT0FBSSxFQUFLVCxXQUNBLEVBQUtYLEtBQUt3SCx3QkFBd0JDLElBR3BDLEVBQUt6SCxLQUFLd0gsd0JBQXdCRSxNQUczQyxLQUFBcEcsWUFBYyxTQUFDQyxFQUFnQnRELEdBQzdCLEVBQUsrQixLQUFLOEgsVUFBWTdKLEVBQVEsR0FDOUIsRUFBS0EsTUFBUUEsRUFFVCxFQUFLMEMsWUFDUCxFQUFLWCxLQUFLNEIsTUFBTThGLEtBQU8sTUFDdkIsRUFBSzFILEtBQUs0QixNQUFNNkYsSUFBTWxHLEVBQVMsSUFDL0IsRUFBS3ZCLEtBQUs0QixNQUFNc0csV0FBYSxFQUFLN0MsZUFBaUIsRUFBSSxLQUN2RCxFQUFLckYsS0FBSzRCLE1BQU11RyxXQUFhLFVBRTdCLEVBQUtuSSxLQUFLNEIsTUFBTTZGLElBQU0sTUFDdEIsRUFBS3pILEtBQUs0QixNQUFNOEYsS0FBT25HLEVBQVMsSUFDaEMsRUFBS3ZCLEtBQUs0QixNQUFNdUcsWUFBYyxFQUFLOUMsZUFBaUIsRUFBSSxLQUN4RCxFQUFLckYsS0FBSzRCLE1BQU1zRyxVQUFZLFNBSWhDLEtBQUE3QyxhQUFlLFdBQ2IsT0FBSSxFQUFLMUUsV0FDQSxFQUFLWCxLQUFLd0gsd0JBQXdCRyxPQUdwQyxFQUFLM0gsS0FBS3dILHdCQUF3QkksT0FHM0MsS0FBQWxHLE9BQVMsU0FBQ2YsR0FDUixFQUFLQSxXQUFhQSxFQUVkLEVBQUtBLFdBQ1AsRUFBS1gsS0FBS0ksVUFBVUMsSUFBSSxrQ0FFeEIsRUFBS0wsS0FBS0ksVUFBVXlILE9BQU8sbUNBSXZCLEtBQUE5QyxLQUFPLFNBQUN6RixHQUNkLEVBQUtVLEtBQUtzRixRQUFVLEVBQUs4QyxnQkFDekIsRUFBS25KLFVBQVVDLFlBQVlJLElBR3JCLEtBQUE4SSxnQkFBa0IsV0FDeEIsRUFBS25KLFVBQVVZLG9CQUFvQixFQUFLNUIsUUF2RHhDZSxLQUFLZ0IsS0FBTyxrQkFBVyxnQkFDdkJoQixLQUFLMkIsV0FBYUEsRUFDbEIzQixLQUFLQyxVQUFZLElBQUksVUFDckJELEtBQUsrRixLQUFLekYsSUF3REMsYSw2QkN6RWYsa0JBRUEsRUFLRSxTQUFZcUIsR0FBWixXQUtBLEtBQUFXLFlBQWMsU0FBQ0MsR0FDVCxFQUFLWixZQUNQLEVBQUtYLEtBQUs0QixNQUFNOEYsS0FBTyxJQUN2QixFQUFLMUgsS0FBSzRCLE1BQU1nRyxNQUFRLE9BQ3hCLEVBQUs1SCxLQUFLNEIsTUFBTTZGLElBQU1sRyxFQUFTLE9BRS9CLEVBQUt2QixLQUFLNEIsTUFBTTZGLElBQU0sSUFDdEIsRUFBS3pILEtBQUs0QixNQUFNK0YsT0FBUyxPQUN6QixFQUFLM0gsS0FBSzRCLE1BQU04RixLQUFPbkcsRUFBUyxPQUlwQyxLQUFBZ0csYUFBZSxTQUFDYyxHQUNWLEVBQUsxSCxXQUNQLEVBQUtYLEtBQUs0QixNQUFNK0YsT0FBU1UsRUFBWSxLQUVyQyxFQUFLckksS0FBSzRCLE1BQU1nRyxNQUFRUyxFQUFZLE1BSXhDLEtBQUEzRyxPQUFTLFNBQUNmLEdBQ1IsRUFBS0EsV0FBYUEsR0F6QmxCM0IsS0FBS2dCLEtBQU8sa0JBQVcsd0JBQ3ZCaEIsS0FBSzJCLFdBQWFBLEdBNEJQLGEsNkJDcENmLGtCQUVBLGFBS0UsV0FBWTRDLEdBQ1Z2RSxLQUFLdUUsY0FBZ0JBLEVBQ3JCdkUsS0FBS0MsVUFBWSxJQUFJLFVBZ0J6QixPQWJFLFlBQUEwRSxtQkFBQSxTQUFtQjdELEdBQ2JkLEtBQUt1RSxjQUFjRSxrQkFBb0IzRCxJQUN6Q2QsS0FBS3VFLGNBQWNFLGdCQUFrQjNELEVBQ3JDZCxLQUFLQyxVQUFVVSxvQkFJbkIsWUFBQWlFLG1CQUFBLFNBQW1COUQsR0FDYmQsS0FBS3VFLGNBQWNHLGtCQUFvQjVELElBQ3pDZCxLQUFLdUUsY0FBY0csZ0JBQWtCNUQsRUFDckNkLEtBQUtDLFVBQVVVLG9CQUdyQixFQXZCQSxHQXlCZSxhLGdCQzVCZixJQUFJQyxFQUFNLENBQ1QsNkJBQThCLEVBQzlCLHFEQUFzRCxFQUN0RCxtQkFBb0IsR0FDcEIsaUJBQWtCLEVBQ2xCLDJCQUE0QixFQUM1Qiw2QkFBOEIsRUFDOUIsMkNBQTRDLEdBQzVDLGlDQUFrQyxFQUNsQyxtQ0FBb0MsR0FDcEMsK0JBQWdDLEdBQ2hDLG1DQUFvQyxHQUNwQywrQkFBZ0MsRUFDaEMseUNBQTBDLEVBQzFDLGlEQUFrRCxFQUNsRCxjQUFlLEdBQ2YsZUFBZ0IsR0FDaEIsYUFBYyxHQUlmLFNBQVMwSSxFQUFlQyxHQUN2QixJQUFJQyxFQUFLQyxFQUFzQkYsR0FDL0IsT0FBTzNMLEVBQW9CNEwsR0FFNUIsU0FBU0MsRUFBc0JGLEdBQzlCLElBQUkzTCxFQUFvQmEsRUFBRW1DLEVBQUsySSxHQUFNLENBQ3BDLElBQUlHLEVBQUksSUFBSXRKLE1BQU0sdUJBQXlCbUosRUFBTSxLQUVqRCxNQURBRyxFQUFFQyxLQUFPLG1CQUNIRCxFQUVQLE9BQU85SSxFQUFJMkksR0FFWkQsRUFBZXRGLEtBQU8sV0FDckIsT0FBT3RGLE9BQU9zRixLQUFLcEQsSUFFcEIwSSxFQUFlTSxRQUFVSCxFQUN6QjFMLEVBQU9ELFFBQVV3TCxFQUNqQkEsRUFBZUUsR0FBSyxJLHdDQ2xDSUssRUFDaEJDLEVBVUFDLEUsc05BWGdCRixFQXlEdEJHLE9BeERNRixFQUFTLENBQ2J2SSxTQUFVLEVBQ1ZDLFNBQVUsSUFDVkMsS0FBTSxFQUNOQyxTQUFTLEVBQ1RDLFlBQVksRUFDWkMsV0FBVyxFQUNYQyxTQUFTLEdBR0xrSSxFQUFtQixDQUN2QmhFLEtBQU0sU0FBY2tFLEdBQ2xCLElBQUtKLEVBQUU3SixNQUFNYyxLQUFLLFVBQVcsQ0FDM0IsSUFBTW9KLEVBQVksRUFBSCxHQUFRSixHQUNqQkssRUFBUyxJQUFJLFVBQVdOLEVBQUVPLE9BQU9GLEVBQVdELElBQ2xESixFQUFFN0osTUFBTWMsS0FBSyxTQUFVcUosR0FFdkJBLEVBQU9uSCxhQUFhNkcsRUFBRTdKLFNBSTFCMEMsT0FBUSxTQUFnQnVILEdBQ1BKLEVBQUU3SixNQUFNYyxLQUFLLFVBQ3JCZ0QsYUFBYW1HLElBR3RCcEYsVUFBVyxXQUVULE9BRGVnRixFQUFFN0osTUFBTWMsS0FBSyxVQUNkK0QsYUFHaEJMLFVBQVcsU0FBbUJ5RixHQUNiSixFQUFFN0osTUFBTWMsS0FBSyxVQUNyQjBELFVBQVV5RixFQUFJeEYsZ0JBQWlCd0YsRUFBSXZGLGtCQUc1QzJGLGFBQWMsU0FBc0JKLEdBQ2xDLElBQU1FLEVBQVNOLEVBQUU3SixNQUFNYyxLQUFLLFVBQzVCcUosRUFBT2pLLGFBQVksV0FDakIrSixFQUFJSyxjQUFjQyxJQUFJSixFQUFPOUYsWUFBWUksaUJBQ3pDd0YsRUFBSU8sY0FBY0QsSUFBSUosRUFBTzlGLFlBQVlLLGlCQUN6Q3VGLEVBQUl6SSxTQUFTK0ksSUFBSUosRUFBT3RGLFlBQVlyRCxVQUNwQ3lJLEVBQUkxSSxTQUFTZ0osSUFBSUosRUFBT3RGLFlBQVl0RCxVQUNwQzBJLEVBQUl4SSxLQUFLOEksSUFBSUosRUFBT3RGLFlBQVlwRCxXQUt0Q29JLEVBQUUxSixHQUFHc0ssV0FBYSxTQUF1QkMsRyxJQUFnQix3REFDdkQsT0FBSVgsRUFBUVcsR0FDSFgsRUFBUVcsR0FBUUMsTUFBTTNLLEtBQU00SyxHQUNiLGlCQUFYRixHQUF3QkEsT0FHckNiLEVBQUVnQixNQUFNLFNBQVNILEVBQU0sMENBRmRYLEVBQVFoRSxLQUFLNEUsTUFBTTNLLEtBQU04SyxhLHVEQ3pEdkIsSUNFSWhNLEVERkosS0NFSUEsRUFJVCxPQUhOa0YsT0FBTzNELFFBQVF2QiIsImZpbGUiOiJidW5kbGUuanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gMTkpO1xuIiwiY2xhc3MgTWFrZU9ic2VydmFibGVPYmplY3Qge1xyXG4gIG9ic2VydmVyczogQXJyYXk8RnVuY3Rpb24+O1xyXG5cclxuICBjb25zdHJ1Y3RvcigpIHtcclxuICAgIHRoaXMub2JzZXJ2ZXJzID0gW107XHJcbiAgfVxyXG5cclxuICBhZGRPYnNlcnZlcihmbjogRnVuY3Rpb24pOiB2b2lkIHtcclxuICAgIGlmICh0eXBlb2YgZm4gIT09ICdmdW5jdGlvbicpIHtcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKCdvYnNlcnZlciBtdXN0IGJlIGEgZnVuY3Rpb24nKTtcclxuICAgIH1cclxuICAgIHRoaXMub2JzZXJ2ZXJzLmZvckVhY2goKG9ic2VydmVyKSA9PiB7XHJcbiAgICAgIGlmIChvYnNlcnZlciA9PT0gZm4pIHtcclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ29ic2VydmVyIGFscmVhZHkgaW4gdGhlIGxpc3QnKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgICB0aGlzLm9ic2VydmVycy5wdXNoKGZuKTtcclxuICB9XHJcblxyXG4gIHJlbW92ZU9ic2VydmVyKGZuOiBGdW5jdGlvbik6IHZvaWQge1xyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLm9ic2VydmVycy5sZW5ndGg7IGkgKz0gMSkge1xyXG4gICAgICBjb25zdCBvYnNlcnZlciA9IHRoaXMub2JzZXJ2ZXJzW2ldO1xyXG4gICAgICBpZiAob2JzZXJ2ZXIgPT09IGZuKSB7XHJcbiAgICAgICAgdGhpcy5vYnNlcnZlcnMuc3BsaWNlKGksIDEpO1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgdGhyb3cgbmV3IEVycm9yKCdjb3VsZCBub3QgZmluZCBvYnNlcnZlciBpbiBsaXN0IG9mIG9ic2VydmVycycpO1xyXG4gIH1cclxuXHJcbiAgbm90aWZ5T2JzZXJ2ZXJzKCk6IHZvaWQge1xyXG4gICAgY29uc3Qgb2JzZXJ2ZXJzU25hcHNob3QgPSBbLi4udGhpcy5vYnNlcnZlcnNdO1xyXG4gICAgb2JzZXJ2ZXJzU25hcHNob3QubWFwKChvYnNlcnZlcikgPT4gb2JzZXJ2ZXIoKSk7XHJcbiAgfVxyXG5cclxuICBub3RpZnlPYnNlcnZlcnNEYXRhKGRhdGE6IGFueSk6IHZvaWQge1xyXG4gICAgY29uc3Qgb2JzZXJ2ZXJzU25hcHNob3QgPSBbLi4udGhpcy5vYnNlcnZlcnNdO1xyXG4gICAgb2JzZXJ2ZXJzU25hcHNob3QubWFwKChvYnNlcnZlcikgPT4gb2JzZXJ2ZXIoZGF0YSkpO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgTWFrZU9ic2VydmFibGVPYmplY3Q7XHJcbiIsImZ1bmN0aW9uIGNyZWF0ZUVsZW0oY2xhc3NOYW1lOiBzdHJpbmcpIDpIVE1MRWxlbWVudCB7XHJcbiAgY29uc3QgZWxlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gIGVsZW0ub25kcmFnc3RhcnQgPSAoKSA9PiBmYWxzZTtcclxuICBlbGVtLmNsYXNzTGlzdC5hZGQoY2xhc3NOYW1lKTtcclxuICByZXR1cm4gZWxlbTtcclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgY3JlYXRlRWxlbTtcclxuIiwiaW1wb3J0IFJ1bm5lciBmcm9tICcuL1ZpZXcvYmxvY2tzL1J1bm5lci9SdW5uZXInO1xyXG5cclxuZXhwb3J0IHR5cGUgRnVuY3Rpb25DYWxsYmFja1ZvaWQgPSAoKSA9PiB2b2lkO1xyXG5cclxuZXhwb3J0IHR5cGUgRnVuY3Rpb25DYWxsYmFja0RhdGEgPSAoYXJnOiBhbnkpID0+IHZvaWQ7XHJcblxyXG5leHBvcnQgdHlwZSBSdW5uZXJNb3ZlRGF0YSA9IHtcclxuICBydW5uZXI6IFJ1bm5lcixcclxuICBvZmZzZXQ6IG51bWJlcixcclxuICB2YWx1ZTogbnVtYmVyLFxyXG59XHJcblxyXG5leHBvcnQgdHlwZSBDdXJyZW50VmFsdWVzID0ge1xyXG4gIGN1cnJlbnRNaW5WYWx1ZTogbnVtYmVyLFxyXG4gIGN1cnJlbnRNYXhWYWx1ZTogbnVtYmVyLFxyXG59XHJcblxyXG5leHBvcnQgdHlwZSBDdXJyZW50VmFsdWVDaGFuZ2luZ0RhdGEgPSB7XHJcbiAgdHlwZU9mVmFsdWU6IHN0cmluZyxcclxuICB2YWx1ZTogbnVtYmVyLFxyXG59XHJcblxyXG5leHBvcnQgdHlwZSBSdW5uZXJPYnNlcnZlckRhdGEgPSB7XHJcbiAgZXZlbnQ6IE1vdXNlRXZlbnQsXHJcbiAgcnVubmVyOiBSdW5uZXIsXHJcbn1cclxuXHJcbmV4cG9ydCB0eXBlIFBhcmFtZXRlcnMgPSB7XHJcbiAgbWluVmFsdWU6IG51bWJlcixcclxuICBtYXhWYWx1ZTogbnVtYmVyLFxyXG4gIHN0ZXA6IG51bWJlcixcclxuICBpc1JhbmdlOiBib29sZWFuLFxyXG4gIGlzVmVydGljYWw6IGJvb2xlYW4sXHJcbiAgc2hvd0xhYmVsOiBib29sZWFuLFxyXG4gIGlzRmxvYXQ6IGJvb2xlYW5cclxufVxyXG5cclxuZXhwb3J0IHR5cGUgUmF3UGFyYW1ldGVycyA9IHtcclxuICBtaW5WYWx1ZTogc3RyaW5nfG51bWJlcixcclxuICBtYXhWYWx1ZTogc3RyaW5nfG51bWJlcixcclxuICBzdGVwOiBzdHJpbmd8bnVtYmVyLFxyXG4gIGlzUmFuZ2U6IGJvb2xlYW4sXHJcbiAgaXNWZXJ0aWNhbDogYm9vbGVhbixcclxuICBzaG93TGFiZWw6IGJvb2xlYW4sXHJcbiAgaXNGbG9hdDogYm9vbGVhblxyXG59XHJcblxyXG5leHBvcnQgY29uc3QgZGVmYXVsdFBhcmFtZXRlcnMgPSB7XHJcbiAgbWluVmFsdWU6IDAsXHJcbiAgbWF4VmFsdWU6IDEwMDAsXHJcbiAgc3RlcDogMSxcclxuICBpc1JhbmdlOiBmYWxzZSxcclxuICBpc1ZlcnRpY2FsOiBmYWxzZSxcclxuICBzaG93TGFiZWw6IGZhbHNlLFxyXG4gIGlzRmxvYXQ6IGZhbHNlXHJcbn07XHJcbiIsImNsYXNzIFBhcnNpbmdEaWdpdHMge1xyXG4gIHN0YXRpYyBwYXJzaW5nID0gKGl0ZW06IHN0cmluZ3xudW1iZXIpOiBudW1iZXJ8bnVsbCA9PiB7XHJcbiAgICBpZiAodHlwZW9mIGl0ZW0gPT09ICdudW1iZXInKSB7XHJcbiAgICAgIHJldHVybiBpdGVtO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICh0eXBlb2YgaXRlbSA9PT0gJ3N0cmluZycpIHtcclxuICAgICAgaWYgKC9eLT9cXGQrWy4sXVxcZCskLy50ZXN0KGl0ZW0pKSB7XHJcbiAgICAgICAgcmV0dXJuIHBhcnNlRmxvYXQoaXRlbSk7XHJcbiAgICAgIH0gaWYgKC9eLT9cXGQrJC8udGVzdChpdGVtKSkge1xyXG4gICAgICAgIHJldHVybiBwYXJzZUludChpdGVtLCAxMCk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gbnVsbDtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IFBhcnNpbmdEaWdpdHM7XHJcbiIsImltcG9ydCAqIGFzIHR5cGVzIGZyb20gJy4uLy4uLy4uL3R5cGVzJztcclxuaW1wb3J0IEtub2IgZnJvbSAnLi4vS25vYi9Lbm9iJztcclxuaW1wb3J0IFRvb2x0aXAgZnJvbSAnLi4vVG9vbHRpcC9Ub29sdGlwJztcclxuaW1wb3J0IE1ha2VPYnNlcnZhYmxlT2JqZWN0IGZyb20gJy4uLy4uLy4uL21ha2VPYnNlcnZhYmxlT2JqZWN0L01ha2VPYnNlcnZhYmxlT2JqZWN0JztcclxuXHJcbmNsYXNzIFJ1bm5lciB7XHJcbiAga25vYjogS25vYjtcclxuXHJcbiAgdG9vbHRpcDogVG9vbHRpcDtcclxuXHJcbiAgaXNWZXJ0aWNhbDogYm9vbGVhbjtcclxuXHJcbiAgb2JzZXJ2ZXJzOiBNYWtlT2JzZXJ2YWJsZU9iamVjdDtcclxuXHJcbiAgY29uc3RydWN0b3IoaXNWZXJ0aWNhbDogYm9vbGVhbiwgbW92ZU9ic2VydmVyOiB0eXBlcy5GdW5jdGlvbkNhbGxiYWNrRGF0YSkge1xyXG4gICAgdGhpcy5pc1ZlcnRpY2FsID0gaXNWZXJ0aWNhbDtcclxuICAgIHRoaXMua25vYiA9IG5ldyBLbm9iKGlzVmVydGljYWwpO1xyXG4gICAgdGhpcy50b29sdGlwID0gbmV3IFRvb2x0aXAoaXNWZXJ0aWNhbCk7XHJcbiAgICB0aGlzLm9ic2VydmVycyA9IG5ldyBNYWtlT2JzZXJ2YWJsZU9iamVjdCgpO1xyXG4gICAgdGhpcy5vYnNlcnZlcnMuYWRkT2JzZXJ2ZXIobW92ZU9ic2VydmVyKTtcclxuICB9XHJcblxyXG4gIGdldFBvc2l0aW9uID0gKCk6IG51bWJlciA9PiB7XHJcbiAgICByZXR1cm4gdGhpcy5rbm9iLmdldFBvc2l0aW9uKCk7XHJcbiAgfVxyXG5cclxuICBzZXRQb3NpdGlvbiA9IChvZmZzZXQ6IG51bWJlciwgdmFsdWU6IG51bWJlcik6IHZvaWQgPT4ge1xyXG4gICAgdGhpcy50b29sdGlwLnNldFBvc2l0aW9uKG9mZnNldCArIHRoaXMua25vYi5nZXRXaWR0aCgpIC8gMiwgdmFsdWUpO1xyXG4gICAgdGhpcy5rbm9iLnNldFBvc2l0aW9uKG9mZnNldCk7XHJcbiAgfVxyXG5cclxuICB1cGRhdGUgPSAoaXNWZXJ0aWNhbDogYm9vbGVhbik6IHZvaWQgPT4ge1xyXG4gICAgdGhpcy5rbm9iLnVwZGF0ZShpc1ZlcnRpY2FsKTtcclxuICAgIHRoaXMudG9vbHRpcC51cGRhdGUoaXNWZXJ0aWNhbCk7XHJcbiAgfVxyXG5cclxuICBnZXRXaWR0aCA9ICgpOiBudW1iZXIgPT4ge1xyXG4gICAgcmV0dXJuIHRoaXMua25vYi5nZXRXaWR0aCgpO1xyXG4gIH1cclxuXHJcbiAgaGlkZVJ1bm5lciA9ICgpOiB2b2lkID0+IHtcclxuICAgIHRoaXMua25vYi5lbGVtLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XHJcbiAgICB0aGlzLnRvb2x0aXAuZWxlbS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xyXG4gIH1cclxuXHJcbiAgaGlkZUxhYmVsID0gKCk6IHZvaWQgPT4ge1xyXG4gICAgdGhpcy50b29sdGlwLmVsZW0uc3R5bGUuZGlzcGxheSA9ICdub25lJztcclxuICB9XHJcblxyXG4gIHNob3dMYWJlbCA9ICgpOiB2b2lkID0+IHtcclxuICAgIHRoaXMudG9vbHRpcC5lbGVtLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xyXG4gIH1cclxuXHJcbiAgc2hvd1J1bm5lciA9ICgpOiB2b2lkID0+IHtcclxuICAgIHRoaXMua25vYi5lbGVtLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xyXG4gIH1cclxuXHJcbiAgYXBwZW5kVG9Ob2RlID0gKGVudHJ5OiBIVE1MRWxlbWVudCk6IHZvaWQgPT4ge1xyXG4gICAgW3RoaXMua25vYi5lbGVtLCB0aGlzLnRvb2x0aXAuZWxlbV0uZm9yRWFjaCgoZWxlbSkgPT4ge1xyXG4gICAgICBlbnRyeS5hcHBlbmRDaGlsZChlbGVtKTtcclxuICAgICAgZWxlbS5vbm1vdXNlZG93biA9IHRoaXMuaGFuZGxlUnVubmVyTW91c2VEb3duOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXBhcmFtLXJlYXNzaWduXHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgaGFuZGxlUnVubmVyTW91c2VEb3duID0gKGV2ZW50OiBNb3VzZUV2ZW50KTogdm9pZCA9PiB7XHJcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgdGhpcy5oYW5kbGVSdW5uZXJNb3VzZU1vdmUpO1xyXG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIHRoaXMuaGFuZGxlUnVubmVyTW91c2VVcCk7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGhhbmRsZVJ1bm5lck1vdXNlTW92ZSA9IChldmVudDogTW91c2VFdmVudCk6IHZvaWQgPT4ge1xyXG4gICAgdGhpcy5vYnNlcnZlcnMubm90aWZ5T2JzZXJ2ZXJzRGF0YSh7IGV2ZW50OiBldmVudCwgcnVubmVyOiB0aGlzIH0pO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBoYW5kbGVSdW5uZXJNb3VzZVVwID0gKCk6IHZvaWQgPT4ge1xyXG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIHRoaXMuaGFuZGxlUnVubmVyTW91c2VVcCk7XHJcbiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCB0aGlzLmhhbmRsZVJ1bm5lck1vdXNlTW92ZSk7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBSdW5uZXI7XHJcbiIsImltcG9ydCAqIGFzIHR5cGVzIGZyb20gJy4uL3R5cGVzJztcclxuaW1wb3J0IFZpZXcgZnJvbSAnLi4vVmlldy9WaWV3JztcclxuaW1wb3J0IE1vZGVsIGZyb20gJy4uL01vZGVsL01vZGVsJztcclxuaW1wb3J0IE1ha2VPYnNlcnZhYmxlT2JqZWN0IGZyb20gJy4uL21ha2VPYnNlcnZhYmxlT2JqZWN0L01ha2VPYnNlcnZhYmxlT2JqZWN0JztcclxuaW1wb3J0IFBhcnNpbmdEaWdpdHMgZnJvbSAnLi9ibG9ja3MvcGFyc2luZ0RpZ2l0cy9QYXJzaW5nRGlnaXRzJztcclxuXHJcbmNsYXNzIENvbnRyb2xsZXIge1xyXG4gIHZpZXc6IFZpZXc7XHJcblxyXG4gIG1vZGVsOiBNb2RlbDtcclxuXHJcbiAgb2JzZXJ2ZXJzOiBNYWtlT2JzZXJ2YWJsZU9iamVjdDtcclxuXHJcbiAgY29uc3RydWN0b3IocGFyYW1ldGVycyA9IHR5cGVzLmRlZmF1bHRQYXJhbWV0ZXJzKSB7XHJcbiAgICB0aGlzLnZpZXcgPSBuZXcgVmlldyhwYXJhbWV0ZXJzKTtcclxuICAgIHRoaXMubW9kZWwgPSBuZXcgTW9kZWwoe1xyXG4gICAgICBjdXJyZW50TWluVmFsdWU6IHBhcmFtZXRlcnMubWluVmFsdWUsXHJcbiAgICAgIGN1cnJlbnRNYXhWYWx1ZTogcGFyYW1ldGVycy5tYXhWYWx1ZVxyXG4gICAgfSk7XHJcbiAgICB0aGlzLm9ic2VydmVycyA9IG5ldyBNYWtlT2JzZXJ2YWJsZU9iamVjdCgpO1xyXG4gICAgdGhpcy5hZGRWaWV3T2JzZXJ2ZXIoKTtcclxuICAgIHRoaXMuYWRkTW9kZWxPYnNlcnZlcigpO1xyXG4gIH1cclxuXHJcbiAgYXBwZW5kVG9Ob2RlID0gKGVudHJ5OiBKUXVlcnkpOiB2b2lkID0+IHtcclxuICAgIHRoaXMudmlldy5hcHBlbmRUb05vZGUoZW50cnkuZ2V0KDApKTtcclxuICAgIHRoaXMudmlldy51cGRhdGUoKTtcclxuICB9XHJcblxyXG4gIHVwZGF0ZUNvbmZpZyA9IChwYXJhbWV0ZXJzOiB0eXBlcy5SYXdQYXJhbWV0ZXJzKTogdm9pZCA9PiB7XHJcbiAgICBjb25zdCBwYXJhbWV0ZXJzU25hcHNob3QgPSBwYXJhbWV0ZXJzO1xyXG4gICAgT2JqZWN0LmtleXMocGFyYW1ldGVycykuZm9yRWFjaCgoa2V5KSA9PiB7XHJcbiAgICAgIGlmIChrZXkgPT09ICdzdGVwJykge1xyXG4gICAgICAgIHBhcmFtZXRlcnNTbmFwc2hvdC5zdGVwID0gdGhpcy5jaGVja1N0ZXAocGFyYW1ldGVycy5zdGVwIGFzIHN0cmluZyk7XHJcbiAgICAgIH0gZWxzZSBpZiAoa2V5ID09PSAnbWF4VmFsdWUnKSB7XHJcbiAgICAgICAgcGFyYW1ldGVyc1NuYXBzaG90Lm1heFZhbHVlID0gdGhpcy5jaGVja01heFZhbHVlKHBhcmFtZXRlcnMubWF4VmFsdWUgYXMgc3RyaW5nKTtcclxuICAgICAgfSBlbHNlIGlmIChrZXkgPT09ICdtaW5WYWx1ZScpIHtcclxuICAgICAgICBwYXJhbWV0ZXJzU25hcHNob3QubWluVmFsdWUgPSB0aGlzLmNoZWNrTWluVmFsdWUocGFyYW1ldGVycy5taW5WYWx1ZSBhcyBzdHJpbmcpO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICB0aGlzLnZpZXcucGFyYW1ldGVycyA9IE9iamVjdC5hc3NpZ24odGhpcy52aWV3LnBhcmFtZXRlcnMsIHBhcmFtZXRlcnNTbmFwc2hvdCk7XHJcbiAgICB0aGlzLnZpZXcudXBkYXRlKCk7XHJcbiAgfVxyXG5cclxuICBnZXRWYWx1ZXMgPSAoKTogdHlwZXMuQ3VycmVudFZhbHVlcyA9PiB7XHJcbiAgICByZXR1cm4gdGhpcy5tb2RlbC5jdXJyZW50VmFsdWVzO1xyXG4gIH1cclxuXHJcbiAgc2V0VmFsdWVzID0gKGN1cnJlbnRNaW5WYWx1ZTogbnVtYmVyLCBjdXJyZW50TWF4VmFsdWU6IG51bWJlcik6IHZvaWQgPT4ge1xyXG4gICAgaWYgKGN1cnJlbnRNaW5WYWx1ZSB8fCBjdXJyZW50TWluVmFsdWUgPT09IDApIHtcclxuICAgICAgdGhpcy5tb2RlbC5zZXRDdXJyZW50TWluVmFsdWUoY3VycmVudE1pblZhbHVlKTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoY3VycmVudE1heFZhbHVlIHx8IGN1cnJlbnRNYXhWYWx1ZSA9PT0gMCkge1xyXG4gICAgICB0aGlzLm1vZGVsLnNldEN1cnJlbnRNYXhWYWx1ZShjdXJyZW50TWF4VmFsdWUpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZ2V0Q29uZmlnID0gKCk6IHR5cGVzLlBhcmFtZXRlcnMgPT4ge1xyXG4gICAgcmV0dXJuIHRoaXMudmlldy5wYXJhbWV0ZXJzO1xyXG4gIH1cclxuXHJcbiAgYWRkT2JzZXJ2ZXIgPSAoZm46IHR5cGVzLkZ1bmN0aW9uQ2FsbGJhY2tWb2lkKTogdm9pZCA9PiB7XHJcbiAgICB0aGlzLm9ic2VydmVycy5hZGRPYnNlcnZlcihmbik7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGNoZWNrU3RlcCA9IChzdGVwOiBzdHJpbmcpOiBudW1iZXIgPT4ge1xyXG4gICAgY29uc3Qgc3RlcENoZWNrZWQgPSBNYXRoLmFicyhQYXJzaW5nRGlnaXRzLnBhcnNpbmcoc3RlcCkpO1xyXG5cclxuICAgIGlmICh0aGlzLmlzU3RlcFZhbHVlV3Jvbmcoc3RlcENoZWNrZWQpKSB7XHJcbiAgICAgIHJldHVybiB0aGlzLnZpZXcucGFyYW1ldGVycy5zdGVwO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChzdGVwQ2hlY2tlZCAlIDEgIT09IDApIHtcclxuICAgICAgdGhpcy52aWV3LnBhcmFtZXRlcnMuaXNGbG9hdCA9IHRydWU7XHJcbiAgICB9IGVsc2UgaWYgKCF0aGlzLmlzT3RoZXJzVmFsdWVzRmxvYXQoJ3N0ZXAnKSkge1xyXG4gICAgICB0aGlzLnZpZXcucGFyYW1ldGVycy5pc0Zsb2F0ID0gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHN0ZXBDaGVja2VkO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBpc1N0ZXBWYWx1ZVdyb25nID0gKHN0ZXBDaGVja2VkOiBudW1iZXIpOiBib29sZWFuID0+IHtcclxuICAgIGNvbnN0IGlzU3RlcE1vcmVUaGFuSGFsZiA9IHN0ZXBDaGVja2VkXHJcbiAgICAgID4gKHRoaXMudmlldy5wYXJhbWV0ZXJzLm1heFZhbHVlIC0gdGhpcy52aWV3LnBhcmFtZXRlcnMubWluVmFsdWUpIC8gMjtcclxuICAgIHJldHVybiAoc3RlcENoZWNrZWQgPT09IG51bGwgfHwgc3RlcENoZWNrZWQgPT09IDAgfHwgaXNTdGVwTW9yZVRoYW5IYWxmKTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgaXNPdGhlcnNWYWx1ZXNGbG9hdCA9IChwYXJhbWV0ZXI6IHN0cmluZyk6IGJvb2xlYW4gPT4ge1xyXG4gICAgc3dpdGNoIChwYXJhbWV0ZXIpIHtcclxuICAgICAgY2FzZSAnc3RlcCc6XHJcbiAgICAgICAgcmV0dXJuICh0aGlzLnZpZXcucGFyYW1ldGVycy5tYXhWYWx1ZSAlIDEgIT09IDAgfHwgdGhpcy52aWV3LnBhcmFtZXRlcnMubWluVmFsdWUgJSAxICE9PSAwKTtcclxuICAgICAgY2FzZSAnbWF4VmFsdWUnOlxyXG4gICAgICAgIHJldHVybiAodGhpcy52aWV3LnBhcmFtZXRlcnMuc3RlcCAlIDEgIT09IDAgfHwgdGhpcy52aWV3LnBhcmFtZXRlcnMubWluVmFsdWUgJSAxICE9PSAwKTtcclxuICAgICAgY2FzZSAnbWluVmFsdWUnOlxyXG4gICAgICAgIHJldHVybiAodGhpcy52aWV3LnBhcmFtZXRlcnMuc3RlcCAlIDEgIT09IDAgfHwgdGhpcy52aWV3LnBhcmFtZXRlcnMubWF4VmFsdWUgJSAxICE9PSAwKTtcclxuICAgICAgZGVmYXVsdDpcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGNoZWNrTWF4VmFsdWUgPSAobWF4VmFsdWU6IHN0cmluZyk6IG51bWJlciA9PiB7XHJcbiAgICBjb25zdCBtYXhWYWx1ZUNoZWNrZWQgPSBQYXJzaW5nRGlnaXRzLnBhcnNpbmcobWF4VmFsdWUpO1xyXG5cclxuICAgIGlmICh0aGlzLmlzTWF4VmFsdWVXcm9uZyhtYXhWYWx1ZUNoZWNrZWQpKSB7XHJcbiAgICAgIHJldHVybiB0aGlzLnZpZXcucGFyYW1ldGVycy5tYXhWYWx1ZTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAobWF4VmFsdWVDaGVja2VkICUgMSAhPT0gMCkge1xyXG4gICAgICB0aGlzLnZpZXcucGFyYW1ldGVycy5pc0Zsb2F0ID0gdHJ1ZTtcclxuICAgIH0gZWxzZSBpZiAoIXRoaXMuaXNPdGhlcnNWYWx1ZXNGbG9hdCgnbWF4VmFsdWUnKSkge1xyXG4gICAgICB0aGlzLnZpZXcucGFyYW1ldGVycy5pc0Zsb2F0ID0gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIG1heFZhbHVlQ2hlY2tlZDtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgaXNNYXhWYWx1ZVdyb25nID0gKG1heFZhbHVlQ2hlY2tlZDogbnVtYmVyKTogYm9vbGVhbiA9PiB7XHJcbiAgICByZXR1cm4gKG1heFZhbHVlQ2hlY2tlZCA9PT0gbnVsbCB8fCBtYXhWYWx1ZUNoZWNrZWQgPD0gdGhpcy52aWV3LnBhcmFtZXRlcnMubWluVmFsdWUpO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBjaGVja01pblZhbHVlID0gKG1pblZhbHVlOiBzdHJpbmcpOiBudW1iZXIgPT4ge1xyXG4gICAgY29uc3QgbWluVmFsdWVDaGVja2VkID0gUGFyc2luZ0RpZ2l0cy5wYXJzaW5nKG1pblZhbHVlKTtcclxuXHJcbiAgICBpZiAodGhpcy5pc01pblZhbHVlV3JvbmcobWluVmFsdWVDaGVja2VkKSkge1xyXG4gICAgICByZXR1cm4gdGhpcy52aWV3LnBhcmFtZXRlcnMubWluVmFsdWU7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKG1pblZhbHVlQ2hlY2tlZCAlIDEgIT09IDApIHtcclxuICAgICAgdGhpcy52aWV3LnBhcmFtZXRlcnMuaXNGbG9hdCA9IHRydWU7XHJcbiAgICB9IGVsc2UgaWYgKCF0aGlzLmlzT3RoZXJzVmFsdWVzRmxvYXQoJ21pblZhbHVlJykpIHtcclxuICAgICAgdGhpcy52aWV3LnBhcmFtZXRlcnMuaXNGbG9hdCA9IGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBtaW5WYWx1ZUNoZWNrZWQ7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGlzTWluVmFsdWVXcm9uZyA9IChtaW5WYWx1ZUNoZWNrZWQ6IG51bWJlcik6IGJvb2xlYW4gPT4ge1xyXG4gICAgcmV0dXJuIChtaW5WYWx1ZUNoZWNrZWQgPT09IG51bGwgfHwgbWluVmFsdWVDaGVja2VkID49IHRoaXMudmlldy5wYXJhbWV0ZXJzLm1heFZhbHVlKTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgYWRkVmlld09ic2VydmVyID0gKCk6IHZvaWQgPT4ge1xyXG4gICAgdGhpcy52aWV3Lm9ic2VydmVycy5hZGRPYnNlcnZlcigoKSA9PiB7XHJcbiAgICAgIHRoaXMubW9kZWwuY3VycmVudFZhbHVlcyA9IHRoaXMudmlldy5jdXJyZW50VmFsdWVzO1xyXG4gICAgICB0aGlzLm9ic2VydmVycy5ub3RpZnlPYnNlcnZlcnMoKTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBhZGRNb2RlbE9ic2VydmVyID0gKCk6IHZvaWQgPT4ge1xyXG4gICAgdGhpcy5tb2RlbC5vYnNlcnZlcnMuYWRkT2JzZXJ2ZXIoKCkgPT4ge1xyXG4gICAgICB0aGlzLnZpZXcuY3VycmVudFZhbHVlcyA9IHRoaXMubW9kZWwuY3VycmVudFZhbHVlcztcclxuICAgICAgdGhpcy52aWV3LnVwZGF0ZSgpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBDb250cm9sbGVyO1xyXG4iLCJpbXBvcnQgKiBhcyB0eXBlcyBmcm9tICcuLi90eXBlcyc7XHJcbmltcG9ydCBNYWtlT2JzZXJ2YWJsZU9iamVjdCBmcm9tICcuLi9tYWtlT2JzZXJ2YWJsZU9iamVjdC9NYWtlT2JzZXJ2YWJsZU9iamVjdCc7XHJcbmltcG9ydCBUcmFjayBmcm9tICcuL2Jsb2Nrcy9UcmFjay9UcmFjayc7XHJcblxyXG5jbGFzcyBWaWV3IHtcclxuICBwYXJhbWV0ZXJzOiB0eXBlcy5QYXJhbWV0ZXJzO1xyXG5cclxuICBjdXJyZW50VmFsdWVzOiB0eXBlcy5DdXJyZW50VmFsdWVzO1xyXG5cclxuICBvYnNlcnZlcnM6IE1ha2VPYnNlcnZhYmxlT2JqZWN0O1xyXG5cclxuICB0cmFjazogVHJhY2s7XHJcblxyXG4gIGNvbnN0cnVjdG9yKHBhcmFtZXRlcnMgPSB0eXBlcy5kZWZhdWx0UGFyYW1ldGVycykge1xyXG4gICAgdGhpcy5wYXJhbWV0ZXJzID0gcGFyYW1ldGVycztcclxuICAgIHRoaXMub2JzZXJ2ZXJzID0gbmV3IE1ha2VPYnNlcnZhYmxlT2JqZWN0KCk7XHJcbiAgICB0aGlzLnRyYWNrID0gbmV3IFRyYWNrKHRoaXMucGFyYW1ldGVycyk7XHJcbiAgICB0aGlzLmluaXQoKTtcclxuICB9XHJcblxyXG4gIHVwZGF0ZSA9ICgpOiB2b2lkID0+IHtcclxuICAgIHRoaXMudHJhY2sudXBkYXRlKHRoaXMucGFyYW1ldGVycyk7XHJcbiAgICB0aGlzLnRyYWNrLnJlbmV3UnVubmVycyh0aGlzLmN1cnJlbnRWYWx1ZXMpO1xyXG4gIH1cclxuXHJcbiAgaGFuZGxlVHJhY2tWYWx1ZUNoYW5naW5nID0gKGRhdGE6IHR5cGVzLkN1cnJlbnRWYWx1ZUNoYW5naW5nRGF0YSk6IHZvaWQgPT4ge1xyXG4gICAgaWYgKGRhdGEudHlwZU9mVmFsdWUgPT09ICdtaW5WYWx1ZScpIHtcclxuICAgICAgdGhpcy5jdXJyZW50VmFsdWVzLmN1cnJlbnRNaW5WYWx1ZSA9IGRhdGEudmFsdWU7XHJcbiAgICB9IGVsc2UgaWYgKGRhdGEudHlwZU9mVmFsdWUgPT09ICdtYXhWYWx1ZScpIHtcclxuICAgICAgdGhpcy5jdXJyZW50VmFsdWVzLmN1cnJlbnRNYXhWYWx1ZSA9IGRhdGEudmFsdWU7XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5vYnNlcnZlcnMubm90aWZ5T2JzZXJ2ZXJzKCk7XHJcbiAgfVxyXG5cclxuICBhcHBlbmRUb05vZGUgPSAoZW50cnk6IEhUTUxFbGVtZW50KTogdm9pZCA9PiB7XHJcbiAgICB0aGlzLnRyYWNrLmFwcGVuZFRvTm9kZShlbnRyeSk7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGluaXQgPSAoKTogdm9pZCA9PiB7XHJcbiAgICB0aGlzLmN1cnJlbnRWYWx1ZXMgPSB7XHJcbiAgICAgIGN1cnJlbnRNaW5WYWx1ZTogdGhpcy5wYXJhbWV0ZXJzLm1pblZhbHVlLFxyXG4gICAgICBjdXJyZW50TWF4VmFsdWU6IHRoaXMucGFyYW1ldGVycy5tYXhWYWx1ZVxyXG4gICAgfTtcclxuXHJcbiAgICB0aGlzLnRyYWNrLm9ic2VydmVycy5hZGRPYnNlcnZlcih0aGlzLmhhbmRsZVRyYWNrVmFsdWVDaGFuZ2luZyk7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBWaWV3O1xyXG4iLCJpbXBvcnQgKiBhcyB0eXBlcyBmcm9tICcuLi8uLi8uLi90eXBlcyc7XHJcbmltcG9ydCBCYXIgZnJvbSAnLi4vQmFyL0Jhcic7XHJcbmltcG9ydCBSdW5uZXIgZnJvbSAnLi4vUnVubmVyL1J1bm5lcic7XHJcbmltcG9ydCBTY2FsZSBmcm9tICcuLi9TY2FsZS9TY2FsZSc7XHJcbmltcG9ydCBQcm9ncmVzc0JhciBmcm9tICcuLi9Qcm9ncmVzc0Jhci9Qcm9ncmVzc0Jhcic7XHJcbmltcG9ydCBNYWtlT2JzZXJ2YWJsZU9iamVjdCBmcm9tICcuLi8uLi8uLi9tYWtlT2JzZXJ2YWJsZU9iamVjdC9NYWtlT2JzZXJ2YWJsZU9iamVjdCc7XHJcblxyXG5jbGFzcyBUcmFjayB7XHJcbiAgcGFyYW1ldGVyczogdHlwZXMuUGFyYW1ldGVycztcclxuXHJcbiAgcnVubmVyTWFpbjogUnVubmVyO1xyXG5cclxuICBydW5uZXJBZGRpdGlvbmFsOiBSdW5uZXI7XHJcblxyXG4gIHByb2dyZXNzQmFyOiBQcm9ncmVzc0JhcjtcclxuXHJcbiAgYmFyOiBCYXI7XHJcblxyXG4gIHNjYWxlOiBTY2FsZTtcclxuXHJcbiAgb2JzZXJ2ZXJzOiBNYWtlT2JzZXJ2YWJsZU9iamVjdDtcclxuXHJcbiAgY29uc3RydWN0b3IocGFyYW1ldGVyczogdHlwZXMuUGFyYW1ldGVycykge1xyXG4gICAgdGhpcy5wYXJhbWV0ZXJzID0gcGFyYW1ldGVycztcclxuICAgIHRoaXMucnVubmVyTWFpbiA9IG5ldyBSdW5uZXIodGhpcy5wYXJhbWV0ZXJzLmlzVmVydGljYWwsIHRoaXMuaGFuZGxlUnVubmVyTW92ZSk7XHJcbiAgICB0aGlzLnJ1bm5lckFkZGl0aW9uYWwgPSBuZXcgUnVubmVyKHRoaXMucGFyYW1ldGVycy5pc1ZlcnRpY2FsLCB0aGlzLmhhbmRsZVJ1bm5lck1vdmUpO1xyXG4gICAgdGhpcy5wcm9ncmVzc0JhciA9IG5ldyBQcm9ncmVzc0Jhcih0aGlzLnBhcmFtZXRlcnMuaXNWZXJ0aWNhbCk7XHJcbiAgICB0aGlzLmJhciA9IG5ldyBCYXIodGhpcy5wYXJhbWV0ZXJzLmlzVmVydGljYWwpO1xyXG4gICAgdGhpcy5zY2FsZSA9IG5ldyBTY2FsZSh0aGlzLnBhcmFtZXRlcnMsIHRoaXMuaGFuZGxlU2NhbGVDbGljayk7XHJcbiAgICB0aGlzLm9ic2VydmVycyA9IG5ldyBNYWtlT2JzZXJ2YWJsZU9iamVjdCgpO1xyXG4gIH1cclxuXHJcbiAgdXBkYXRlID0gKHBhcmFtZXRlcnM6IHR5cGVzLlBhcmFtZXRlcnMpOiB2b2lkID0+IHtcclxuICAgIHRoaXMucGFyYW1ldGVycyA9IHBhcmFtZXRlcnM7XHJcbiAgICB0aGlzLmJhci51cGRhdGUodGhpcy5wYXJhbWV0ZXJzLmlzVmVydGljYWwpO1xyXG4gICAgdGhpcy5wcm9ncmVzc0Jhci51cGRhdGUodGhpcy5wYXJhbWV0ZXJzLmlzVmVydGljYWwpO1xyXG4gICAgdGhpcy5ydW5uZXJBZGRpdGlvbmFsLnVwZGF0ZSh0aGlzLnBhcmFtZXRlcnMuaXNWZXJ0aWNhbCk7XHJcbiAgICB0aGlzLnJ1bm5lck1haW4udXBkYXRlKHRoaXMucGFyYW1ldGVycy5pc1ZlcnRpY2FsKTtcclxuICAgIHRoaXMuc2NhbGUudXBkYXRlKHRoaXMucGFyYW1ldGVycyk7XHJcbiAgICB0aGlzLnJ1bm5lckFkZGl0aW9uYWwuaGlkZVJ1bm5lcigpO1xyXG5cclxuICAgIGlmICh0aGlzLnBhcmFtZXRlcnMuc2hvd0xhYmVsKSB7XHJcbiAgICAgIHRoaXMucnVubmVyQWRkaXRpb25hbC5zaG93TGFiZWwoKTtcclxuICAgICAgdGhpcy5ydW5uZXJNYWluLnNob3dMYWJlbCgpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5ydW5uZXJBZGRpdGlvbmFsLmhpZGVMYWJlbCgpO1xyXG4gICAgICB0aGlzLnJ1bm5lck1haW4uaGlkZUxhYmVsKCk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHRoaXMucGFyYW1ldGVycy5pc1JhbmdlKSB7XHJcbiAgICAgIHRoaXMucnVubmVyQWRkaXRpb25hbC5zaG93UnVubmVyKCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLnJ1bm5lckFkZGl0aW9uYWwuaGlkZVJ1bm5lcigpO1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXMucnVubmVyQWRkaXRpb25hbC5zZXRQb3NpdGlvbihcclxuICAgICAgLXRoaXMucnVubmVyQWRkaXRpb25hbC5nZXRXaWR0aCgpIC8gMixcclxuICAgICAgdGhpcy5wYXJhbWV0ZXJzLm1pblZhbHVlXHJcbiAgICApO1xyXG4gICAgdGhpcy5ydW5uZXJNYWluLnNldFBvc2l0aW9uKFxyXG4gICAgICB0aGlzLmJhci5nZXREaW1lbnNpb24oKSAtIHRoaXMucnVubmVyTWFpbi5nZXRXaWR0aCgpIC8gMixcclxuICAgICAgdGhpcy5wYXJhbWV0ZXJzLm1heFZhbHVlXHJcbiAgICApO1xyXG4gIH1cclxuXHJcbiAgcmVuZXdSdW5uZXJzKGN1cnJlbnRWYWx1ZXM6IHR5cGVzLkN1cnJlbnRWYWx1ZXMpOiB2b2lkIHtcclxuICAgIHRoaXMubW92ZVJ1bm5lcihcclxuICAgICAgdGhpcy5wcm9jZXNzUnVubmVyT2Zmc2V0KFxyXG4gICAgICAgIHRoaXMuY29udmVydE9mZnNldFRvVmFsdWUoY3VycmVudFZhbHVlcy5jdXJyZW50TWF4VmFsdWUpLFxyXG4gICAgICAgIHRoaXMucnVubmVyTWFpblxyXG4gICAgICApXHJcbiAgICApO1xyXG4gICAgdGhpcy5tb3ZlUnVubmVyKFxyXG4gICAgICB0aGlzLnByb2Nlc3NSdW5uZXJPZmZzZXQoXHJcbiAgICAgICAgdGhpcy5jb252ZXJ0T2Zmc2V0VG9WYWx1ZShjdXJyZW50VmFsdWVzLmN1cnJlbnRNaW5WYWx1ZSksXHJcbiAgICAgICAgdGhpcy5ydW5uZXJBZGRpdGlvbmFsXHJcbiAgICAgIClcclxuICAgICk7XHJcbiAgfVxyXG5cclxuICBhcHBlbmRUb05vZGUgPSAoZW50cnk6IEhUTUxFbGVtZW50KTogdm9pZCA9PiB7XHJcbiAgICBlbnRyeS5hcHBlbmRDaGlsZCh0aGlzLmJhci5lbGVtKS5hcHBlbmRDaGlsZCh0aGlzLnByb2dyZXNzQmFyLmVsZW0pO1xyXG4gICAgdGhpcy5iYXIuZWxlbS5vbmNsaWNrID0gdGhpcy5oYW5kbGVCYXJDbGljaztcclxuICAgIHRoaXMucnVubmVyTWFpbi5hcHBlbmRUb05vZGUoZW50cnkpO1xyXG4gICAgdGhpcy5ydW5uZXJBZGRpdGlvbmFsLmFwcGVuZFRvTm9kZShlbnRyeSk7XHJcblxyXG4gICAgdGhpcy5zY2FsZS5tYXJrcy5mb3JFYWNoKChtYXJrKSA9PiB7XHJcbiAgICAgIGVudHJ5LmFwcGVuZENoaWxkKG1hcmsuZWxlbSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICB0aGlzLnNjYWxlLm1vdmVNYXJrcygpO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBjb252ZXJ0T2Zmc2V0VG9WYWx1ZSA9ICh2YWx1ZTogbnVtYmVyKTogbnVtYmVyID0+IHtcclxuICAgIHJldHVybiAoKCh2YWx1ZSAtIHRoaXMucGFyYW1ldGVycy5taW5WYWx1ZSkgKiB0aGlzLmJhci5nZXREaW1lbnNpb24oKSlcclxuICAgICAgLyAodGhpcy5wYXJhbWV0ZXJzLm1heFZhbHVlIC0gdGhpcy5wYXJhbWV0ZXJzLm1pblZhbHVlKVxyXG4gICAgICAtIHRoaXMucnVubmVyTWFpbi5nZXRXaWR0aCgpIC8gMik7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGdldE1haW5SdW5uZXJPZmZzZXQgPSAoKTogbnVtYmVyID0+IHtcclxuICAgIGNvbnN0IG9mZnNldCA9IHRoaXMucnVubmVyTWFpbi5nZXRQb3NpdGlvbigpIC0gdGhpcy5iYXIuZ2V0UG9zaXRpb24oKVxyXG4gICAgICArIHRoaXMucnVubmVyTWFpbi5nZXRXaWR0aCgpIC8gMjtcclxuICAgIHJldHVybiBvZmZzZXQgPCAwID8gMCA6IG9mZnNldDtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgZ2V0QWRkaXRpb25hbFJ1bm5lck9mZnNldCA9ICgpOiBudW1iZXIgPT4ge1xyXG4gICAgaWYgKHRoaXMucGFyYW1ldGVycy5pc1JhbmdlKSB7XHJcbiAgICAgIHJldHVybiB0aGlzLnJ1bm5lckFkZGl0aW9uYWwuZ2V0UG9zaXRpb24oKSAtIHRoaXMuYmFyLmdldFBvc2l0aW9uKClcclxuICAgICAgICArIHRoaXMucnVubmVyTWFpbi5nZXRXaWR0aCgpIC8gMjtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gMDtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgaGFuZGxlUnVubmVyTW92ZSA9ICh7IGV2ZW50LCBydW5uZXIgfTogdHlwZXMuUnVubmVyT2JzZXJ2ZXJEYXRhKTogdm9pZCA9PiB7XHJcbiAgICB0aGlzLm1vdmVSdW5uZXIodGhpcy5wcm9jZXNzUnVubmVyTW91c2VFdmVudChldmVudCwgcnVubmVyKSk7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIG1vdmVSdW5uZXIgPSAob2JqOiB0eXBlcy5SdW5uZXJNb3ZlRGF0YSk6IHZvaWQgPT4ge1xyXG4gICAgb2JqLnJ1bm5lci5zZXRQb3NpdGlvbihvYmoub2Zmc2V0LCBvYmoudmFsdWUpO1xyXG5cclxuICAgIGlmIChvYmoucnVubmVyID09PSB0aGlzLnJ1bm5lckFkZGl0aW9uYWwpIHtcclxuICAgICAgdGhpcy5vYnNlcnZlcnMubm90aWZ5T2JzZXJ2ZXJzRGF0YSh7IHR5cGVPZlZhbHVlOiAnbWluVmFsdWUnLCB2YWx1ZTogb2JqLnZhbHVlIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChvYmoucnVubmVyID09PSB0aGlzLnJ1bm5lck1haW4pIHtcclxuICAgICAgdGhpcy5vYnNlcnZlcnMubm90aWZ5T2JzZXJ2ZXJzRGF0YSh7IHR5cGVPZlZhbHVlOiAnbWF4VmFsdWUnLCB2YWx1ZTogb2JqLnZhbHVlIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXMudXBkYXRlUHJvZ3Jlc3NCYXIoKTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgcHJvY2Vzc1J1bm5lck1vdXNlRXZlbnQgPSAoZXZlbnRNbTogTW91c2VFdmVudCwgcnVubmVyOiBSdW5uZXIpOiB0eXBlcy5SdW5uZXJNb3ZlRGF0YSA9PiB7XHJcbiAgICBjb25zdCBjb29yZGluYXRlID0gdGhpcy5wYXJhbWV0ZXJzLmlzVmVydGljYWwgPyBldmVudE1tLmNsaWVudFkgOiBldmVudE1tLmNsaWVudFg7XHJcbiAgICBjb25zdCBvZmZzZXQgPSBjb29yZGluYXRlIC0gdGhpcy5iYXIuZ2V0UG9zaXRpb24oKSAtIHRoaXMucnVubmVyQWRkaXRpb25hbC5nZXRXaWR0aCgpIC8gMjtcclxuXHJcbiAgICByZXR1cm4gdGhpcy5wcm9jZXNzUnVubmVyT2Zmc2V0KG9mZnNldCwgcnVubmVyKTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgcHJvY2Vzc1J1bm5lck9mZnNldCA9IChvZmZzZXQ6IG51bWJlciwgcnVubmVyOiBSdW5uZXIpOiB0eXBlcy5SdW5uZXJNb3ZlRGF0YSA9PiB7XHJcbiAgICBsZXQgcm91bmRWYWx1ZSA9IDA7XHJcbiAgICBsZXQgcm91bmRPZmZzZXQ7XHJcbiAgICByb3VuZE9mZnNldCA9IHRoaXMuY2hlY2tSdW5uZXJPZmZzZXQob2Zmc2V0LCBydW5uZXIpO1xyXG4gICAgW3JvdW5kT2Zmc2V0LCByb3VuZFZhbHVlXSA9IHRoaXMucm91bmRPZmZzZXRSdW5uZXIocm91bmRPZmZzZXQpO1xyXG5cclxuICAgIHJldHVybiB7XHJcbiAgICAgIHJ1bm5lcjogcnVubmVyLFxyXG4gICAgICBvZmZzZXQ6IHJvdW5kT2Zmc2V0LFxyXG4gICAgICB2YWx1ZTogcm91bmRWYWx1ZVxyXG4gICAgfTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgY2hlY2tSdW5uZXJPZmZzZXQgPSAob2Zmc2V0OiBudW1iZXIsIHJ1bm5lcjogUnVubmVyKTogbnVtYmVyID0+IHtcclxuICAgIGNvbnN0IHN0ZXBXaWR0aCA9ICh0aGlzLnBhcmFtZXRlcnMuc3RlcCAqIHRoaXMuYmFyLmdldERpbWVuc2lvbigpKVxyXG4gICAgICAvICh0aGlzLnBhcmFtZXRlcnMubWF4VmFsdWUgLSB0aGlzLnBhcmFtZXRlcnMubWluVmFsdWUpO1xyXG4gICAgY29uc3QgbWluT2Zmc2V0ID0gc3RlcFdpZHRoIC8gMS41ID4gdGhpcy5ydW5uZXJNYWluLmdldFdpZHRoKClcclxuICAgICAgPyBzdGVwV2lkdGggLyAxLjVcclxuICAgICAgOiB0aGlzLnJ1bm5lck1haW4uZ2V0V2lkdGgoKTtcclxuICAgIGxldCBuZXdPZmZzZXQgPSBvZmZzZXQ7XHJcblxyXG4gICAgaWYgKHJ1bm5lciA9PT0gdGhpcy5ydW5uZXJBZGRpdGlvbmFsKSB7XHJcbiAgICAgIGlmIChvZmZzZXQgPiB0aGlzLnJ1bm5lck1haW4uZ2V0UG9zaXRpb24oKSAtIHRoaXMuYmFyLmdldFBvc2l0aW9uKCkgLSBtaW5PZmZzZXQpIHtcclxuICAgICAgICBuZXdPZmZzZXQgPSB0aGlzLnJ1bm5lck1haW4uZ2V0UG9zaXRpb24oKSAtIHRoaXMuYmFyLmdldFBvc2l0aW9uKCkgLSBtaW5PZmZzZXQ7XHJcbiAgICAgIH1cclxuICAgIH0gZWxzZSBpZiAocnVubmVyID09PSB0aGlzLnJ1bm5lck1haW4pIHtcclxuICAgICAgaWYgKG9mZnNldCA8IHRoaXMucnVubmVyQWRkaXRpb25hbC5nZXRQb3NpdGlvbigpIC0gdGhpcy5iYXIuZ2V0UG9zaXRpb24oKSArIG1pbk9mZnNldCkge1xyXG4gICAgICAgIG5ld09mZnNldCA9IHRoaXMucnVubmVyQWRkaXRpb25hbC5nZXRQb3NpdGlvbigpIC0gdGhpcy5iYXIuZ2V0UG9zaXRpb24oKSArIG1pbk9mZnNldDtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBuZXdPZmZzZXQ7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIHJvdW5kT2Zmc2V0UnVubmVyID0gKGN1cnJlbnRPZmZzZXQ6IG51bWJlcik6IFtudW1iZXIsIG51bWJlcl0gPT4ge1xyXG4gICAgY29uc3QgY3VycmVudFZhbHVlID0gdGhpcy5wYXJhbWV0ZXJzLm1pblZhbHVlXHJcbiAgICAgICsgKChjdXJyZW50T2Zmc2V0ICsgdGhpcy5ydW5uZXJNYWluLmdldFdpZHRoKCkgLyAyKVxyXG4gICAgICAqICh0aGlzLnBhcmFtZXRlcnMubWF4VmFsdWUgLSB0aGlzLnBhcmFtZXRlcnMubWluVmFsdWUpKVxyXG4gICAgICAvIHRoaXMuYmFyLmdldERpbWVuc2lvbigpO1xyXG4gICAgbGV0IHJvdW5kVmFsdWUgPSB0aGlzLnJvdW5kKGN1cnJlbnRWYWx1ZSwgdGhpcy5wYXJhbWV0ZXJzLnN0ZXApO1xyXG5cclxuICAgIGlmICh0aGlzLnBhcmFtZXRlcnMuaXNGbG9hdCkge1xyXG4gICAgICByb3VuZFZhbHVlID0gcGFyc2VGbG9hdChyb3VuZFZhbHVlLnRvRml4ZWQoMikpO1xyXG4gICAgfVxyXG5cclxuICAgIGxldCByb3VuZE9mZnNldCA9IHRoaXMuY29udmVydE9mZnNldFRvVmFsdWUocm91bmRWYWx1ZSk7XHJcblxyXG4gICAgaWYgKHJvdW5kT2Zmc2V0IDwgLXRoaXMucnVubmVyTWFpbi5nZXRXaWR0aCgpIC8gMikge1xyXG4gICAgICByb3VuZE9mZnNldCA9IC10aGlzLnJ1bm5lck1haW4uZ2V0V2lkdGgoKSAvIDI7XHJcbiAgICAgIHJvdW5kVmFsdWUgPSB0aGlzLnBhcmFtZXRlcnMubWluVmFsdWU7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHJvdW5kT2Zmc2V0ID4gdGhpcy5iYXIuZ2V0RGltZW5zaW9uKCkgLSB0aGlzLnJ1bm5lck1haW4uZ2V0V2lkdGgoKSAvIDIpIHtcclxuICAgICAgcm91bmRPZmZzZXQgPSB0aGlzLmJhci5nZXREaW1lbnNpb24oKSAtIHRoaXMucnVubmVyTWFpbi5nZXRXaWR0aCgpIC8gMjtcclxuICAgICAgcm91bmRWYWx1ZSA9IHRoaXMucGFyYW1ldGVycy5tYXhWYWx1ZTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gW3JvdW5kT2Zmc2V0LCByb3VuZFZhbHVlXTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgcm91bmQgPSAodmFsdWU6IG51bWJlciwgc3RlcDogbnVtYmVyKTogbnVtYmVyID0+IHtcclxuICAgIGNvbnN0IHdob2xlID0gTWF0aC50cnVuYyh2YWx1ZSAvIHN0ZXApO1xyXG4gICAgY29uc3QgcmVtaW5kZXIgPSArKHZhbHVlIC0gd2hvbGUgKiBzdGVwKS50b0ZpeGVkKDIpO1xyXG5cclxuICAgIGlmICh2YWx1ZSA8IDApIHtcclxuICAgICAgcmV0dXJuIE1hdGguYWJzKHJlbWluZGVyKSA8IHN0ZXAgLyAyID8gd2hvbGUgKiBzdGVwIDogKHdob2xlIC0gMSkgKiBzdGVwO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICh2YWx1ZSA8PSB0aGlzLnBhcmFtZXRlcnMubWluVmFsdWUpIHtcclxuICAgICAgcmV0dXJuIHRoaXMucGFyYW1ldGVycy5taW5WYWx1ZTtcclxuICAgIH0gaWYgKHZhbHVlID49IHRoaXMucGFyYW1ldGVycy5tYXhWYWx1ZSkge1xyXG4gICAgICByZXR1cm4gdGhpcy5wYXJhbWV0ZXJzLm1heFZhbHVlO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiByZW1pbmRlciA8IHN0ZXAgLyAyID8gd2hvbGUgKiBzdGVwIDogKHdob2xlICsgMSkgKiBzdGVwO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBoYW5kbGVTY2FsZUNsaWNrID0gKHZhbHVlOiBudW1iZXIpID0+IHtcclxuICAgIGNvbnN0IG9mZnNldCA9IHRoaXMuY29udmVydE9mZnNldFRvVmFsdWUodmFsdWUpO1xyXG4gICAgbGV0IHJ1bm5lcjtcclxuXHJcbiAgICBpZiAodGhpcy5wYXJhbWV0ZXJzLmlzUmFuZ2UpIHtcclxuICAgICAgcnVubmVyID0gdGhpcy5jaGVja1J1bm5lckNsb3NlcihvZmZzZXQpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgcnVubmVyID0gdGhpcy5ydW5uZXJNYWluO1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXMubW92ZVJ1bm5lcih0aGlzLnByb2Nlc3NSdW5uZXJPZmZzZXQob2Zmc2V0LCBydW5uZXIpKTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgY2hlY2tSdW5uZXJDbG9zZXIgPSAob2Zmc2V0OiBudW1iZXIpOiBSdW5uZXIgPT4ge1xyXG4gICAgaWYgKE1hdGguYWJzKG9mZnNldCAtIHRoaXMuZ2V0TWFpblJ1bm5lck9mZnNldCgpKVxyXG4gICAgICA8IE1hdGguYWJzKG9mZnNldCAtIHRoaXMuZ2V0QWRkaXRpb25hbFJ1bm5lck9mZnNldCgpKSkge1xyXG4gICAgICByZXR1cm4gdGhpcy5ydW5uZXJNYWluO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB0aGlzLnJ1bm5lckFkZGl0aW9uYWw7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGhhbmRsZUJhckNsaWNrID0gKGV2ZW50OiBNb3VzZUV2ZW50KTogdm9pZCA9PiB7XHJcbiAgICBjb25zdCBjb29yZGluYXRlID0gdGhpcy5wYXJhbWV0ZXJzLmlzVmVydGljYWwgPyBldmVudC5jbGllbnRZIDogZXZlbnQuY2xpZW50WDtcclxuICAgIGNvbnN0IG9mZnNldCA9IGNvb3JkaW5hdGUgLSB0aGlzLmJhci5nZXRQb3NpdGlvbigpIC0gdGhpcy5ydW5uZXJNYWluLmdldFdpZHRoKCkgLyAyO1xyXG5cclxuICAgIHRoaXMubW92ZVJ1bm5lcih0aGlzLnByb2Nlc3NSdW5uZXJPZmZzZXQob2Zmc2V0LCB0aGlzLmNoZWNrUnVubmVyQ2xvc2VyKG9mZnNldCkpKTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgdXBkYXRlUHJvZ3Jlc3NCYXIgPSAoKTogdm9pZCA9PiB7XHJcbiAgICB0aGlzLnByb2dyZXNzQmFyLnVwZGF0ZSh0aGlzLnBhcmFtZXRlcnMuaXNWZXJ0aWNhbCk7XHJcbiAgICB0aGlzLnByb2dyZXNzQmFyLnNldFBvc2l0aW9uKHRoaXMuZ2V0QWRkaXRpb25hbFJ1bm5lck9mZnNldCgpKTtcclxuICAgIHRoaXMucHJvZ3Jlc3NCYXIuc2V0RGltZW5zaW9uKHRoaXMuZ2V0TWFpblJ1bm5lck9mZnNldCgpIC0gdGhpcy5nZXRBZGRpdGlvbmFsUnVubmVyT2Zmc2V0KCkpO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgVHJhY2s7XHJcbiIsImltcG9ydCBjcmVhdGVFbGVtIGZyb20gJy4uL2NyZWF0ZUVsZW0vY3JlYXRlRWxlbSc7XHJcblxyXG5jbGFzcyBCYXIge1xyXG4gIGVsZW06IEhUTUxFbGVtZW50O1xyXG5cclxuICBpc1ZlcnRpY2FsOiBib29sZWFuO1xyXG5cclxuICBjb25zdHJ1Y3Rvcihpc1ZlcnRpY2FsOiBib29sZWFuKSB7XHJcbiAgICB0aGlzLmVsZW0gPSBjcmVhdGVFbGVtKCdzbGlkZXJfX2JhcicpO1xyXG4gICAgdGhpcy5pc1ZlcnRpY2FsID0gaXNWZXJ0aWNhbDtcclxuICB9XHJcblxyXG4gIGdldFBvc2l0aW9uID0gKCk6IG51bWJlciA9PiB7XHJcbiAgICBpZiAodGhpcy5pc1ZlcnRpY2FsKSB7XHJcbiAgICAgIHJldHVybiB0aGlzLmVsZW0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkudG9wO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB0aGlzLmVsZW0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkubGVmdDtcclxuICB9XHJcblxyXG4gIGdldERpbWVuc2lvbiA9ICgpOiBudW1iZXIgPT4ge1xyXG4gICAgaWYgKHRoaXMuaXNWZXJ0aWNhbCkge1xyXG4gICAgICByZXR1cm4gdGhpcy5lbGVtLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmhlaWdodDtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gdGhpcy5lbGVtLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLndpZHRoO1xyXG4gIH1cclxuXHJcbiAgdXBkYXRlID0gKGlzVmVydGljYWw6IGJvb2xlYW4pOiB2b2lkID0+IHtcclxuICAgIHRoaXMuaXNWZXJ0aWNhbCA9IGlzVmVydGljYWw7XHJcblxyXG4gICAgaWYgKHRoaXMuaXNWZXJ0aWNhbCkge1xyXG4gICAgICB0aGlzLmVsZW0uY2xhc3NMaXN0LmFkZCgnc2xpZGVyX19iYXJfcG9zaXRpb25fdmVydGljYWwnKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuZWxlbS5jbGFzc0xpc3QucmVtb3ZlKCdzbGlkZXJfX2Jhcl9wb3NpdGlvbl92ZXJ0aWNhbCcpO1xyXG4gICAgfVxyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgQmFyO1xyXG4iLCJpbXBvcnQgY3JlYXRlRWxlbSBmcm9tICcuLi9jcmVhdGVFbGVtL2NyZWF0ZUVsZW0nO1xyXG5cclxuY2xhc3MgS25vYiB7XHJcbiAgZWxlbTogSFRNTEVsZW1lbnQ7XHJcblxyXG4gIGlzVmVydGljYWw6IGJvb2xlYW47XHJcblxyXG4gIGNvbnN0cnVjdG9yKGlzVmVydGljYWw6IGJvb2xlYW4pIHtcclxuICAgIHRoaXMuZWxlbSA9IGNyZWF0ZUVsZW0oJ3NsaWRlcl9fYnV0dG9uJyk7XHJcbiAgICB0aGlzLmlzVmVydGljYWwgPSBpc1ZlcnRpY2FsO1xyXG4gIH1cclxuXHJcbiAgZ2V0V2lkdGggPSAoKTogbnVtYmVyID0+IHtcclxuICAgIHJldHVybiB0aGlzLmVsZW0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkud2lkdGg7XHJcbiAgfVxyXG5cclxuICBnZXRQb3NpdGlvbiA9ICgpOiBudW1iZXIgPT4ge1xyXG4gICAgaWYgKHRoaXMuaXNWZXJ0aWNhbCkge1xyXG4gICAgICByZXR1cm4gdGhpcy5lbGVtLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnRvcDtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gdGhpcy5lbGVtLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmxlZnQ7XHJcbiAgfVxyXG5cclxuICBzZXRQb3NpdGlvbiA9IChvZmZzZXQ6IG51bWJlcik6IHZvaWQgPT4ge1xyXG4gICAgaWYgKHRoaXMuaXNWZXJ0aWNhbCkge1xyXG4gICAgICB0aGlzLmVsZW0uc3R5bGUubGVmdCA9ICc1MCUnO1xyXG4gICAgICB0aGlzLmVsZW0uc3R5bGUudG9wID0gb2Zmc2V0ICsgJ3B4JztcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuZWxlbS5zdHlsZS50b3AgPSAnNTAlJztcclxuICAgICAgdGhpcy5lbGVtLnN0eWxlLmxlZnQgPSBvZmZzZXQgKyAncHgnO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgdXBkYXRlID0gKGlzVmVydGljYWw6IGJvb2xlYW4pOiB2b2lkID0+IHtcclxuICAgIHRoaXMuaXNWZXJ0aWNhbCA9IGlzVmVydGljYWw7XHJcblxyXG4gICAgaWYgKHRoaXMuaXNWZXJ0aWNhbCkge1xyXG4gICAgICB0aGlzLmVsZW0uY2xhc3NMaXN0LmFkZCgnc2xpZGVyX19idXR0b25fcG9zaXRpb25fdmVydGljYWwnKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuZWxlbS5jbGFzc0xpc3QucmVtb3ZlKCdzbGlkZXJfX2J1dHRvbl9wb3NpdGlvbl92ZXJ0aWNhbCcpO1xyXG4gICAgfVxyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgS25vYjtcclxuIiwiaW1wb3J0IGNyZWF0ZUVsZW0gZnJvbSAnLi4vY3JlYXRlRWxlbS9jcmVhdGVFbGVtJztcclxuXHJcbmNsYXNzIFRvb2x0aXAge1xyXG4gIGVsZW06IEhUTUxFbGVtZW50O1xyXG5cclxuICBpc1ZlcnRpY2FsOiBib29sZWFuO1xyXG5cclxuICBjb25zdHJ1Y3Rvcihpc1ZlcnRpY2FsOiBib29sZWFuKSB7XHJcbiAgICB0aGlzLmVsZW0gPSBjcmVhdGVFbGVtKCdzbGlkZXJfX2J1dHRvbi1sYWJlbCcpO1xyXG4gICAgdGhpcy5pc1ZlcnRpY2FsID0gaXNWZXJ0aWNhbDtcclxuICB9XHJcblxyXG4gIGdldFBvc2l0aW9uID0gKCk6IG51bWJlciA9PiB7XHJcbiAgICBpZiAodGhpcy5pc1ZlcnRpY2FsKSB7XHJcbiAgICAgIHJldHVybiB0aGlzLmVsZW0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkudG9wO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB0aGlzLmVsZW0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkubGVmdDtcclxuICB9XHJcblxyXG4gIHNldFBvc2l0aW9uID0gKG9mZnNldDogbnVtYmVyLCB2YWx1ZTogbnVtYmVyKTogdm9pZCA9PiB7XHJcbiAgICB0aGlzLmVsZW0uaW5uZXJIVE1MID0gdmFsdWUgKyAnJztcclxuXHJcbiAgICBpZiAodGhpcy5pc1ZlcnRpY2FsKSB7XHJcbiAgICAgIHRoaXMuZWxlbS5zdHlsZS5sZWZ0ID0gJzUwJSc7XHJcbiAgICAgIHRoaXMuZWxlbS5zdHlsZS50b3AgPSBvZmZzZXQgLSB0aGlzLmdldERpbWVuc2lvbigpIC8gMiArICdweCc7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLmVsZW0uc3R5bGUudG9wID0gJzUwJSc7XHJcbiAgICAgIHRoaXMuZWxlbS5zdHlsZS5sZWZ0ID0gb2Zmc2V0IC0gdGhpcy5nZXREaW1lbnNpb24oKSAvIDIgKyAncHgnO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZ2V0RGltZW5zaW9uID0gKCk6IG51bWJlciA9PiB7XHJcbiAgICBpZiAodGhpcy5pc1ZlcnRpY2FsKSB7XHJcbiAgICAgIHJldHVybiB0aGlzLmVsZW0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkuaGVpZ2h0O1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB0aGlzLmVsZW0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkud2lkdGg7XHJcbiAgfVxyXG5cclxuICB1cGRhdGUgPSAoaXNWZXJ0aWNhbDogYm9vbGVhbik6IHZvaWQgPT4ge1xyXG4gICAgdGhpcy5pc1ZlcnRpY2FsID0gaXNWZXJ0aWNhbDtcclxuXHJcbiAgICBpZiAodGhpcy5pc1ZlcnRpY2FsKSB7XHJcbiAgICAgIHRoaXMuZWxlbS5jbGFzc0xpc3QuYWRkKCdzbGlkZXJfX2J1dHRvbi1sYWJlbF9wb3NpdGlvbl92ZXJ0aWNhbCcpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5lbGVtLmNsYXNzTGlzdC5yZW1vdmUoJ3NsaWRlcl9fYnV0dG9uLWxhYmVsX3Bvc2l0aW9uX3ZlcnRpY2FsJyk7XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBUb29sdGlwO1xyXG4iLCJpbXBvcnQgKiBhcyB0eXBlcyBmcm9tICcuLi8uLi8uLi90eXBlcyc7XHJcbmltcG9ydCBNYXJrIGZyb20gJy4vTWFyay9NYXJrJztcclxuaW1wb3J0IE1ha2VPYnNlcnZhYmxlT2JqZWN0IGZyb20gJy4uLy4uLy4uL21ha2VPYnNlcnZhYmxlT2JqZWN0L01ha2VPYnNlcnZhYmxlT2JqZWN0JztcclxuXHJcbmNsYXNzIFNjYWxlIHtcclxuICBwYXJhbWV0ZXJzOiB0eXBlcy5QYXJhbWV0ZXJzO1xyXG5cclxuICBtYXJrczogQXJyYXk8TWFyaz47XHJcblxyXG4gIG9ic2VydmVyczogTWFrZU9ic2VydmFibGVPYmplY3Q7XHJcblxyXG4gIGNvbnN0cnVjdG9yKHBhcmFtZXRlcnM6IHR5cGVzLlBhcmFtZXRlcnMsIG9ic2VydmVyOiB0eXBlcy5GdW5jdGlvbkNhbGxiYWNrRGF0YSkge1xyXG4gICAgdGhpcy5wYXJhbWV0ZXJzID0gcGFyYW1ldGVycztcclxuICAgIHRoaXMubWFya3MgPSBbXTtcclxuICAgIHRoaXMub2JzZXJ2ZXJzID0gbmV3IE1ha2VPYnNlcnZhYmxlT2JqZWN0KCk7XHJcbiAgICB0aGlzLmluaXQob2JzZXJ2ZXIpO1xyXG4gIH1cclxuXHJcbiAgdXBkYXRlID0gKG9wdGlvbnM6IHR5cGVzLlBhcmFtZXRlcnMpOiB2b2lkID0+IHtcclxuICAgIHRoaXMucGFyYW1ldGVycyA9IG9wdGlvbnM7XHJcbiAgICB0aGlzLm1vdmVNYXJrcygpO1xyXG4gIH1cclxuXHJcbiAgbW92ZU1hcmtzID0gKCk6IHZvaWQgPT4ge1xyXG4gICAgdGhpcy5tYXJrcy5mb3JFYWNoKChtYXJrLCBpbmRleCkgPT4ge1xyXG4gICAgICBtYXJrLnVwZGF0ZSh0aGlzLnBhcmFtZXRlcnMuaXNWZXJ0aWNhbCk7XHJcbiAgICAgIGlmIChpbmRleCA9PT0gMCkge1xyXG4gICAgICAgIG1hcmsuc2V0UG9zaXRpb24oMCwgdGhpcy5wYXJhbWV0ZXJzLm1pblZhbHVlKTtcclxuICAgICAgfSBlbHNlIGlmIChpbmRleCA9PT0gdGhpcy5tYXJrcy5sZW5ndGggLSAxKSB7XHJcbiAgICAgICAgbWFyay5zZXRQb3NpdGlvbigxMDAsIHRoaXMucGFyYW1ldGVycy5tYXhWYWx1ZSk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgbGV0IHJvdW5kVmFsdWUgPSB0aGlzLnJvdW5kKHRoaXMucGFyYW1ldGVycy5taW5WYWx1ZVxyXG4gICAgICAgICAgKyAoKHRoaXMucGFyYW1ldGVycy5tYXhWYWx1ZSAtIHRoaXMucGFyYW1ldGVycy5taW5WYWx1ZSkgKiBpbmRleClcclxuICAgICAgICAgIC8gKHRoaXMubWFya3MubGVuZ3RoIC0gMSkpO1xyXG5cclxuICAgICAgICBpZiAodGhpcy5wYXJhbWV0ZXJzLmlzRmxvYXQpIHtcclxuICAgICAgICAgIHJvdW5kVmFsdWUgPSBwYXJzZUZsb2F0KHJvdW5kVmFsdWUudG9GaXhlZCgyKSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb25zdCBvZmZzZXQgPSAocm91bmRWYWx1ZSAtIHRoaXMucGFyYW1ldGVycy5taW5WYWx1ZSlcclxuICAgICAgICAgIC8gKHRoaXMucGFyYW1ldGVycy5tYXhWYWx1ZSAtIHRoaXMucGFyYW1ldGVycy5taW5WYWx1ZSk7XHJcbiAgICAgICAgbWFyay5zZXRQb3NpdGlvbihvZmZzZXQgKiAxMDAsIHJvdW5kVmFsdWUpO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgaW5pdCA9IChvYnNlcnZlcjogdHlwZXMuRnVuY3Rpb25DYWxsYmFja0RhdGEpOiB2b2lkID0+IHtcclxuICAgIHRoaXMubW92ZU1hcmtzKCk7XHJcbiAgICB0aGlzLmNyZWF0ZU1hcmtzKCk7XHJcbiAgICB0aGlzLm9ic2VydmVycy5hZGRPYnNlcnZlcihvYnNlcnZlcik7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGhhbmRsZVNjYWxlQ2xpY2sgPSAodmFsdWU6IG51bWJlcik6IHZvaWQgPT4ge1xyXG4gICAgdGhpcy5vYnNlcnZlcnMubm90aWZ5T2JzZXJ2ZXJzRGF0YSh2YWx1ZSk7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGNyZWF0ZU1hcmtzID0gKCk6IHZvaWQgPT4ge1xyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCA1OyBpICs9IDEpIHtcclxuICAgICAgY29uc3QgbWFyayA9IG5ldyBNYXJrKHRoaXMucGFyYW1ldGVycy5pc1ZlcnRpY2FsLCB0aGlzLmhhbmRsZVNjYWxlQ2xpY2spO1xyXG4gICAgICB0aGlzLm1hcmtzLnB1c2gobWFyayk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIHJvdW5kID0gKHZhbHVlOiBudW1iZXIpOiBudW1iZXIgPT4ge1xyXG4gICAgY29uc3Qgd2hvbGUgPSBNYXRoLnRydW5jKHZhbHVlIC8gdGhpcy5wYXJhbWV0ZXJzLnN0ZXApO1xyXG5cclxuICAgIGNvbnN0IHJlbWluZGVyID0gKyh2YWx1ZSAtIHdob2xlICogdGhpcy5wYXJhbWV0ZXJzLnN0ZXApLnRvRml4ZWQoMik7XHJcbiAgICBpZiAodmFsdWUgPCAwKSB7XHJcbiAgICAgIHJldHVybiBNYXRoLmFicyhyZW1pbmRlcikgPCB0aGlzLnBhcmFtZXRlcnMuc3RlcCAvIDJcclxuICAgICAgICA/IHdob2xlICogdGhpcy5wYXJhbWV0ZXJzLnN0ZXBcclxuICAgICAgICA6ICh3aG9sZSAtIDEpICogdGhpcy5wYXJhbWV0ZXJzLnN0ZXA7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHJlbWluZGVyIDwgdGhpcy5wYXJhbWV0ZXJzLnN0ZXAgLyAyXHJcbiAgICAgID8gd2hvbGUgKiB0aGlzLnBhcmFtZXRlcnMuc3RlcFxyXG4gICAgICA6ICh3aG9sZSArIDEpICogdGhpcy5wYXJhbWV0ZXJzLnN0ZXA7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBTY2FsZTtcclxuIiwiaW1wb3J0ICogYXMgdHlwZXMgZnJvbSAnLi4vLi4vLi4vLi4vdHlwZXMnO1xyXG5pbXBvcnQgY3JlYXRlRWxlbSBmcm9tICcuLi8uLi9jcmVhdGVFbGVtL2NyZWF0ZUVsZW0nO1xyXG5pbXBvcnQgTWFrZU9ic2VydmFibGVPYmplY3QgZnJvbSAnLi4vLi4vLi4vLi4vbWFrZU9ic2VydmFibGVPYmplY3QvTWFrZU9ic2VydmFibGVPYmplY3QnO1xyXG5cclxuY2xhc3MgTWFyayB7XHJcbiAgZWxlbTogSFRNTEVsZW1lbnQ7XHJcblxyXG4gIGlzVmVydGljYWw6IGJvb2xlYW47XHJcblxyXG4gIHZhbHVlOiBudW1iZXI7XHJcblxyXG4gIG9ic2VydmVyczogTWFrZU9ic2VydmFibGVPYmplY3Q7XHJcblxyXG4gIGNvbnN0cnVjdG9yKGlzVmVydGljYWw6IGJvb2xlYW4sIG9ic2VydmVyOiB0eXBlcy5GdW5jdGlvbkNhbGxiYWNrRGF0YSkge1xyXG4gICAgdGhpcy5lbGVtID0gY3JlYXRlRWxlbSgnc2xpZGVyX19tYXJrJyk7XHJcbiAgICB0aGlzLmlzVmVydGljYWwgPSBpc1ZlcnRpY2FsO1xyXG4gICAgdGhpcy5vYnNlcnZlcnMgPSBuZXcgTWFrZU9ic2VydmFibGVPYmplY3QoKTtcclxuICAgIHRoaXMuaW5pdChvYnNlcnZlcik7XHJcbiAgfVxyXG5cclxuICBnZXRQb3NpdGlvbiA9ICgpOiBudW1iZXIgPT4ge1xyXG4gICAgaWYgKHRoaXMuaXNWZXJ0aWNhbCkge1xyXG4gICAgICByZXR1cm4gdGhpcy5lbGVtLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnRvcDtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gdGhpcy5lbGVtLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmxlZnQ7XHJcbiAgfVxyXG5cclxuICBzZXRQb3NpdGlvbiA9IChvZmZzZXQ6IG51bWJlciwgdmFsdWU6IG51bWJlcik6IHZvaWQgPT4ge1xyXG4gICAgdGhpcy5lbGVtLmlubmVySFRNTCA9IHZhbHVlICsgJyc7XHJcbiAgICB0aGlzLnZhbHVlID0gdmFsdWU7XHJcblxyXG4gICAgaWYgKHRoaXMuaXNWZXJ0aWNhbCkge1xyXG4gICAgICB0aGlzLmVsZW0uc3R5bGUubGVmdCA9ICc1MCUnO1xyXG4gICAgICB0aGlzLmVsZW0uc3R5bGUudG9wID0gb2Zmc2V0ICsgJyUnO1xyXG4gICAgICB0aGlzLmVsZW0uc3R5bGUubWFyZ2luVG9wID0gLXRoaXMuZ2V0RGltZW5zaW9uKCkgLyAyICsgJ3B4JztcclxuICAgICAgdGhpcy5lbGVtLnN0eWxlLm1hcmdpbkxlZnQgPSAnLTQ1cHgnO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5lbGVtLnN0eWxlLnRvcCA9ICc1MCUnO1xyXG4gICAgICB0aGlzLmVsZW0uc3R5bGUubGVmdCA9IG9mZnNldCArICclJztcclxuICAgICAgdGhpcy5lbGVtLnN0eWxlLm1hcmdpbkxlZnQgPSAtdGhpcy5nZXREaW1lbnNpb24oKSAvIDIgKyAncHgnO1xyXG4gICAgICB0aGlzLmVsZW0uc3R5bGUubWFyZ2luVG9wID0gJzE1cHgnO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZ2V0RGltZW5zaW9uID0gKCk6IG51bWJlciA9PiB7XHJcbiAgICBpZiAodGhpcy5pc1ZlcnRpY2FsKSB7XHJcbiAgICAgIHJldHVybiB0aGlzLmVsZW0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkuaGVpZ2h0O1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB0aGlzLmVsZW0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkud2lkdGg7XHJcbiAgfVxyXG5cclxuICB1cGRhdGUgPSAoaXNWZXJ0aWNhbDogYm9vbGVhbik6IHZvaWQgPT4ge1xyXG4gICAgdGhpcy5pc1ZlcnRpY2FsID0gaXNWZXJ0aWNhbDtcclxuXHJcbiAgICBpZiAodGhpcy5pc1ZlcnRpY2FsKSB7XHJcbiAgICAgIHRoaXMuZWxlbS5jbGFzc0xpc3QuYWRkKCdzbGlkZXJfX21hcmtfcG9zaXRpb25fdmVydGljYWwnKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuZWxlbS5jbGFzc0xpc3QucmVtb3ZlKCdzbGlkZXJfX21hcmtfcG9zaXRpb25fdmVydGljYWwnKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHByaXZhdGUgaW5pdCA9IChvYnNlcnZlcjogdHlwZXMuRnVuY3Rpb25DYWxsYmFja0RhdGEpOiB2b2lkID0+IHtcclxuICAgIHRoaXMuZWxlbS5vbmNsaWNrID0gdGhpcy5oYW5kbGVNYXJrQ2xpY2s7XHJcbiAgICB0aGlzLm9ic2VydmVycy5hZGRPYnNlcnZlcihvYnNlcnZlcik7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGhhbmRsZU1hcmtDbGljayA9ICgpOiB2b2lkID0+IHtcclxuICAgIHRoaXMub2JzZXJ2ZXJzLm5vdGlmeU9ic2VydmVyc0RhdGEodGhpcy52YWx1ZSk7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBNYXJrO1xyXG4iLCJpbXBvcnQgY3JlYXRlRWxlbSBmcm9tICcuLi9jcmVhdGVFbGVtL2NyZWF0ZUVsZW0nO1xyXG5cclxuY2xhc3MgUHJvZ3Jlc3NCYXIge1xyXG4gIGVsZW06IEhUTUxFbGVtZW50O1xyXG5cclxuICBpc1ZlcnRpY2FsOiBib29sZWFuO1xyXG5cclxuICBjb25zdHJ1Y3Rvcihpc1ZlcnRpY2FsOiBib29sZWFuKSB7XHJcbiAgICB0aGlzLmVsZW0gPSBjcmVhdGVFbGVtKCdzbGlkZXJfX3Byb2dyZXNzLWJhcicpO1xyXG4gICAgdGhpcy5pc1ZlcnRpY2FsID0gaXNWZXJ0aWNhbDtcclxuICB9XHJcblxyXG4gIHNldFBvc2l0aW9uID0gKG9mZnNldDogbnVtYmVyKTogdm9pZCA9PiB7XHJcbiAgICBpZiAodGhpcy5pc1ZlcnRpY2FsKSB7XHJcbiAgICAgIHRoaXMuZWxlbS5zdHlsZS5sZWZ0ID0gJzAnO1xyXG4gICAgICB0aGlzLmVsZW0uc3R5bGUud2lkdGggPSAnMTAwJSc7XHJcbiAgICAgIHRoaXMuZWxlbS5zdHlsZS50b3AgPSBvZmZzZXQgKyAncHgnO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5lbGVtLnN0eWxlLnRvcCA9ICcwJztcclxuICAgICAgdGhpcy5lbGVtLnN0eWxlLmhlaWdodCA9ICcxMDAlJztcclxuICAgICAgdGhpcy5lbGVtLnN0eWxlLmxlZnQgPSBvZmZzZXQgKyAncHgnO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgc2V0RGltZW5zaW9uID0gKGRpbWVuc2lvbjogbnVtYmVyKTogdm9pZCA9PiB7XHJcbiAgICBpZiAodGhpcy5pc1ZlcnRpY2FsKSB7XHJcbiAgICAgIHRoaXMuZWxlbS5zdHlsZS5oZWlnaHQgPSBkaW1lbnNpb24gKyAncHgnO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5lbGVtLnN0eWxlLndpZHRoID0gZGltZW5zaW9uICsgJ3B4JztcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHVwZGF0ZSA9IChpc1ZlcnRpY2FsOiBib29sZWFuKTogdm9pZCA9PiB7XHJcbiAgICB0aGlzLmlzVmVydGljYWwgPSBpc1ZlcnRpY2FsO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgUHJvZ3Jlc3NCYXI7XHJcbiIsImltcG9ydCAqIGFzIHR5cGVzIGZyb20gJy4uL3R5cGVzJztcclxuaW1wb3J0IE1ha2VPYnNlcnZhYmxlT2JqZWN0IGZyb20gJy4uL21ha2VPYnNlcnZhYmxlT2JqZWN0L01ha2VPYnNlcnZhYmxlT2JqZWN0JztcclxuXHJcbmNsYXNzIE1vZGVsIHtcclxuICBjdXJyZW50VmFsdWVzOiB0eXBlcy5DdXJyZW50VmFsdWVzO1xyXG5cclxuICBvYnNlcnZlcnM6IE1ha2VPYnNlcnZhYmxlT2JqZWN0O1xyXG5cclxuICBjb25zdHJ1Y3RvcihjdXJyZW50VmFsdWVzOiB0eXBlcy5DdXJyZW50VmFsdWVzKSB7XHJcbiAgICB0aGlzLmN1cnJlbnRWYWx1ZXMgPSBjdXJyZW50VmFsdWVzO1xyXG4gICAgdGhpcy5vYnNlcnZlcnMgPSBuZXcgTWFrZU9ic2VydmFibGVPYmplY3QoKTtcclxuICB9XHJcblxyXG4gIHNldEN1cnJlbnRNaW5WYWx1ZShkYXRhOiBudW1iZXIpOiB2b2lkIHtcclxuICAgIGlmICh0aGlzLmN1cnJlbnRWYWx1ZXMuY3VycmVudE1pblZhbHVlICE9PSBkYXRhKSB7XHJcbiAgICAgIHRoaXMuY3VycmVudFZhbHVlcy5jdXJyZW50TWluVmFsdWUgPSBkYXRhO1xyXG4gICAgICB0aGlzLm9ic2VydmVycy5ub3RpZnlPYnNlcnZlcnMoKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHNldEN1cnJlbnRNYXhWYWx1ZShkYXRhOiBudW1iZXIpOiB2b2lkIHtcclxuICAgIGlmICh0aGlzLmN1cnJlbnRWYWx1ZXMuY3VycmVudE1heFZhbHVlICE9PSBkYXRhKSB7XHJcbiAgICAgIHRoaXMuY3VycmVudFZhbHVlcy5jdXJyZW50TWF4VmFsdWUgPSBkYXRhO1xyXG4gICAgICB0aGlzLm9ic2VydmVycy5ub3RpZnlPYnNlcnZlcnMoKTtcclxuICAgIH1cclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IE1vZGVsO1xyXG4iLCJ2YXIgbWFwID0ge1xuXHRcIi4vQ29udHJvbGxlci9Db250cm9sbGVyLnRzXCI6IDUsXG5cdFwiLi9Db250cm9sbGVyL2Jsb2Nrcy9wYXJzaW5nRGlnaXRzL1BhcnNpbmdEaWdpdHMudHNcIjogMyxcblx0XCIuL01vZGVsL01vZGVsLnRzXCI6IDE0LFxuXHRcIi4vVmlldy9WaWV3LnRzXCI6IDYsXG5cdFwiLi9WaWV3L2Jsb2Nrcy9CYXIvQmFyLnRzXCI6IDgsXG5cdFwiLi9WaWV3L2Jsb2Nrcy9Lbm9iL0tub2IudHNcIjogOSxcblx0XCIuL1ZpZXcvYmxvY2tzL1Byb2dyZXNzQmFyL1Byb2dyZXNzQmFyLnRzXCI6IDEzLFxuXHRcIi4vVmlldy9ibG9ja3MvUnVubmVyL1J1bm5lci50c1wiOiA0LFxuXHRcIi4vVmlldy9ibG9ja3MvU2NhbGUvTWFyay9NYXJrLnRzXCI6IDEyLFxuXHRcIi4vVmlldy9ibG9ja3MvU2NhbGUvU2NhbGUudHNcIjogMTEsXG5cdFwiLi9WaWV3L2Jsb2Nrcy9Ub29sdGlwL1Rvb2x0aXAudHNcIjogMTAsXG5cdFwiLi9WaWV3L2Jsb2Nrcy9UcmFjay9UcmFjay50c1wiOiA3LFxuXHRcIi4vVmlldy9ibG9ja3MvY3JlYXRlRWxlbS9jcmVhdGVFbGVtLnRzXCI6IDEsXG5cdFwiLi9tYWtlT2JzZXJ2YWJsZU9iamVjdC9NYWtlT2JzZXJ2YWJsZU9iamVjdC50c1wiOiAwLFxuXHRcIi4vc2xpZGVyLnRzXCI6IDE2LFxuXHRcIi4vc3R5bGUuc2Nzc1wiOiAxNyxcblx0XCIuL3R5cGVzLnRzXCI6IDJcbn07XG5cblxuZnVuY3Rpb24gd2VicGFja0NvbnRleHQocmVxKSB7XG5cdHZhciBpZCA9IHdlYnBhY2tDb250ZXh0UmVzb2x2ZShyZXEpO1xuXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhpZCk7XG59XG5mdW5jdGlvbiB3ZWJwYWNrQ29udGV4dFJlc29sdmUocmVxKSB7XG5cdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8obWFwLCByZXEpKSB7XG5cdFx0dmFyIGUgPSBuZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiICsgcmVxICsgXCInXCIpO1xuXHRcdGUuY29kZSA9ICdNT0RVTEVfTk9UX0ZPVU5EJztcblx0XHR0aHJvdyBlO1xuXHR9XG5cdHJldHVybiBtYXBbcmVxXTtcbn1cbndlYnBhY2tDb250ZXh0LmtleXMgPSBmdW5jdGlvbiB3ZWJwYWNrQ29udGV4dEtleXMoKSB7XG5cdHJldHVybiBPYmplY3Qua2V5cyhtYXApO1xufTtcbndlYnBhY2tDb250ZXh0LnJlc29sdmUgPSB3ZWJwYWNrQ29udGV4dFJlc29sdmU7XG5tb2R1bGUuZXhwb3J0cyA9IHdlYnBhY2tDb250ZXh0O1xud2VicGFja0NvbnRleHQuaWQgPSAxNTsiLCIvKiBnbG9iYWwgalF1ZXJ5ICovXHJcbmltcG9ydCAqIGFzIHR5cGVzIGZyb20gJy4vdHlwZXMnO1xyXG5pbXBvcnQgQ29udHJvbGxlciBmcm9tICcuL0NvbnRyb2xsZXIvQ29udHJvbGxlcic7XHJcblxyXG4oZnVuY3Rpb24gcGx1Z2luV3JhcHBlcigkKSB7XHJcbiAgY29uc3QgY29uZmlnID0ge1xyXG4gICAgbWluVmFsdWU6IDAsXHJcbiAgICBtYXhWYWx1ZTogMTAwMCxcclxuICAgIHN0ZXA6IDEsXHJcbiAgICBpc1JhbmdlOiBmYWxzZSxcclxuICAgIGlzVmVydGljYWw6IGZhbHNlLFxyXG4gICAgc2hvd0xhYmVsOiBmYWxzZSxcclxuICAgIGlzRmxvYXQ6IGZhbHNlXHJcbiAgfTtcclxuXHJcbiAgY29uc3QgbWV0aG9kczogTWV0aG9kcyA9IHtcclxuICAgIGluaXQ6IGZ1bmN0aW9uIGluaXQob3B0OiB0eXBlcy5QYXJhbWV0ZXJzKSB7XHJcbiAgICAgIGlmICghJCh0aGlzKS5kYXRhKCdzbGlkZXInKSkge1xyXG4gICAgICAgIGNvbnN0IG5ld0NvbmZpZyA9IHsgLi4uY29uZmlnIH07XHJcbiAgICAgICAgY29uc3Qgc2xpZGVyID0gbmV3IENvbnRyb2xsZXIoJC5leHRlbmQobmV3Q29uZmlnLCBvcHQpKTtcclxuICAgICAgICAkKHRoaXMpLmRhdGEoJ3NsaWRlcicsIHNsaWRlcik7XHJcblxyXG4gICAgICAgIHNsaWRlci5hcHBlbmRUb05vZGUoJCh0aGlzKSk7XHJcbiAgICAgIH1cclxuICAgIH0sXHJcblxyXG4gICAgdXBkYXRlOiBmdW5jdGlvbiB1cGRhdGUob3B0OiB0eXBlcy5QYXJhbWV0ZXJzKSB7XHJcbiAgICAgIGNvbnN0IHNsaWRlciA9ICQodGhpcykuZGF0YSgnc2xpZGVyJyk7XHJcbiAgICAgIHNsaWRlci51cGRhdGVDb25maWcob3B0KTtcclxuICAgIH0sXHJcblxyXG4gICAgZ2V0Q29uZmlnOiBmdW5jdGlvbiBnZXRDb25maWcoKSB7XHJcbiAgICAgIGNvbnN0IHNsaWRlciA9ICQodGhpcykuZGF0YSgnc2xpZGVyJyk7XHJcbiAgICAgIHJldHVybiBzbGlkZXIuZ2V0Q29uZmlnKCk7XHJcbiAgICB9LFxyXG5cclxuICAgIHNldFZhbHVlczogZnVuY3Rpb24gc2V0VmFsdWVzKG9wdDogdHlwZXMuQ3VycmVudFZhbHVlcykge1xyXG4gICAgICBjb25zdCBzbGlkZXIgPSAkKHRoaXMpLmRhdGEoJ3NsaWRlcicpO1xyXG4gICAgICBzbGlkZXIuc2V0VmFsdWVzKG9wdC5jdXJyZW50TWluVmFsdWUsIG9wdC5jdXJyZW50TWF4VmFsdWUpO1xyXG4gICAgfSxcclxuXHJcbiAgICBpbnB1dHNBdHRhY2g6IGZ1bmN0aW9uIGlucHV0c0F0dGFjaChvcHQ6IElucHV0c09iamVjdCkge1xyXG4gICAgICBjb25zdCBzbGlkZXIgPSAkKHRoaXMpLmRhdGEoJ3NsaWRlcicpO1xyXG4gICAgICBzbGlkZXIuYWRkT2JzZXJ2ZXIoKCkgPT4ge1xyXG4gICAgICAgIG9wdC5taW5WYWx1ZUlucHV0LnZhbChzbGlkZXIuZ2V0VmFsdWVzKCkuY3VycmVudE1pblZhbHVlKTtcclxuICAgICAgICBvcHQubWF4VmFsdWVJbnB1dC52YWwoc2xpZGVyLmdldFZhbHVlcygpLmN1cnJlbnRNYXhWYWx1ZSk7XHJcbiAgICAgICAgb3B0Lm1heFZhbHVlLnZhbChzbGlkZXIuZ2V0Q29uZmlnKCkubWF4VmFsdWUpO1xyXG4gICAgICAgIG9wdC5taW5WYWx1ZS52YWwoc2xpZGVyLmdldENvbmZpZygpLm1pblZhbHVlKTtcclxuICAgICAgICBvcHQuc3RlcC52YWwoc2xpZGVyLmdldENvbmZpZygpLnN0ZXApO1xyXG4gICAgICB9KTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICAkLmZuLm9tZmdzbGlkZXIgPSBmdW5jdGlvbiBwcm9jZXNzTWV0aG9kKG1ldGhvZDogc3RyaW5nLCAuLi5hcmdzOiBhbnkpIHtcclxuICAgIGlmIChtZXRob2RzW21ldGhvZF0pIHtcclxuICAgICAgcmV0dXJuIG1ldGhvZHNbbWV0aG9kXS5hcHBseSh0aGlzLCBhcmdzKTtcclxuICAgIH0gaWYgKHR5cGVvZiBtZXRob2QgPT09ICdvYmplY3QnIHx8ICFtZXRob2QpIHtcclxuICAgICAgcmV0dXJuIG1ldGhvZHMuaW5pdC5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xyXG4gICAgfVxyXG4gICAgJC5lcnJvcihg0JzQtdGC0L7QtCAke21ldGhvZH0g0L3QtSDQvdCw0LnQtNC10L0g0LIg0L/Qu9Cw0LPQuNC90LUgalF1ZXJ5Lm9tZmdzbGlkZXJgKTtcclxuICB9O1xyXG59KGpRdWVyeSkpO1xyXG4iLCJleHBvcnQgZGVmYXVsdCBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyArIFwiaW5kZXguaHRtbFwiOyIsImltcG9ydCAnLi9kZW1vLXBhZ2UvaW5kZXguaHRtbCc7XHJcblxyXG5mdW5jdGlvbiBpbXBvcnRBbGwocjogX19XZWJwYWNrTW9kdWxlQXBpLlJlcXVpcmVDb250ZXh0KSB7XHJcbiAgci5rZXlzKCkuZm9yRWFjaChyKTtcclxufVxyXG5cclxuaW1wb3J0QWxsKHJlcXVpcmUuY29udGV4dCgnLi9wbHVnaW4nLCB0cnVlLCAvKD88IVxcLmQpXFwuKGpzfHRzfHNjc3MpJC9pKSk7XHJcbiJdLCJzb3VyY2VSb290IjoiIn0=