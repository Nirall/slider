!function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=18)}([function(e,t,r){"use strict";r.r(t);var n=function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var n=Array(e),i=0;for(t=0;t<r;t++)for(var s=arguments[t],a=0,o=s.length;a<o;a++,i++)n[i]=s[a];return n},i=function(){function e(){this.observers=[]}return e.prototype.addObserver=function(e){if("function"!=typeof e)throw new Error("observer must be a function");this.observers.forEach((function(t){if(t===e)throw new Error("observer already in the list")})),this.observers.push(e)},e.prototype.removeObserver=function(e){for(var t=0;t<this.observers.length;t+=1){if(this.observers[t]===e)return void this.observers.splice(t,1)}throw new Error("could not find observer in list of observers")},e.prototype.notifyObservers=function(e,t){n(this.observers).map((function(r){return r(e,t)}))},e}();t.default=i},function(e,t,r){"use strict";r.r(t),t.default=function(e){var t=document.createElement("div");return t.ondragstart=function(){return!1},t.classList.add(e),t}},function(e,t,r){"use strict";r.r(t),r.d(t,"defaultParameters",(function(){return n}));var n={minValue:0,maxValue:1e3,step:1,isRange:!1,isVertical:!1,showLabel:!0,isFloat:!1}},function(e,t,r){"use strict";r.r(t);var n=r(8),i=r(9),s=r(0),a=function(e,t){var r=this;this.getPosition=function(){return r.knob.getPosition()},this.setPosition=function(e,t){r.tooltip.setPosition(e+r.knob.getWidth()/2,t),r.knob.setPosition(e)},this.update=function(e){r.knob.update(e),r.tooltip.update(e)},this.getWidth=function(){return r.knob.getWidth()},this.hideRunner=function(){r.knob.elem.style.display="none",r.tooltip.elem.style.display="none"},this.hideLabel=function(){r.tooltip.elem.style.display="none"},this.showLabel=function(){r.tooltip.elem.style.display="block"},this.showRunner=function(){r.knob.elem.style.display="block"},this.appendToNode=function(e){[r.knob.elem,r.tooltip.elem].forEach((function(t){e.appendChild(t),t.onmousedown=r.handleRunnerMouseDown}))},this.handleRunnerMouseDown=function(e){e.preventDefault(),document.addEventListener("mousemove",r.handleRunnerMouseMove),document.addEventListener("mouseup",r.handleRunnerMouseUp)},this.handleRunnerMouseMove=function(e){r.observers.notifyObservers("MovingRunner",{event:e,runner:r})},this.handleRunnerMouseUp=function(){document.removeEventListener("mouseup",r.handleRunnerMouseUp),document.removeEventListener("mousemove",r.handleRunnerMouseMove)},this.isVertical=e,this.knob=new n.default(e),this.tooltip=new i.default(e),this.observers=new s.default,this.observers.addObserver(t)};t.default=a},function(e,t,r){"use strict";r.r(t);var n=r(2),i=r(5),s=r(13),a=r(0),o=function(e,t){var r=this;void 0===e&&(e=n.defaultParameters),this.update=function(e){r.observers.notifyObservers("UpdatingConfig",e),r.observers.notifyObservers("GettingConfig")},this.setValues=function(e){r.observers.notifyObservers("ChangingCurrentValueFromPanel",e)},this.renew=function(){r.observers.notifyObservers("GettingConfig"),r.observers.notifyObservers("GettingValues")},this.init=function(e,t){r.observers.addObserver(r.view.observeControllerFromView),r.observers.addObserver(r.model.observeControllerFromModel),r.observers.notifyObservers("AppendingToNode",e.get(0)),r.observers.notifyObservers("UpdatingConfig",t)},this.handleViewChangingValue=function(e,t){"ChangingCurrentValueFromView"===e&&r.observers.notifyObservers("ChangingCurrentValueFromView",t),"SendingConfig"===e&&r.observers.notifyObservers("SendingConfig",t)},this.handleModelSendingValues=function(e,t){"SendingCurrentValues"===e&&(r.observers.notifyObservers("SendingCurrentValues",t),r.observers.notifyObservers("GettingValues")),"SendingCurrentValuesForTracking"===e&&r.observers.notifyObservers("SendingCurrentValuesForTracking",t)},this.view=new i.default(e,this.handleViewChangingValue),this.model=new s.default({currentMinValue:e.minValue,currentMaxValue:e.maxValue},this.handleModelSendingValues),this.observers=new a.default,this.init(t,e)};t.default=o},function(e,t,r){"use strict";r.r(t);var n=r(2),i=r(0),s=r(6),a=function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},o=function(e,t){switch(t){case"step":return e.parameters.maxValue%1!=0||e.parameters.minValue%1!=0;case"maxValue":return e.parameters.step%1!=0||e.parameters.minValue%1!=0;case"minValue":return e.parameters.step%1!=0||e.parameters.maxValue%1!=0;default:return!1}},u=function(e,t){var r=this;void 0===e&&(e=n.defaultParameters),this.update=function(e){var t=r.validateConfig(e);r.parameters=t,r.observers.notifyObservers("UpdatingConfig",r.parameters)},this.handleTrackValueChanging=function(e,t){"ChangingCurrentValueFromTrack"===e&&r.observers.notifyObservers("ChangingCurrentValueFromView",t)},this.observeControllerFromView=function(e,t){"SendingCurrentValues"===e&&r.observers.notifyObservers("SendingCurrentValues",t),"UpdatingConfig"===e&&r.update(t),"GettingConfig"===e&&r.observers.notifyObservers("SendingConfig",r.parameters),"AppendingToNode"===e&&r.observers.notifyObservers("AppendingToNode",t)},this.init=function(e){r.observers.addObserver(e),r.observers.addObserver(r.track.observeViewFromTrack),r.observers.notifyObservers("UpdatingConfig",r.parameters)},this.validateConfig=function(e){var t=Object.keys(e).reduce((function(t,n){switch(n){case"step":t.step=r.checkStep(e.step);break;case"maxValue":t.maxValue=r.checkMaxValue(e.maxValue);break;case"minValue":t.minValue=r.checkMinValue(e.minValue);break;case"isRange":"toggle"===e.isRange&&(!0===r.parameters.isRange?t.isRange=!1:t.isRange=!0);break;case"isVertical":"toggle"===e.isVertical&&(!0===r.parameters.isVertical?t.isVertical=!1:t.isVertical=!0);break;case"showLabel":"toggle"===e.showLabel&&(!0===r.parameters.showLabel?t.showLabel=!1:t.showLabel=!0)}return t}),{});return a(a({},r.parameters),t)},this.checkStep=function(e){return!e||e>(r.parameters.maxValue-r.parameters.minValue)/2?r.parameters.step:(e%1!=0?r.parameters.isFloat=!0:o(r,"step")||(r.parameters.isFloat=!1),e)},this.checkMaxValue=function(e){return Number.isNaN(e)||e<=r.parameters.minValue?r.parameters.maxValue:(e%1!=0?r.parameters.isFloat=!0:o(r,"maxValue")||(r.parameters.isFloat=!1),e)},this.checkMinValue=function(e){return Number.isNaN(e)||e>=r.parameters.maxValue?r.parameters.minValue:(e%1!=0?r.parameters.isFloat=!0:o(r,"minValue")||(r.parameters.isFloat=!1),e)},this.observers=new i.default,this.track=new s.default(e,this.handleTrackValueChanging),this.parameters=e,this.init(t)};t.default=u},function(e,t,r){"use strict";r.r(t);var n=r(7),i=r(3),s=r(10),a=r(12),o=r(0),u=function(){function e(e,t){var r=this;this.update=function(e){r.parameters=e,r.bar.update(r.parameters.isVertical),r.progressBar.update(r.parameters.isVertical),r.runnerAdditional.update(r.parameters.isVertical),r.runnerMain.update(r.parameters.isVertical),r.scale.update(r.parameters),r.runnerAdditional.hideRunner(),r.parameters.showLabel?(r.runnerAdditional.showLabel(),r.runnerMain.showLabel()):(r.runnerAdditional.hideLabel(),r.runnerMain.hideLabel()),r.parameters.isRange?r.runnerAdditional.showRunner():r.runnerAdditional.hideRunner(),r.runnerAdditional.setPosition(-r.runnerAdditional.getWidth()/2,r.parameters.minValue),r.runnerMain.setPosition(r.bar.getDimension()-r.runnerMain.getWidth()/2,r.parameters.maxValue)},this.observeViewFromTrack=function(e,t){"SendingCurrentValues"===e&&r.renewRunners(t),"UpdatingConfig"===e&&r.update(t),"AppendingToNode"===e&&r.appendToNode(t)},this.appendToNode=function(e){e.appendChild(r.bar.elem).appendChild(r.progressBar.elem),r.runnerMain.appendToNode(e),r.runnerAdditional.appendToNode(e),r.scale.marks.forEach((function(t){e.appendChild(t.elem)})),r.scale.moveMarks()},this.convertOffsetToValue=function(e){return(e-r.parameters.minValue)*r.bar.getDimension()/(r.parameters.maxValue-r.parameters.minValue)-r.runnerMain.getWidth()/2},this.getMainRunnerOffset=function(){var e=r.runnerMain.getPosition()-r.bar.getPosition()+r.runnerMain.getWidth()/2;return e<0?0:e},this.getAdditionalRunnerOffset=function(){return r.parameters.isRange?r.runnerAdditional.getPosition()-r.bar.getPosition()+r.runnerMain.getWidth()/2:0},this.handleRunnerMove=function(e,t){var n=t.event,i=t.runner;"MovingRunner"===e&&r.moveRunner(r.processRunnerMouseEvent(n,i))},this.moveRunner=function(e){e.runner.setPosition(e.offset,e.value),e.runner===r.runnerAdditional&&r.observers.notifyObservers("ChangingCurrentValueFromTrack",{currentMinValue:e.value}),e.runner===r.runnerMain&&r.observers.notifyObservers("ChangingCurrentValueFromTrack",{currentMaxValue:e.value}),r.updateProgressBar()},this.processRunnerMouseEvent=function(e,t){var n=(r.parameters.isVertical?e.clientY:e.clientX)-r.bar.getPosition()-r.runnerAdditional.getWidth()/2;return r.processRunnerOffset(n,t)},this.processRunnerOffset=function(e,t){var n,i;return i=r.checkRunnerOffset(e,t),{runner:t,offset:i=(n=r.roundOffsetRunner(i))[0],value:n[1]}},this.checkRunnerOffset=function(e,t){var n=r.parameters.step*r.bar.getDimension()/(r.parameters.maxValue-r.parameters.minValue),i=n/1.5>r.runnerMain.getWidth()?n/1.5:r.runnerMain.getWidth(),s=e;return t===r.runnerAdditional?e>r.runnerMain.getPosition()-r.bar.getPosition()-i&&(s=r.runnerMain.getPosition()-r.bar.getPosition()-i):t===r.runnerMain&&e<r.runnerAdditional.getPosition()-r.bar.getPosition()+i&&(s=r.runnerAdditional.getPosition()-r.bar.getPosition()+i),s},this.roundOffsetRunner=function(e){var t=r.parameters.minValue+(e+r.runnerMain.getWidth()/2)*(r.parameters.maxValue-r.parameters.minValue)/r.bar.getDimension(),n=r.round(t,r.parameters.step);r.parameters.isFloat&&(n=parseFloat(n.toFixed(2)));var i=r.convertOffsetToValue(n);return i<-r.runnerMain.getWidth()/2&&(i=-r.runnerMain.getWidth()/2,n=r.parameters.minValue),i>r.bar.getDimension()-r.runnerMain.getWidth()/2&&(i=r.bar.getDimension()-r.runnerMain.getWidth()/2,n=r.parameters.maxValue),[i,n]},this.round=function(e,t){var n=Math.trunc(e/t),i=+(e-n*t).toFixed(2);return e<0?Math.abs(i)<t/2?n*t:(n-1)*t:e<=r.parameters.minValue?r.parameters.minValue:e>=r.parameters.maxValue?r.parameters.maxValue:i<t/2?n*t:(n+1)*t},this.handleScaleClick=function(e,t){if("ClickOnScale"===e){var n=r.convertOffsetToValue(t),i=void 0;i=r.parameters.isRange?r.checkRunnerCloser(n):r.runnerMain,r.moveRunner(r.processRunnerOffset(n,i))}},this.checkRunnerCloser=function(e){return Math.abs(e-r.getMainRunnerOffset())<Math.abs(e-r.getAdditionalRunnerOffset())?r.runnerMain:r.runnerAdditional},this.handleBarClick=function(e,t){if("ClickOnBar"===e){var n=(r.parameters.isVertical?t.clientY:t.clientX)-r.bar.getPosition()-r.runnerMain.getWidth()/2;r.moveRunner(r.processRunnerOffset(n,r.checkRunnerCloser(n)))}},this.updateProgressBar=function(){r.progressBar.update(r.parameters.isVertical),r.progressBar.setPosition(r.getAdditionalRunnerOffset()),r.progressBar.setDimension(r.getMainRunnerOffset()-r.getAdditionalRunnerOffset())},this.parameters=e,this.runnerMain=new i.default(this.parameters.isVertical,this.handleRunnerMove),this.runnerAdditional=new i.default(this.parameters.isVertical,this.handleRunnerMove),this.progressBar=new a.default(this.parameters.isVertical),this.bar=new n.default(this.parameters.isVertical,this.handleBarClick),this.scale=new s.default(this.parameters,this.handleScaleClick),this.observers=new o.default,this.observers.addObserver(t)}return e.prototype.renewRunners=function(e){this.moveRunner(this.processRunnerOffset(this.convertOffsetToValue(e.currentMaxValue),this.runnerMain)),this.moveRunner(this.processRunnerOffset(this.convertOffsetToValue(e.currentMinValue),this.runnerAdditional))},e}();t.default=u},function(e,t,r){"use strict";r.r(t);var n=r(1),i=r(0),s=function(e,t){var r=this;this.getPosition=function(){return r.isVertical?r.elem.getBoundingClientRect().top:r.elem.getBoundingClientRect().left},this.getDimension=function(){return r.isVertical?r.elem.getBoundingClientRect().height:r.elem.getBoundingClientRect().width},this.update=function(e){r.isVertical=e,r.isVertical?r.elem.classList.add("slider__bar_position_vertical"):r.elem.classList.remove("slider__bar_position_vertical")},this.init=function(e){r.elem.onclick=r.handleBarClick,r.observers.addObserver(e)},this.handleBarClick=function(e){r.observers.notifyObservers("ClickOnBar",e)},this.elem=Object(n.default)("slider__bar"),this.isVertical=e,this.observers=new i.default,this.init(t)};t.default=s},function(e,t,r){"use strict";r.r(t);var n=r(1),i=function(e){var t=this;this.getWidth=function(){return t.elem.getBoundingClientRect().width},this.getPosition=function(){return t.isVertical?t.elem.getBoundingClientRect().top:t.elem.getBoundingClientRect().left},this.setPosition=function(e){t.isVertical?(t.elem.style.left="50%",t.elem.style.top=e+"px"):(t.elem.style.top="50%",t.elem.style.left=e+"px")},this.update=function(e){t.isVertical=e,t.isVertical?t.elem.classList.add("slider__button_position_vertical"):t.elem.classList.remove("slider__button_position_vertical")},this.elem=Object(n.default)("slider__button"),this.isVertical=e};t.default=i},function(e,t,r){"use strict";r.r(t);var n=r(1),i=function(e){var t=this;this.getPosition=function(){return t.isVertical?t.elem.getBoundingClientRect().top:t.elem.getBoundingClientRect().left},this.setPosition=function(e,r){t.elem.innerHTML=r+"",t.isVertical?(t.elem.style.left="50%",t.elem.style.top=e-t.getDimension()/2+"px"):(t.elem.style.top="50%",t.elem.style.left=e-t.getDimension()/2+"px")},this.getDimension=function(){return t.isVertical?t.elem.getBoundingClientRect().height:t.elem.getBoundingClientRect().width},this.update=function(e){t.isVertical=e,t.isVertical?t.elem.classList.add("slider__button-label_position_vertical"):t.elem.classList.remove("slider__button-label_position_vertical")},this.elem=Object(n.default)("slider__button-label"),this.isVertical=e};t.default=i},function(e,t,r){"use strict";r.r(t);var n=r(11),i=r(0),s=function(e,t){var r=this;this.update=function(e){r.parameters=e,r.moveMarks()},this.moveMarks=function(){r.marks.forEach((function(e,t){if(e.update(r.parameters.isVertical),0===t)e.setPosition(0,r.parameters.minValue);else if(t===r.marks.length-1)e.setPosition(100,r.parameters.maxValue);else{var n=r.round(r.parameters.minValue+(r.parameters.maxValue-r.parameters.minValue)*t/(r.marks.length-1));r.parameters.isFloat&&(n=parseFloat(n.toFixed(2)));var i=(n-r.parameters.minValue)/(r.parameters.maxValue-r.parameters.minValue);e.setPosition(100*i,n)}}))},this.init=function(e){r.moveMarks(),r.createMarks(),r.observers.addObserver(e)},this.handleScaleClick=function(e,t){"ClickOnMark"===e&&r.observers.notifyObservers("ClickOnScale",t)},this.createMarks=function(){for(var e=0;e<5;e+=1){var t=new n.default(r.parameters.isVertical,r.handleScaleClick);r.marks.push(t)}},this.round=function(e){var t=Math.trunc(e/r.parameters.step),n=+(e-t*r.parameters.step).toFixed(2);return e<0?Math.abs(n)<r.parameters.step/2?t*r.parameters.step:(t-1)*r.parameters.step:n<r.parameters.step/2?t*r.parameters.step:(t+1)*r.parameters.step},this.parameters=e,this.marks=[],this.observers=new i.default,this.init(t)};t.default=s},function(e,t,r){"use strict";r.r(t);var n=r(1),i=r(0),s=function(e,t){var r=this;this.getPosition=function(){return r.isVertical?r.elem.getBoundingClientRect().top:r.elem.getBoundingClientRect().left},this.setPosition=function(e,t){r.elem.innerHTML=t+"",r.value=t,r.isVertical?(r.elem.style.left="50%",r.elem.style.top=e+"%",r.elem.style.marginTop=-r.getDimension()/2+"px",r.elem.style.marginLeft="-45px"):(r.elem.style.top="50%",r.elem.style.left=e+"%",r.elem.style.marginLeft=-r.getDimension()/2+"px",r.elem.style.marginTop="15px")},this.getDimension=function(){return r.isVertical?r.elem.getBoundingClientRect().height:r.elem.getBoundingClientRect().width},this.update=function(e){r.isVertical=e,r.isVertical?r.elem.classList.add("slider__mark_position_vertical"):r.elem.classList.remove("slider__mark_position_vertical")},this.init=function(e){r.elem.onclick=r.handleMarkClick,r.observers.addObserver(e)},this.handleMarkClick=function(){r.observers.notifyObservers("ClickOnMark",r.value)},this.elem=Object(n.default)("slider__mark"),this.isVertical=e,this.observers=new i.default,this.init(t)};t.default=s},function(e,t,r){"use strict";r.r(t);var n=r(1),i=function(e){var t=this;this.setPosition=function(e){t.isVertical?(t.elem.style.left="0",t.elem.style.width="100%",t.elem.style.top=e+"px"):(t.elem.style.top="0",t.elem.style.height="100%",t.elem.style.left=e+"px")},this.setDimension=function(e){t.isVertical?t.elem.style.height=e+"px":t.elem.style.width=e+"px"},this.update=function(e){t.isVertical=e},this.elem=Object(n.default)("slider__progress-bar"),this.isVertical=e};t.default=i},function(e,t,r){"use strict";r.r(t);var n=r(0),i=function(e,t){var r=this;this.setCurrentValues=function(e,t){var n=e.currentMaxValue||0===e.currentMaxValue,i=e.currentMinValue||0===e.currentMinValue;n&&e.currentMaxValue!==r.currentValues.currentMaxValue&&(r.currentValues.currentMaxValue=e.currentMaxValue),i&&e.currentMinValue!==r.currentValues.currentMinValue&&(r.currentValues.currentMinValue=e.currentMinValue),"fromPanel"===t&&r.observers.notifyObservers("SendingCurrentValues",r.currentValues)},this.observeControllerFromModel=function(e,t){"UpdatingConfig"===e&&r.observers.notifyObservers("SendingCurrentValues",r.currentValues),"ChangingCurrentValueFromView"===e&&(r.setCurrentValues(t,"fromView"),r.observers.notifyObservers("SendingCurrentValuesForTracking",r.currentValues)),"ChangingCurrentValueFromPanel"===e&&r.setCurrentValues(t,"fromPanel"),"GettingValues"===e&&r.observers.notifyObservers("SendingCurrentValuesForTracking",r.currentValues)},this.currentValues=e,this.observers=new n.default,this.observers.addObserver(t)};t.default=i},function(e,t,r){var n={"./Controller/Controller.ts":4,"./Model/Model.ts":13,"./View/View.ts":5,"./View/blocks/Bar/Bar.ts":7,"./View/blocks/Knob/Knob.ts":8,"./View/blocks/ProgressBar/ProgressBar.ts":12,"./View/blocks/Runner/Runner.ts":3,"./View/blocks/Scale/Mark/Mark.ts":11,"./View/blocks/Scale/Scale.ts":10,"./View/blocks/Tooltip/Tooltip.ts":9,"./View/blocks/Track/Track.ts":6,"./View/blocks/createElem/createElem.ts":1,"./makeObservableObject/MakeObservableObject.ts":0,"./slider.ts":15,"./style.scss":16,"./types.ts":2};function i(e){var t=s(e);return r(t)}function s(e){if(!r.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}i.keys=function(){return Object.keys(n)},i.resolve=s,e.exports=i,i.id=14},function(e,t,r){"use strict";r.r(t);var n,i,s=r(2),a=r(4),o=function(){return(o=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};n=jQuery,i={init:function(e){if(!n(this).data("slider")){var t=o({},s.defaultParameters),r=new a.default(n.extend(t,e),n(this));n(this).data("slider",r)}},update:function(e){n(this).data("slider").update(e)},renew:function(){return n(this).data("slider").renew()},setValues:function(e){n(this).data("slider").setValues(e)},inputsAttach:function(e){n(this).data("slider").observers.addObserver((function(t,r){"SendingCurrentValuesForTracking"===t&&(e.minValueInput.val(r.currentMinValue),e.maxValueInput.val(r.currentMaxValue)),"SendingConfig"===t&&(e.maxValue.val(r.maxValue),e.minValue.val(r.minValue),e.step.val(r.step))}))}},n.fn.omfgslider=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return i[e]?i[e].apply(this,t):"object"!=typeof e&&e?(n.error("Метод "+e+" не найден в плагине jQuery.omfgslider"),null):i.init.apply(this,[e])}},function(e,t,r){},,function(e,t,r){"use strict";r.r(t);var n;r.p;(n=r(14)).keys().forEach(n)}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL3BsdWdpbi9tYWtlT2JzZXJ2YWJsZU9iamVjdC9NYWtlT2JzZXJ2YWJsZU9iamVjdC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvcGx1Z2luL1ZpZXcvYmxvY2tzL2NyZWF0ZUVsZW0vY3JlYXRlRWxlbS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvcGx1Z2luL3R5cGVzLnRzIiwid2VicGFjazovLy8uL3NyYy9wbHVnaW4vVmlldy9ibG9ja3MvUnVubmVyL1J1bm5lci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvcGx1Z2luL0NvbnRyb2xsZXIvQ29udHJvbGxlci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvcGx1Z2luL1ZpZXcvVmlldy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvcGx1Z2luL1ZpZXcvYmxvY2tzL1RyYWNrL1RyYWNrLnRzIiwid2VicGFjazovLy8uL3NyYy9wbHVnaW4vVmlldy9ibG9ja3MvQmFyL0Jhci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvcGx1Z2luL1ZpZXcvYmxvY2tzL0tub2IvS25vYi50cyIsIndlYnBhY2s6Ly8vLi9zcmMvcGx1Z2luL1ZpZXcvYmxvY2tzL1Rvb2x0aXAvVG9vbHRpcC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvcGx1Z2luL1ZpZXcvYmxvY2tzL1NjYWxlL1NjYWxlLnRzIiwid2VicGFjazovLy8uL3NyYy9wbHVnaW4vVmlldy9ibG9ja3MvU2NhbGUvTWFyay9NYXJrLnRzIiwid2VicGFjazovLy8uL3NyYy9wbHVnaW4vVmlldy9ibG9ja3MvUHJvZ3Jlc3NCYXIvUHJvZ3Jlc3NCYXIudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3BsdWdpbi9Nb2RlbC9Nb2RlbC50cyIsIndlYnBhY2s6Ly8vXFwuZClcXC4oanN8dHN8c2NzcykkLyIsIndlYnBhY2s6Ly8vLi9zcmMvcGx1Z2luL3NsaWRlci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZGVtby1wYWdlL2luZGV4Lmh0bWwiLCJ3ZWJwYWNrOi8vLy4vc3JjL2luZGV4LnRzIl0sIm5hbWVzIjpbImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJleHBvcnRzIiwibW9kdWxlIiwiaSIsImwiLCJtb2R1bGVzIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJ0IiwibW9kZSIsIl9fZXNNb2R1bGUiLCJucyIsImNyZWF0ZSIsImtleSIsImJpbmQiLCJuIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwidGhpcyIsIm9ic2VydmVycyIsImFkZE9ic2VydmVyIiwiZm4iLCJFcnJvciIsImZvckVhY2giLCJvYnNlcnZlciIsInB1c2giLCJyZW1vdmVPYnNlcnZlciIsImxlbmd0aCIsInNwbGljZSIsIm5vdGlmeU9ic2VydmVycyIsImV2ZW50TmFtZSIsImRhdGEiLCJtYXAiLCJjbGFzc05hbWUiLCJlbGVtIiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50Iiwib25kcmFnc3RhcnQiLCJjbGFzc0xpc3QiLCJhZGQiLCJkZWZhdWx0UGFyYW1ldGVycyIsIm1pblZhbHVlIiwibWF4VmFsdWUiLCJzdGVwIiwiaXNSYW5nZSIsImlzVmVydGljYWwiLCJzaG93TGFiZWwiLCJpc0Zsb2F0IiwibW92ZU9ic2VydmVyIiwiZ2V0UG9zaXRpb24iLCJrbm9iIiwic2V0UG9zaXRpb24iLCJvZmZzZXQiLCJ0b29sdGlwIiwiZ2V0V2lkdGgiLCJ1cGRhdGUiLCJoaWRlUnVubmVyIiwic3R5bGUiLCJkaXNwbGF5IiwiaGlkZUxhYmVsIiwic2hvd1J1bm5lciIsImFwcGVuZFRvTm9kZSIsImVudHJ5IiwiYXBwZW5kQ2hpbGQiLCJvbm1vdXNlZG93biIsImhhbmRsZVJ1bm5lck1vdXNlRG93biIsImV2ZW50IiwicHJldmVudERlZmF1bHQiLCJhZGRFdmVudExpc3RlbmVyIiwiaGFuZGxlUnVubmVyTW91c2VNb3ZlIiwiaGFuZGxlUnVubmVyTW91c2VVcCIsInJ1bm5lciIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJwYXJhbWV0ZXJzIiwic2V0VmFsdWVzIiwiY3VycmVudFZhbHVlcyIsInJlbmV3IiwiaW5pdCIsInZpZXciLCJvYnNlcnZlQ29udHJvbGxlckZyb21WaWV3IiwibW9kZWwiLCJvYnNlcnZlQ29udHJvbGxlckZyb21Nb2RlbCIsImhhbmRsZVZpZXdDaGFuZ2luZ1ZhbHVlIiwiaGFuZGxlTW9kZWxTZW5kaW5nVmFsdWVzIiwiY3VycmVudE1pblZhbHVlIiwiY3VycmVudE1heFZhbHVlIiwiaXNPdGhlcnNWYWx1ZXNGbG9hdCIsIml0ZW0iLCJwYXJhbWV0ZXIiLCJjaGVja2VkUGFyYW1ldGVycyIsInZhbGlkYXRlQ29uZmlnIiwiaGFuZGxlVHJhY2tWYWx1ZUNoYW5naW5nIiwidHJhY2siLCJvYnNlcnZlVmlld0Zyb21UcmFjayIsImtleXMiLCJyZWR1Y2UiLCJhY2MiLCJjaGVja1N0ZXAiLCJjaGVja01heFZhbHVlIiwiY2hlY2tNaW5WYWx1ZSIsIk51bWJlciIsImlzTmFOIiwiYmFyIiwicHJvZ3Jlc3NCYXIiLCJydW5uZXJBZGRpdGlvbmFsIiwicnVubmVyTWFpbiIsInNjYWxlIiwiZ2V0RGltZW5zaW9uIiwicmVuZXdSdW5uZXJzIiwibWFya3MiLCJtYXJrIiwibW92ZU1hcmtzIiwiY29udmVydE9mZnNldFRvVmFsdWUiLCJnZXRNYWluUnVubmVyT2Zmc2V0IiwiZ2V0QWRkaXRpb25hbFJ1bm5lck9mZnNldCIsImhhbmRsZVJ1bm5lck1vdmUiLCJtb3ZlUnVubmVyIiwicHJvY2Vzc1J1bm5lck1vdXNlRXZlbnQiLCJvYmoiLCJ1cGRhdGVQcm9ncmVzc0JhciIsImV2ZW50TW0iLCJjbGllbnRZIiwiY2xpZW50WCIsInByb2Nlc3NSdW5uZXJPZmZzZXQiLCJyb3VuZE9mZnNldCIsImNoZWNrUnVubmVyT2Zmc2V0Iiwicm91bmRPZmZzZXRSdW5uZXIiLCJzdGVwV2lkdGgiLCJtaW5PZmZzZXQiLCJuZXdPZmZzZXQiLCJjdXJyZW50T2Zmc2V0IiwiY3VycmVudFZhbHVlIiwicm91bmRWYWx1ZSIsInJvdW5kIiwicGFyc2VGbG9hdCIsInRvRml4ZWQiLCJ3aG9sZSIsIk1hdGgiLCJ0cnVuYyIsInJlbWluZGVyIiwiYWJzIiwiaGFuZGxlU2NhbGVDbGljayIsImNoZWNrUnVubmVyQ2xvc2VyIiwiaGFuZGxlQmFyQ2xpY2siLCJzZXREaW1lbnNpb24iLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJ0b3AiLCJsZWZ0IiwiaGVpZ2h0Iiwid2lkdGgiLCJyZW1vdmUiLCJvbmNsaWNrIiwiaW5uZXJIVE1MIiwib3B0aW9ucyIsImluZGV4IiwiY3JlYXRlTWFya3MiLCJtYXJnaW5Ub3AiLCJtYXJnaW5MZWZ0IiwiaGFuZGxlTWFya0NsaWNrIiwiZGltZW5zaW9uIiwic2V0Q3VycmVudFZhbHVlcyIsInNvdXJjZU9mQ2hhbmdpbmciLCJpc0N1cnJlbnRNYXhWYWx1ZVJlYWwiLCJpc0N1cnJlbnRNaW5WYWx1ZVJlYWwiLCJ3ZWJwYWNrQ29udGV4dCIsInJlcSIsImlkIiwid2VicGFja0NvbnRleHRSZXNvbHZlIiwiZSIsImNvZGUiLCJyZXNvbHZlIiwiJCIsIm1ldGhvZHMiLCJqUXVlcnkiLCJvcHQiLCJuZXdDb25maWciLCJzbGlkZXIiLCJleHRlbmQiLCJpbnB1dHNBdHRhY2giLCJtaW5WYWx1ZUlucHV0IiwidmFsIiwibWF4VmFsdWVJbnB1dCIsIm9tZmdzbGlkZXIiLCJtZXRob2QiLCJhcHBseSIsImFyZ3MiLCJlcnJvciJdLCJtYXBwaW5ncyI6ImFBQ0UsSUFBSUEsRUFBbUIsR0FHdkIsU0FBU0MsRUFBb0JDLEdBRzVCLEdBQUdGLEVBQWlCRSxHQUNuQixPQUFPRixFQUFpQkUsR0FBVUMsUUFHbkMsSUFBSUMsRUFBU0osRUFBaUJFLEdBQVksQ0FDekNHLEVBQUdILEVBQ0hJLEdB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RixLQUFLMkcsTUFBTXRLLEtBQU0sQ0FBQ3FLLE0sdURDakR4QixJQ0VJdkwsRURGSixLQ0VJQSxFQUlULE9BSE44RixPQUFPdkUsUUFBUXZCIiwiZmlsZSI6ImJ1bmRsZS5qcyIsInNvdXJjZXNDb250ZW50IjpbIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSAxOCk7XG4iLCJpbXBvcnQgKiBhcyB0eXBlcyBmcm9tICcuLi90eXBlcyc7XHJcblxyXG5jbGFzcyBNYWtlT2JzZXJ2YWJsZU9iamVjdCB7XHJcbiAgb2JzZXJ2ZXJzOiBBcnJheTx0eXBlcy5GdW5jdGlvbkNhbGxiYWNrRGF0YT47XHJcblxyXG4gIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgdGhpcy5vYnNlcnZlcnMgPSBbXTtcclxuICB9XHJcblxyXG4gIGFkZE9ic2VydmVyKGZuOiB0eXBlcy5PYnNlcnZlckZ1bmN0aW9uKTogdm9pZCB7XHJcbiAgICBpZiAodHlwZW9mIGZuICE9PSAnZnVuY3Rpb24nKSB7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcignb2JzZXJ2ZXIgbXVzdCBiZSBhIGZ1bmN0aW9uJyk7XHJcbiAgICB9XHJcbiAgICB0aGlzLm9ic2VydmVycy5mb3JFYWNoKChvYnNlcnZlcikgPT4ge1xyXG4gICAgICBpZiAob2JzZXJ2ZXIgPT09IGZuKSB7XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdvYnNlcnZlciBhbHJlYWR5IGluIHRoZSBsaXN0Jyk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gICAgdGhpcy5vYnNlcnZlcnMucHVzaChmbik7XHJcbiAgfVxyXG5cclxuICByZW1vdmVPYnNlcnZlcihmbjogdHlwZXMuT2JzZXJ2ZXJGdW5jdGlvbik6IHZvaWQge1xyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLm9ic2VydmVycy5sZW5ndGg7IGkgKz0gMSkge1xyXG4gICAgICBjb25zdCBvYnNlcnZlciA9IHRoaXMub2JzZXJ2ZXJzW2ldO1xyXG4gICAgICBpZiAob2JzZXJ2ZXIgPT09IGZuKSB7XHJcbiAgICAgICAgdGhpcy5vYnNlcnZlcnMuc3BsaWNlKGksIDEpO1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgdGhyb3cgbmV3IEVycm9yKCdjb3VsZCBub3QgZmluZCBvYnNlcnZlciBpbiBsaXN0IG9mIG9ic2VydmVycycpO1xyXG4gIH1cclxuXHJcbiAgbm90aWZ5T2JzZXJ2ZXJzKGV2ZW50TmFtZT86IHN0cmluZywgZGF0YT86IGFueSk6IHZvaWQge1xyXG4gICAgY29uc3Qgb2JzZXJ2ZXJzU25hcHNob3QgPSBbLi4udGhpcy5vYnNlcnZlcnNdO1xyXG4gICAgb2JzZXJ2ZXJzU25hcHNob3QubWFwKChvYnNlcnZlcikgPT4gb2JzZXJ2ZXIoZXZlbnROYW1lLCBkYXRhKSk7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBNYWtlT2JzZXJ2YWJsZU9iamVjdDtcclxuIiwiZnVuY3Rpb24gY3JlYXRlRWxlbShjbGFzc05hbWU6IHN0cmluZykgOkhUTUxFbGVtZW50IHtcclxuICBjb25zdCBlbGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgZWxlbS5vbmRyYWdzdGFydCA9ICgpID0+IGZhbHNlO1xyXG4gIGVsZW0uY2xhc3NMaXN0LmFkZChjbGFzc05hbWUpO1xyXG4gIHJldHVybiBlbGVtO1xyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjcmVhdGVFbGVtO1xyXG4iLCJpbXBvcnQgUnVubmVyIGZyb20gJy4vVmlldy9ibG9ja3MvUnVubmVyL1J1bm5lcic7XHJcblxyXG5leHBvcnQgdHlwZSBGdW5jdGlvbkNhbGxiYWNrRGF0YSA9IChkYXRhOiBhbnksIGV2ZW50TmFtZT86IHN0cmluZykgPT4gdm9pZDtcclxuXHJcbmV4cG9ydCB0eXBlIE9ic2VydmVyRnVuY3Rpb24gPSAoZXZlbnROYW1lOiBzdHJpbmcsIGRhdGE/OiBhbnksKSA9PiB2b2lkO1xyXG5cclxuZXhwb3J0IHR5cGUgY29uZmlnVXBkYXRlRGF0YSA9IHtcclxuICBbaW5kZXg6IHN0cmluZ106IG51bWJlcnxzdHJpbmd8Ym9vbGVhbjtcclxufVxyXG5cclxuZXhwb3J0IHR5cGUgUnVubmVyTW92ZURhdGEgPSB7XHJcbiAgcnVubmVyOiBSdW5uZXIsXHJcbiAgb2Zmc2V0OiBudW1iZXIsXHJcbiAgdmFsdWU6IG51bWJlcixcclxufVxyXG5cclxuZXhwb3J0IHR5cGUgQ3VycmVudFZhbHVlcyA9IHtcclxuICBjdXJyZW50TWluVmFsdWU6IG51bWJlcixcclxuICBjdXJyZW50TWF4VmFsdWU6IG51bWJlcixcclxufVxyXG5cclxuZXhwb3J0IHR5cGUgUnVubmVyT2JzZXJ2ZXJEYXRhID0ge1xyXG4gIGV2ZW50OiBNb3VzZUV2ZW50LFxyXG4gIHJ1bm5lcjogUnVubmVyLFxyXG59XHJcblxyXG5leHBvcnQgdHlwZSBQYXJhbWV0ZXJzID0ge1xyXG4gIG1pblZhbHVlOiBudW1iZXIsXHJcbiAgbWF4VmFsdWU6IG51bWJlcixcclxuICBzdGVwOiBudW1iZXIsXHJcbiAgaXNSYW5nZTogYm9vbGVhbixcclxuICBpc1ZlcnRpY2FsOiBib29sZWFuLFxyXG4gIHNob3dMYWJlbDogYm9vbGVhbixcclxuICBpc0Zsb2F0OiBib29sZWFuXHJcbn1cclxuXHJcbmV4cG9ydCB0eXBlIFJhd1BhcmFtZXRlcnMgPSB7XHJcbiAgbWluVmFsdWU6IG51bWJlcixcclxuICBtYXhWYWx1ZTogbnVtYmVyLFxyXG4gIHN0ZXA6IG51bWJlcixcclxuICBpc1JhbmdlOiBzdHJpbmcsXHJcbiAgaXNWZXJ0aWNhbDogc3RyaW5nLFxyXG4gIHNob3dMYWJlbDogc3RyaW5nLFxyXG4gIGlzRmxvYXQ6IHN0cmluZ1xyXG59XHJcblxyXG5leHBvcnQgY29uc3QgZGVmYXVsdFBhcmFtZXRlcnMgPSB7XHJcbiAgbWluVmFsdWU6IDAsXHJcbiAgbWF4VmFsdWU6IDEwMDAsXHJcbiAgc3RlcDogMSxcclxuICBpc1JhbmdlOiBmYWxzZSxcclxuICBpc1ZlcnRpY2FsOiBmYWxzZSxcclxuICBzaG93TGFiZWw6IHRydWUsXHJcbiAgaXNGbG9hdDogZmFsc2VcclxufTtcclxuIiwiaW1wb3J0ICogYXMgdHlwZXMgZnJvbSAnLi4vLi4vLi4vdHlwZXMnO1xyXG5pbXBvcnQgS25vYiBmcm9tICcuLi9Lbm9iL0tub2InO1xyXG5pbXBvcnQgVG9vbHRpcCBmcm9tICcuLi9Ub29sdGlwL1Rvb2x0aXAnO1xyXG5pbXBvcnQgTWFrZU9ic2VydmFibGVPYmplY3QgZnJvbSAnLi4vLi4vLi4vbWFrZU9ic2VydmFibGVPYmplY3QvTWFrZU9ic2VydmFibGVPYmplY3QnO1xyXG5cclxuY2xhc3MgUnVubmVyIHtcclxuICBrbm9iOiBLbm9iO1xyXG5cclxuICB0b29sdGlwOiBUb29sdGlwO1xyXG5cclxuICBpc1ZlcnRpY2FsOiBib29sZWFuO1xyXG5cclxuICBvYnNlcnZlcnM6IE1ha2VPYnNlcnZhYmxlT2JqZWN0O1xyXG5cclxuICBjb25zdHJ1Y3Rvcihpc1ZlcnRpY2FsOiBib29sZWFuLCBtb3ZlT2JzZXJ2ZXI6IHR5cGVzLk9ic2VydmVyRnVuY3Rpb24pIHtcclxuICAgIHRoaXMuaXNWZXJ0aWNhbCA9IGlzVmVydGljYWw7XHJcbiAgICB0aGlzLmtub2IgPSBuZXcgS25vYihpc1ZlcnRpY2FsKTtcclxuICAgIHRoaXMudG9vbHRpcCA9IG5ldyBUb29sdGlwKGlzVmVydGljYWwpO1xyXG4gICAgdGhpcy5vYnNlcnZlcnMgPSBuZXcgTWFrZU9ic2VydmFibGVPYmplY3QoKTtcclxuICAgIHRoaXMub2JzZXJ2ZXJzLmFkZE9ic2VydmVyKG1vdmVPYnNlcnZlcik7XHJcbiAgfVxyXG5cclxuICBnZXRQb3NpdGlvbiA9ICgpOiBudW1iZXIgPT4ge1xyXG4gICAgcmV0dXJuIHRoaXMua25vYi5nZXRQb3NpdGlvbigpO1xyXG4gIH1cclxuXHJcbiAgc2V0UG9zaXRpb24gPSAob2Zmc2V0OiBudW1iZXIsIHZhbHVlOiBudW1iZXIpOiB2b2lkID0+IHtcclxuICAgIHRoaXMudG9vbHRpcC5zZXRQb3NpdGlvbihvZmZzZXQgKyB0aGlzLmtub2IuZ2V0V2lkdGgoKSAvIDIsIHZhbHVlKTtcclxuICAgIHRoaXMua25vYi5zZXRQb3NpdGlvbihvZmZzZXQpO1xyXG4gIH1cclxuXHJcbiAgdXBkYXRlID0gKGlzVmVydGljYWw6IGJvb2xlYW4pOiB2b2lkID0+IHtcclxuICAgIHRoaXMua25vYi51cGRhdGUoaXNWZXJ0aWNhbCk7XHJcbiAgICB0aGlzLnRvb2x0aXAudXBkYXRlKGlzVmVydGljYWwpO1xyXG4gIH1cclxuXHJcbiAgZ2V0V2lkdGggPSAoKTogbnVtYmVyID0+IHtcclxuICAgIHJldHVybiB0aGlzLmtub2IuZ2V0V2lkdGgoKTtcclxuICB9XHJcblxyXG4gIGhpZGVSdW5uZXIgPSAoKTogdm9pZCA9PiB7XHJcbiAgICB0aGlzLmtub2IuZWxlbS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xyXG4gICAgdGhpcy50b29sdGlwLmVsZW0uc3R5bGUuZGlzcGxheSA9ICdub25lJztcclxuICB9XHJcblxyXG4gIGhpZGVMYWJlbCA9ICgpOiB2b2lkID0+IHtcclxuICAgIHRoaXMudG9vbHRpcC5lbGVtLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XHJcbiAgfVxyXG5cclxuICBzaG93TGFiZWwgPSAoKTogdm9pZCA9PiB7XHJcbiAgICB0aGlzLnRvb2x0aXAuZWxlbS5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcclxuICB9XHJcblxyXG4gIHNob3dSdW5uZXIgPSAoKTogdm9pZCA9PiB7XHJcbiAgICB0aGlzLmtub2IuZWxlbS5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcclxuICB9XHJcblxyXG4gIGFwcGVuZFRvTm9kZSA9IChlbnRyeTogSFRNTEVsZW1lbnQpOiB2b2lkID0+IHtcclxuICAgIFt0aGlzLmtub2IuZWxlbSwgdGhpcy50b29sdGlwLmVsZW1dLmZvckVhY2goKGVsZW0pID0+IHtcclxuICAgICAgZW50cnkuYXBwZW5kQ2hpbGQoZWxlbSk7XHJcbiAgICAgIGVsZW0ub25tb3VzZWRvd24gPSB0aGlzLmhhbmRsZVJ1bm5lck1vdXNlRG93bjsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1wYXJhbS1yZWFzc2lnblxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGhhbmRsZVJ1bm5lck1vdXNlRG93biA9IChldmVudDogTW91c2VFdmVudCk6IHZvaWQgPT4ge1xyXG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIHRoaXMuaGFuZGxlUnVubmVyTW91c2VNb3ZlKTtcclxuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCB0aGlzLmhhbmRsZVJ1bm5lck1vdXNlVXApO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBoYW5kbGVSdW5uZXJNb3VzZU1vdmUgPSAoZXZlbnQ6IE1vdXNlRXZlbnQpOiB2b2lkID0+IHtcclxuICAgIHRoaXMub2JzZXJ2ZXJzLm5vdGlmeU9ic2VydmVycygnTW92aW5nUnVubmVyJywgeyBldmVudDogZXZlbnQsIHJ1bm5lcjogdGhpcyB9KTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgaGFuZGxlUnVubmVyTW91c2VVcCA9ICgpOiB2b2lkID0+IHtcclxuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCB0aGlzLmhhbmRsZVJ1bm5lck1vdXNlVXApO1xyXG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgdGhpcy5oYW5kbGVSdW5uZXJNb3VzZU1vdmUpO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgUnVubmVyO1xyXG4iLCJpbXBvcnQgKiBhcyB0eXBlcyBmcm9tICcuLi90eXBlcyc7XHJcbmltcG9ydCBWaWV3IGZyb20gJy4uL1ZpZXcvVmlldyc7XHJcbmltcG9ydCBNb2RlbCBmcm9tICcuLi9Nb2RlbC9Nb2RlbCc7XHJcbmltcG9ydCBNYWtlT2JzZXJ2YWJsZU9iamVjdCBmcm9tICcuLi9tYWtlT2JzZXJ2YWJsZU9iamVjdC9NYWtlT2JzZXJ2YWJsZU9iamVjdCc7XHJcblxyXG5jbGFzcyBDb250cm9sbGVyIHtcclxuICBwcml2YXRlIHZpZXc6IFZpZXc7XHJcblxyXG4gIHByaXZhdGUgbW9kZWw6IE1vZGVsO1xyXG5cclxuICBvYnNlcnZlcnM6IE1ha2VPYnNlcnZhYmxlT2JqZWN0O1xyXG5cclxuICBjb25zdHJ1Y3RvcihwYXJhbWV0ZXJzID0gdHlwZXMuZGVmYXVsdFBhcmFtZXRlcnMsIGVudHJ5OiBKUXVlcnkpIHtcclxuICAgIHRoaXMudmlldyA9IG5ldyBWaWV3KHBhcmFtZXRlcnMsIHRoaXMuaGFuZGxlVmlld0NoYW5naW5nVmFsdWUpO1xyXG4gICAgdGhpcy5tb2RlbCA9IG5ldyBNb2RlbCh7XHJcbiAgICAgIGN1cnJlbnRNaW5WYWx1ZTogcGFyYW1ldGVycy5taW5WYWx1ZSxcclxuICAgICAgY3VycmVudE1heFZhbHVlOiBwYXJhbWV0ZXJzLm1heFZhbHVlXHJcbiAgICB9LCB0aGlzLmhhbmRsZU1vZGVsU2VuZGluZ1ZhbHVlcyk7XHJcbiAgICB0aGlzLm9ic2VydmVycyA9IG5ldyBNYWtlT2JzZXJ2YWJsZU9iamVjdCgpO1xyXG4gICAgdGhpcy5pbml0KGVudHJ5LCBwYXJhbWV0ZXJzKTtcclxuICB9XHJcblxyXG4gIHVwZGF0ZSA9IChwYXJhbWV0ZXJzOiB0eXBlcy5SYXdQYXJhbWV0ZXJzKTogdm9pZCA9PiB7XHJcbiAgICB0aGlzLm9ic2VydmVycy5ub3RpZnlPYnNlcnZlcnMoJ1VwZGF0aW5nQ29uZmlnJywgcGFyYW1ldGVycyk7XHJcbiAgICB0aGlzLm9ic2VydmVycy5ub3RpZnlPYnNlcnZlcnMoJ0dldHRpbmdDb25maWcnKTtcclxuICB9XHJcblxyXG4gIHNldFZhbHVlcyA9IChjdXJyZW50VmFsdWVzOiB0eXBlcy5DdXJyZW50VmFsdWVzKTogdm9pZCA9PiB7XHJcbiAgICB0aGlzLm9ic2VydmVycy5ub3RpZnlPYnNlcnZlcnMoJ0NoYW5naW5nQ3VycmVudFZhbHVlRnJvbVBhbmVsJywgY3VycmVudFZhbHVlcyk7XHJcbiAgfVxyXG5cclxuICByZW5ldyA9ICgpOiB2b2lkID0+IHtcclxuICAgIHRoaXMub2JzZXJ2ZXJzLm5vdGlmeU9ic2VydmVycygnR2V0dGluZ0NvbmZpZycpO1xyXG4gICAgdGhpcy5vYnNlcnZlcnMubm90aWZ5T2JzZXJ2ZXJzKCdHZXR0aW5nVmFsdWVzJyk7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGluaXQgPSAoZW50cnk6IEpRdWVyeSwgcGFyYW1ldGVyczogdHlwZXMuUGFyYW1ldGVycyk6dm9pZCA9PiB7XHJcbiAgICB0aGlzLm9ic2VydmVycy5hZGRPYnNlcnZlcih0aGlzLnZpZXcub2JzZXJ2ZUNvbnRyb2xsZXJGcm9tVmlldyk7XHJcbiAgICB0aGlzLm9ic2VydmVycy5hZGRPYnNlcnZlcih0aGlzLm1vZGVsLm9ic2VydmVDb250cm9sbGVyRnJvbU1vZGVsKTtcclxuICAgIHRoaXMub2JzZXJ2ZXJzLm5vdGlmeU9ic2VydmVycygnQXBwZW5kaW5nVG9Ob2RlJywgZW50cnkuZ2V0KDApKTtcclxuICAgIHRoaXMub2JzZXJ2ZXJzLm5vdGlmeU9ic2VydmVycygnVXBkYXRpbmdDb25maWcnLCBwYXJhbWV0ZXJzKTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgaGFuZGxlVmlld0NoYW5naW5nVmFsdWUgPSAoZXZlbnROYW1lOiBzdHJpbmcsIGRhdGE6IGFueSk6IHZvaWQgPT4ge1xyXG4gICAgaWYgKGV2ZW50TmFtZSA9PT0gJ0NoYW5naW5nQ3VycmVudFZhbHVlRnJvbVZpZXcnKSB7XHJcbiAgICAgIHRoaXMub2JzZXJ2ZXJzLm5vdGlmeU9ic2VydmVycygnQ2hhbmdpbmdDdXJyZW50VmFsdWVGcm9tVmlldycsIGRhdGEpO1xyXG4gICAgfSBpZiAoZXZlbnROYW1lID09PSAnU2VuZGluZ0NvbmZpZycpIHtcclxuICAgICAgdGhpcy5vYnNlcnZlcnMubm90aWZ5T2JzZXJ2ZXJzKCdTZW5kaW5nQ29uZmlnJywgZGF0YSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGhhbmRsZU1vZGVsU2VuZGluZ1ZhbHVlcyA9IChldmVudE5hbWU6IHN0cmluZywgZGF0YTogdHlwZXMuQ3VycmVudFZhbHVlcyk6IHZvaWQgPT4ge1xyXG4gICAgaWYgKGV2ZW50TmFtZSA9PT0gJ1NlbmRpbmdDdXJyZW50VmFsdWVzJykge1xyXG4gICAgICB0aGlzLm9ic2VydmVycy5ub3RpZnlPYnNlcnZlcnMoJ1NlbmRpbmdDdXJyZW50VmFsdWVzJywgZGF0YSk7XHJcbiAgICAgIHRoaXMub2JzZXJ2ZXJzLm5vdGlmeU9ic2VydmVycygnR2V0dGluZ1ZhbHVlcycpO1xyXG4gICAgfSBpZiAoZXZlbnROYW1lID09PSAnU2VuZGluZ0N1cnJlbnRWYWx1ZXNGb3JUcmFja2luZycpIHtcclxuICAgICAgdGhpcy5vYnNlcnZlcnMubm90aWZ5T2JzZXJ2ZXJzKCdTZW5kaW5nQ3VycmVudFZhbHVlc0ZvclRyYWNraW5nJywgZGF0YSk7XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBDb250cm9sbGVyO1xyXG4iLCJpbXBvcnQgKiBhcyB0eXBlcyBmcm9tICcuLi90eXBlcyc7XHJcbmltcG9ydCBNYWtlT2JzZXJ2YWJsZU9iamVjdCBmcm9tICcuLi9tYWtlT2JzZXJ2YWJsZU9iamVjdC9NYWtlT2JzZXJ2YWJsZU9iamVjdCc7XHJcbmltcG9ydCBUcmFjayBmcm9tICcuL2Jsb2Nrcy9UcmFjay9UcmFjayc7XHJcblxyXG5jb25zdCBpc090aGVyc1ZhbHVlc0Zsb2F0ID0gKGl0ZW06IFZpZXcsIHBhcmFtZXRlcjogc3RyaW5nKTogYm9vbGVhbiA9PiB7XHJcbiAgc3dpdGNoIChwYXJhbWV0ZXIpIHtcclxuICAgIGNhc2UgJ3N0ZXAnOlxyXG4gICAgICByZXR1cm4gKGl0ZW0ucGFyYW1ldGVycy5tYXhWYWx1ZSAlIDEgIT09IDAgfHwgaXRlbS5wYXJhbWV0ZXJzLm1pblZhbHVlICUgMSAhPT0gMCk7XHJcbiAgICBjYXNlICdtYXhWYWx1ZSc6XHJcbiAgICAgIHJldHVybiAoaXRlbS5wYXJhbWV0ZXJzLnN0ZXAgJSAxICE9PSAwIHx8IGl0ZW0ucGFyYW1ldGVycy5taW5WYWx1ZSAlIDEgIT09IDApO1xyXG4gICAgY2FzZSAnbWluVmFsdWUnOlxyXG4gICAgICByZXR1cm4gKGl0ZW0ucGFyYW1ldGVycy5zdGVwICUgMSAhPT0gMCB8fCBpdGVtLnBhcmFtZXRlcnMubWF4VmFsdWUgJSAxICE9PSAwKTtcclxuICAgIGRlZmF1bHQ6XHJcbiAgICAgIHJldHVybiBmYWxzZTtcclxuICB9XHJcbn07XHJcblxyXG5jbGFzcyBWaWV3IHtcclxuICBwYXJhbWV0ZXJzOiB0eXBlcy5QYXJhbWV0ZXJzO1xyXG5cclxuICBvYnNlcnZlcnM6IE1ha2VPYnNlcnZhYmxlT2JqZWN0O1xyXG5cclxuICBwcml2YXRlIHRyYWNrOiBUcmFjaztcclxuXHJcbiAgY29uc3RydWN0b3IocGFyYW1ldGVycyA9IHR5cGVzLmRlZmF1bHRQYXJhbWV0ZXJzLCBvYnNlcnZlcjogdHlwZXMuT2JzZXJ2ZXJGdW5jdGlvbikge1xyXG4gICAgdGhpcy5vYnNlcnZlcnMgPSBuZXcgTWFrZU9ic2VydmFibGVPYmplY3QoKTtcclxuICAgIHRoaXMudHJhY2sgPSBuZXcgVHJhY2socGFyYW1ldGVycywgdGhpcy5oYW5kbGVUcmFja1ZhbHVlQ2hhbmdpbmcpO1xyXG4gICAgdGhpcy5wYXJhbWV0ZXJzID0gcGFyYW1ldGVycztcclxuICAgIHRoaXMuaW5pdChvYnNlcnZlcik7XHJcbiAgfVxyXG5cclxuICB1cGRhdGUgPSAocGFyYW1ldGVyczogdHlwZXMuUmF3UGFyYW1ldGVycyk6IHZvaWQgPT4ge1xyXG4gICAgY29uc3QgY2hlY2tlZFBhcmFtZXRlcnMgPSB0aGlzLnZhbGlkYXRlQ29uZmlnKHBhcmFtZXRlcnMpO1xyXG4gICAgdGhpcy5wYXJhbWV0ZXJzID0gY2hlY2tlZFBhcmFtZXRlcnM7XHJcbiAgICB0aGlzLm9ic2VydmVycy5ub3RpZnlPYnNlcnZlcnMoJ1VwZGF0aW5nQ29uZmlnJywgdGhpcy5wYXJhbWV0ZXJzKTtcclxuICB9XHJcblxyXG4gIGhhbmRsZVRyYWNrVmFsdWVDaGFuZ2luZyA9IChldmVudE5hbWU6IHN0cmluZywgZGF0YTogdHlwZXMuQ3VycmVudFZhbHVlcyk6IHZvaWQgPT4ge1xyXG4gICAgaWYgKGV2ZW50TmFtZSA9PT0gJ0NoYW5naW5nQ3VycmVudFZhbHVlRnJvbVRyYWNrJykge1xyXG4gICAgICB0aGlzLm9ic2VydmVycy5ub3RpZnlPYnNlcnZlcnMoJ0NoYW5naW5nQ3VycmVudFZhbHVlRnJvbVZpZXcnLCBkYXRhKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIG9ic2VydmVDb250cm9sbGVyRnJvbVZpZXcgPSAoZXZlbnROYW1lOiBzdHJpbmcsIGRhdGE6IGFueSk6IHZvaWQgPT4ge1xyXG4gICAgaWYgKGV2ZW50TmFtZSA9PT0gJ1NlbmRpbmdDdXJyZW50VmFsdWVzJykge1xyXG4gICAgICB0aGlzLm9ic2VydmVycy5ub3RpZnlPYnNlcnZlcnMoJ1NlbmRpbmdDdXJyZW50VmFsdWVzJywgZGF0YSk7XHJcbiAgICB9IGlmIChldmVudE5hbWUgPT09ICdVcGRhdGluZ0NvbmZpZycpIHtcclxuICAgICAgdGhpcy51cGRhdGUoZGF0YSk7XHJcbiAgICB9IGlmIChldmVudE5hbWUgPT09ICdHZXR0aW5nQ29uZmlnJykge1xyXG4gICAgICB0aGlzLm9ic2VydmVycy5ub3RpZnlPYnNlcnZlcnMoJ1NlbmRpbmdDb25maWcnLCB0aGlzLnBhcmFtZXRlcnMpO1xyXG4gICAgfSBpZiAoZXZlbnROYW1lID09PSAnQXBwZW5kaW5nVG9Ob2RlJykge1xyXG4gICAgICB0aGlzLm9ic2VydmVycy5ub3RpZnlPYnNlcnZlcnMoJ0FwcGVuZGluZ1RvTm9kZScsIGRhdGEpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBpbml0ID0gKG9ic2VydmVyOiB0eXBlcy5PYnNlcnZlckZ1bmN0aW9uKTogdm9pZCA9PiB7XHJcbiAgICB0aGlzLm9ic2VydmVycy5hZGRPYnNlcnZlcihvYnNlcnZlcik7XHJcbiAgICB0aGlzLm9ic2VydmVycy5hZGRPYnNlcnZlcih0aGlzLnRyYWNrLm9ic2VydmVWaWV3RnJvbVRyYWNrKTtcclxuICAgIHRoaXMub2JzZXJ2ZXJzLm5vdGlmeU9ic2VydmVycygnVXBkYXRpbmdDb25maWcnLCB0aGlzLnBhcmFtZXRlcnMpO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSB2YWxpZGF0ZUNvbmZpZyA9IChwYXJhbWV0ZXJzOiB0eXBlcy5SYXdQYXJhbWV0ZXJzKTogdHlwZXMuUGFyYW1ldGVycyA9PiB7XHJcbiAgICBjb25zdCBjaGVja2VkUGFyYW1ldGVycyA9IE9iamVjdC5rZXlzKHBhcmFtZXRlcnMpLnJlZHVjZSgoYWNjLCBrZXkpID0+IHtcclxuICAgICAgc3dpdGNoIChrZXkpIHtcclxuICAgICAgICBjYXNlICdzdGVwJzpcclxuICAgICAgICAgIGFjYy5zdGVwID0gdGhpcy5jaGVja1N0ZXAocGFyYW1ldGVycy5zdGVwKTtcclxuICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGNhc2UgJ21heFZhbHVlJzpcclxuICAgICAgICAgIGFjYy5tYXhWYWx1ZSA9IHRoaXMuY2hlY2tNYXhWYWx1ZShwYXJhbWV0ZXJzLm1heFZhbHVlKTtcclxuICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGNhc2UgJ21pblZhbHVlJzpcclxuICAgICAgICAgIGFjYy5taW5WYWx1ZSA9IHRoaXMuY2hlY2tNaW5WYWx1ZShwYXJhbWV0ZXJzLm1pblZhbHVlKTtcclxuICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGNhc2UgJ2lzUmFuZ2UnOlxyXG4gICAgICAgICAgaWYgKHBhcmFtZXRlcnMuaXNSYW5nZSA9PT0gJ3RvZ2dsZScpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMucGFyYW1ldGVycy5pc1JhbmdlID09PSB0cnVlKSB7XHJcbiAgICAgICAgICAgICAgYWNjLmlzUmFuZ2UgPSBmYWxzZTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICBhY2MuaXNSYW5nZSA9IHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGNhc2UgJ2lzVmVydGljYWwnOlxyXG4gICAgICAgICAgaWYgKHBhcmFtZXRlcnMuaXNWZXJ0aWNhbCA9PT0gJ3RvZ2dsZScpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMucGFyYW1ldGVycy5pc1ZlcnRpY2FsID09PSB0cnVlKSB7XHJcbiAgICAgICAgICAgICAgYWNjLmlzVmVydGljYWwgPSBmYWxzZTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICBhY2MuaXNWZXJ0aWNhbCA9IHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGNhc2UgJ3Nob3dMYWJlbCc6XHJcbiAgICAgICAgICBpZiAocGFyYW1ldGVycy5zaG93TGFiZWwgPT09ICd0b2dnbGUnKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnBhcmFtZXRlcnMuc2hvd0xhYmVsID09PSB0cnVlKSB7XHJcbiAgICAgICAgICAgICAgYWNjLnNob3dMYWJlbCA9IGZhbHNlO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgIGFjYy5zaG93TGFiZWwgPSB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgYnJlYWs7XHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuIGFjYztcclxuICAgIH0sIHt9IGFzIHR5cGVzLlBhcmFtZXRlcnMpO1xyXG5cclxuICAgIGNvbnN0IG5ld1BhcmFtZXRlcnMgPSB7IC4uLnRoaXMucGFyYW1ldGVycywgLi4uY2hlY2tlZFBhcmFtZXRlcnMgfTtcclxuICAgIHJldHVybiBuZXdQYXJhbWV0ZXJzO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBjaGVja1N0ZXAgPSAoc3RlcDogbnVtYmVyKTogbnVtYmVyID0+IHtcclxuICAgIGlmICghc3RlcCB8fCBzdGVwID4gKHRoaXMucGFyYW1ldGVycy5tYXhWYWx1ZSAtIHRoaXMucGFyYW1ldGVycy5taW5WYWx1ZSkgLyAyKSB7XHJcbiAgICAgIHJldHVybiB0aGlzLnBhcmFtZXRlcnMuc3RlcDtcclxuICAgIH1cclxuICAgIGlmIChzdGVwICUgMSAhPT0gMCkge1xyXG4gICAgICB0aGlzLnBhcmFtZXRlcnMuaXNGbG9hdCA9IHRydWU7XHJcbiAgICB9IGVsc2UgaWYgKCFpc090aGVyc1ZhbHVlc0Zsb2F0KHRoaXMsICdzdGVwJykpIHtcclxuICAgICAgdGhpcy5wYXJhbWV0ZXJzLmlzRmxvYXQgPSBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gc3RlcDtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgY2hlY2tNYXhWYWx1ZSA9IChtYXhWYWx1ZTogbnVtYmVyKTogbnVtYmVyID0+IHtcclxuICAgIGlmIChOdW1iZXIuaXNOYU4obWF4VmFsdWUpIHx8IG1heFZhbHVlIDw9IHRoaXMucGFyYW1ldGVycy5taW5WYWx1ZSkge1xyXG4gICAgICByZXR1cm4gdGhpcy5wYXJhbWV0ZXJzLm1heFZhbHVlO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChtYXhWYWx1ZSAlIDEgIT09IDApIHtcclxuICAgICAgdGhpcy5wYXJhbWV0ZXJzLmlzRmxvYXQgPSB0cnVlO1xyXG4gICAgfSBlbHNlIGlmICghaXNPdGhlcnNWYWx1ZXNGbG9hdCh0aGlzLCAnbWF4VmFsdWUnKSkge1xyXG4gICAgICB0aGlzLnBhcmFtZXRlcnMuaXNGbG9hdCA9IGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBtYXhWYWx1ZTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgY2hlY2tNaW5WYWx1ZSA9IChtaW5WYWx1ZTogbnVtYmVyKTogbnVtYmVyID0+IHtcclxuICAgIGlmIChOdW1iZXIuaXNOYU4obWluVmFsdWUpIHx8IG1pblZhbHVlID49IHRoaXMucGFyYW1ldGVycy5tYXhWYWx1ZSkge1xyXG4gICAgICByZXR1cm4gdGhpcy5wYXJhbWV0ZXJzLm1pblZhbHVlO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChtaW5WYWx1ZSAlIDEgIT09IDApIHtcclxuICAgICAgdGhpcy5wYXJhbWV0ZXJzLmlzRmxvYXQgPSB0cnVlO1xyXG4gICAgfSBlbHNlIGlmICghaXNPdGhlcnNWYWx1ZXNGbG9hdCh0aGlzLCAnbWluVmFsdWUnKSkge1xyXG4gICAgICB0aGlzLnBhcmFtZXRlcnMuaXNGbG9hdCA9IGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBtaW5WYWx1ZTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IFZpZXc7XHJcbiIsImltcG9ydCAqIGFzIHR5cGVzIGZyb20gJy4uLy4uLy4uL3R5cGVzJztcclxuaW1wb3J0IEJhciBmcm9tICcuLi9CYXIvQmFyJztcclxuaW1wb3J0IFJ1bm5lciBmcm9tICcuLi9SdW5uZXIvUnVubmVyJztcclxuaW1wb3J0IFNjYWxlIGZyb20gJy4uL1NjYWxlL1NjYWxlJztcclxuaW1wb3J0IFByb2dyZXNzQmFyIGZyb20gJy4uL1Byb2dyZXNzQmFyL1Byb2dyZXNzQmFyJztcclxuaW1wb3J0IE1ha2VPYnNlcnZhYmxlT2JqZWN0IGZyb20gJy4uLy4uLy4uL21ha2VPYnNlcnZhYmxlT2JqZWN0L01ha2VPYnNlcnZhYmxlT2JqZWN0JztcclxuXHJcbmNsYXNzIFRyYWNrIHtcclxuICBwYXJhbWV0ZXJzOiB0eXBlcy5QYXJhbWV0ZXJzO1xyXG5cclxuICBwcml2YXRlIHJ1bm5lck1haW46IFJ1bm5lcjtcclxuXHJcbiAgcHJpdmF0ZSBydW5uZXJBZGRpdGlvbmFsOiBSdW5uZXI7XHJcblxyXG4gIHByaXZhdGUgcHJvZ3Jlc3NCYXI6IFByb2dyZXNzQmFyO1xyXG5cclxuICBwcml2YXRlIGJhcjogQmFyO1xyXG5cclxuICBwcml2YXRlIHNjYWxlOiBTY2FsZTtcclxuXHJcbiAgb2JzZXJ2ZXJzOiBNYWtlT2JzZXJ2YWJsZU9iamVjdDtcclxuXHJcbiAgY29uc3RydWN0b3IocGFyYW1ldGVyczogdHlwZXMuUGFyYW1ldGVycywgb2JzZXJ2ZXI6IHR5cGVzLk9ic2VydmVyRnVuY3Rpb24pIHtcclxuICAgIHRoaXMucGFyYW1ldGVycyA9IHBhcmFtZXRlcnM7XHJcbiAgICB0aGlzLnJ1bm5lck1haW4gPSBuZXcgUnVubmVyKHRoaXMucGFyYW1ldGVycy5pc1ZlcnRpY2FsLCB0aGlzLmhhbmRsZVJ1bm5lck1vdmUpO1xyXG4gICAgdGhpcy5ydW5uZXJBZGRpdGlvbmFsID0gbmV3IFJ1bm5lcih0aGlzLnBhcmFtZXRlcnMuaXNWZXJ0aWNhbCwgdGhpcy5oYW5kbGVSdW5uZXJNb3ZlKTtcclxuICAgIHRoaXMucHJvZ3Jlc3NCYXIgPSBuZXcgUHJvZ3Jlc3NCYXIodGhpcy5wYXJhbWV0ZXJzLmlzVmVydGljYWwpO1xyXG4gICAgdGhpcy5iYXIgPSBuZXcgQmFyKHRoaXMucGFyYW1ldGVycy5pc1ZlcnRpY2FsLCB0aGlzLmhhbmRsZUJhckNsaWNrKTtcclxuICAgIHRoaXMuc2NhbGUgPSBuZXcgU2NhbGUodGhpcy5wYXJhbWV0ZXJzLCB0aGlzLmhhbmRsZVNjYWxlQ2xpY2spO1xyXG4gICAgdGhpcy5vYnNlcnZlcnMgPSBuZXcgTWFrZU9ic2VydmFibGVPYmplY3QoKTtcclxuICAgIHRoaXMub2JzZXJ2ZXJzLmFkZE9ic2VydmVyKG9ic2VydmVyKTtcclxuICB9XHJcblxyXG4gIHVwZGF0ZSA9IChwYXJhbWV0ZXJzOiB0eXBlcy5QYXJhbWV0ZXJzKTogdm9pZCA9PiB7XHJcbiAgICB0aGlzLnBhcmFtZXRlcnMgPSBwYXJhbWV0ZXJzO1xyXG4gICAgdGhpcy5iYXIudXBkYXRlKHRoaXMucGFyYW1ldGVycy5pc1ZlcnRpY2FsKTtcclxuICAgIHRoaXMucHJvZ3Jlc3NCYXIudXBkYXRlKHRoaXMucGFyYW1ldGVycy5pc1ZlcnRpY2FsKTtcclxuICAgIHRoaXMucnVubmVyQWRkaXRpb25hbC51cGRhdGUodGhpcy5wYXJhbWV0ZXJzLmlzVmVydGljYWwpO1xyXG4gICAgdGhpcy5ydW5uZXJNYWluLnVwZGF0ZSh0aGlzLnBhcmFtZXRlcnMuaXNWZXJ0aWNhbCk7XHJcbiAgICB0aGlzLnNjYWxlLnVwZGF0ZSh0aGlzLnBhcmFtZXRlcnMpO1xyXG4gICAgdGhpcy5ydW5uZXJBZGRpdGlvbmFsLmhpZGVSdW5uZXIoKTtcclxuXHJcbiAgICBpZiAodGhpcy5wYXJhbWV0ZXJzLnNob3dMYWJlbCkge1xyXG4gICAgICB0aGlzLnJ1bm5lckFkZGl0aW9uYWwuc2hvd0xhYmVsKCk7XHJcbiAgICAgIHRoaXMucnVubmVyTWFpbi5zaG93TGFiZWwoKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMucnVubmVyQWRkaXRpb25hbC5oaWRlTGFiZWwoKTtcclxuICAgICAgdGhpcy5ydW5uZXJNYWluLmhpZGVMYWJlbCgpO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICh0aGlzLnBhcmFtZXRlcnMuaXNSYW5nZSkge1xyXG4gICAgICB0aGlzLnJ1bm5lckFkZGl0aW9uYWwuc2hvd1J1bm5lcigpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5ydW5uZXJBZGRpdGlvbmFsLmhpZGVSdW5uZXIoKTtcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLnJ1bm5lckFkZGl0aW9uYWwuc2V0UG9zaXRpb24oXHJcbiAgICAgIC10aGlzLnJ1bm5lckFkZGl0aW9uYWwuZ2V0V2lkdGgoKSAvIDIsXHJcbiAgICAgIHRoaXMucGFyYW1ldGVycy5taW5WYWx1ZVxyXG4gICAgKTtcclxuICAgIHRoaXMucnVubmVyTWFpbi5zZXRQb3NpdGlvbihcclxuICAgICAgdGhpcy5iYXIuZ2V0RGltZW5zaW9uKCkgLSB0aGlzLnJ1bm5lck1haW4uZ2V0V2lkdGgoKSAvIDIsXHJcbiAgICAgIHRoaXMucGFyYW1ldGVycy5tYXhWYWx1ZVxyXG4gICAgKTtcclxuICB9XHJcblxyXG4gIG9ic2VydmVWaWV3RnJvbVRyYWNrID0gKGV2ZW50TmFtZTogc3RyaW5nLCBkYXRhPzogYW55KTogdm9pZCA9PiB7XHJcbiAgICBpZiAoZXZlbnROYW1lID09PSAnU2VuZGluZ0N1cnJlbnRWYWx1ZXMnKSB7XHJcbiAgICAgIHRoaXMucmVuZXdSdW5uZXJzKGRhdGEpO1xyXG4gICAgfSBpZiAoZXZlbnROYW1lID09PSAnVXBkYXRpbmdDb25maWcnKSB7XHJcbiAgICAgIHRoaXMudXBkYXRlKGRhdGEpO1xyXG4gICAgfSBpZiAoZXZlbnROYW1lID09PSAnQXBwZW5kaW5nVG9Ob2RlJykge1xyXG4gICAgICB0aGlzLmFwcGVuZFRvTm9kZShkYXRhKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGFwcGVuZFRvTm9kZSA9IChlbnRyeTogSFRNTEVsZW1lbnQpOiB2b2lkID0+IHtcclxuICAgIGVudHJ5LmFwcGVuZENoaWxkKHRoaXMuYmFyLmVsZW0pLmFwcGVuZENoaWxkKHRoaXMucHJvZ3Jlc3NCYXIuZWxlbSk7XHJcbiAgICB0aGlzLnJ1bm5lck1haW4uYXBwZW5kVG9Ob2RlKGVudHJ5KTtcclxuICAgIHRoaXMucnVubmVyQWRkaXRpb25hbC5hcHBlbmRUb05vZGUoZW50cnkpO1xyXG5cclxuICAgIHRoaXMuc2NhbGUubWFya3MuZm9yRWFjaCgobWFyaykgPT4ge1xyXG4gICAgICBlbnRyeS5hcHBlbmRDaGlsZChtYXJrLmVsZW0pO1xyXG4gICAgfSk7XHJcblxyXG4gICAgdGhpcy5zY2FsZS5tb3ZlTWFya3MoKTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgcmVuZXdSdW5uZXJzKGN1cnJlbnRWYWx1ZXM6IHR5cGVzLkN1cnJlbnRWYWx1ZXMpOiB2b2lkIHtcclxuICAgIHRoaXMubW92ZVJ1bm5lcihcclxuICAgICAgdGhpcy5wcm9jZXNzUnVubmVyT2Zmc2V0KFxyXG4gICAgICAgIHRoaXMuY29udmVydE9mZnNldFRvVmFsdWUoY3VycmVudFZhbHVlcy5jdXJyZW50TWF4VmFsdWUpLFxyXG4gICAgICAgIHRoaXMucnVubmVyTWFpblxyXG4gICAgICApXHJcbiAgICApO1xyXG4gICAgdGhpcy5tb3ZlUnVubmVyKFxyXG4gICAgICB0aGlzLnByb2Nlc3NSdW5uZXJPZmZzZXQoXHJcbiAgICAgICAgdGhpcy5jb252ZXJ0T2Zmc2V0VG9WYWx1ZShjdXJyZW50VmFsdWVzLmN1cnJlbnRNaW5WYWx1ZSksXHJcbiAgICAgICAgdGhpcy5ydW5uZXJBZGRpdGlvbmFsXHJcbiAgICAgIClcclxuICAgICk7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGNvbnZlcnRPZmZzZXRUb1ZhbHVlID0gKHZhbHVlOiBudW1iZXIpOiBudW1iZXIgPT4ge1xyXG4gICAgcmV0dXJuICgoKHZhbHVlIC0gdGhpcy5wYXJhbWV0ZXJzLm1pblZhbHVlKSAqIHRoaXMuYmFyLmdldERpbWVuc2lvbigpKVxyXG4gICAgICAvICh0aGlzLnBhcmFtZXRlcnMubWF4VmFsdWUgLSB0aGlzLnBhcmFtZXRlcnMubWluVmFsdWUpXHJcbiAgICAgIC0gdGhpcy5ydW5uZXJNYWluLmdldFdpZHRoKCkgLyAyKTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgZ2V0TWFpblJ1bm5lck9mZnNldCA9ICgpOiBudW1iZXIgPT4ge1xyXG4gICAgY29uc3Qgb2Zmc2V0ID0gdGhpcy5ydW5uZXJNYWluLmdldFBvc2l0aW9uKCkgLSB0aGlzLmJhci5nZXRQb3NpdGlvbigpXHJcbiAgICAgICsgdGhpcy5ydW5uZXJNYWluLmdldFdpZHRoKCkgLyAyO1xyXG4gICAgcmV0dXJuIG9mZnNldCA8IDAgPyAwIDogb2Zmc2V0O1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBnZXRBZGRpdGlvbmFsUnVubmVyT2Zmc2V0ID0gKCk6IG51bWJlciA9PiB7XHJcbiAgICBpZiAodGhpcy5wYXJhbWV0ZXJzLmlzUmFuZ2UpIHtcclxuICAgICAgcmV0dXJuIHRoaXMucnVubmVyQWRkaXRpb25hbC5nZXRQb3NpdGlvbigpIC0gdGhpcy5iYXIuZ2V0UG9zaXRpb24oKVxyXG4gICAgICAgICsgdGhpcy5ydW5uZXJNYWluLmdldFdpZHRoKCkgLyAyO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiAwO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBoYW5kbGVSdW5uZXJNb3ZlID0gKGV2ZW50TmFtZTogc3RyaW5nLFxyXG4gICAgeyBldmVudCwgcnVubmVyIH06IHR5cGVzLlJ1bm5lck9ic2VydmVyRGF0YSk6IHZvaWQgPT4ge1xyXG4gICAgaWYgKGV2ZW50TmFtZSA9PT0gJ01vdmluZ1J1bm5lcicpIHtcclxuICAgICAgdGhpcy5tb3ZlUnVubmVyKHRoaXMucHJvY2Vzc1J1bm5lck1vdXNlRXZlbnQoZXZlbnQsIHJ1bm5lcikpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBtb3ZlUnVubmVyID0gKG9iajogdHlwZXMuUnVubmVyTW92ZURhdGEpOiB2b2lkID0+IHtcclxuICAgIG9iai5ydW5uZXIuc2V0UG9zaXRpb24ob2JqLm9mZnNldCwgb2JqLnZhbHVlKTtcclxuXHJcbiAgICBpZiAob2JqLnJ1bm5lciA9PT0gdGhpcy5ydW5uZXJBZGRpdGlvbmFsKSB7XHJcbiAgICAgIHRoaXMub2JzZXJ2ZXJzLm5vdGlmeU9ic2VydmVycygnQ2hhbmdpbmdDdXJyZW50VmFsdWVGcm9tVHJhY2snLCB7IGN1cnJlbnRNaW5WYWx1ZTogb2JqLnZhbHVlIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChvYmoucnVubmVyID09PSB0aGlzLnJ1bm5lck1haW4pIHtcclxuICAgICAgdGhpcy5vYnNlcnZlcnMubm90aWZ5T2JzZXJ2ZXJzKCdDaGFuZ2luZ0N1cnJlbnRWYWx1ZUZyb21UcmFjaycsIHsgY3VycmVudE1heFZhbHVlOiBvYmoudmFsdWUgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy51cGRhdGVQcm9ncmVzc0JhcigpO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBwcm9jZXNzUnVubmVyTW91c2VFdmVudCA9IChldmVudE1tOiBNb3VzZUV2ZW50LCBydW5uZXI6IFJ1bm5lcik6IHR5cGVzLlJ1bm5lck1vdmVEYXRhID0+IHtcclxuICAgIGNvbnN0IGNvb3JkaW5hdGUgPSB0aGlzLnBhcmFtZXRlcnMuaXNWZXJ0aWNhbCA/IGV2ZW50TW0uY2xpZW50WSA6IGV2ZW50TW0uY2xpZW50WDtcclxuICAgIGNvbnN0IG9mZnNldCA9IGNvb3JkaW5hdGUgLSB0aGlzLmJhci5nZXRQb3NpdGlvbigpIC0gdGhpcy5ydW5uZXJBZGRpdGlvbmFsLmdldFdpZHRoKCkgLyAyO1xyXG5cclxuICAgIHJldHVybiB0aGlzLnByb2Nlc3NSdW5uZXJPZmZzZXQob2Zmc2V0LCBydW5uZXIpO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBwcm9jZXNzUnVubmVyT2Zmc2V0ID0gKG9mZnNldDogbnVtYmVyLCBydW5uZXI6IFJ1bm5lcik6IHR5cGVzLlJ1bm5lck1vdmVEYXRhID0+IHtcclxuICAgIGxldCByb3VuZFZhbHVlID0gMDtcclxuICAgIGxldCByb3VuZE9mZnNldDtcclxuICAgIHJvdW5kT2Zmc2V0ID0gdGhpcy5jaGVja1J1bm5lck9mZnNldChvZmZzZXQsIHJ1bm5lcik7XHJcbiAgICBbcm91bmRPZmZzZXQsIHJvdW5kVmFsdWVdID0gdGhpcy5yb3VuZE9mZnNldFJ1bm5lcihyb3VuZE9mZnNldCk7XHJcblxyXG4gICAgcmV0dXJuIHtcclxuICAgICAgcnVubmVyOiBydW5uZXIsXHJcbiAgICAgIG9mZnNldDogcm91bmRPZmZzZXQsXHJcbiAgICAgIHZhbHVlOiByb3VuZFZhbHVlXHJcbiAgICB9O1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBjaGVja1J1bm5lck9mZnNldCA9IChvZmZzZXQ6IG51bWJlciwgcnVubmVyOiBSdW5uZXIpOiBudW1iZXIgPT4ge1xyXG4gICAgY29uc3Qgc3RlcFdpZHRoID0gKHRoaXMucGFyYW1ldGVycy5zdGVwICogdGhpcy5iYXIuZ2V0RGltZW5zaW9uKCkpXHJcbiAgICAgIC8gKHRoaXMucGFyYW1ldGVycy5tYXhWYWx1ZSAtIHRoaXMucGFyYW1ldGVycy5taW5WYWx1ZSk7XHJcbiAgICBjb25zdCBtaW5PZmZzZXQgPSBzdGVwV2lkdGggLyAxLjUgPiB0aGlzLnJ1bm5lck1haW4uZ2V0V2lkdGgoKVxyXG4gICAgICA/IHN0ZXBXaWR0aCAvIDEuNVxyXG4gICAgICA6IHRoaXMucnVubmVyTWFpbi5nZXRXaWR0aCgpO1xyXG4gICAgbGV0IG5ld09mZnNldCA9IG9mZnNldDtcclxuXHJcbiAgICBpZiAocnVubmVyID09PSB0aGlzLnJ1bm5lckFkZGl0aW9uYWwpIHtcclxuICAgICAgaWYgKG9mZnNldCA+IHRoaXMucnVubmVyTWFpbi5nZXRQb3NpdGlvbigpIC0gdGhpcy5iYXIuZ2V0UG9zaXRpb24oKSAtIG1pbk9mZnNldCkge1xyXG4gICAgICAgIG5ld09mZnNldCA9IHRoaXMucnVubmVyTWFpbi5nZXRQb3NpdGlvbigpIC0gdGhpcy5iYXIuZ2V0UG9zaXRpb24oKSAtIG1pbk9mZnNldDtcclxuICAgICAgfVxyXG4gICAgfSBlbHNlIGlmIChydW5uZXIgPT09IHRoaXMucnVubmVyTWFpbikge1xyXG4gICAgICBpZiAob2Zmc2V0IDwgdGhpcy5ydW5uZXJBZGRpdGlvbmFsLmdldFBvc2l0aW9uKCkgLSB0aGlzLmJhci5nZXRQb3NpdGlvbigpICsgbWluT2Zmc2V0KSB7XHJcbiAgICAgICAgbmV3T2Zmc2V0ID0gdGhpcy5ydW5uZXJBZGRpdGlvbmFsLmdldFBvc2l0aW9uKCkgLSB0aGlzLmJhci5nZXRQb3NpdGlvbigpICsgbWluT2Zmc2V0O1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIG5ld09mZnNldDtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgcm91bmRPZmZzZXRSdW5uZXIgPSAoY3VycmVudE9mZnNldDogbnVtYmVyKTogW251bWJlciwgbnVtYmVyXSA9PiB7XHJcbiAgICBjb25zdCBjdXJyZW50VmFsdWUgPSB0aGlzLnBhcmFtZXRlcnMubWluVmFsdWVcclxuICAgICAgKyAoKGN1cnJlbnRPZmZzZXQgKyB0aGlzLnJ1bm5lck1haW4uZ2V0V2lkdGgoKSAvIDIpXHJcbiAgICAgICogKHRoaXMucGFyYW1ldGVycy5tYXhWYWx1ZSAtIHRoaXMucGFyYW1ldGVycy5taW5WYWx1ZSkpXHJcbiAgICAgIC8gdGhpcy5iYXIuZ2V0RGltZW5zaW9uKCk7XHJcbiAgICBsZXQgcm91bmRWYWx1ZSA9IHRoaXMucm91bmQoY3VycmVudFZhbHVlLCB0aGlzLnBhcmFtZXRlcnMuc3RlcCk7XHJcblxyXG4gICAgaWYgKHRoaXMucGFyYW1ldGVycy5pc0Zsb2F0KSB7XHJcbiAgICAgIHJvdW5kVmFsdWUgPSBwYXJzZUZsb2F0KHJvdW5kVmFsdWUudG9GaXhlZCgyKSk7XHJcbiAgICB9XHJcblxyXG4gICAgbGV0IHJvdW5kT2Zmc2V0ID0gdGhpcy5jb252ZXJ0T2Zmc2V0VG9WYWx1ZShyb3VuZFZhbHVlKTtcclxuXHJcbiAgICBpZiAocm91bmRPZmZzZXQgPCAtdGhpcy5ydW5uZXJNYWluLmdldFdpZHRoKCkgLyAyKSB7XHJcbiAgICAgIHJvdW5kT2Zmc2V0ID0gLXRoaXMucnVubmVyTWFpbi5nZXRXaWR0aCgpIC8gMjtcclxuICAgICAgcm91bmRWYWx1ZSA9IHRoaXMucGFyYW1ldGVycy5taW5WYWx1ZTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAocm91bmRPZmZzZXQgPiB0aGlzLmJhci5nZXREaW1lbnNpb24oKSAtIHRoaXMucnVubmVyTWFpbi5nZXRXaWR0aCgpIC8gMikge1xyXG4gICAgICByb3VuZE9mZnNldCA9IHRoaXMuYmFyLmdldERpbWVuc2lvbigpIC0gdGhpcy5ydW5uZXJNYWluLmdldFdpZHRoKCkgLyAyO1xyXG4gICAgICByb3VuZFZhbHVlID0gdGhpcy5wYXJhbWV0ZXJzLm1heFZhbHVlO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBbcm91bmRPZmZzZXQsIHJvdW5kVmFsdWVdO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSByb3VuZCA9ICh2YWx1ZTogbnVtYmVyLCBzdGVwOiBudW1iZXIpOiBudW1iZXIgPT4ge1xyXG4gICAgY29uc3Qgd2hvbGUgPSBNYXRoLnRydW5jKHZhbHVlIC8gc3RlcCk7XHJcbiAgICBjb25zdCByZW1pbmRlciA9ICsodmFsdWUgLSB3aG9sZSAqIHN0ZXApLnRvRml4ZWQoMik7XHJcblxyXG4gICAgaWYgKHZhbHVlIDwgMCkge1xyXG4gICAgICByZXR1cm4gTWF0aC5hYnMocmVtaW5kZXIpIDwgc3RlcCAvIDIgPyB3aG9sZSAqIHN0ZXAgOiAod2hvbGUgLSAxKSAqIHN0ZXA7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHZhbHVlIDw9IHRoaXMucGFyYW1ldGVycy5taW5WYWx1ZSkge1xyXG4gICAgICByZXR1cm4gdGhpcy5wYXJhbWV0ZXJzLm1pblZhbHVlO1xyXG4gICAgfSBpZiAodmFsdWUgPj0gdGhpcy5wYXJhbWV0ZXJzLm1heFZhbHVlKSB7XHJcbiAgICAgIHJldHVybiB0aGlzLnBhcmFtZXRlcnMubWF4VmFsdWU7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHJlbWluZGVyIDwgc3RlcCAvIDIgPyB3aG9sZSAqIHN0ZXAgOiAod2hvbGUgKyAxKSAqIHN0ZXA7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGhhbmRsZVNjYWxlQ2xpY2sgPSAoZXZlbnROYW1lOiBzdHJpbmcsIHZhbHVlOiBudW1iZXIpID0+IHtcclxuICAgIGlmIChldmVudE5hbWUgPT09ICdDbGlja09uU2NhbGUnKSB7XHJcbiAgICAgIGNvbnN0IG9mZnNldCA9IHRoaXMuY29udmVydE9mZnNldFRvVmFsdWUodmFsdWUpO1xyXG4gICAgICBsZXQgcnVubmVyO1xyXG5cclxuICAgICAgaWYgKHRoaXMucGFyYW1ldGVycy5pc1JhbmdlKSB7XHJcbiAgICAgICAgcnVubmVyID0gdGhpcy5jaGVja1J1bm5lckNsb3NlcihvZmZzZXQpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHJ1bm5lciA9IHRoaXMucnVubmVyTWFpbjtcclxuICAgICAgfVxyXG5cclxuICAgICAgdGhpcy5tb3ZlUnVubmVyKHRoaXMucHJvY2Vzc1J1bm5lck9mZnNldChvZmZzZXQsIHJ1bm5lcikpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBjaGVja1J1bm5lckNsb3NlciA9IChvZmZzZXQ6IG51bWJlcik6IFJ1bm5lciA9PiB7XHJcbiAgICBpZiAoTWF0aC5hYnMob2Zmc2V0IC0gdGhpcy5nZXRNYWluUnVubmVyT2Zmc2V0KCkpXHJcbiAgICAgIDwgTWF0aC5hYnMob2Zmc2V0IC0gdGhpcy5nZXRBZGRpdGlvbmFsUnVubmVyT2Zmc2V0KCkpKSB7XHJcbiAgICAgIHJldHVybiB0aGlzLnJ1bm5lck1haW47XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHRoaXMucnVubmVyQWRkaXRpb25hbDtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgaGFuZGxlQmFyQ2xpY2sgPSAoZXZlbnROYW1lOiBzdHJpbmcsIGV2ZW50OiBNb3VzZUV2ZW50KTogdm9pZCA9PiB7XHJcbiAgICBpZiAoZXZlbnROYW1lID09PSAnQ2xpY2tPbkJhcicpIHtcclxuICAgICAgY29uc3QgY29vcmRpbmF0ZSA9IHRoaXMucGFyYW1ldGVycy5pc1ZlcnRpY2FsID8gZXZlbnQuY2xpZW50WSA6IGV2ZW50LmNsaWVudFg7XHJcbiAgICAgIGNvbnN0IG9mZnNldCA9IGNvb3JkaW5hdGUgLSB0aGlzLmJhci5nZXRQb3NpdGlvbigpIC0gdGhpcy5ydW5uZXJNYWluLmdldFdpZHRoKCkgLyAyO1xyXG5cclxuICAgICAgdGhpcy5tb3ZlUnVubmVyKHRoaXMucHJvY2Vzc1J1bm5lck9mZnNldChvZmZzZXQsIHRoaXMuY2hlY2tSdW5uZXJDbG9zZXIob2Zmc2V0KSkpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSB1cGRhdGVQcm9ncmVzc0JhciA9ICgpOiB2b2lkID0+IHtcclxuICAgIHRoaXMucHJvZ3Jlc3NCYXIudXBkYXRlKHRoaXMucGFyYW1ldGVycy5pc1ZlcnRpY2FsKTtcclxuICAgIHRoaXMucHJvZ3Jlc3NCYXIuc2V0UG9zaXRpb24odGhpcy5nZXRBZGRpdGlvbmFsUnVubmVyT2Zmc2V0KCkpO1xyXG4gICAgdGhpcy5wcm9ncmVzc0Jhci5zZXREaW1lbnNpb24odGhpcy5nZXRNYWluUnVubmVyT2Zmc2V0KCkgLSB0aGlzLmdldEFkZGl0aW9uYWxSdW5uZXJPZmZzZXQoKSk7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBUcmFjaztcclxuIiwiaW1wb3J0ICogYXMgdHlwZXMgZnJvbSAnLi4vLi4vLi4vdHlwZXMnO1xyXG5pbXBvcnQgY3JlYXRlRWxlbSBmcm9tICcuLi9jcmVhdGVFbGVtL2NyZWF0ZUVsZW0nO1xyXG5pbXBvcnQgTWFrZU9ic2VydmFibGVPYmplY3QgZnJvbSAnLi4vLi4vLi4vbWFrZU9ic2VydmFibGVPYmplY3QvTWFrZU9ic2VydmFibGVPYmplY3QnO1xyXG5cclxuY2xhc3MgQmFyIHtcclxuICBlbGVtOiBIVE1MRWxlbWVudDtcclxuXHJcbiAgaXNWZXJ0aWNhbDogYm9vbGVhbjtcclxuXHJcbiAgb2JzZXJ2ZXJzOiBNYWtlT2JzZXJ2YWJsZU9iamVjdDtcclxuXHJcbiAgY29uc3RydWN0b3IoaXNWZXJ0aWNhbDogYm9vbGVhbiwgb2JzZXJ2ZXI6IHR5cGVzLk9ic2VydmVyRnVuY3Rpb24pIHtcclxuICAgIHRoaXMuZWxlbSA9IGNyZWF0ZUVsZW0oJ3NsaWRlcl9fYmFyJyk7XHJcbiAgICB0aGlzLmlzVmVydGljYWwgPSBpc1ZlcnRpY2FsO1xyXG4gICAgdGhpcy5vYnNlcnZlcnMgPSBuZXcgTWFrZU9ic2VydmFibGVPYmplY3QoKTtcclxuICAgIHRoaXMuaW5pdChvYnNlcnZlcik7XHJcbiAgfVxyXG5cclxuICBnZXRQb3NpdGlvbiA9ICgpOiBudW1iZXIgPT4ge1xyXG4gICAgaWYgKHRoaXMuaXNWZXJ0aWNhbCkge1xyXG4gICAgICByZXR1cm4gdGhpcy5lbGVtLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnRvcDtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gdGhpcy5lbGVtLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmxlZnQ7XHJcbiAgfVxyXG5cclxuICBnZXREaW1lbnNpb24gPSAoKTogbnVtYmVyID0+IHtcclxuICAgIGlmICh0aGlzLmlzVmVydGljYWwpIHtcclxuICAgICAgcmV0dXJuIHRoaXMuZWxlbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5oZWlnaHQ7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHRoaXMuZWxlbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS53aWR0aDtcclxuICB9XHJcblxyXG4gIHVwZGF0ZSA9IChpc1ZlcnRpY2FsOiBib29sZWFuKTogdm9pZCA9PiB7XHJcbiAgICB0aGlzLmlzVmVydGljYWwgPSBpc1ZlcnRpY2FsO1xyXG5cclxuICAgIGlmICh0aGlzLmlzVmVydGljYWwpIHtcclxuICAgICAgdGhpcy5lbGVtLmNsYXNzTGlzdC5hZGQoJ3NsaWRlcl9fYmFyX3Bvc2l0aW9uX3ZlcnRpY2FsJyk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLmVsZW0uY2xhc3NMaXN0LnJlbW92ZSgnc2xpZGVyX19iYXJfcG9zaXRpb25fdmVydGljYWwnKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHByaXZhdGUgaW5pdCA9IChvYnNlcnZlcjogdHlwZXMuRnVuY3Rpb25DYWxsYmFja0RhdGEpOiB2b2lkID0+IHtcclxuICAgIHRoaXMuZWxlbS5vbmNsaWNrID0gdGhpcy5oYW5kbGVCYXJDbGljaztcclxuICAgIHRoaXMub2JzZXJ2ZXJzLmFkZE9ic2VydmVyKG9ic2VydmVyKTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgaGFuZGxlQmFyQ2xpY2sgPSAoZXZlbnQ6IE1vdXNlRXZlbnQpOiB2b2lkID0+IHtcclxuICAgIHRoaXMub2JzZXJ2ZXJzLm5vdGlmeU9ic2VydmVycygnQ2xpY2tPbkJhcicsIGV2ZW50KTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IEJhcjtcclxuIiwiaW1wb3J0IGNyZWF0ZUVsZW0gZnJvbSAnLi4vY3JlYXRlRWxlbS9jcmVhdGVFbGVtJztcclxuXHJcbmNsYXNzIEtub2Ige1xyXG4gIGVsZW06IEhUTUxFbGVtZW50O1xyXG5cclxuICBpc1ZlcnRpY2FsOiBib29sZWFuO1xyXG5cclxuICBjb25zdHJ1Y3Rvcihpc1ZlcnRpY2FsOiBib29sZWFuKSB7XHJcbiAgICB0aGlzLmVsZW0gPSBjcmVhdGVFbGVtKCdzbGlkZXJfX2J1dHRvbicpO1xyXG4gICAgdGhpcy5pc1ZlcnRpY2FsID0gaXNWZXJ0aWNhbDtcclxuICB9XHJcblxyXG4gIGdldFdpZHRoID0gKCk6IG51bWJlciA9PiB7XHJcbiAgICByZXR1cm4gdGhpcy5lbGVtLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLndpZHRoO1xyXG4gIH1cclxuXHJcbiAgZ2V0UG9zaXRpb24gPSAoKTogbnVtYmVyID0+IHtcclxuICAgIGlmICh0aGlzLmlzVmVydGljYWwpIHtcclxuICAgICAgcmV0dXJuIHRoaXMuZWxlbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS50b3A7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHRoaXMuZWxlbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5sZWZ0O1xyXG4gIH1cclxuXHJcbiAgc2V0UG9zaXRpb24gPSAob2Zmc2V0OiBudW1iZXIpOiB2b2lkID0+IHtcclxuICAgIGlmICh0aGlzLmlzVmVydGljYWwpIHtcclxuICAgICAgdGhpcy5lbGVtLnN0eWxlLmxlZnQgPSAnNTAlJztcclxuICAgICAgdGhpcy5lbGVtLnN0eWxlLnRvcCA9IG9mZnNldCArICdweCc7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLmVsZW0uc3R5bGUudG9wID0gJzUwJSc7XHJcbiAgICAgIHRoaXMuZWxlbS5zdHlsZS5sZWZ0ID0gb2Zmc2V0ICsgJ3B4JztcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHVwZGF0ZSA9IChpc1ZlcnRpY2FsOiBib29sZWFuKTogdm9pZCA9PiB7XHJcbiAgICB0aGlzLmlzVmVydGljYWwgPSBpc1ZlcnRpY2FsO1xyXG5cclxuICAgIGlmICh0aGlzLmlzVmVydGljYWwpIHtcclxuICAgICAgdGhpcy5lbGVtLmNsYXNzTGlzdC5hZGQoJ3NsaWRlcl9fYnV0dG9uX3Bvc2l0aW9uX3ZlcnRpY2FsJyk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLmVsZW0uY2xhc3NMaXN0LnJlbW92ZSgnc2xpZGVyX19idXR0b25fcG9zaXRpb25fdmVydGljYWwnKTtcclxuICAgIH1cclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IEtub2I7XHJcbiIsImltcG9ydCBjcmVhdGVFbGVtIGZyb20gJy4uL2NyZWF0ZUVsZW0vY3JlYXRlRWxlbSc7XHJcblxyXG5jbGFzcyBUb29sdGlwIHtcclxuICBlbGVtOiBIVE1MRWxlbWVudDtcclxuXHJcbiAgaXNWZXJ0aWNhbDogYm9vbGVhbjtcclxuXHJcbiAgY29uc3RydWN0b3IoaXNWZXJ0aWNhbDogYm9vbGVhbikge1xyXG4gICAgdGhpcy5lbGVtID0gY3JlYXRlRWxlbSgnc2xpZGVyX19idXR0b24tbGFiZWwnKTtcclxuICAgIHRoaXMuaXNWZXJ0aWNhbCA9IGlzVmVydGljYWw7XHJcbiAgfVxyXG5cclxuICBnZXRQb3NpdGlvbiA9ICgpOiBudW1iZXIgPT4ge1xyXG4gICAgaWYgKHRoaXMuaXNWZXJ0aWNhbCkge1xyXG4gICAgICByZXR1cm4gdGhpcy5lbGVtLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnRvcDtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gdGhpcy5lbGVtLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmxlZnQ7XHJcbiAgfVxyXG5cclxuICBzZXRQb3NpdGlvbiA9IChvZmZzZXQ6IG51bWJlciwgdmFsdWU6IG51bWJlcik6IHZvaWQgPT4ge1xyXG4gICAgdGhpcy5lbGVtLmlubmVySFRNTCA9IHZhbHVlICsgJyc7XHJcblxyXG4gICAgaWYgKHRoaXMuaXNWZXJ0aWNhbCkge1xyXG4gICAgICB0aGlzLmVsZW0uc3R5bGUubGVmdCA9ICc1MCUnO1xyXG4gICAgICB0aGlzLmVsZW0uc3R5bGUudG9wID0gb2Zmc2V0IC0gdGhpcy5nZXREaW1lbnNpb24oKSAvIDIgKyAncHgnO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5lbGVtLnN0eWxlLnRvcCA9ICc1MCUnO1xyXG4gICAgICB0aGlzLmVsZW0uc3R5bGUubGVmdCA9IG9mZnNldCAtIHRoaXMuZ2V0RGltZW5zaW9uKCkgLyAyICsgJ3B4JztcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGdldERpbWVuc2lvbiA9ICgpOiBudW1iZXIgPT4ge1xyXG4gICAgaWYgKHRoaXMuaXNWZXJ0aWNhbCkge1xyXG4gICAgICByZXR1cm4gdGhpcy5lbGVtLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmhlaWdodDtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gdGhpcy5lbGVtLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLndpZHRoO1xyXG4gIH1cclxuXHJcbiAgdXBkYXRlID0gKGlzVmVydGljYWw6IGJvb2xlYW4pOiB2b2lkID0+IHtcclxuICAgIHRoaXMuaXNWZXJ0aWNhbCA9IGlzVmVydGljYWw7XHJcblxyXG4gICAgaWYgKHRoaXMuaXNWZXJ0aWNhbCkge1xyXG4gICAgICB0aGlzLmVsZW0uY2xhc3NMaXN0LmFkZCgnc2xpZGVyX19idXR0b24tbGFiZWxfcG9zaXRpb25fdmVydGljYWwnKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuZWxlbS5jbGFzc0xpc3QucmVtb3ZlKCdzbGlkZXJfX2J1dHRvbi1sYWJlbF9wb3NpdGlvbl92ZXJ0aWNhbCcpO1xyXG4gICAgfVxyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgVG9vbHRpcDtcclxuIiwiaW1wb3J0ICogYXMgdHlwZXMgZnJvbSAnLi4vLi4vLi4vdHlwZXMnO1xyXG5pbXBvcnQgTWFyayBmcm9tICcuL01hcmsvTWFyayc7XHJcbmltcG9ydCBNYWtlT2JzZXJ2YWJsZU9iamVjdCBmcm9tICcuLi8uLi8uLi9tYWtlT2JzZXJ2YWJsZU9iamVjdC9NYWtlT2JzZXJ2YWJsZU9iamVjdCc7XHJcblxyXG5jbGFzcyBTY2FsZSB7XHJcbiAgcGFyYW1ldGVyczogdHlwZXMuUGFyYW1ldGVycztcclxuXHJcbiAgbWFya3M6IEFycmF5PE1hcms+O1xyXG5cclxuICBvYnNlcnZlcnM6IE1ha2VPYnNlcnZhYmxlT2JqZWN0O1xyXG5cclxuICBjb25zdHJ1Y3RvcihwYXJhbWV0ZXJzOiB0eXBlcy5QYXJhbWV0ZXJzLCBvYnNlcnZlcjogdHlwZXMuT2JzZXJ2ZXJGdW5jdGlvbikge1xyXG4gICAgdGhpcy5wYXJhbWV0ZXJzID0gcGFyYW1ldGVycztcclxuICAgIHRoaXMubWFya3MgPSBbXTtcclxuICAgIHRoaXMub2JzZXJ2ZXJzID0gbmV3IE1ha2VPYnNlcnZhYmxlT2JqZWN0KCk7XHJcbiAgICB0aGlzLmluaXQob2JzZXJ2ZXIpO1xyXG4gIH1cclxuXHJcbiAgdXBkYXRlID0gKG9wdGlvbnM6IHR5cGVzLlBhcmFtZXRlcnMpOiB2b2lkID0+IHtcclxuICAgIHRoaXMucGFyYW1ldGVycyA9IG9wdGlvbnM7XHJcbiAgICB0aGlzLm1vdmVNYXJrcygpO1xyXG4gIH1cclxuXHJcbiAgbW92ZU1hcmtzID0gKCk6IHZvaWQgPT4ge1xyXG4gICAgdGhpcy5tYXJrcy5mb3JFYWNoKChtYXJrLCBpbmRleCkgPT4ge1xyXG4gICAgICBtYXJrLnVwZGF0ZSh0aGlzLnBhcmFtZXRlcnMuaXNWZXJ0aWNhbCk7XHJcbiAgICAgIGlmIChpbmRleCA9PT0gMCkge1xyXG4gICAgICAgIG1hcmsuc2V0UG9zaXRpb24oMCwgdGhpcy5wYXJhbWV0ZXJzLm1pblZhbHVlKTtcclxuICAgICAgfSBlbHNlIGlmIChpbmRleCA9PT0gdGhpcy5tYXJrcy5sZW5ndGggLSAxKSB7XHJcbiAgICAgICAgbWFyay5zZXRQb3NpdGlvbigxMDAsIHRoaXMucGFyYW1ldGVycy5tYXhWYWx1ZSk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgbGV0IHJvdW5kVmFsdWUgPSB0aGlzLnJvdW5kKHRoaXMucGFyYW1ldGVycy5taW5WYWx1ZVxyXG4gICAgICAgICAgKyAoKHRoaXMucGFyYW1ldGVycy5tYXhWYWx1ZSAtIHRoaXMucGFyYW1ldGVycy5taW5WYWx1ZSkgKiBpbmRleClcclxuICAgICAgICAgIC8gKHRoaXMubWFya3MubGVuZ3RoIC0gMSkpO1xyXG5cclxuICAgICAgICBpZiAodGhpcy5wYXJhbWV0ZXJzLmlzRmxvYXQpIHtcclxuICAgICAgICAgIHJvdW5kVmFsdWUgPSBwYXJzZUZsb2F0KHJvdW5kVmFsdWUudG9GaXhlZCgyKSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb25zdCBvZmZzZXQgPSAocm91bmRWYWx1ZSAtIHRoaXMucGFyYW1ldGVycy5taW5WYWx1ZSlcclxuICAgICAgICAgIC8gKHRoaXMucGFyYW1ldGVycy5tYXhWYWx1ZSAtIHRoaXMucGFyYW1ldGVycy5taW5WYWx1ZSk7XHJcbiAgICAgICAgbWFyay5zZXRQb3NpdGlvbihvZmZzZXQgKiAxMDAsIHJvdW5kVmFsdWUpO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgaW5pdCA9IChvYnNlcnZlcjogdHlwZXMuT2JzZXJ2ZXJGdW5jdGlvbik6IHZvaWQgPT4ge1xyXG4gICAgdGhpcy5tb3ZlTWFya3MoKTtcclxuICAgIHRoaXMuY3JlYXRlTWFya3MoKTtcclxuICAgIHRoaXMub2JzZXJ2ZXJzLmFkZE9ic2VydmVyKG9ic2VydmVyKTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgaGFuZGxlU2NhbGVDbGljayA9IChldmVudE5hbWU6IHN0cmluZywgdmFsdWU6IG51bWJlcik6IHZvaWQgPT4ge1xyXG4gICAgaWYgKGV2ZW50TmFtZSA9PT0gJ0NsaWNrT25NYXJrJykge1xyXG4gICAgICB0aGlzLm9ic2VydmVycy5ub3RpZnlPYnNlcnZlcnMoJ0NsaWNrT25TY2FsZScsIHZhbHVlKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHByaXZhdGUgY3JlYXRlTWFya3MgPSAoKTogdm9pZCA9PiB7XHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IDU7IGkgKz0gMSkge1xyXG4gICAgICBjb25zdCBtYXJrID0gbmV3IE1hcmsodGhpcy5wYXJhbWV0ZXJzLmlzVmVydGljYWwsIHRoaXMuaGFuZGxlU2NhbGVDbGljayk7XHJcbiAgICAgIHRoaXMubWFya3MucHVzaChtYXJrKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHByaXZhdGUgcm91bmQgPSAodmFsdWU6IG51bWJlcik6IG51bWJlciA9PiB7XHJcbiAgICBjb25zdCB3aG9sZSA9IE1hdGgudHJ1bmModmFsdWUgLyB0aGlzLnBhcmFtZXRlcnMuc3RlcCk7XHJcblxyXG4gICAgY29uc3QgcmVtaW5kZXIgPSArKHZhbHVlIC0gd2hvbGUgKiB0aGlzLnBhcmFtZXRlcnMuc3RlcCkudG9GaXhlZCgyKTtcclxuICAgIGlmICh2YWx1ZSA8IDApIHtcclxuICAgICAgcmV0dXJuIE1hdGguYWJzKHJlbWluZGVyKSA8IHRoaXMucGFyYW1ldGVycy5zdGVwIC8gMlxyXG4gICAgICAgID8gd2hvbGUgKiB0aGlzLnBhcmFtZXRlcnMuc3RlcFxyXG4gICAgICAgIDogKHdob2xlIC0gMSkgKiB0aGlzLnBhcmFtZXRlcnMuc3RlcDtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gcmVtaW5kZXIgPCB0aGlzLnBhcmFtZXRlcnMuc3RlcCAvIDJcclxuICAgICAgPyB3aG9sZSAqIHRoaXMucGFyYW1ldGVycy5zdGVwXHJcbiAgICAgIDogKHdob2xlICsgMSkgKiB0aGlzLnBhcmFtZXRlcnMuc3RlcDtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IFNjYWxlO1xyXG4iLCJpbXBvcnQgKiBhcyB0eXBlcyBmcm9tICcuLi8uLi8uLi8uLi90eXBlcyc7XHJcbmltcG9ydCBjcmVhdGVFbGVtIGZyb20gJy4uLy4uL2NyZWF0ZUVsZW0vY3JlYXRlRWxlbSc7XHJcbmltcG9ydCBNYWtlT2JzZXJ2YWJsZU9iamVjdCBmcm9tICcuLi8uLi8uLi8uLi9tYWtlT2JzZXJ2YWJsZU9iamVjdC9NYWtlT2JzZXJ2YWJsZU9iamVjdCc7XHJcblxyXG5jbGFzcyBNYXJrIHtcclxuICBlbGVtOiBIVE1MRWxlbWVudDtcclxuXHJcbiAgaXNWZXJ0aWNhbDogYm9vbGVhbjtcclxuXHJcbiAgdmFsdWU6IG51bWJlcjtcclxuXHJcbiAgb2JzZXJ2ZXJzOiBNYWtlT2JzZXJ2YWJsZU9iamVjdDtcclxuXHJcbiAgY29uc3RydWN0b3IoaXNWZXJ0aWNhbDogYm9vbGVhbiwgb2JzZXJ2ZXI6IHR5cGVzLk9ic2VydmVyRnVuY3Rpb24pIHtcclxuICAgIHRoaXMuZWxlbSA9IGNyZWF0ZUVsZW0oJ3NsaWRlcl9fbWFyaycpO1xyXG4gICAgdGhpcy5pc1ZlcnRpY2FsID0gaXNWZXJ0aWNhbDtcclxuICAgIHRoaXMub2JzZXJ2ZXJzID0gbmV3IE1ha2VPYnNlcnZhYmxlT2JqZWN0KCk7XHJcbiAgICB0aGlzLmluaXQob2JzZXJ2ZXIpO1xyXG4gIH1cclxuXHJcbiAgZ2V0UG9zaXRpb24gPSAoKTogbnVtYmVyID0+IHtcclxuICAgIGlmICh0aGlzLmlzVmVydGljYWwpIHtcclxuICAgICAgcmV0dXJuIHRoaXMuZWxlbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS50b3A7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHRoaXMuZWxlbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5sZWZ0O1xyXG4gIH1cclxuXHJcbiAgc2V0UG9zaXRpb24gPSAob2Zmc2V0OiBudW1iZXIsIHZhbHVlOiBudW1iZXIpOiB2b2lkID0+IHtcclxuICAgIHRoaXMuZWxlbS5pbm5lckhUTUwgPSB2YWx1ZSArICcnO1xyXG4gICAgdGhpcy52YWx1ZSA9IHZhbHVlO1xyXG5cclxuICAgIGlmICh0aGlzLmlzVmVydGljYWwpIHtcclxuICAgICAgdGhpcy5lbGVtLnN0eWxlLmxlZnQgPSAnNTAlJztcclxuICAgICAgdGhpcy5lbGVtLnN0eWxlLnRvcCA9IG9mZnNldCArICclJztcclxuICAgICAgdGhpcy5lbGVtLnN0eWxlLm1hcmdpblRvcCA9IC10aGlzLmdldERpbWVuc2lvbigpIC8gMiArICdweCc7XHJcbiAgICAgIHRoaXMuZWxlbS5zdHlsZS5tYXJnaW5MZWZ0ID0gJy00NXB4JztcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuZWxlbS5zdHlsZS50b3AgPSAnNTAlJztcclxuICAgICAgdGhpcy5lbGVtLnN0eWxlLmxlZnQgPSBvZmZzZXQgKyAnJSc7XHJcbiAgICAgIHRoaXMuZWxlbS5zdHlsZS5tYXJnaW5MZWZ0ID0gLXRoaXMuZ2V0RGltZW5zaW9uKCkgLyAyICsgJ3B4JztcclxuICAgICAgdGhpcy5lbGVtLnN0eWxlLm1hcmdpblRvcCA9ICcxNXB4JztcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGdldERpbWVuc2lvbiA9ICgpOiBudW1iZXIgPT4ge1xyXG4gICAgaWYgKHRoaXMuaXNWZXJ0aWNhbCkge1xyXG4gICAgICByZXR1cm4gdGhpcy5lbGVtLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmhlaWdodDtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gdGhpcy5lbGVtLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLndpZHRoO1xyXG4gIH1cclxuXHJcbiAgdXBkYXRlID0gKGlzVmVydGljYWw6IGJvb2xlYW4pOiB2b2lkID0+IHtcclxuICAgIHRoaXMuaXNWZXJ0aWNhbCA9IGlzVmVydGljYWw7XHJcblxyXG4gICAgaWYgKHRoaXMuaXNWZXJ0aWNhbCkge1xyXG4gICAgICB0aGlzLmVsZW0uY2xhc3NMaXN0LmFkZCgnc2xpZGVyX19tYXJrX3Bvc2l0aW9uX3ZlcnRpY2FsJyk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLmVsZW0uY2xhc3NMaXN0LnJlbW92ZSgnc2xpZGVyX19tYXJrX3Bvc2l0aW9uX3ZlcnRpY2FsJyk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGluaXQgPSAob2JzZXJ2ZXI6IHR5cGVzLkZ1bmN0aW9uQ2FsbGJhY2tEYXRhKTogdm9pZCA9PiB7XHJcbiAgICB0aGlzLmVsZW0ub25jbGljayA9IHRoaXMuaGFuZGxlTWFya0NsaWNrO1xyXG4gICAgdGhpcy5vYnNlcnZlcnMuYWRkT2JzZXJ2ZXIob2JzZXJ2ZXIpO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBoYW5kbGVNYXJrQ2xpY2sgPSAoKTogdm9pZCA9PiB7XHJcbiAgICB0aGlzLm9ic2VydmVycy5ub3RpZnlPYnNlcnZlcnMoJ0NsaWNrT25NYXJrJywgdGhpcy52YWx1ZSk7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBNYXJrO1xyXG4iLCJpbXBvcnQgY3JlYXRlRWxlbSBmcm9tICcuLi9jcmVhdGVFbGVtL2NyZWF0ZUVsZW0nO1xyXG5cclxuY2xhc3MgUHJvZ3Jlc3NCYXIge1xyXG4gIGVsZW06IEhUTUxFbGVtZW50O1xyXG5cclxuICBpc1ZlcnRpY2FsOiBib29sZWFuO1xyXG5cclxuICBjb25zdHJ1Y3Rvcihpc1ZlcnRpY2FsOiBib29sZWFuKSB7XHJcbiAgICB0aGlzLmVsZW0gPSBjcmVhdGVFbGVtKCdzbGlkZXJfX3Byb2dyZXNzLWJhcicpO1xyXG4gICAgdGhpcy5pc1ZlcnRpY2FsID0gaXNWZXJ0aWNhbDtcclxuICB9XHJcblxyXG4gIHNldFBvc2l0aW9uID0gKG9mZnNldDogbnVtYmVyKTogdm9pZCA9PiB7XHJcbiAgICBpZiAodGhpcy5pc1ZlcnRpY2FsKSB7XHJcbiAgICAgIHRoaXMuZWxlbS5zdHlsZS5sZWZ0ID0gJzAnO1xyXG4gICAgICB0aGlzLmVsZW0uc3R5bGUud2lkdGggPSAnMTAwJSc7XHJcbiAgICAgIHRoaXMuZWxlbS5zdHlsZS50b3AgPSBvZmZzZXQgKyAncHgnO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5lbGVtLnN0eWxlLnRvcCA9ICcwJztcclxuICAgICAgdGhpcy5lbGVtLnN0eWxlLmhlaWdodCA9ICcxMDAlJztcclxuICAgICAgdGhpcy5lbGVtLnN0eWxlLmxlZnQgPSBvZmZzZXQgKyAncHgnO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgc2V0RGltZW5zaW9uID0gKGRpbWVuc2lvbjogbnVtYmVyKTogdm9pZCA9PiB7XHJcbiAgICBpZiAodGhpcy5pc1ZlcnRpY2FsKSB7XHJcbiAgICAgIHRoaXMuZWxlbS5zdHlsZS5oZWlnaHQgPSBkaW1lbnNpb24gKyAncHgnO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5lbGVtLnN0eWxlLndpZHRoID0gZGltZW5zaW9uICsgJ3B4JztcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHVwZGF0ZSA9IChpc1ZlcnRpY2FsOiBib29sZWFuKTogdm9pZCA9PiB7XHJcbiAgICB0aGlzLmlzVmVydGljYWwgPSBpc1ZlcnRpY2FsO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgUHJvZ3Jlc3NCYXI7XHJcbiIsImltcG9ydCAqIGFzIHR5cGVzIGZyb20gJy4uL3R5cGVzJztcclxuaW1wb3J0IE1ha2VPYnNlcnZhYmxlT2JqZWN0IGZyb20gJy4uL21ha2VPYnNlcnZhYmxlT2JqZWN0L01ha2VPYnNlcnZhYmxlT2JqZWN0JztcclxuXHJcbmNsYXNzIE1vZGVsIHtcclxuICBjdXJyZW50VmFsdWVzOiB0eXBlcy5DdXJyZW50VmFsdWVzO1xyXG5cclxuICBvYnNlcnZlcnM6IE1ha2VPYnNlcnZhYmxlT2JqZWN0O1xyXG5cclxuICBjb25zdHJ1Y3RvcihjdXJyZW50VmFsdWVzOiB0eXBlcy5DdXJyZW50VmFsdWVzLCBvYnNlcnZlcjogdHlwZXMuT2JzZXJ2ZXJGdW5jdGlvbikge1xyXG4gICAgdGhpcy5jdXJyZW50VmFsdWVzID0gY3VycmVudFZhbHVlcztcclxuICAgIHRoaXMub2JzZXJ2ZXJzID0gbmV3IE1ha2VPYnNlcnZhYmxlT2JqZWN0KCk7XHJcbiAgICB0aGlzLm9ic2VydmVycy5hZGRPYnNlcnZlcihvYnNlcnZlcik7XHJcbiAgfVxyXG5cclxuICBzZXRDdXJyZW50VmFsdWVzID0gKGRhdGE6IHR5cGVzLkN1cnJlbnRWYWx1ZXMsIHNvdXJjZU9mQ2hhbmdpbmc/OiBzdHJpbmcpOiB2b2lkID0+IHtcclxuICAgIGNvbnN0IGlzQ3VycmVudE1heFZhbHVlUmVhbCA9IGRhdGEuY3VycmVudE1heFZhbHVlIHx8IGRhdGEuY3VycmVudE1heFZhbHVlID09PSAwO1xyXG4gICAgY29uc3QgaXNDdXJyZW50TWluVmFsdWVSZWFsID0gZGF0YS5jdXJyZW50TWluVmFsdWUgfHwgZGF0YS5jdXJyZW50TWluVmFsdWUgPT09IDA7XHJcbiAgICBpZiAoaXNDdXJyZW50TWF4VmFsdWVSZWFsICYmIGRhdGEuY3VycmVudE1heFZhbHVlICE9PSB0aGlzLmN1cnJlbnRWYWx1ZXMuY3VycmVudE1heFZhbHVlKSB7XHJcbiAgICAgIHRoaXMuY3VycmVudFZhbHVlcy5jdXJyZW50TWF4VmFsdWUgPSBkYXRhLmN1cnJlbnRNYXhWYWx1ZTtcclxuICAgIH0gaWYgKGlzQ3VycmVudE1pblZhbHVlUmVhbCAmJiBkYXRhLmN1cnJlbnRNaW5WYWx1ZSAhPT0gdGhpcy5jdXJyZW50VmFsdWVzLmN1cnJlbnRNaW5WYWx1ZSkge1xyXG4gICAgICB0aGlzLmN1cnJlbnRWYWx1ZXMuY3VycmVudE1pblZhbHVlID0gZGF0YS5jdXJyZW50TWluVmFsdWU7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHNvdXJjZU9mQ2hhbmdpbmcgPT09ICdmcm9tUGFuZWwnKSB7XHJcbiAgICAgIHRoaXMub2JzZXJ2ZXJzLm5vdGlmeU9ic2VydmVycygnU2VuZGluZ0N1cnJlbnRWYWx1ZXMnLCB0aGlzLmN1cnJlbnRWYWx1ZXMpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgb2JzZXJ2ZUNvbnRyb2xsZXJGcm9tTW9kZWwgPSAoZXZlbnROYW1lOiBzdHJpbmcsIGRhdGE/OiB0eXBlcy5DdXJyZW50VmFsdWVzKTogdm9pZCA9PiB7XHJcbiAgICBpZiAoZXZlbnROYW1lID09PSAnVXBkYXRpbmdDb25maWcnKSB7XHJcbiAgICAgIHRoaXMub2JzZXJ2ZXJzLm5vdGlmeU9ic2VydmVycygnU2VuZGluZ0N1cnJlbnRWYWx1ZXMnLCB0aGlzLmN1cnJlbnRWYWx1ZXMpO1xyXG4gICAgfSBpZiAoZXZlbnROYW1lID09PSAnQ2hhbmdpbmdDdXJyZW50VmFsdWVGcm9tVmlldycpIHtcclxuICAgICAgdGhpcy5zZXRDdXJyZW50VmFsdWVzKGRhdGEsICdmcm9tVmlldycpO1xyXG4gICAgICB0aGlzLm9ic2VydmVycy5ub3RpZnlPYnNlcnZlcnMoJ1NlbmRpbmdDdXJyZW50VmFsdWVzRm9yVHJhY2tpbmcnLCB0aGlzLmN1cnJlbnRWYWx1ZXMpO1xyXG4gICAgfSBpZiAoZXZlbnROYW1lID09PSAnQ2hhbmdpbmdDdXJyZW50VmFsdWVGcm9tUGFuZWwnKSB7XHJcbiAgICAgIHRoaXMuc2V0Q3VycmVudFZhbHVlcyhkYXRhLCAnZnJvbVBhbmVsJyk7XHJcbiAgICB9IGlmIChldmVudE5hbWUgPT09ICdHZXR0aW5nVmFsdWVzJykge1xyXG4gICAgICB0aGlzLm9ic2VydmVycy5ub3RpZnlPYnNlcnZlcnMoJ1NlbmRpbmdDdXJyZW50VmFsdWVzRm9yVHJhY2tpbmcnLCB0aGlzLmN1cnJlbnRWYWx1ZXMpO1xyXG4gICAgfVxyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgTW9kZWw7XHJcbiIsInZhciBtYXAgPSB7XG5cdFwiLi9Db250cm9sbGVyL0NvbnRyb2xsZXIudHNcIjogNCxcblx0XCIuL01vZGVsL01vZGVsLnRzXCI6IDEzLFxuXHRcIi4vVmlldy9WaWV3LnRzXCI6IDUsXG5cdFwiLi9WaWV3L2Jsb2Nrcy9CYXIvQmFyLnRzXCI6IDcsXG5cdFwiLi9WaWV3L2Jsb2Nrcy9Lbm9iL0tub2IudHNcIjogOCxcblx0XCIuL1ZpZXcvYmxvY2tzL1Byb2dyZXNzQmFyL1Byb2dyZXNzQmFyLnRzXCI6IDEyLFxuXHRcIi4vVmlldy9ibG9ja3MvUnVubmVyL1J1bm5lci50c1wiOiAzLFxuXHRcIi4vVmlldy9ibG9ja3MvU2NhbGUvTWFyay9NYXJrLnRzXCI6IDExLFxuXHRcIi4vVmlldy9ibG9ja3MvU2NhbGUvU2NhbGUudHNcIjogMTAsXG5cdFwiLi9WaWV3L2Jsb2Nrcy9Ub29sdGlwL1Rvb2x0aXAudHNcIjogOSxcblx0XCIuL1ZpZXcvYmxvY2tzL1RyYWNrL1RyYWNrLnRzXCI6IDYsXG5cdFwiLi9WaWV3L2Jsb2Nrcy9jcmVhdGVFbGVtL2NyZWF0ZUVsZW0udHNcIjogMSxcblx0XCIuL21ha2VPYnNlcnZhYmxlT2JqZWN0L01ha2VPYnNlcnZhYmxlT2JqZWN0LnRzXCI6IDAsXG5cdFwiLi9zbGlkZXIudHNcIjogMTUsXG5cdFwiLi9zdHlsZS5zY3NzXCI6IDE2LFxuXHRcIi4vdHlwZXMudHNcIjogMlxufTtcblxuXG5mdW5jdGlvbiB3ZWJwYWNrQ29udGV4dChyZXEpIHtcblx0dmFyIGlkID0gd2VicGFja0NvbnRleHRSZXNvbHZlKHJlcSk7XG5cdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKGlkKTtcbn1cbmZ1bmN0aW9uIHdlYnBhY2tDb250ZXh0UmVzb2x2ZShyZXEpIHtcblx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhtYXAsIHJlcSkpIHtcblx0XHR2YXIgZSA9IG5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIgKyByZXEgKyBcIidcIik7XG5cdFx0ZS5jb2RlID0gJ01PRFVMRV9OT1RfRk9VTkQnO1xuXHRcdHRocm93IGU7XG5cdH1cblx0cmV0dXJuIG1hcFtyZXFdO1xufVxud2VicGFja0NvbnRleHQua2V5cyA9IGZ1bmN0aW9uIHdlYnBhY2tDb250ZXh0S2V5cygpIHtcblx0cmV0dXJuIE9iamVjdC5rZXlzKG1hcCk7XG59O1xud2VicGFja0NvbnRleHQucmVzb2x2ZSA9IHdlYnBhY2tDb250ZXh0UmVzb2x2ZTtcbm1vZHVsZS5leHBvcnRzID0gd2VicGFja0NvbnRleHQ7XG53ZWJwYWNrQ29udGV4dC5pZCA9IDE0OyIsIi8qIGdsb2JhbCBqUXVlcnkgKi9cclxuaW1wb3J0ICogYXMgdHlwZXMgZnJvbSAnLi90eXBlcyc7XHJcbmltcG9ydCBDb250cm9sbGVyIGZyb20gJy4vQ29udHJvbGxlci9Db250cm9sbGVyJztcclxuXHJcbihmdW5jdGlvbiBwbHVnaW5XcmFwcGVyKCQpIHtcclxuICBjb25zdCBtZXRob2RzOiBNZXRob2RzID0ge1xyXG4gICAgaW5pdDogZnVuY3Rpb24gaW5pdChvcHQ6IHR5cGVzLlBhcmFtZXRlcnMpIHtcclxuICAgICAgaWYgKCEkKHRoaXMpLmRhdGEoJ3NsaWRlcicpKSB7XHJcbiAgICAgICAgY29uc3QgbmV3Q29uZmlnID0geyAuLi50eXBlcy5kZWZhdWx0UGFyYW1ldGVycyB9O1xyXG4gICAgICAgIGNvbnN0IHNsaWRlciA9IG5ldyBDb250cm9sbGVyKCQuZXh0ZW5kKG5ld0NvbmZpZywgb3B0KSwgJCh0aGlzKSk7XHJcbiAgICAgICAgJCh0aGlzKS5kYXRhKCdzbGlkZXInLCBzbGlkZXIpO1xyXG4gICAgICB9XHJcbiAgICB9LFxyXG5cclxuICAgIHVwZGF0ZTogZnVuY3Rpb24gdXBkYXRlKG9wdDogdHlwZXMuUGFyYW1ldGVycykge1xyXG4gICAgICBjb25zdCBzbGlkZXIgPSAkKHRoaXMpLmRhdGEoJ3NsaWRlcicpO1xyXG4gICAgICBzbGlkZXIudXBkYXRlKG9wdCk7XHJcbiAgICB9LFxyXG5cclxuICAgIHJlbmV3OiBmdW5jdGlvbiByZW5ldygpIHtcclxuICAgICAgY29uc3Qgc2xpZGVyID0gJCh0aGlzKS5kYXRhKCdzbGlkZXInKTtcclxuICAgICAgcmV0dXJuIHNsaWRlci5yZW5ldygpO1xyXG4gICAgfSxcclxuXHJcbiAgICBzZXRWYWx1ZXM6IGZ1bmN0aW9uIHNldFZhbHVlcyhvcHQ6IHR5cGVzLkN1cnJlbnRWYWx1ZXMpIHtcclxuICAgICAgY29uc3Qgc2xpZGVyID0gJCh0aGlzKS5kYXRhKCdzbGlkZXInKTtcclxuICAgICAgc2xpZGVyLnNldFZhbHVlcyhvcHQpO1xyXG4gICAgfSxcclxuXHJcbiAgICBpbnB1dHNBdHRhY2g6IGZ1bmN0aW9uIGlucHV0c0F0dGFjaChvcHQ6IElucHV0c09iamVjdCkge1xyXG4gICAgICBjb25zdCBzbGlkZXIgPSAkKHRoaXMpLmRhdGEoJ3NsaWRlcicpO1xyXG4gICAgICBzbGlkZXIub2JzZXJ2ZXJzLmFkZE9ic2VydmVyKChldmVudE5hbWU/OiBzdHJpbmcsIGRhdGE/OiBhbnkpID0+IHtcclxuICAgICAgICBpZiAoZXZlbnROYW1lID09PSAnU2VuZGluZ0N1cnJlbnRWYWx1ZXNGb3JUcmFja2luZycpIHtcclxuICAgICAgICAgIG9wdC5taW5WYWx1ZUlucHV0LnZhbChkYXRhLmN1cnJlbnRNaW5WYWx1ZSk7XHJcbiAgICAgICAgICBvcHQubWF4VmFsdWVJbnB1dC52YWwoZGF0YS5jdXJyZW50TWF4VmFsdWUpO1xyXG4gICAgICAgIH0gaWYgKGV2ZW50TmFtZSA9PT0gJ1NlbmRpbmdDb25maWcnKSB7XHJcbiAgICAgICAgICBvcHQubWF4VmFsdWUudmFsKGRhdGEubWF4VmFsdWUpO1xyXG4gICAgICAgICAgb3B0Lm1pblZhbHVlLnZhbChkYXRhLm1pblZhbHVlKTtcclxuICAgICAgICAgIG9wdC5zdGVwLnZhbChkYXRhLnN0ZXApO1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgJC5mbi5vbWZnc2xpZGVyID0gZnVuY3Rpb24gcHJvY2Vzc01ldGhvZChtZXRob2Q6IHN0cmluZywgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1wYXJhbS1yZWFzc2lnblxyXG4gICAgLi4uYXJnczogQXJyYXk8dHlwZXMuY29uZmlnVXBkYXRlRGF0YT4pIHtcclxuICAgIGlmIChtZXRob2RzW21ldGhvZF0pIHtcclxuICAgICAgcmV0dXJuIG1ldGhvZHNbbWV0aG9kXS5hcHBseSh0aGlzLCBhcmdzKTtcclxuICAgIH0gaWYgKHR5cGVvZiBtZXRob2QgPT09ICdvYmplY3QnIHx8ICFtZXRob2QpIHtcclxuICAgICAgcmV0dXJuIG1ldGhvZHMuaW5pdC5hcHBseSh0aGlzLCBbbWV0aG9kXSk7XHJcbiAgICB9XHJcbiAgICAkLmVycm9yKGDQnNC10YLQvtC0ICR7bWV0aG9kfSDQvdC1INC90LDQudC00LXQvSDQsiDQv9C70LDQs9C40L3QtSBqUXVlcnkub21mZ3NsaWRlcmApO1xyXG4gICAgcmV0dXJuIG51bGw7XHJcbiAgfTtcclxufShqUXVlcnkpKTtcclxuIiwiZXhwb3J0IGRlZmF1bHQgX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcImluZGV4Lmh0bWxcIjsiLCJpbXBvcnQgJy4vZGVtby1wYWdlL2luZGV4Lmh0bWwnO1xyXG5cclxuZnVuY3Rpb24gaW1wb3J0QWxsKHI6IF9fV2VicGFja01vZHVsZUFwaS5SZXF1aXJlQ29udGV4dCkge1xyXG4gIHIua2V5cygpLmZvckVhY2gocik7XHJcbn1cclxuXHJcbmltcG9ydEFsbChyZXF1aXJlLmNvbnRleHQoJy4vcGx1Z2luJywgdHJ1ZSwgLyg/PCFcXC5kKVxcLihqc3x0c3xzY3NzKSQvaSkpO1xyXG4iXSwic291cmNlUm9vdCI6IiJ9