!function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=19)}([function(e,t,n){"use strict";n.r(t),t.default=function(e){var t=document.createElement("div");return t.ondragstart=function(){return!1},t.classList.add(e),t}},function(e,t,n){"use strict";n.r(t);var r=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var s=arguments[t],a=0,o=s.length;a<o;a++,i++)r[i]=s[a];return r},i=function(){function e(){this.observers=[]}return e.prototype.addObserver=function(e){if("function"!=typeof e)throw new Error("observer must be a function");this.observers.map((function(t){if(t===e)throw new Error("observer already in the list")})),this.observers.push(e)},e.prototype.removeObserver=function(e){for(var t=0;t<this.observers.length;t++){if(this.observers[t]===e)return void this.observers.splice(t,1)}throw new Error("could not find observer in list of observers")},e.prototype.notifyObservers=function(){r(this.observers).map((function(e){return e()}))},e.prototype.notifyObserversData=function(e){r(this.observers).map((function(t){return t(e)}))},e}();t.default=i},function(e,t,n){"use strict";n.r(t),n.d(t,"defaultParameters",(function(){return r}));var r={minValue:0,maxValue:1e3,step:1,isRange:!1,isVertical:!1,showLabel:!1,isFloat:!1}},function(e,t,n){"use strict";n.r(t);var r=function(){function e(){}return e.parsing=function(e){if("number"==typeof e)return e;if("string"==typeof e){if(/^-?\d+[\.,]\d+$/.test(e))return parseFloat(e);if(/^-?\d+$/.test(e))return parseInt(e)}return null},e}();t.default=r},function(e,t,n){"use strict";n.r(t);var r=n(0),i=function(e){var t=this;this.getPosition=function(){return t.isVertical?t.elem.getBoundingClientRect().top:t.elem.getBoundingClientRect().left},this.getDimension=function(){return t.isVertical?t.elem.getBoundingClientRect().height:t.elem.getBoundingClientRect().width},this.init=function(e){t.isVertical=e,t.isVertical?t.elem.classList.add("slider__scale_position_vertical"):t.elem.classList.remove("slider__scale_position_vertical")},this.elem=Object(r.default)("slider__scale"),this.isVertical=e};t.default=i},function(e,t,n){"use strict";n.r(t);var r=n(9),i=n(1),s=function(e,t){var n=this;this.init=function(e){n.parameters=e,n.moveMarks()},this.moveMarks=function(){n.marks.map((function(e,t){if(e.init(n.parameters.isVertical),0===t)e.setPosition(0,n.parameters.minValue);else if(t===n.marks.length-1)e.setPosition(100,n.parameters.maxValue);else{var r=n.round(n.parameters.minValue+(n.parameters.maxValue-n.parameters.minValue)/(n.marks.length-1)*t);n.parameters.isFloat&&(r=parseFloat(r.toFixed(2)));var i=(r-n.parameters.minValue)/(n.parameters.maxValue-n.parameters.minValue);e.setPosition(100*i,r)}}))},this.handleScaleClick=function(e){n.observers.notifyObserversData(e)},this.createMarks=function(){for(var e=0;e<5;e++){var t=new r.default(n.parameters.isVertical,n.handleScaleClick);n.marks.push(t)}},this.round=function(e){var t=Math.trunc(e/n.parameters.step),r=+(e-t*n.parameters.step).toFixed(2);return e<0?Math.abs(r)<n.parameters.step/2?t*n.parameters.step:(t-1)*n.parameters.step:r<n.parameters.step/2?t*n.parameters.step:(t+1)*n.parameters.step},this.marks=[],this.parameters=e,this.createMarks(),this.init(e),this.observers=new i.default,this.observers.addObserver(t)};t.default=s},function(e,t,n){"use strict";n.r(t);var r=n(10),i=n(11),s=n(1),a=function(e,t){var n=this;this.getPosition=function(){return n.button.getPosition()},this.setPosition=function(e,t){n.label.setPosition(e+n.button.getWidth()/2,t),n.button.setPosition(e)},this.init=function(e){n.button.init(e),n.label.init(e)},this.getWidth=function(){return n.button.getWidth()},this.hideRunner=function(){n.button.elem.style.display="none",n.label.elem.style.display="none"},this.hideLabel=function(){n.label.elem.style.display="none"},this.showLabel=function(){n.label.elem.style.display="block"},this.showRunner=function(){n.button.elem.style.display="block"},this.appendToNode=function(e){[n.button.elem,n.label.elem].map((function(t){e.appendChild(t),t.onmousedown=n.handleRunnerMouseDown}))},this.handleRunnerMouseDown=function(e){e.preventDefault(),document.addEventListener("mousemove",n.handleRunnerMouseMove),document.addEventListener("mouseup",n.handleRunnerMouseUp)},this.handleRunnerMouseMove=function(e){n.observers.notifyObserversData({event:e,runner:n})},this.handleRunnerMouseUp=function(e){document.removeEventListener("mouseup",n.handleRunnerMouseUp),document.removeEventListener("mousemove",n.handleRunnerMouseMove)},this.isVertical=e,this.button=new r.default(e),this.label=new i.default(e),this.observers=new s.default,this.observers.addObserver(t)};t.default=a},function(e,t,n){"use strict";n.r(t);var r=n(2),i=n(8),s=n(14),a=n(1),o=n(3),u=function(e){var t=this;void 0===e&&(e=r.defaultParameters),this.appendToNode=function(e){t.view.appendToNode(e.get(0)),t.view.init()},this.updateConfig=function(e){var n=t.view.parameters;Object.keys(e).map((function(r){"step"===r?n.step=t.checkStep(e.step):"maxValue"===r?n.maxValue=t.checkMaxValue(e.maxValue):"minValue"===r?n.minValue=t.checkMinValue(e.minValue):n[r]=e[r]})),t.view.parameters=Object.assign(t.view.parameters,n),t.view.init()},this.getValues=function(){return t.model.currentValues},this.setValues=function(e,n){(e||0===e)&&t.model.setCurrentMinValue(e),(n||0===n)&&t.model.setCurrentMaxValue(n)},this.getConfig=function(){return t.view.parameters},this.addObserver=function(e){t.observers.addObserver(e)},this.checkStep=function(e){var n=Math.abs(o.default.parsing(e));return null===n||0===n||n>(t.view.parameters.maxValue-t.view.parameters.minValue)/2?t.view.parameters.step:(n%1!=0?t.view.parameters.isFloat=!0:t.view.parameters.maxValue%1==0&&t.view.parameters.minValue%1==0&&(t.view.parameters.isFloat=!1),n)},this.checkMaxValue=function(e){var n=o.default.parsing(e);return null===n||n<=t.view.parameters.minValue?t.view.parameters.maxValue:(n%1!=0?t.view.parameters.isFloat=!0:t.view.parameters.step%1==0&&t.view.parameters.minValue%1==0&&(t.view.parameters.isFloat=!1),n)},this.checkMinValue=function(e){var n=o.default.parsing(e);return null===n||n>=t.view.parameters.maxValue?t.view.parameters.minValue:(n%1!=0?t.view.parameters.isFloat=!0:t.view.parameters.maxValue%1==0&&t.view.parameters.step%1==0&&(t.view.parameters.isFloat=!1),n)},this.view=new i.View(e),this.model=new s.default({currentMinValue:e.minValue,currentMaxValue:e.maxValue}),this.observers=new a.default,this.view.observers.addObserver((function(){t.model.currentValues=t.view.currentValues,t.observers.notifyObservers()})),this.model.observers.addObserver((function(){t.view.currentValues=t.model.currentValues,t.view.renewRunners()}))};t.default=u},function(e,t,n){"use strict";n.r(t),n.d(t,"View",(function(){return f}));var r=n(2),i=n(1),s=n(0);n.d(t,"createElem",(function(){return s.default}));var a=n(4);n.d(t,"Bar",(function(){return a.default}));var o=n(5);n.d(t,"Scale",(function(){return o.default}));var u=n(6),l=n(12),c=n(13),f=function(){function e(e){var t=this;void 0===e&&(e=r.defaultParameters),this.onClickScaleObserver=function(e){var n,r=t.track.convertOffsetToValue(e);n=t.parameters.isRange?t.checkRunnerCloser(r):t.runnerMain,t.handleRunnerMove(t.track.offsetProcessing(r,n))},this.onMoveRunnerObserver=function(e){var n=e.event,r=e.runner;t.handleRunnerMove(t.track.onMoveRunner(n,r))},this.handleRunnerMove=function(e){e.runner.setPosition(e.offset,e.value),e.runner===t.runnerAdditional&&(t.currentValues.currentMinValue=e.value),e.runner===t.runnerMain&&(t.currentValues.currentMaxValue=e.value),t.track.updateProgressBar(),t.observers.notifyObservers()},this.checkRunnerCloser=function(e){return Math.abs(e-t.track.getMainRunnerOffset())<Math.abs(e-t.track.getAdditionalRunnerOffset())?t.runnerMain:t.runnerAdditional},this.handleBarClick=function(e){var n=(t.parameters.isVertical?e.clientY:e.clientX)-t.bar.getPosition()-t.runnerMain.getWidth()/2;t.handleRunnerMove(t.track.offsetProcessing(n,t.checkRunnerCloser(n)))},this.init=function(){t.bar.init(t.parameters.isVertical),t.progressBar.init(t.parameters.isVertical),t.runnerAdditional.init(t.parameters.isVertical),t.runnerMain.init(t.parameters.isVertical),t.track.init(t.parameters),t.scale.init(t.parameters),t.runnerAdditional.hideRunner(),t.parameters.showLabel?(t.runnerAdditional.showLabel(),t.runnerMain.showLabel()):(t.runnerAdditional.hideLabel(),t.runnerMain.hideLabel()),t.parameters.isRange?t.runnerAdditional.showRunner():t.runnerAdditional.hideRunner(),t.runnerAdditional.setPosition(-t.runnerAdditional.getWidth()/2,t.parameters.minValue),t.runnerMain.setPosition(t.bar.getDimension()-t.runnerMain.getWidth()/2,t.parameters.maxValue),t.renewRunners()},this.appendToNode=function(e){e.appendChild(t.bar.elem).appendChild(t.progressBar.elem),t.runnerMain.appendToNode(e),t.runnerAdditional.appendToNode(e),t.scale.marks.map((function(t){e.appendChild(t.elem)})),t.scale.moveMarks(),t.bar.elem.onclick=t.handleBarClick},this.bar=new a.default(e.isVertical),this.progressBar=new c.default(e.isVertical),this.currentValues={currentMinValue:e.minValue,currentMaxValue:e.maxValue},this.observers=new i.default,this.parameters=e,this.scale=new o.default(e,this.onClickScaleObserver),this.runnerAdditional=new u.default(e.isVertical,this.onMoveRunnerObserver),this.runnerMain=new u.default(e.isVertical,this.onMoveRunnerObserver),this.track=new l.default({runnerMain:this.runnerMain,runnerAdditional:this.runnerAdditional,progressBar:this.progressBar,bar:this.bar,parameters:this.parameters})}return e.prototype.renewRunners=function(){this.handleRunnerMove(this.track.offsetProcessing(this.track.convertOffsetToValue(this.currentValues.currentMaxValue),this.runnerMain)),this.handleRunnerMove(this.track.offsetProcessing(this.track.convertOffsetToValue(this.currentValues.currentMinValue),this.runnerAdditional))},e}()},function(e,t,n){"use strict";n.r(t);var r=n(0),i=n(1),s=function(e,t){var n=this;this.getPosition=function(){return n.isVertical?n.elem.getBoundingClientRect().top:n.elem.getBoundingClientRect().left},this.setPosition=function(e,t){n.elem.innerHTML=t+"",n.value=t,n.isVertical?(n.elem.style.left="50%",n.elem.style.top=e+"%",n.elem.style.marginTop=-n.getDimension()/2+"px",n.elem.style.marginLeft="-45px"):(n.elem.style.top="50%",n.elem.style.left=e+"%",n.elem.style.marginLeft=-n.getDimension()/2+"px",n.elem.style.marginTop="15px")},this.getDimension=function(){return n.isVertical?n.elem.getBoundingClientRect().height:n.elem.getBoundingClientRect().width},this.init=function(e){n.isVertical=e,n.isVertical?n.elem.classList.add("slider__mark_position_vertical"):n.elem.classList.remove("slider__mark_position_vertical")},this.handleMarkClick=function(){n.observers.notifyObserversData(n.value)},this.elem=Object(r.default)("slider__mark"),this.isVertical=e,this.observers=new i.default,this.observers.addObserver(t),this.elem.onclick=this.handleMarkClick};t.default=s},function(e,t,n){"use strict";n.r(t);var r=n(0),i=function(e){var t=this;this.getWidth=function(){return t.elem.getBoundingClientRect().width},this.getPosition=function(){return t.isVertical?t.elem.getBoundingClientRect().top:t.elem.getBoundingClientRect().left},this.setPosition=function(e){t.isVertical?(t.elem.style.left="50%",t.elem.style.top=e+"px"):(t.elem.style.top="50%",t.elem.style.left=e+"px")},this.init=function(e){t.isVertical=e,t.isVertical?t.elem.classList.add("slider__button_position_vertical"):t.elem.classList.remove("slider__button_position_vertical")},this.elem=Object(r.default)("slider__button"),this.isVertical=e};t.default=i},function(e,t,n){"use strict";n.r(t);var r=n(0),i=function(e){var t=this;this.getPosition=function(){return t.isVertical?t.elem.getBoundingClientRect().top:t.elem.getBoundingClientRect().left},this.setPosition=function(e,n){t.elem.innerHTML=n+"",t.isVertical?(t.elem.style.left="50%",t.elem.style.top=e-t.getDimension()/2+"px"):(t.elem.style.top="50%",t.elem.style.left=e-t.getDimension()/2+"px")},this.getDimension=function(){return t.isVertical?t.elem.getBoundingClientRect().height:t.elem.getBoundingClientRect().width},this.init=function(e){t.isVertical=e,t.isVertical?t.elem.classList.add("slider__button-label_position_vertical"):t.elem.classList.remove("slider__button-label_position_vertical")},this.elem=Object(r.default)("slider__button-label"),this.isVertical=e};t.default=i},function(e,t,n){"use strict";n.r(t);var r=function(){function e(e){var t=this;this.onMoveRunner=function(e,n){var r=(t.parameters.isVertical?e.clientY:e.clientX)-t.scale.getPosition()-t.runnerAdditional.getWidth()/2;return t.offsetProcessing(r,n)},this.convertOffsetToValue=function(e){return(e-t.parameters.minValue)/(t.parameters.maxValue-t.parameters.minValue)*t.scale.getDimension()-t.runnerMain.getWidth()/2},this.getMainRunnerOffset=function(){var e=t.runnerMain.getPosition()-t.scale.getPosition()+t.runnerMain.getWidth()/2;return e<0?0:e},this.getAdditionalRunnerOffset=function(){return t.parameters.isRange?t.runnerAdditional.getPosition()-t.scale.getPosition()+t.runnerMain.getWidth()/2:0},this.updateProgressBar=function(){t.progressBar.init(t.parameters.isVertical),t.progressBar.setPosition(t.getAdditionalRunnerOffset()),t.progressBar.setDimension(t.getMainRunnerOffset()-t.getAdditionalRunnerOffset())},this.init=function(e){t.parameters=e},this.checkRunnerOffset=function(e,n){var r=t.parameters.step*t.scale.getDimension()/(t.parameters.maxValue-t.parameters.minValue),i=r/1.5>t.runnerMain.getWidth()?r/1.5:t.runnerMain.getWidth();return n===t.runnerAdditional?e>t.runnerMain.getPosition()-t.scale.getPosition()-i&&(e=t.runnerMain.getPosition()-t.scale.getPosition()-i):n===t.runnerMain&&e<t.runnerAdditional.getPosition()-t.scale.getPosition()+i&&(e=t.runnerAdditional.getPosition()-t.scale.getPosition()+i),e},this.roundOffsetButt=function(e){var n=t.parameters.minValue+(e+t.runnerMain.getWidth()/2)*(t.parameters.maxValue-t.parameters.minValue)/t.scale.getDimension(),r=t.round(n,t.parameters.step);t.parameters.isFloat&&(r=parseFloat(r.toFixed(2)));var i=t.convertOffsetToValue(r);return i<-t.runnerMain.getWidth()/2&&(i=-t.runnerMain.getWidth()/2,r=t.parameters.minValue),i>t.scale.getDimension()-t.runnerMain.getWidth()/2&&(i=t.scale.getDimension()-t.runnerMain.getWidth()/2,r=t.parameters.maxValue),[i,r]},this.round=function(e,n){var r=Math.trunc(e/n),i=+(e-r*n).toFixed(2);return e<0?Math.abs(i)<n/2?r*n:(r-1)*n:e<=t.parameters.minValue?t.parameters.minValue:e>=t.parameters.maxValue?t.parameters.maxValue:i<n/2?r*n:(r+1)*n},this.scale=e.bar,this.runnerMain=e.runnerMain,this.runnerAdditional=e.runnerAdditional,this.progressBar=e.progressBar,this.parameters=e.parameters}return e.prototype.offsetProcessing=function(e,t){var n,r;return r=this.checkRunnerOffset(e,t),{runner:t,offset:r=(n=this.roundOffsetButt(r))[0],value:n[1]}},e}();t.default=r},function(e,t,n){"use strict";n.r(t);var r=n(0),i=function(e){var t=this;this.setPosition=function(e){t.isVertical?(t.elem.style.left="0",t.elem.style.width="100%",t.elem.style.top=e+"px"):(t.elem.style.top="0",t.elem.style.height="100%",t.elem.style.left=e+"px")},this.setDimension=function(e){t.isVertical?t.elem.style.height=e+"px":t.elem.style.width=e+"px"},this.init=function(e){t.isVertical=e},this.elem=Object(r.default)("slider__scale-filling"),this.isVertical=e};t.default=i},function(e,t,n){"use strict";n.r(t);var r=n(1),i=function(){function e(e){this.currentValues=e,this.observers=new r.default}return e.prototype.setCurrentMinValue=function(e){this.currentValues.currentMinValue!==e&&(this.currentValues.currentMinValue=e,this.observers.notifyObservers())},e.prototype.setCurrentMaxValue=function(e){this.currentValues.currentMaxValue!==e&&(this.currentValues.currentMaxValue=e,this.observers.notifyObservers())},e}();t.default=i},function(e,t,n){var r={"./Controller/Controller.ts":7,"./Controller/blocks/parsingDigits/ParsingDigits.ts":3,"./Model/Model.ts":14,"./View/View.ts":8,"./View/blocks/bar/Bar.ts":4,"./View/blocks/button/Button.ts":10,"./View/blocks/createElem/createElem.ts":0,"./View/blocks/label/Label.ts":11,"./View/blocks/mark/Mark.ts":9,"./View/blocks/progressBar/ProgressBar.ts":13,"./View/blocks/runner/Runner.ts":6,"./View/blocks/scale/Scale.ts":5,"./View/blocks/track/Track.ts":12,"./makeObservableObject/MakeObservableObject.ts":1,"./slider.ts":16,"./style.scss":17,"./types.ts":2};function i(e){var t=s(e);return n(t)}function s(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}i.keys=function(){return Object.keys(r)},i.resolve=s,e.exports=i,i.id=15},function(e,t,n){"use strict";n.r(t);var r,i,s,a=n(7),o=function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};r=jQuery,i={minValue:0,maxValue:1e3,step:1,isRange:!1,isVertical:!1,showLabel:!1,isFloat:!1},s={init:function(e){if(!r(this).data("slider")){var t=o({},i),n=new a.default(r.extend(t,e));r(this).data("slider",n),n.appendToNode(r(this))}},update:function(e){r(this).data("slider").updateConfig(e)},getConfig:function(){return r(this).data("slider").getConfig()},setValues:function(e){r(this).data("slider").setValues(e.currentMinValue,e.currentMaxValue)},inputsAttach:function(e){var t=r(this).data("slider");t.addObserver((function(){e.minValueInput.val(t.getValues().currentMinValue),e.maxValueInput.val(t.getValues().currentMaxValue),e.maxValue.val(t.getConfig().maxValue),e.minValue.val(t.getConfig().minValue),e.step.val(t.getConfig().step)}))}},r.fn.omfgslider=function(e){return s[e]?s[e].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof e&&e?void r.error("Метод "+e+" не найден в плагине jQuery.omfgslider"):s.init.apply(this,arguments)}},function(e,t,n){},,function(e,t,n){"use strict";n.r(t);var r;n.p;(r=n(15)).keys().forEach(r)}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL3BsdWdpbi9WaWV3L2Jsb2Nrcy9jcmVhdGVFbGVtL2NyZWF0ZUVsZW0udHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3BsdWdpbi9tYWtlT2JzZXJ2YWJsZU9iamVjdC9NYWtlT2JzZXJ2YWJsZU9iamVjdC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvcGx1Z2luL3R5cGVzLnRzIiwid2VicGFjazovLy8uL3NyYy9wbHVnaW4vQ29udHJvbGxlci9ibG9ja3MvcGFyc2luZ0RpZ2l0cy9QYXJzaW5nRGlnaXRzLnRzIiwid2VicGFjazovLy8uL3NyYy9wbHVnaW4vVmlldy9ibG9ja3MvYmFyL0Jhci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvcGx1Z2luL1ZpZXcvYmxvY2tzL3NjYWxlL1NjYWxlLnRzIiwid2VicGFjazovLy8uL3NyYy9wbHVnaW4vVmlldy9ibG9ja3MvcnVubmVyL1J1bm5lci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvcGx1Z2luL0NvbnRyb2xsZXIvQ29udHJvbGxlci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvcGx1Z2luL1ZpZXcvVmlldy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvcGx1Z2luL1ZpZXcvYmxvY2tzL21hcmsvTWFyay50cyIsIndlYnBhY2s6Ly8vLi9zcmMvcGx1Z2luL1ZpZXcvYmxvY2tzL2J1dHRvbi9CdXR0b24udHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3BsdWdpbi9WaWV3L2Jsb2Nrcy9sYWJlbC9MYWJlbC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvcGx1Z2luL1ZpZXcvYmxvY2tzL3RyYWNrL1RyYWNrLnRzIiwid2VicGFjazovLy8uL3NyYy9wbHVnaW4vVmlldy9ibG9ja3MvcHJvZ3Jlc3NCYXIvUHJvZ3Jlc3NCYXIudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3BsdWdpbi9Nb2RlbC9Nb2RlbC50cyIsIndlYnBhY2s6Ly8vXFwuZClcXC4oanN8dHN8c2NzcykkLyIsIndlYnBhY2s6Ly8vLi9zcmMvcGx1Z2luL3NsaWRlci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZGVtby1wYWdlL2luZGV4Lmh0bWwiLCJ3ZWJwYWNrOi8vLy4vc3JjL2luZGV4LnRzIl0sIm5hbWVzIjpbImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJleHBvcnRzIiwibW9kdWxlIiwiaSIsImwiLCJtb2R1bGVzIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJ0IiwibW9kZSIsIl9fZXNNb2R1bGUiLCJucyIsImNyZWF0ZSIsImtleSIsImJpbmQiLCJuIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwiY2xhc3NOYW1lIiwiZWxlbSIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsIm9uZHJhZ3N0YXJ0IiwiY2xhc3NMaXN0IiwiYWRkIiwidGhpcyIsIm9ic2VydmVycyIsImFkZE9ic2VydmVyIiwiZm4iLCJFcnJvciIsIm1hcCIsIm9ic2VydmVyIiwicHVzaCIsInJlbW92ZU9ic2VydmVyIiwibGVuZ3RoIiwic3BsaWNlIiwibm90aWZ5T2JzZXJ2ZXJzIiwibm90aWZ5T2JzZXJ2ZXJzRGF0YSIsImRhdGEiLCJkZWZhdWx0UGFyYW1ldGVycyIsIm1pblZhbHVlIiwibWF4VmFsdWUiLCJzdGVwIiwiaXNSYW5nZSIsImlzVmVydGljYWwiLCJzaG93TGFiZWwiLCJpc0Zsb2F0IiwicGFyc2luZyIsIml0ZW0iLCJ0ZXN0IiwicGFyc2VGbG9hdCIsInBhcnNlSW50IiwiZ2V0UG9zaXRpb24iLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJ0b3AiLCJsZWZ0IiwiZ2V0RGltZW5zaW9uIiwiaGVpZ2h0Iiwid2lkdGgiLCJpbml0IiwicmVtb3ZlIiwicGFyYW1ldGVycyIsIm9wdGlvbnMiLCJtb3ZlTWFya3MiLCJtYXJrcyIsIm1hcmsiLCJpbmRleCIsInNldFBvc2l0aW9uIiwicm91bmRWYWx1ZSIsInJvdW5kIiwidG9GaXhlZCIsIm9mZnNldCIsImhhbmRsZVNjYWxlQ2xpY2siLCJjcmVhdGVNYXJrcyIsIndob2xlIiwiTWF0aCIsInRydW5jIiwicmVtaW5kZXIiLCJhYnMiLCJtb3ZlT2JzZXJ2ZXIiLCJidXR0b24iLCJsYWJlbCIsImdldFdpZHRoIiwiaGlkZVJ1bm5lciIsInN0eWxlIiwiZGlzcGxheSIsImhpZGVMYWJlbCIsInNob3dSdW5uZXIiLCJhcHBlbmRUb05vZGUiLCJlbnRyeSIsImFwcGVuZENoaWxkIiwib25tb3VzZWRvd24iLCJoYW5kbGVSdW5uZXJNb3VzZURvd24iLCJldmVudCIsInByZXZlbnREZWZhdWx0IiwiYWRkRXZlbnRMaXN0ZW5lciIsImhhbmRsZVJ1bm5lck1vdXNlTW92ZSIsImhhbmRsZVJ1bm5lck1vdXNlVXAiLCJydW5uZXIiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwidmlldyIsInVwZGF0ZUNvbmZpZyIsInBhcmFtZXRlcnNTbmFwU2hvdCIsImtleXMiLCJjaGVja1N0ZXAiLCJjaGVja01heFZhbHVlIiwiY2hlY2tNaW5WYWx1ZSIsImFzc2lnbiIsImdldFZhbHVlcyIsIm1vZGVsIiwiY3VycmVudFZhbHVlcyIsInNldFZhbHVlcyIsImN1cnJlbnRNaW5WYWx1ZSIsImN1cnJlbnRNYXhWYWx1ZSIsInNldEN1cnJlbnRNaW5WYWx1ZSIsInNldEN1cnJlbnRNYXhWYWx1ZSIsImdldENvbmZpZyIsInN0ZXBDaGVja2VkIiwibWF4VmFsdWVDaGVja2VkIiwibWluVmFsdWVDaGVja2VkIiwicmVuZXdSdW5uZXJzIiwib25DbGlja1NjYWxlT2JzZXJ2ZXIiLCJ0cmFjayIsImNvbnZlcnRPZmZzZXRUb1ZhbHVlIiwiY2hlY2tSdW5uZXJDbG9zZXIiLCJydW5uZXJNYWluIiwiaGFuZGxlUnVubmVyTW92ZSIsIm9mZnNldFByb2Nlc3NpbmciLCJvbk1vdmVSdW5uZXJPYnNlcnZlciIsIm9uTW92ZVJ1bm5lciIsIm9iaiIsInJ1bm5lckFkZGl0aW9uYWwiLCJ1cGRhdGVQcm9ncmVzc0JhciIsImdldE1haW5SdW5uZXJPZmZzZXQiLCJnZXRBZGRpdGlvbmFsUnVubmVyT2Zmc2V0IiwiaGFuZGxlQmFyQ2xpY2siLCJjbGllbnRZIiwiY2xpZW50WCIsImJhciIsInByb2dyZXNzQmFyIiwic2NhbGUiLCJvbmNsaWNrIiwiaW5uZXJIVE1MIiwibWFyZ2luVG9wIiwibWFyZ2luTGVmdCIsImhhbmRsZU1hcmtDbGljayIsImV2ZW50TW0iLCJzZXREaW1lbnNpb24iLCJjaGVja1J1bm5lck9mZnNldCIsInN0ZXBXaWR0aCIsIm1pbk9mZnNldCIsInJvdW5kT2Zmc2V0QnV0dCIsImN1cnJlbnRPZmZzZXQiLCJjdXJyZW50VmFsdWUiLCJyb3VuZE9mZnNldCIsImRpbWVuc2lvbiIsIndlYnBhY2tDb250ZXh0IiwicmVxIiwiaWQiLCJ3ZWJwYWNrQ29udGV4dFJlc29sdmUiLCJlIiwiY29kZSIsInJlc29sdmUiLCIkIiwiY29uZmlnIiwibWV0aG9kcyIsImpRdWVyeSIsIm9wdCIsIm5ld0NvbmZpZyIsInNsaWRlciIsImV4dGVuZCIsInVwZGF0ZSIsImlucHV0c0F0dGFjaCIsIm1pblZhbHVlSW5wdXQiLCJ2YWwiLCJtYXhWYWx1ZUlucHV0Iiwib21mZ3NsaWRlciIsIm1ldGhvZCIsImFwcGx5IiwiQXJyYXkiLCJzbGljZSIsImFyZ3VtZW50cyIsImVycm9yIiwiZm9yRWFjaCJdLCJtYXBwaW5ncyI6ImFBQ0UsSUFBSUEsRUFBbUIsR0FHdkIsU0FBU0MsRUFBb0JDLEdBRzVCLEdBQUdGLEVBQWlCRSxHQUNuQixPQUFPRixFQUFpQkUsR0FBVUMsUUFHbkMsSUFBSUMsRUFBU0osRUFBaUJFLEdBQVksQ0FDekNHLEVBQUdILEVBQ0hJLEdBQUcsRUFDSEgsUUFBUyxJQVVWLE9BTkFJLEVBQVFMLEdBQVVNLEtBQUtKLEVBQU9ELFFBQVND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SUFHdEJuRCxVQUFXLFdBRVQsT0FEZStDLEVBQUUxSSxNQUFNYSxLQUFLLFVBQ2Q4RSxhQUdoQkwsVUFBVyxTQUFTd0QsR0FDSEosRUFBRTFJLE1BQU1hLEtBQUssVUFDckJ5RSxVQUFVd0QsRUFBSXZELGdCQUFpQnVELEVBQUl0RCxrQkFHNUMyRCxhQUFjLFNBQVNMLEdBQ3JCLElBQU1FLEVBQVNOLEVBQUUxSSxNQUFNYSxLQUFLLFVBQzVCbUksRUFBTzlJLGFBQVksV0FDakI0SSxFQUFJTSxjQUFjQyxJQUFJTCxFQUFPN0QsWUFBWUksaUJBQ3pDdUQsRUFBSVEsY0FBY0QsSUFBSUwsRUFBTzdELFlBQVlLLGlCQUN6Q3NELEVBQUk5SCxTQUFTcUksSUFBSUwsRUFBT3JELFlBQVkzRSxVQUNwQzhILEVBQUkvSCxTQUFTc0ksSUFBSUwsRUFBT3JELFlBQVk1RSxVQUNwQytILEVBQUk3SCxLQUFLb0ksSUFBSUwsRUFBT3JELFlBQVkxRSxXQUt0Q3lILEVBQUV2SSxHQUFHb0osV0FBYSxTQUFTQyxHQUN6QixPQUFJWixFQUFRWSxHQUNIWixFQUFRWSxHQUFRQyxNQUFNekosS0FBTTBKLE1BQU1ySyxVQUFVc0ssTUFBTS9MLEtBQUtnTSxVQUFXLElBQzlDLGlCQUFYSixHQUF3QkEsT0FHeENkLEVBQUVtQixNQUFNLFNBQVNMLEVBQU0sMENBRmhCWixFQUFRMUcsS0FBS3VILE1BQU16SixLQUFNNEosYSx1REN2RHZCLElDRUlyTCxFREZKLEtDRUlBLEVBSVQsT0FISnVHLE9BQU9nRixRQUFRdkwiLCJmaWxlIjoiYnVuZGxlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuIFx0XHR9XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3RcbiBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3RcbiBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbiBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbiBcdFx0cmV0dXJuIG5zO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDE5KTtcbiIsImZ1bmN0aW9uIGNyZWF0ZUVsZW0oY2xhc3NOYW1lOiBzdHJpbmcpIDpIVE1MRWxlbWVudCB7XHJcbiAgY29uc3QgZWxlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gIGVsZW0ub25kcmFnc3RhcnQgPSAoKSA9PiBmYWxzZTtcclxuICBlbGVtLmNsYXNzTGlzdC5hZGQoY2xhc3NOYW1lKTtcclxuICByZXR1cm4gZWxlbTtcclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgY3JlYXRlRWxlbTsiLCJjbGFzcyBNYWtlT2JzZXJ2YWJsZU9iamVjdCB7XHJcbiAgb2JzZXJ2ZXJzOiBBcnJheTxGdW5jdGlvbj47XHJcblxyXG4gIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgdGhpcy5vYnNlcnZlcnMgPSBbXTtcclxuICB9XHJcblxyXG4gIGFkZE9ic2VydmVyIChmbjogRnVuY3Rpb24pOiB2b2lkIHtcclxuICAgIGlmICh0eXBlb2YgZm4gIT09ICdmdW5jdGlvbicpIHtcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKCdvYnNlcnZlciBtdXN0IGJlIGEgZnVuY3Rpb24nKTtcclxuICAgIH1cclxuICAgIHRoaXMub2JzZXJ2ZXJzLm1hcCgob2JzZXJ2ZXIpID0+IHtcclxuICAgICAgaWYgKG9ic2VydmVyID09PSBmbikge1xyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcignb2JzZXJ2ZXIgYWxyZWFkeSBpbiB0aGUgbGlzdCcpO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICAgIHRoaXMub2JzZXJ2ZXJzLnB1c2goZm4pO1xyXG4gIH1cclxuXHJcbiAgcmVtb3ZlT2JzZXJ2ZXIgKGZuOiBGdW5jdGlvbik6IHZvaWQge1xyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLm9ic2VydmVycy5sZW5ndGg7IGkrKykge1xyXG4gICAgICBjb25zdCBvYnNlcnZlciA9IHRoaXMub2JzZXJ2ZXJzW2ldO1xyXG4gICAgICBpZiAob2JzZXJ2ZXIgPT09IGZuKSB7XHJcbiAgICAgICAgdGhpcy5vYnNlcnZlcnMuc3BsaWNlKGksIDEpO1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgdGhyb3cgbmV3IEVycm9yKCdjb3VsZCBub3QgZmluZCBvYnNlcnZlciBpbiBsaXN0IG9mIG9ic2VydmVycycpO1xyXG4gIH1cclxuXHJcbiAgbm90aWZ5T2JzZXJ2ZXJzICgpOiB2b2lkIHtcclxuICAgIGNvbnN0IG9ic2VydmVyc1NuYXBzaG90ID0gWy4uLnRoaXMub2JzZXJ2ZXJzXTtcclxuICAgIG9ic2VydmVyc1NuYXBzaG90Lm1hcCgob2JzZXJ2ZXIpID0+IG9ic2VydmVyKCkpO1xyXG4gIH1cclxuXHJcbiAgbm90aWZ5T2JzZXJ2ZXJzRGF0YSAoZGF0YTogYW55KTogdm9pZCB7XHJcbiAgICBjb25zdCBvYnNlcnZlcnNTbmFwc2hvdCA9IFsuLi50aGlzLm9ic2VydmVyc107XHJcbiAgICBvYnNlcnZlcnNTbmFwc2hvdC5tYXAoKG9ic2VydmVyKSA9PiBvYnNlcnZlcihkYXRhKSk7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBNYWtlT2JzZXJ2YWJsZU9iamVjdDsiLCJpbXBvcnQgUnVubmVyIGZyb20gJy4vVmlldy9ibG9ja3MvcnVubmVyL1J1bm5lcic7XHJcbmltcG9ydCBCYXIgZnJvbSAnLi9WaWV3L2Jsb2Nrcy9iYXIvQmFyJztcclxuaW1wb3J0IFByb2dyZXNzQmFyIGZyb20gJy4vVmlldy9ibG9ja3MvcHJvZ3Jlc3NCYXIvUHJvZ3Jlc3NCYXInO1xyXG5cclxuXHJcbmV4cG9ydCB0eXBlIFJ1bm5lck1vdmVEYXRhID0ge1xyXG4gIHJ1bm5lcjogUnVubmVyLFxyXG4gIG9mZnNldDogbnVtYmVyLFxyXG4gIHZhbHVlOiBudW1iZXIsXHJcbn1cclxuXHJcbmV4cG9ydCB0eXBlIEN1cnJlbnRWYWx1ZXMgPSB7XHJcbiAgY3VycmVudE1pblZhbHVlOiBudW1iZXIsXHJcbiAgY3VycmVudE1heFZhbHVlOiBudW1iZXIsXHJcbn1cclxuXHJcbmV4cG9ydCB0eXBlIFJ1bm5lck9ic2VydmVyRGF0YSA9IHtcclxuICBldmVudDogTW91c2VFdmVudCxcclxuICBydW5uZXI6IFJ1bm5lcixcclxufVxyXG5cclxuZXhwb3J0IHR5cGUgUGFyYW1ldGVycyA9IHtcclxuICBbaW5kZXg6IHN0cmluZ106IHN0cmluZ3xudW1iZXJ8Ym9vbGVhbjtcclxuICBtaW5WYWx1ZTogbnVtYmVyLFxyXG4gIG1heFZhbHVlOiBudW1iZXIsXHJcbiAgc3RlcDogbnVtYmVyLFxyXG4gIGlzUmFuZ2U6IGJvb2xlYW4sXHJcbiAgaXNWZXJ0aWNhbDogYm9vbGVhbixcclxuICBzaG93TGFiZWw6IGJvb2xlYW4sXHJcbiAgaXNGbG9hdDogYm9vbGVhblxyXG59XHJcblxyXG5leHBvcnQgdHlwZSBSYXdQYXJhbWV0ZXJzID0ge1xyXG4gIFtpbmRleDogc3RyaW5nXTogc3RyaW5nfG51bWJlcnxib29sZWFuO1xyXG4gIG1pblZhbHVlOiBzdHJpbmcsXHJcbiAgbWF4VmFsdWU6IHN0cmluZyxcclxuICBzdGVwOiBzdHJpbmcsXHJcbiAgaXNSYW5nZTogYm9vbGVhbixcclxuICBpc1ZlcnRpY2FsOiBib29sZWFuLFxyXG4gIHNob3dMYWJlbDogYm9vbGVhbixcclxuICBpc0Zsb2F0OiBib29sZWFuXHJcbn1cclxuXHJcbmV4cG9ydCB0eXBlIFRyYWNrQ29uc3RydWN0b3JEYXRhID0ge1xyXG4gIHJ1bm5lck1haW46IFJ1bm5lcixcclxuICBydW5uZXJBZGRpdGlvbmFsOiBSdW5uZXIsXHJcbiAgYmFyOiBCYXIsXHJcbiAgcHJvZ3Jlc3NCYXI6IFByb2dyZXNzQmFyLFxyXG4gIHBhcmFtZXRlcnM6IFBhcmFtZXRlcnM7XHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBkZWZhdWx0UGFyYW1ldGVycyA9IHtcclxuICBtaW5WYWx1ZTogMCxcclxuICBtYXhWYWx1ZTogMTAwMCxcclxuICBzdGVwOiAxLFxyXG4gIGlzUmFuZ2U6IGZhbHNlLFxyXG4gIGlzVmVydGljYWw6IGZhbHNlLFxyXG4gIHNob3dMYWJlbDogZmFsc2UsXHJcbiAgaXNGbG9hdDogZmFsc2VcclxufSIsImNsYXNzIFBhcnNpbmdEaWdpdHMge1xyXG4gIHN0YXRpYyBwYXJzaW5nID0gKGl0ZW06IHN0cmluZ3xudW1iZXIpOiBudW1iZXJ8bnVsbCA9PiB7XHJcbiAgICBpZiAodHlwZW9mIGl0ZW0gPT09ICdudW1iZXInKSB7XHJcbiAgICAgIHJldHVybiBpdGVtO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICh0eXBlb2YgaXRlbSA9PT0gJ3N0cmluZycpIHtcclxuICAgICAgaWYgKC9eLT9cXGQrW1xcLixdXFxkKyQvLnRlc3QoaXRlbSkpIHtcclxuICAgICAgICByZXR1cm4gcGFyc2VGbG9hdChpdGVtKTtcclxuICAgICAgfSBlbHNlIGlmICgvXi0/XFxkKyQvLnRlc3QoaXRlbSkpIHtcclxuICAgICAgICByZXR1cm4gcGFyc2VJbnQoaXRlbSk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gbnVsbDtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IFBhcnNpbmdEaWdpdHM7IiwiaW1wb3J0IGNyZWF0ZUVsZW0gZnJvbSAnLi4vY3JlYXRlRWxlbS9jcmVhdGVFbGVtJztcclxuXHJcbmNsYXNzIEJhciB7XHJcbiAgZWxlbTogSFRNTEVsZW1lbnQ7XHJcbiAgaXNWZXJ0aWNhbDogYm9vbGVhbjtcclxuXHJcbiAgY29uc3RydWN0b3IoaXNWZXJ0aWNhbDogYm9vbGVhbikge1xyXG4gICAgdGhpcy5lbGVtID0gY3JlYXRlRWxlbSgnc2xpZGVyX19zY2FsZScpO1xyXG4gICAgdGhpcy5pc1ZlcnRpY2FsID0gaXNWZXJ0aWNhbDtcclxuICB9XHJcblxyXG4gIGdldFBvc2l0aW9uID0gKCk6IG51bWJlciA9PiB7XHJcbiAgICBpZiAodGhpcy5pc1ZlcnRpY2FsKSB7XHJcbiAgICAgIHJldHVybiB0aGlzLmVsZW0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkudG9wO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB0aGlzLmVsZW0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkubGVmdDtcclxuICB9XHJcblxyXG4gIGdldERpbWVuc2lvbiA9ICgpOiBudW1iZXIgPT4ge1xyXG4gICAgaWYgKHRoaXMuaXNWZXJ0aWNhbCkge1xyXG4gICAgICByZXR1cm4gdGhpcy5lbGVtLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmhlaWdodDtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gdGhpcy5lbGVtLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLndpZHRoO1xyXG4gIH1cclxuXHJcbiAgaW5pdCA9IChpc1ZlcnRpY2FsOiBib29sZWFuKTogdm9pZCA9PiB7XHJcbiAgICB0aGlzLmlzVmVydGljYWwgPSBpc1ZlcnRpY2FsO1xyXG5cclxuICAgIGlmICh0aGlzLmlzVmVydGljYWwpIHtcclxuICAgICAgdGhpcy5lbGVtLmNsYXNzTGlzdC5hZGQoJ3NsaWRlcl9fc2NhbGVfcG9zaXRpb25fdmVydGljYWwnKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuZWxlbS5jbGFzc0xpc3QucmVtb3ZlKCdzbGlkZXJfX3NjYWxlX3Bvc2l0aW9uX3ZlcnRpY2FsJyk7XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBCYXI7XHJcbiIsImltcG9ydCAqIGFzIHR5cGVzIGZyb20gJy4uLy4uLy4uL3R5cGVzJztcclxuaW1wb3J0IE1hcmsgZnJvbSBcIi4uL21hcmsvTWFya1wiO1xyXG5pbXBvcnQgTWFrZU9ic2VydmFibGVPYmplY3QgZnJvbSAnLi4vLi4vLi4vbWFrZU9ic2VydmFibGVPYmplY3QvTWFrZU9ic2VydmFibGVPYmplY3QnO1xyXG5cclxuY2xhc3MgR3JhZHVhdGlvbiB7XHJcbiAgcGFyYW1ldGVyczogdHlwZXMuUGFyYW1ldGVycztcclxuXHJcbiAgbWFya3M6IEFycmF5PE1hcms+O1xyXG5cclxuICBvYnNlcnZlcnM6IE1ha2VPYnNlcnZhYmxlT2JqZWN0O1xyXG5cclxuICBjb25zdHJ1Y3RvcihwYXJhbWV0ZXJzOiB0eXBlcy5QYXJhbWV0ZXJzLCBvYnNlcnZlcjogRnVuY3Rpb24pIHtcclxuICAgIHRoaXMubWFya3MgPSBbXTtcclxuICAgIHRoaXMucGFyYW1ldGVycyA9IHBhcmFtZXRlcnM7XHJcbiAgICB0aGlzLmNyZWF0ZU1hcmtzKCk7XHJcbiAgICB0aGlzLmluaXQocGFyYW1ldGVycyk7XHJcbiAgICB0aGlzLm9ic2VydmVycyA9IG5ldyBNYWtlT2JzZXJ2YWJsZU9iamVjdCgpO1xyXG4gICAgdGhpcy5vYnNlcnZlcnMuYWRkT2JzZXJ2ZXIob2JzZXJ2ZXIpO1xyXG4gIH1cclxuXHJcbiAgaW5pdCA9IChvcHRpb25zOiBhbnkpOiB2b2lkID0+IHtcclxuICAgIHRoaXMucGFyYW1ldGVycyA9IG9wdGlvbnM7XHJcbiAgICB0aGlzLm1vdmVNYXJrcygpO1xyXG4gIH1cclxuXHJcbiAgbW92ZU1hcmtzID0gKCk6IHZvaWQgPT4ge1xyXG4gICAgdGhpcy5tYXJrcy5tYXAoKG1hcmssIGluZGV4KSA9PiB7XHJcbiAgICAgIG1hcmsuaW5pdCh0aGlzLnBhcmFtZXRlcnMuaXNWZXJ0aWNhbCk7XHJcbiAgICAgIGlmIChpbmRleCA9PT0gMCkge1xyXG4gICAgICAgIG1hcmsuc2V0UG9zaXRpb24oMCwgdGhpcy5wYXJhbWV0ZXJzLm1pblZhbHVlKTtcclxuICAgICAgfSBlbHNlIGlmIChpbmRleCA9PT0gdGhpcy5tYXJrcy5sZW5ndGggLSAxKSB7XHJcbiAgICAgICAgbWFyay5zZXRQb3NpdGlvbigxMDAsIHRoaXMucGFyYW1ldGVycy5tYXhWYWx1ZSk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgbGV0IHJvdW5kVmFsdWUgPSB0aGlzLnJvdW5kKHRoaXMucGFyYW1ldGVycy5taW5WYWx1ZSArICh0aGlzLnBhcmFtZXRlcnMubWF4VmFsdWUgLSB0aGlzLnBhcmFtZXRlcnMubWluVmFsdWUpLyh0aGlzLm1hcmtzLmxlbmd0aCAtIDEpKmluZGV4KTtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMucGFyYW1ldGVycy5pc0Zsb2F0KSB7XHJcbiAgICAgICAgICByb3VuZFZhbHVlID0gcGFyc2VGbG9hdChyb3VuZFZhbHVlLnRvRml4ZWQoMikpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3Qgb2Zmc2V0ID0gKHJvdW5kVmFsdWUgLSB0aGlzLnBhcmFtZXRlcnMubWluVmFsdWUpLyh0aGlzLnBhcmFtZXRlcnMubWF4VmFsdWUgLSB0aGlzLnBhcmFtZXRlcnMubWluVmFsdWUpO1xyXG4gICAgICAgIG1hcmsuc2V0UG9zaXRpb24ob2Zmc2V0KjEwMCwgcm91bmRWYWx1ZSk7XHJcbiAgICAgIH1cclxuICAgIH0pXHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGhhbmRsZVNjYWxlQ2xpY2sgPSAodmFsdWU6IG51bWJlcik6IHZvaWQgPT4ge1xyXG4gICAgdGhpcy5vYnNlcnZlcnMubm90aWZ5T2JzZXJ2ZXJzRGF0YSh2YWx1ZSk7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGNyZWF0ZU1hcmtzID0gKCk6IHZvaWQgPT4ge1xyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCA1OyBpKyspIHtcclxuICAgICAgY29uc3QgbWFyayA9IG5ldyBNYXJrKHRoaXMucGFyYW1ldGVycy5pc1ZlcnRpY2FsLCB0aGlzLmhhbmRsZVNjYWxlQ2xpY2spO1xyXG4gICAgICB0aGlzLm1hcmtzLnB1c2gobWFyayk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIHJvdW5kID0gKHZhbHVlOiBudW1iZXIpOiBudW1iZXIgPT4ge1xyXG4gICAgY29uc3Qgd2hvbGUgPSBNYXRoLnRydW5jKHZhbHVlL3RoaXMucGFyYW1ldGVycy5zdGVwKTtcclxuXHJcbiAgICBjb25zdCByZW1pbmRlciA9ICsodmFsdWUgLSB3aG9sZSp0aGlzLnBhcmFtZXRlcnMuc3RlcCkudG9GaXhlZCgyKTtcclxuICAgIGlmICh2YWx1ZSA8IDApIHtcclxuICAgICAgcmV0dXJuIE1hdGguYWJzKHJlbWluZGVyKSA8IHRoaXMucGFyYW1ldGVycy5zdGVwLzIgPyB3aG9sZSp0aGlzLnBhcmFtZXRlcnMuc3RlcCA6ICh3aG9sZSAtIDEpKnRoaXMucGFyYW1ldGVycy5zdGVwO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiByZW1pbmRlciA8IHRoaXMucGFyYW1ldGVycy5zdGVwLzIgPyB3aG9sZSp0aGlzLnBhcmFtZXRlcnMuc3RlcCA6ICh3aG9sZSArIDEpKnRoaXMucGFyYW1ldGVycy5zdGVwO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgR3JhZHVhdGlvbjsiLCJpbXBvcnQgQnV0dG9uIGZyb20gXCIuLi8uLi9ibG9ja3MvYnV0dG9uL0J1dHRvblwiO1xyXG5pbXBvcnQgTGFiZWwgZnJvbSBcIi4uLy4uL2Jsb2Nrcy9sYWJlbC9MYWJlbFwiO1xyXG5pbXBvcnQgTWFrZU9ic2VydmFibGVPYmplY3QgZnJvbSAnLi4vLi4vLi4vbWFrZU9ic2VydmFibGVPYmplY3QvTWFrZU9ic2VydmFibGVPYmplY3QnO1xyXG5cclxuY2xhc3MgUnVubmVyIHtcclxuICBidXR0b246IEJ1dHRvbjtcclxuICBsYWJlbDogTGFiZWw7XHJcbiAgaXNWZXJ0aWNhbDogYm9vbGVhbjtcclxuICBvYnNlcnZlcnM6IE1ha2VPYnNlcnZhYmxlT2JqZWN0O1xyXG5cclxuICBjb25zdHJ1Y3Rvcihpc1ZlcnRpY2FsOiBib29sZWFuLCBtb3ZlT2JzZXJ2ZXI6IEZ1bmN0aW9uKSB7XHJcbiAgICB0aGlzLmlzVmVydGljYWwgPSBpc1ZlcnRpY2FsO1xyXG4gICAgdGhpcy5idXR0b24gPSBuZXcgQnV0dG9uKGlzVmVydGljYWwpO1xyXG4gICAgdGhpcy5sYWJlbCA9IG5ldyBMYWJlbChpc1ZlcnRpY2FsKTtcclxuICAgIHRoaXMub2JzZXJ2ZXJzID0gbmV3IE1ha2VPYnNlcnZhYmxlT2JqZWN0KCk7XHJcbiAgICB0aGlzLm9ic2VydmVycy5hZGRPYnNlcnZlcihtb3ZlT2JzZXJ2ZXIpO1xyXG4gIH1cclxuXHJcbiAgZ2V0UG9zaXRpb24gPSAoKTogbnVtYmVyID0+IHtcclxuICAgIHJldHVybiB0aGlzLmJ1dHRvbi5nZXRQb3NpdGlvbigpO1xyXG4gIH1cclxuXHJcbiAgc2V0UG9zaXRpb24gPSAob2Zmc2V0OiBudW1iZXIsIHZhbHVlOiBudW1iZXIpOiB2b2lkID0+IHtcclxuICAgIHRoaXMubGFiZWwuc2V0UG9zaXRpb24ob2Zmc2V0ICsgdGhpcy5idXR0b24uZ2V0V2lkdGgoKS8yLCB2YWx1ZSk7XHJcbiAgICB0aGlzLmJ1dHRvbi5zZXRQb3NpdGlvbihvZmZzZXQpO1xyXG4gIH1cclxuXHJcbiAgaW5pdCA9IChpc1ZlcnRpY2FsOiBib29sZWFuKTogdm9pZCA9PiB7XHJcbiAgICB0aGlzLmJ1dHRvbi5pbml0KGlzVmVydGljYWwpO1xyXG4gICAgdGhpcy5sYWJlbC5pbml0KGlzVmVydGljYWwpO1xyXG4gIH1cclxuXHJcbiAgZ2V0V2lkdGggPSAoKTogbnVtYmVyID0+IHtcclxuICAgIHJldHVybiB0aGlzLmJ1dHRvbi5nZXRXaWR0aCgpO1xyXG4gIH1cclxuXHJcbiAgaGlkZVJ1bm5lciA9ICgpOiB2b2lkID0+IHtcclxuICAgIHRoaXMuYnV0dG9uLmVsZW0uc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xyXG4gICAgdGhpcy5sYWJlbC5lbGVtLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcclxuICB9XHJcblxyXG4gIGhpZGVMYWJlbCA9ICgpOiB2b2lkID0+IHtcclxuICAgIHRoaXMubGFiZWwuZWxlbS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XHJcbiAgfVxyXG5cclxuICBzaG93TGFiZWwgPSAoKTogdm9pZCA9PiB7XHJcbiAgICB0aGlzLmxhYmVsLmVsZW0uc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcclxuICB9XHJcblxyXG4gIHNob3dSdW5uZXIgPSAoKTogdm9pZCA9PiB7XHJcbiAgICB0aGlzLmJ1dHRvbi5lbGVtLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XHJcbiAgfVxyXG5cclxuICBhcHBlbmRUb05vZGUgPSAoZW50cnk6IEhUTUxFbGVtZW50KTogdm9pZCA9PiB7XHJcbiAgICBbdGhpcy5idXR0b24uZWxlbSwgdGhpcy5sYWJlbC5lbGVtXS5tYXAoKGVsZW0pID0+IHtcclxuICAgICAgZW50cnkuYXBwZW5kQ2hpbGQoZWxlbSk7XHJcbiAgICAgIGVsZW0ub25tb3VzZWRvd24gPSB0aGlzLmhhbmRsZVJ1bm5lck1vdXNlRG93bjtcclxuICAgIH0pXHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGhhbmRsZVJ1bm5lck1vdXNlRG93biA9IChldmVudDogTW91c2VFdmVudCk6IHZvaWQgPT4ge1xyXG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZW1vdmVcIiwgdGhpcy5oYW5kbGVSdW5uZXJNb3VzZU1vdmUpO1xyXG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNldXBcIiwgdGhpcy5oYW5kbGVSdW5uZXJNb3VzZVVwKTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgaGFuZGxlUnVubmVyTW91c2VNb3ZlID0gKGV2ZW50OiBNb3VzZUV2ZW50KTogdm9pZCA9PiB7XHJcbiAgICB0aGlzLm9ic2VydmVycy5ub3RpZnlPYnNlcnZlcnNEYXRhKHsgZXZlbnQ6IGV2ZW50LCBydW5uZXI6IHRoaXMgfSk7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGhhbmRsZVJ1bm5lck1vdXNlVXAgPSAoZXZlbnQ6IE1vdXNlRXZlbnQpOiB2b2lkID0+IHtcclxuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtb3VzZXVwXCIsIHRoaXMuaGFuZGxlUnVubmVyTW91c2VVcCk7XHJcbiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwibW91c2Vtb3ZlXCIsIHRoaXMuaGFuZGxlUnVubmVyTW91c2VNb3ZlKTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IFJ1bm5lcjsiLCJpbXBvcnQgKiBhcyB0eXBlcyBmcm9tICcuLi90eXBlcyc7XHJcbmltcG9ydCB7IFZpZXcgfSBmcm9tICcuLi9WaWV3L1ZpZXcnO1xyXG5pbXBvcnQgTW9kZWwgZnJvbSAnLi4vTW9kZWwvTW9kZWwnO1xyXG5pbXBvcnQgTWFrZU9ic2VydmFibGVPYmplY3QgZnJvbSAnLi4vbWFrZU9ic2VydmFibGVPYmplY3QvTWFrZU9ic2VydmFibGVPYmplY3QnO1xyXG5pbXBvcnQgUGFyc2luZ0RpZ2l0cyBmcm9tIFwiLi9ibG9ja3MvcGFyc2luZ0RpZ2l0cy9QYXJzaW5nRGlnaXRzXCI7XHJcblxyXG5jbGFzcyBDb250cm9sbGVyIHtcclxuICB2aWV3OiBWaWV3O1xyXG5cclxuICBtb2RlbDogTW9kZWw7XHJcblxyXG4gIG9ic2VydmVyczogTWFrZU9ic2VydmFibGVPYmplY3Q7XHJcblxyXG4gIGNvbnN0cnVjdG9yKHBhcmFtZXRlcnMgPSB0eXBlcy5kZWZhdWx0UGFyYW1ldGVycykge1xyXG4gICAgdGhpcy52aWV3ID0gbmV3IFZpZXcocGFyYW1ldGVycyk7XHJcbiAgICB0aGlzLm1vZGVsID0gbmV3IE1vZGVsKHsgY3VycmVudE1pblZhbHVlOiBwYXJhbWV0ZXJzLm1pblZhbHVlLCBjdXJyZW50TWF4VmFsdWU6IHBhcmFtZXRlcnMubWF4VmFsdWUgfSk7XHJcbiAgICB0aGlzLm9ic2VydmVycyA9IG5ldyBNYWtlT2JzZXJ2YWJsZU9iamVjdCgpO1xyXG5cclxuICAgIHRoaXMudmlldy5vYnNlcnZlcnMuYWRkT2JzZXJ2ZXIoKCkgPT4ge1xyXG4gICAgICB0aGlzLm1vZGVsLmN1cnJlbnRWYWx1ZXMgPSB0aGlzLnZpZXcuY3VycmVudFZhbHVlcztcclxuICAgICAgdGhpcy5vYnNlcnZlcnMubm90aWZ5T2JzZXJ2ZXJzKCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICB0aGlzLm1vZGVsLm9ic2VydmVycy5hZGRPYnNlcnZlcigoKSA9PiB7XHJcbiAgICAgIHRoaXMudmlldy5jdXJyZW50VmFsdWVzID0gdGhpcy5tb2RlbC5jdXJyZW50VmFsdWVzO1xyXG4gICAgICB0aGlzLnZpZXcucmVuZXdSdW5uZXJzKCk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGFwcGVuZFRvTm9kZSA9IChlbnRyeTogSlF1ZXJ5KTogdm9pZCA9PiB7XHJcbiAgICB0aGlzLnZpZXcuYXBwZW5kVG9Ob2RlKGVudHJ5LmdldCgwKSk7XHJcbiAgICB0aGlzLnZpZXcuaW5pdCgpO1xyXG4gIH1cclxuXHJcbiAgdXBkYXRlQ29uZmlnID0gKHBhcmFtZXRlcnM6IHR5cGVzLlJhd1BhcmFtZXRlcnMpOiB2b2lkID0+IHtcclxuICAgIGNvbnN0IHBhcmFtZXRlcnNTbmFwU2hvdCA9IHRoaXMudmlldy5wYXJhbWV0ZXJzO1xyXG4gICAgT2JqZWN0LmtleXMocGFyYW1ldGVycykubWFwKChrZXkpID0+IHtcclxuICAgICAgaWYgKGtleSA9PT0gJ3N0ZXAnKSB7XHJcbiAgICAgICAgcGFyYW1ldGVyc1NuYXBTaG90LnN0ZXAgPSB0aGlzLmNoZWNrU3RlcChwYXJhbWV0ZXJzLnN0ZXApO1xyXG4gICAgICB9IGVsc2UgaWYgKGtleSA9PT0gJ21heFZhbHVlJykge1xyXG4gICAgICAgIHBhcmFtZXRlcnNTbmFwU2hvdC5tYXhWYWx1ZSA9IHRoaXMuY2hlY2tNYXhWYWx1ZShwYXJhbWV0ZXJzLm1heFZhbHVlKTtcclxuICAgICAgfSBlbHNlIGlmIChrZXkgPT09ICdtaW5WYWx1ZScpIHtcclxuICAgICAgICBwYXJhbWV0ZXJzU25hcFNob3QubWluVmFsdWUgPSB0aGlzLmNoZWNrTWluVmFsdWUocGFyYW1ldGVycy5taW5WYWx1ZSk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgcGFyYW1ldGVyc1NuYXBTaG90W2tleV0gPSBwYXJhbWV0ZXJzW2tleV07XHJcbiAgICAgIH1cclxuICAgIH0pXHJcblxyXG4gICAgdGhpcy52aWV3LnBhcmFtZXRlcnMgPSBPYmplY3QuYXNzaWduKHRoaXMudmlldy5wYXJhbWV0ZXJzLCBwYXJhbWV0ZXJzU25hcFNob3QpO1xyXG5cclxuICAgIHRoaXMudmlldy5pbml0KCk7XHJcbiAgfVxyXG5cclxuICBnZXRWYWx1ZXMgPSAoKTogdHlwZXMuQ3VycmVudFZhbHVlcyA9PiB7XHJcbiAgICByZXR1cm4gdGhpcy5tb2RlbC5jdXJyZW50VmFsdWVzO1xyXG4gIH1cclxuXHJcbiAgc2V0VmFsdWVzID0gKGN1cnJlbnRNaW5WYWx1ZTogbnVtYmVyLCBjdXJyZW50TWF4VmFsdWU6IG51bWJlcik6IHZvaWQgPT4ge1xyXG4gICAgaWYgKGN1cnJlbnRNaW5WYWx1ZSB8fCBjdXJyZW50TWluVmFsdWUgPT09IDApIHtcclxuICAgICAgdGhpcy5tb2RlbC5zZXRDdXJyZW50TWluVmFsdWUoY3VycmVudE1pblZhbHVlKTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoY3VycmVudE1heFZhbHVlIHx8IGN1cnJlbnRNYXhWYWx1ZSA9PT0gMCkge1xyXG4gICAgICB0aGlzLm1vZGVsLnNldEN1cnJlbnRNYXhWYWx1ZShjdXJyZW50TWF4VmFsdWUpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZ2V0Q29uZmlnID0gKCk6IHR5cGVzLlBhcmFtZXRlcnMgPT4ge1xyXG4gICAgcmV0dXJuIHRoaXMudmlldy5wYXJhbWV0ZXJzO1xyXG4gIH1cclxuXHJcbiAgYWRkT2JzZXJ2ZXIgPSAoZm46IEZ1bmN0aW9uKTogdm9pZCA9PiB7XHJcbiAgICB0aGlzLm9ic2VydmVycy5hZGRPYnNlcnZlcihmbik7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGNoZWNrU3RlcCA9IChzdGVwOiBzdHJpbmcpOiBudW1iZXIgPT4ge1xyXG4gICAgbGV0IHN0ZXBDaGVja2VkID0gTWF0aC5hYnMoUGFyc2luZ0RpZ2l0cy5wYXJzaW5nKHN0ZXApKTtcclxuXHJcbiAgICBpZiAoc3RlcENoZWNrZWQgPT09IG51bGwgfHwgc3RlcENoZWNrZWQgPT09IDAgfHwgc3RlcENoZWNrZWQgPiAodGhpcy52aWV3LnBhcmFtZXRlcnMubWF4VmFsdWUgLSB0aGlzLnZpZXcucGFyYW1ldGVycy5taW5WYWx1ZSkvMikge1xyXG4gICAgICByZXR1cm4gdGhpcy52aWV3LnBhcmFtZXRlcnMuc3RlcDtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoc3RlcENoZWNrZWQgJSAxICE9PSAwKSB7XHJcbiAgICAgIHRoaXMudmlldy5wYXJhbWV0ZXJzLmlzRmxvYXQgPSB0cnVlO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgaWYgKHRoaXMudmlldy5wYXJhbWV0ZXJzLm1heFZhbHVlICUgMSA9PT0gMCAmJiB0aGlzLnZpZXcucGFyYW1ldGVycy5taW5WYWx1ZSAlIDEgPT09IDApIHtcclxuICAgICAgICB0aGlzLnZpZXcucGFyYW1ldGVycy5pc0Zsb2F0ID0gZmFsc2U7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gc3RlcENoZWNrZWQ7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGNoZWNrTWF4VmFsdWUgPSAobWF4VmFsdWU6IHN0cmluZyk6IG51bWJlciA9PiB7XHJcbiAgICBsZXQgbWF4VmFsdWVDaGVja2VkID0gUGFyc2luZ0RpZ2l0cy5wYXJzaW5nKG1heFZhbHVlKTtcclxuXHJcbiAgICBpZiAobWF4VmFsdWVDaGVja2VkID09PSBudWxsIHx8IG1heFZhbHVlQ2hlY2tlZCA8PSB0aGlzLnZpZXcucGFyYW1ldGVycy5taW5WYWx1ZSkge1xyXG4gICAgICByZXR1cm4gdGhpcy52aWV3LnBhcmFtZXRlcnMubWF4VmFsdWU7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKG1heFZhbHVlQ2hlY2tlZCAlIDEgIT09IDApIHtcclxuICAgICAgdGhpcy52aWV3LnBhcmFtZXRlcnMuaXNGbG9hdCA9IHRydWU7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBpZiAodGhpcy52aWV3LnBhcmFtZXRlcnMuc3RlcCAlIDEgPT09IDAgJiYgdGhpcy52aWV3LnBhcmFtZXRlcnMubWluVmFsdWUgJSAxID09PSAwKSB7XHJcbiAgICAgICAgdGhpcy52aWV3LnBhcmFtZXRlcnMuaXNGbG9hdCA9IGZhbHNlO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIG1heFZhbHVlQ2hlY2tlZDtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgY2hlY2tNaW5WYWx1ZSA9IChtaW5WYWx1ZTogc3RyaW5nKTogbnVtYmVyID0+IHtcclxuICAgIGxldCBtaW5WYWx1ZUNoZWNrZWQgPSBQYXJzaW5nRGlnaXRzLnBhcnNpbmcobWluVmFsdWUpO1xyXG5cclxuICAgIGlmIChtaW5WYWx1ZUNoZWNrZWQgPT09IG51bGwgfHwgbWluVmFsdWVDaGVja2VkID49IHRoaXMudmlldy5wYXJhbWV0ZXJzLm1heFZhbHVlKSB7XHJcbiAgICAgIHJldHVybiB0aGlzLnZpZXcucGFyYW1ldGVycy5taW5WYWx1ZTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAobWluVmFsdWVDaGVja2VkICUgMSAhPT0gMCkge1xyXG4gICAgICB0aGlzLnZpZXcucGFyYW1ldGVycy5pc0Zsb2F0ID0gdHJ1ZTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGlmICh0aGlzLnZpZXcucGFyYW1ldGVycy5tYXhWYWx1ZSAlIDEgPT09IDAgJiYgdGhpcy52aWV3LnBhcmFtZXRlcnMuc3RlcCAlIDEgPT09IDApIHtcclxuICAgICAgICB0aGlzLnZpZXcucGFyYW1ldGVycy5pc0Zsb2F0ID0gZmFsc2U7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gbWluVmFsdWVDaGVja2VkO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgQ29udHJvbGxlcjsiLCJpbXBvcnQgKiBhcyB0eXBlcyBmcm9tICcuLi90eXBlcyc7XHJcbmltcG9ydCBNYWtlT2JzZXJ2YWJsZU9iamVjdCBmcm9tICcuLi9tYWtlT2JzZXJ2YWJsZU9iamVjdC9NYWtlT2JzZXJ2YWJsZU9iamVjdCc7XHJcbmltcG9ydCBjcmVhdGVFbGVtIGZyb20gJy4vYmxvY2tzL2NyZWF0ZUVsZW0vY3JlYXRlRWxlbSc7XHJcbmltcG9ydCBCYXIgZnJvbSAnLi9ibG9ja3MvYmFyL0Jhcic7XHJcbmltcG9ydCBTY2FsZSBmcm9tICcuL2Jsb2Nrcy9zY2FsZS9TY2FsZSc7XHJcbmltcG9ydCBSdW5uZXIgZnJvbSAnLi9ibG9ja3MvcnVubmVyL1J1bm5lcic7XHJcbmltcG9ydCBUcmFjayBmcm9tICcuL2Jsb2Nrcy90cmFjay9UcmFjayc7XHJcbmltcG9ydCBQcm9ncmVzc0JhciBmcm9tICcuL2Jsb2Nrcy9wcm9ncmVzc0Jhci9Qcm9ncmVzc0Jhcic7XHJcblxyXG5jbGFzcyBWaWV3IHtcclxuICBiYXI6IEJhcjtcclxuICBwcm9ncmVzc0JhcjogUHJvZ3Jlc3NCYXI7XHJcbiAgcnVubmVyQWRkaXRpb25hbDogUnVubmVyO1xyXG4gIHJ1bm5lck1haW46IFJ1bm5lcjtcclxuICBwYXJhbWV0ZXJzOiB0eXBlcy5QYXJhbWV0ZXJzO1xyXG4gIGN1cnJlbnRWYWx1ZXM6IHR5cGVzLkN1cnJlbnRWYWx1ZXM7XHJcbiAgb2JzZXJ2ZXJzOiBNYWtlT2JzZXJ2YWJsZU9iamVjdDtcclxuICBzY2FsZTogU2NhbGU7XHJcbiAgdHJhY2s6IFRyYWNrO1xyXG5cclxuICBjb25zdHJ1Y3RvcihwYXJhbWV0ZXJzID0gdHlwZXMuZGVmYXVsdFBhcmFtZXRlcnMpIHtcclxuICAgIHRoaXMuYmFyID0gbmV3IEJhcihwYXJhbWV0ZXJzLmlzVmVydGljYWwpO1xyXG4gICAgdGhpcy5wcm9ncmVzc0JhciA9IG5ldyBQcm9ncmVzc0JhcihwYXJhbWV0ZXJzLmlzVmVydGljYWwpO1xyXG5cclxuICAgIHRoaXMuY3VycmVudFZhbHVlcyA9IHtcclxuICAgICAgY3VycmVudE1pblZhbHVlOiBwYXJhbWV0ZXJzLm1pblZhbHVlLFxyXG4gICAgICBjdXJyZW50TWF4VmFsdWU6IHBhcmFtZXRlcnMubWF4VmFsdWUsXHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5vYnNlcnZlcnMgPSBuZXcgTWFrZU9ic2VydmFibGVPYmplY3QoKTtcclxuICAgIHRoaXMucGFyYW1ldGVycyA9IHBhcmFtZXRlcnM7XHJcblxyXG4gICAgdGhpcy5zY2FsZSA9IG5ldyBTY2FsZShwYXJhbWV0ZXJzLCB0aGlzLm9uQ2xpY2tTY2FsZU9ic2VydmVyKTtcclxuICAgIHRoaXMucnVubmVyQWRkaXRpb25hbCA9IG5ldyBSdW5uZXIocGFyYW1ldGVycy5pc1ZlcnRpY2FsLCB0aGlzLm9uTW92ZVJ1bm5lck9ic2VydmVyKTtcclxuICAgIHRoaXMucnVubmVyTWFpbiA9IG5ldyBSdW5uZXIocGFyYW1ldGVycy5pc1ZlcnRpY2FsLCB0aGlzLm9uTW92ZVJ1bm5lck9ic2VydmVyKTtcclxuXHJcbiAgICB0aGlzLnRyYWNrID0gbmV3IFRyYWNrKHtcclxuICAgICAgcnVubmVyTWFpbjogdGhpcy5ydW5uZXJNYWluLFxyXG4gICAgICBydW5uZXJBZGRpdGlvbmFsOiB0aGlzLnJ1bm5lckFkZGl0aW9uYWwsXHJcbiAgICAgIHByb2dyZXNzQmFyOiB0aGlzLnByb2dyZXNzQmFyLFxyXG4gICAgICBiYXI6IHRoaXMuYmFyLFxyXG4gICAgICBwYXJhbWV0ZXJzOiB0aGlzLnBhcmFtZXRlcnMsXHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIG9uQ2xpY2tTY2FsZU9ic2VydmVyID0gKHZhbHVlOiBudW1iZXIpID0+IHtcclxuICAgIGxldCBvZmZzZXQgPSB0aGlzLnRyYWNrLmNvbnZlcnRPZmZzZXRUb1ZhbHVlKHZhbHVlKTtcclxuICAgIGxldCBydW5uZXI7XHJcblxyXG4gICAgaWYgKHRoaXMucGFyYW1ldGVycy5pc1JhbmdlKSB7XHJcbiAgICAgIHJ1bm5lciA9IHRoaXMuY2hlY2tSdW5uZXJDbG9zZXIob2Zmc2V0KTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHJ1bm5lciA9IHRoaXMucnVubmVyTWFpbjtcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLmhhbmRsZVJ1bm5lck1vdmUodGhpcy50cmFjay5vZmZzZXRQcm9jZXNzaW5nKG9mZnNldCwgcnVubmVyKSk7XHJcbiAgfVxyXG5cclxuICBvbk1vdmVSdW5uZXJPYnNlcnZlciA9ICh7IGV2ZW50LCBydW5uZXIgfTogdHlwZXMuUnVubmVyT2JzZXJ2ZXJEYXRhKTogdm9pZCA9PiB7XHJcbiAgICB0aGlzLmhhbmRsZVJ1bm5lck1vdmUodGhpcy50cmFjay5vbk1vdmVSdW5uZXIoZXZlbnQsIHJ1bm5lcikpO1xyXG4gIH1cclxuXHJcbiAgaGFuZGxlUnVubmVyTW92ZSA9IChvYmo6IHR5cGVzLlJ1bm5lck1vdmVEYXRhKTogdm9pZCA9PiB7XHJcbiAgICBvYmoucnVubmVyLnNldFBvc2l0aW9uKG9iai5vZmZzZXQsIG9iai52YWx1ZSk7XHJcblxyXG4gICAgaWYgKG9iai5ydW5uZXIgPT09IHRoaXMucnVubmVyQWRkaXRpb25hbCkge1xyXG4gICAgICB0aGlzLmN1cnJlbnRWYWx1ZXMuY3VycmVudE1pblZhbHVlID0gb2JqLnZhbHVlO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChvYmoucnVubmVyID09PSB0aGlzLnJ1bm5lck1haW4pIHtcclxuICAgICAgdGhpcy5jdXJyZW50VmFsdWVzLmN1cnJlbnRNYXhWYWx1ZSA9IG9iai52YWx1ZTtcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLnRyYWNrLnVwZGF0ZVByb2dyZXNzQmFyKCk7XHJcbiAgICB0aGlzLm9ic2VydmVycy5ub3RpZnlPYnNlcnZlcnMoKTtcclxuICB9XHJcblxyXG4gIGNoZWNrUnVubmVyQ2xvc2VyID0gKG9mZnNldDogbnVtYmVyKTogUnVubmVyID0+IHtcclxuICAgIGlmIChNYXRoLmFicyhvZmZzZXQgLSB0aGlzLnRyYWNrLmdldE1haW5SdW5uZXJPZmZzZXQoKSkgPCBNYXRoLmFicyhvZmZzZXQgLSB0aGlzLnRyYWNrLmdldEFkZGl0aW9uYWxSdW5uZXJPZmZzZXQoKSkpIHtcclxuICAgICAgcmV0dXJuIHRoaXMucnVubmVyTWFpbjtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gdGhpcy5ydW5uZXJBZGRpdGlvbmFsO1xyXG4gIH1cclxuXHJcbiAgaGFuZGxlQmFyQ2xpY2sgPSAoZXZlbnQ6IE1vdXNlRXZlbnQpOiB2b2lkID0+IHtcclxuICAgIGNvbnN0IGNvb3JkaW5hdGUgPSB0aGlzLnBhcmFtZXRlcnMuaXNWZXJ0aWNhbCA/IGV2ZW50LmNsaWVudFkgOiBldmVudC5jbGllbnRYO1xyXG4gICAgY29uc3Qgb2Zmc2V0ID0gY29vcmRpbmF0ZSAtIHRoaXMuYmFyLmdldFBvc2l0aW9uKCkgLSB0aGlzLnJ1bm5lck1haW4uZ2V0V2lkdGgoKS8yO1xyXG5cclxuICAgIHRoaXMuaGFuZGxlUnVubmVyTW92ZSh0aGlzLnRyYWNrLm9mZnNldFByb2Nlc3Npbmcob2Zmc2V0LCB0aGlzLmNoZWNrUnVubmVyQ2xvc2VyKG9mZnNldCkpKTtcclxuICB9XHJcblxyXG4gIGluaXQgPSAoKTogdm9pZCA9PiB7XHJcbiAgICB0aGlzLmJhci5pbml0KHRoaXMucGFyYW1ldGVycy5pc1ZlcnRpY2FsKTtcclxuICAgIHRoaXMucHJvZ3Jlc3NCYXIuaW5pdCh0aGlzLnBhcmFtZXRlcnMuaXNWZXJ0aWNhbCk7XHJcbiAgICB0aGlzLnJ1bm5lckFkZGl0aW9uYWwuaW5pdCh0aGlzLnBhcmFtZXRlcnMuaXNWZXJ0aWNhbCk7XHJcbiAgICB0aGlzLnJ1bm5lck1haW4uaW5pdCh0aGlzLnBhcmFtZXRlcnMuaXNWZXJ0aWNhbCk7XHJcbiAgICB0aGlzLnRyYWNrLmluaXQodGhpcy5wYXJhbWV0ZXJzKTtcclxuXHJcbiAgICB0aGlzLnNjYWxlLmluaXQodGhpcy5wYXJhbWV0ZXJzKTtcclxuXHJcbiAgICB0aGlzLnJ1bm5lckFkZGl0aW9uYWwuaGlkZVJ1bm5lcigpO1xyXG5cclxuICAgIGlmICh0aGlzLnBhcmFtZXRlcnMuc2hvd0xhYmVsKSB7XHJcbiAgICAgIHRoaXMucnVubmVyQWRkaXRpb25hbC5zaG93TGFiZWwoKTtcclxuICAgICAgdGhpcy5ydW5uZXJNYWluLnNob3dMYWJlbCgpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5ydW5uZXJBZGRpdGlvbmFsLmhpZGVMYWJlbCgpO1xyXG4gICAgICB0aGlzLnJ1bm5lck1haW4uaGlkZUxhYmVsKCk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHRoaXMucGFyYW1ldGVycy5pc1JhbmdlKSB7XHJcbiAgICAgIHRoaXMucnVubmVyQWRkaXRpb25hbC5zaG93UnVubmVyKCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLnJ1bm5lckFkZGl0aW9uYWwuaGlkZVJ1bm5lcigpO1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXMucnVubmVyQWRkaXRpb25hbC5zZXRQb3NpdGlvbigtdGhpcy5ydW5uZXJBZGRpdGlvbmFsLmdldFdpZHRoKCkvMiwgdGhpcy5wYXJhbWV0ZXJzLm1pblZhbHVlKTtcclxuICAgIHRoaXMucnVubmVyTWFpbi5zZXRQb3NpdGlvbih0aGlzLmJhci5nZXREaW1lbnNpb24oKSAtIHRoaXMucnVubmVyTWFpbi5nZXRXaWR0aCgpLzIsIHRoaXMucGFyYW1ldGVycy5tYXhWYWx1ZSk7XHJcblxyXG4gICAgdGhpcy5yZW5ld1J1bm5lcnMoKTtcclxuICB9XHJcblxyXG4gIHJlbmV3UnVubmVycygpIHtcclxuICAgIHRoaXMuaGFuZGxlUnVubmVyTW92ZSh0aGlzLnRyYWNrLm9mZnNldFByb2Nlc3NpbmcodGhpcy50cmFjay5jb252ZXJ0T2Zmc2V0VG9WYWx1ZSh0aGlzLmN1cnJlbnRWYWx1ZXMuY3VycmVudE1heFZhbHVlKSwgdGhpcy5ydW5uZXJNYWluKSk7XHJcbiAgICB0aGlzLmhhbmRsZVJ1bm5lck1vdmUodGhpcy50cmFjay5vZmZzZXRQcm9jZXNzaW5nKHRoaXMudHJhY2suY29udmVydE9mZnNldFRvVmFsdWUodGhpcy5jdXJyZW50VmFsdWVzLmN1cnJlbnRNaW5WYWx1ZSksIHRoaXMucnVubmVyQWRkaXRpb25hbCkpO1xyXG4gIH1cclxuXHJcbiAgYXBwZW5kVG9Ob2RlID0gKGVudHJ5OiBIVE1MRWxlbWVudCk6IHZvaWQgPT4ge1xyXG4gICAgZW50cnkuYXBwZW5kQ2hpbGQodGhpcy5iYXIuZWxlbSkuYXBwZW5kQ2hpbGQodGhpcy5wcm9ncmVzc0Jhci5lbGVtKTtcclxuICAgIHRoaXMucnVubmVyTWFpbi5hcHBlbmRUb05vZGUoZW50cnkpO1xyXG4gICAgdGhpcy5ydW5uZXJBZGRpdGlvbmFsLmFwcGVuZFRvTm9kZShlbnRyeSk7XHJcblxyXG4gICAgdGhpcy5zY2FsZS5tYXJrcy5tYXAoKG1hcmspID0+IHtcclxuICAgICAgZW50cnkuYXBwZW5kQ2hpbGQobWFyay5lbGVtKTtcclxuICAgIH0pO1xyXG5cclxuICAgIHRoaXMuc2NhbGUubW92ZU1hcmtzKCk7XHJcblxyXG4gICAgdGhpcy5iYXIuZWxlbS5vbmNsaWNrID0gdGhpcy5oYW5kbGVCYXJDbGljaztcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCB7Y3JlYXRlRWxlbSwgQmFyLCBWaWV3LCBTY2FsZX07XHJcbiIsImltcG9ydCBjcmVhdGVFbGVtIGZyb20gJy4uL2NyZWF0ZUVsZW0vY3JlYXRlRWxlbSc7XHJcbmltcG9ydCBNYWtlT2JzZXJ2YWJsZU9iamVjdCBmcm9tICcuLi8uLi8uLi9tYWtlT2JzZXJ2YWJsZU9iamVjdC9NYWtlT2JzZXJ2YWJsZU9iamVjdCc7XHJcblxyXG5jbGFzcyBNYXJrIHtcclxuICBlbGVtOiBIVE1MRWxlbWVudDtcclxuICBpc1ZlcnRpY2FsOiBib29sZWFuO1xyXG4gIHZhbHVlOiBudW1iZXI7XHJcbiAgb2JzZXJ2ZXJzOiBNYWtlT2JzZXJ2YWJsZU9iamVjdDtcclxuXHJcbiAgY29uc3RydWN0b3IoaXNWZXJ0aWNhbDogYm9vbGVhbiwgb2JzZXJ2ZXI6IEZ1bmN0aW9uKSB7XHJcbiAgICB0aGlzLmVsZW0gPSBjcmVhdGVFbGVtKCdzbGlkZXJfX21hcmsnKTtcclxuICAgIHRoaXMuaXNWZXJ0aWNhbCA9IGlzVmVydGljYWw7XHJcbiAgICB0aGlzLm9ic2VydmVycyA9IG5ldyBNYWtlT2JzZXJ2YWJsZU9iamVjdCgpO1xyXG4gICAgdGhpcy5vYnNlcnZlcnMuYWRkT2JzZXJ2ZXIob2JzZXJ2ZXIpO1xyXG4gICAgdGhpcy5lbGVtLm9uY2xpY2sgPSB0aGlzLmhhbmRsZU1hcmtDbGljaztcclxuICB9XHJcblxyXG4gIGdldFBvc2l0aW9uID0gKCk6IG51bWJlciA9PiB7XHJcbiAgICBpZiAodGhpcy5pc1ZlcnRpY2FsKSB7XHJcbiAgICAgIHJldHVybiB0aGlzLmVsZW0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkudG9wO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB0aGlzLmVsZW0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkubGVmdDtcclxuICB9XHJcblxyXG4gIHNldFBvc2l0aW9uID0gKG9mZnNldDogbnVtYmVyLCB2YWx1ZTogbnVtYmVyKTogdm9pZCA9PiB7XHJcbiAgICB0aGlzLmVsZW0uaW5uZXJIVE1MID0gdmFsdWUgKyAnJztcclxuICAgIHRoaXMudmFsdWUgPSB2YWx1ZTtcclxuXHJcbiAgICBpZiAodGhpcy5pc1ZlcnRpY2FsKSB7XHJcbiAgICAgIHRoaXMuZWxlbS5zdHlsZS5sZWZ0ID0gJzUwJSc7XHJcbiAgICAgIHRoaXMuZWxlbS5zdHlsZS50b3AgPSBvZmZzZXQgKyAnJSc7XHJcbiAgICAgIHRoaXMuZWxlbS5zdHlsZS5tYXJnaW5Ub3AgPSAtdGhpcy5nZXREaW1lbnNpb24oKS8yICsgJ3B4JztcclxuICAgICAgdGhpcy5lbGVtLnN0eWxlLm1hcmdpbkxlZnQgPSAnLTQ1cHgnO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5lbGVtLnN0eWxlLnRvcCA9ICc1MCUnO1xyXG4gICAgICB0aGlzLmVsZW0uc3R5bGUubGVmdCA9IG9mZnNldCArICclJztcclxuICAgICAgdGhpcy5lbGVtLnN0eWxlLm1hcmdpbkxlZnQgPSAtdGhpcy5nZXREaW1lbnNpb24oKS8yICsgJ3B4JztcclxuICAgICAgdGhpcy5lbGVtLnN0eWxlLm1hcmdpblRvcCA9ICcxNXB4JztcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGdldERpbWVuc2lvbiA9ICgpOiBudW1iZXIgPT4ge1xyXG4gICAgaWYgKHRoaXMuaXNWZXJ0aWNhbCkge1xyXG4gICAgICByZXR1cm4gdGhpcy5lbGVtLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmhlaWdodDtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gdGhpcy5lbGVtLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLndpZHRoO1xyXG4gIH1cclxuXHJcbiAgaW5pdCA9IChpc1ZlcnRpY2FsOiBib29sZWFuKTogdm9pZCA9PiB7XHJcbiAgICB0aGlzLmlzVmVydGljYWwgPSBpc1ZlcnRpY2FsO1xyXG5cclxuICAgIGlmICh0aGlzLmlzVmVydGljYWwpIHtcclxuICAgICAgdGhpcy5lbGVtLmNsYXNzTGlzdC5hZGQoJ3NsaWRlcl9fbWFya19wb3NpdGlvbl92ZXJ0aWNhbCcpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5lbGVtLmNsYXNzTGlzdC5yZW1vdmUoJ3NsaWRlcl9fbWFya19wb3NpdGlvbl92ZXJ0aWNhbCcpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBoYW5kbGVNYXJrQ2xpY2sgPSAoKTogdm9pZCA9PiB7XHJcbiAgICB0aGlzLm9ic2VydmVycy5ub3RpZnlPYnNlcnZlcnNEYXRhKHRoaXMudmFsdWUpO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgTWFyazsiLCJpbXBvcnQgY3JlYXRlRWxlbSBmcm9tICcuLi9jcmVhdGVFbGVtL2NyZWF0ZUVsZW0nO1xyXG5cclxuY2xhc3MgQnV0dG9uIHtcclxuICBlbGVtOiBIVE1MRWxlbWVudDtcclxuXHJcbiAgaXNWZXJ0aWNhbDogYm9vbGVhbjtcclxuXHJcbiAgY29uc3RydWN0b3IoaXNWZXJ0aWNhbDogYm9vbGVhbikge1xyXG4gICAgdGhpcy5lbGVtID0gY3JlYXRlRWxlbSgnc2xpZGVyX19idXR0b24nKTtcclxuICAgIHRoaXMuaXNWZXJ0aWNhbCA9IGlzVmVydGljYWw7XHJcbiAgfVxyXG5cclxuICBnZXRXaWR0aCA9ICgpOiBudW1iZXIgPT4ge1xyXG4gICAgcmV0dXJuIHRoaXMuZWxlbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS53aWR0aDtcclxuICB9XHJcblxyXG4gIGdldFBvc2l0aW9uID0gKCk6IG51bWJlciA9PiB7XHJcbiAgICBpZiAodGhpcy5pc1ZlcnRpY2FsKSB7XHJcbiAgICAgIHJldHVybiB0aGlzLmVsZW0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkudG9wO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB0aGlzLmVsZW0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkubGVmdDtcclxuICB9XHJcblxyXG4gIHNldFBvc2l0aW9uID0gKG9mZnNldDogbnVtYmVyKTogdm9pZCA9PiB7XHJcbiAgICBpZiAodGhpcy5pc1ZlcnRpY2FsKSB7XHJcbiAgICAgIHRoaXMuZWxlbS5zdHlsZS5sZWZ0ID0gJzUwJSc7XHJcbiAgICAgIHRoaXMuZWxlbS5zdHlsZS50b3AgPSBvZmZzZXQgKyAncHgnO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5lbGVtLnN0eWxlLnRvcCA9ICc1MCUnO1xyXG4gICAgICB0aGlzLmVsZW0uc3R5bGUubGVmdCA9IG9mZnNldCArICdweCc7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBpbml0ID0gKGlzVmVydGljYWw6IGJvb2xlYW4pOiB2b2lkID0+IHtcclxuICAgIHRoaXMuaXNWZXJ0aWNhbCA9IGlzVmVydGljYWw7XHJcblxyXG4gICAgaWYgKHRoaXMuaXNWZXJ0aWNhbCkge1xyXG4gICAgICB0aGlzLmVsZW0uY2xhc3NMaXN0LmFkZCgnc2xpZGVyX19idXR0b25fcG9zaXRpb25fdmVydGljYWwnKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuZWxlbS5jbGFzc0xpc3QucmVtb3ZlKCdzbGlkZXJfX2J1dHRvbl9wb3NpdGlvbl92ZXJ0aWNhbCcpO1xyXG4gICAgfVxyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgQnV0dG9uO1xyXG4iLCJpbXBvcnQgY3JlYXRlRWxlbSBmcm9tICcuLi9jcmVhdGVFbGVtL2NyZWF0ZUVsZW0nO1xyXG5cclxuY2xhc3MgTGFiZWwge1xyXG4gIGVsZW06IEhUTUxFbGVtZW50O1xyXG4gIGlzVmVydGljYWw6IGJvb2xlYW47XHJcblxyXG4gIGNvbnN0cnVjdG9yKGlzVmVydGljYWw6IGJvb2xlYW4pIHtcclxuICAgIHRoaXMuZWxlbSA9IGNyZWF0ZUVsZW0oJ3NsaWRlcl9fYnV0dG9uLWxhYmVsJyk7XHJcbiAgICB0aGlzLmlzVmVydGljYWwgPSBpc1ZlcnRpY2FsO1xyXG4gIH1cclxuXHJcbiAgZ2V0UG9zaXRpb24gPSAoKTogbnVtYmVyID0+IHtcclxuICAgIGlmICh0aGlzLmlzVmVydGljYWwpIHtcclxuICAgICAgcmV0dXJuIHRoaXMuZWxlbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS50b3A7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHRoaXMuZWxlbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5sZWZ0O1xyXG4gIH1cclxuXHJcbiAgc2V0UG9zaXRpb24gPSAob2Zmc2V0OiBudW1iZXIsIHZhbHVlOiBudW1iZXIpOiB2b2lkID0+IHtcclxuICAgIHRoaXMuZWxlbS5pbm5lckhUTUwgPSB2YWx1ZSArICcnO1xyXG5cclxuICAgIGlmICh0aGlzLmlzVmVydGljYWwpIHtcclxuICAgICAgdGhpcy5lbGVtLnN0eWxlLmxlZnQgPSAnNTAlJztcclxuICAgICAgdGhpcy5lbGVtLnN0eWxlLnRvcCA9IG9mZnNldCAtIHRoaXMuZ2V0RGltZW5zaW9uKCkvMiArICdweCc7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLmVsZW0uc3R5bGUudG9wID0gJzUwJSc7XHJcbiAgICAgIHRoaXMuZWxlbS5zdHlsZS5sZWZ0ID0gb2Zmc2V0IC0gdGhpcy5nZXREaW1lbnNpb24oKS8yICsgJ3B4JztcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGdldERpbWVuc2lvbiA9ICgpOiBudW1iZXIgPT4ge1xyXG4gICAgaWYgKHRoaXMuaXNWZXJ0aWNhbCkge1xyXG4gICAgICByZXR1cm4gdGhpcy5lbGVtLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmhlaWdodDtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gdGhpcy5lbGVtLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLndpZHRoO1xyXG4gIH1cclxuXHJcbiAgaW5pdCA9IChpc1ZlcnRpY2FsOiBib29sZWFuKTogdm9pZCA9PiB7XHJcbiAgICB0aGlzLmlzVmVydGljYWwgPSBpc1ZlcnRpY2FsO1xyXG5cclxuICAgIGlmICh0aGlzLmlzVmVydGljYWwpIHtcclxuICAgICAgdGhpcy5lbGVtLmNsYXNzTGlzdC5hZGQoJ3NsaWRlcl9fYnV0dG9uLWxhYmVsX3Bvc2l0aW9uX3ZlcnRpY2FsJyk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLmVsZW0uY2xhc3NMaXN0LnJlbW92ZSgnc2xpZGVyX19idXR0b24tbGFiZWxfcG9zaXRpb25fdmVydGljYWwnKTtcclxuICAgIH1cclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IExhYmVsOyIsImltcG9ydCAqIGFzIHR5cGVzIGZyb20gJy4uLy4uLy4uL3R5cGVzJztcclxuaW1wb3J0IEJhciBmcm9tICcuLi9iYXIvQmFyJztcclxuaW1wb3J0IFJ1bm5lciBmcm9tICcuLi8uLi9ibG9ja3MvcnVubmVyL1J1bm5lcic7XHJcbmltcG9ydCBQcm9ncmVzc0JhciBmcm9tICcuLi8uLi9ibG9ja3MvcHJvZ3Jlc3NCYXIvUHJvZ3Jlc3NCYXInO1xyXG5cclxuY2xhc3MgVHJhY2sge1xyXG4gIHBhcmFtZXRlcnM6IHR5cGVzLlBhcmFtZXRlcnM7XHJcbiAgcnVubmVyTWFpbjogUnVubmVyO1xyXG4gIHJ1bm5lckFkZGl0aW9uYWw6IFJ1bm5lcjtcclxuICBwcm9ncmVzc0JhcjogUHJvZ3Jlc3NCYXI7XHJcbiAgc2NhbGU6IEJhcjtcclxuXHJcbiAgY29uc3RydWN0b3IoZGF0YTogdHlwZXMuVHJhY2tDb25zdHJ1Y3RvckRhdGEpIHtcclxuICAgIHRoaXMuc2NhbGUgPSBkYXRhLmJhcjtcclxuICAgIHRoaXMucnVubmVyTWFpbiA9IGRhdGEucnVubmVyTWFpbjtcclxuICAgIHRoaXMucnVubmVyQWRkaXRpb25hbCA9IGRhdGEucnVubmVyQWRkaXRpb25hbDtcclxuICAgIHRoaXMucHJvZ3Jlc3NCYXIgPSBkYXRhLnByb2dyZXNzQmFyO1xyXG4gICAgdGhpcy5wYXJhbWV0ZXJzID0gZGF0YS5wYXJhbWV0ZXJzO1xyXG4gIH1cclxuXHJcbiAgb25Nb3ZlUnVubmVyID0gKGV2ZW50TW06IE1vdXNlRXZlbnQsIHJ1bm5lcjogUnVubmVyKTogdHlwZXMuUnVubmVyTW92ZURhdGEgPT4ge1xyXG4gICAgY29uc3QgY29vcmRpbmF0ZSA9IHRoaXMucGFyYW1ldGVycy5pc1ZlcnRpY2FsID8gZXZlbnRNbS5jbGllbnRZIDogZXZlbnRNbS5jbGllbnRYO1xyXG4gICAgY29uc3Qgb2Zmc2V0ID0gY29vcmRpbmF0ZSAtIHRoaXMuc2NhbGUuZ2V0UG9zaXRpb24oKSAtIHRoaXMucnVubmVyQWRkaXRpb25hbC5nZXRXaWR0aCgpLzI7XHJcblxyXG4gICAgcmV0dXJuIHRoaXMub2Zmc2V0UHJvY2Vzc2luZyhvZmZzZXQsIHJ1bm5lcik7XHJcbiAgfVxyXG5cclxuICBvZmZzZXRQcm9jZXNzaW5nKG9mZnNldDogbnVtYmVyLCBydW5uZXI6IFJ1bm5lcik6IHR5cGVzLlJ1bm5lck1vdmVEYXRhIHtcclxuICAgIGxldCByb3VuZFZhbHVlO1xyXG4gICAgbGV0IHJvdW5kT2Zmc2V0O1xyXG4gICAgcm91bmRPZmZzZXQgPSB0aGlzLmNoZWNrUnVubmVyT2Zmc2V0KG9mZnNldCwgcnVubmVyKTtcclxuXHJcbiAgICBbcm91bmRPZmZzZXQsIHJvdW5kVmFsdWVdID0gdGhpcy5yb3VuZE9mZnNldEJ1dHQocm91bmRPZmZzZXQpO1xyXG5cclxuICAgIHJldHVybiB7XHJcbiAgICAgIHJ1bm5lcjogcnVubmVyLFxyXG4gICAgICBvZmZzZXQ6IHJvdW5kT2Zmc2V0LFxyXG4gICAgICB2YWx1ZTogcm91bmRWYWx1ZSxcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGNvbnZlcnRPZmZzZXRUb1ZhbHVlID0gKHZhbHVlOiBudW1iZXIpOiBudW1iZXIgPT4ge1xyXG4gICAgcmV0dXJuICgodmFsdWUgLSB0aGlzLnBhcmFtZXRlcnMubWluVmFsdWUpLyh0aGlzLnBhcmFtZXRlcnMubWF4VmFsdWUgLSB0aGlzLnBhcmFtZXRlcnMubWluVmFsdWUpKnRoaXMuc2NhbGUuZ2V0RGltZW5zaW9uKCkgLSB0aGlzLnJ1bm5lck1haW4uZ2V0V2lkdGgoKS8yKTtcclxuICB9XHJcblxyXG4gIGdldE1haW5SdW5uZXJPZmZzZXQgPSAoKTogbnVtYmVyID0+IHtcclxuICAgIGNvbnN0IG9mZnNldCA9IHRoaXMucnVubmVyTWFpbi5nZXRQb3NpdGlvbigpIC0gdGhpcy5zY2FsZS5nZXRQb3NpdGlvbigpICsgdGhpcy5ydW5uZXJNYWluLmdldFdpZHRoKCkvMjtcclxuICAgIHJldHVybiBvZmZzZXQgPCAwPyAwIDogb2Zmc2V0O1xyXG4gIH1cclxuXHJcbiAgZ2V0QWRkaXRpb25hbFJ1bm5lck9mZnNldCA9ICgpOiBudW1iZXIgPT4ge1xyXG4gICAgaWYgKHRoaXMucGFyYW1ldGVycy5pc1JhbmdlKSB7XHJcbiAgICAgIHJldHVybiB0aGlzLnJ1bm5lckFkZGl0aW9uYWwuZ2V0UG9zaXRpb24oKSAtIHRoaXMuc2NhbGUuZ2V0UG9zaXRpb24oKSArIHRoaXMucnVubmVyTWFpbi5nZXRXaWR0aCgpLzI7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIDA7XHJcbiAgfVxyXG5cclxuICB1cGRhdGVQcm9ncmVzc0JhciA9ICgpOiB2b2lkID0+IHtcclxuICAgIHRoaXMucHJvZ3Jlc3NCYXIuaW5pdCh0aGlzLnBhcmFtZXRlcnMuaXNWZXJ0aWNhbCk7XHJcbiAgICB0aGlzLnByb2dyZXNzQmFyLnNldFBvc2l0aW9uKHRoaXMuZ2V0QWRkaXRpb25hbFJ1bm5lck9mZnNldCgpKTtcclxuICAgIHRoaXMucHJvZ3Jlc3NCYXIuc2V0RGltZW5zaW9uKHRoaXMuZ2V0TWFpblJ1bm5lck9mZnNldCgpIC0gdGhpcy5nZXRBZGRpdGlvbmFsUnVubmVyT2Zmc2V0KCkpO1xyXG4gIH1cclxuXHJcbiAgaW5pdCA9IChwYXJhbWV0ZXJzOiB0eXBlcy5QYXJhbWV0ZXJzKTogdm9pZCA9PiB7XHJcbiAgICB0aGlzLnBhcmFtZXRlcnMgPSBwYXJhbWV0ZXJzO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBjaGVja1J1bm5lck9mZnNldCA9IChvZmZzZXQ6IG51bWJlciwgcnVubmVyOiBSdW5uZXIpOiBudW1iZXIgPT4ge1xyXG4gICAgY29uc3Qgc3RlcFdpZHRoID0gdGhpcy5wYXJhbWV0ZXJzLnN0ZXAqdGhpcy5zY2FsZS5nZXREaW1lbnNpb24oKS8odGhpcy5wYXJhbWV0ZXJzLm1heFZhbHVlIC0gdGhpcy5wYXJhbWV0ZXJzLm1pblZhbHVlKTtcclxuICAgIGNvbnN0IG1pbk9mZnNldCA9IHN0ZXBXaWR0aC8xLjUgPiB0aGlzLnJ1bm5lck1haW4uZ2V0V2lkdGgoKSA/IHN0ZXBXaWR0aC8xLjUgOiB0aGlzLnJ1bm5lck1haW4uZ2V0V2lkdGgoKTtcclxuXHJcbiAgICBpZiAocnVubmVyID09PSB0aGlzLnJ1bm5lckFkZGl0aW9uYWwpIHtcclxuICAgICAgaWYgKG9mZnNldCA+IHRoaXMucnVubmVyTWFpbi5nZXRQb3NpdGlvbigpIC0gdGhpcy5zY2FsZS5nZXRQb3NpdGlvbigpIC0gbWluT2Zmc2V0KSB7XHJcbiAgICAgICAgb2Zmc2V0ID0gdGhpcy5ydW5uZXJNYWluLmdldFBvc2l0aW9uKCkgLSB0aGlzLnNjYWxlLmdldFBvc2l0aW9uKCkgLSBtaW5PZmZzZXQ7XHJcbiAgICAgIH1cclxuICAgIH0gZWxzZSBpZiAocnVubmVyID09PSB0aGlzLnJ1bm5lck1haW4pIHtcclxuICAgICAgaWYgKG9mZnNldCA8IHRoaXMucnVubmVyQWRkaXRpb25hbC5nZXRQb3NpdGlvbigpIC0gdGhpcy5zY2FsZS5nZXRQb3NpdGlvbigpICsgbWluT2Zmc2V0KSB7XHJcbiAgICAgICAgb2Zmc2V0ID0gdGhpcy5ydW5uZXJBZGRpdGlvbmFsLmdldFBvc2l0aW9uKCkgLSB0aGlzLnNjYWxlLmdldFBvc2l0aW9uKCkgKyBtaW5PZmZzZXQ7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gb2Zmc2V0O1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSByb3VuZE9mZnNldEJ1dHQgPSAoY3VycmVudE9mZnNldDogbnVtYmVyKTogW251bWJlciwgbnVtYmVyXSA9PiB7XHJcbiAgICBjb25zdCBjdXJyZW50VmFsdWUgPSB0aGlzLnBhcmFtZXRlcnMubWluVmFsdWUgKyAoY3VycmVudE9mZnNldCArIHRoaXMucnVubmVyTWFpbi5nZXRXaWR0aCgpLzIpKih0aGlzLnBhcmFtZXRlcnMubWF4VmFsdWUgLSB0aGlzLnBhcmFtZXRlcnMubWluVmFsdWUpL3RoaXMuc2NhbGUuZ2V0RGltZW5zaW9uKCk7XHJcbiAgICBsZXQgcm91bmRWYWx1ZSA9IHRoaXMucm91bmQoY3VycmVudFZhbHVlLCB0aGlzLnBhcmFtZXRlcnMuc3RlcCk7XHJcblxyXG4gICAgaWYgKHRoaXMucGFyYW1ldGVycy5pc0Zsb2F0KSB7XHJcbiAgICAgIHJvdW5kVmFsdWUgPSBwYXJzZUZsb2F0KHJvdW5kVmFsdWUudG9GaXhlZCgyKSk7XHJcbiAgICB9XHJcblxyXG4gICAgbGV0IHJvdW5kT2Zmc2V0ID0gdGhpcy5jb252ZXJ0T2Zmc2V0VG9WYWx1ZShyb3VuZFZhbHVlKTtcclxuXHJcbiAgICBpZiAocm91bmRPZmZzZXQgPCAtdGhpcy5ydW5uZXJNYWluLmdldFdpZHRoKCkvMikge1xyXG4gICAgICByb3VuZE9mZnNldCA9IC10aGlzLnJ1bm5lck1haW4uZ2V0V2lkdGgoKS8yO1xyXG4gICAgICByb3VuZFZhbHVlID0gdGhpcy5wYXJhbWV0ZXJzLm1pblZhbHVlO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChyb3VuZE9mZnNldCA+IHRoaXMuc2NhbGUuZ2V0RGltZW5zaW9uKCkgLSB0aGlzLnJ1bm5lck1haW4uZ2V0V2lkdGgoKS8yKSB7XHJcbiAgICAgIHJvdW5kT2Zmc2V0ID0gdGhpcy5zY2FsZS5nZXREaW1lbnNpb24oKSAtIHRoaXMucnVubmVyTWFpbi5nZXRXaWR0aCgpLzI7XHJcbiAgICAgIHJvdW5kVmFsdWUgPSB0aGlzLnBhcmFtZXRlcnMubWF4VmFsdWU7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIFtyb3VuZE9mZnNldCwgcm91bmRWYWx1ZV07XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIHJvdW5kID0gKHZhbHVlOiBudW1iZXIsIHN0ZXA6IG51bWJlcik6IG51bWJlciA9PiB7XHJcbiAgICBjb25zdCB3aG9sZSA9IE1hdGgudHJ1bmModmFsdWUvc3RlcCk7XHJcbiAgICBjb25zdCByZW1pbmRlciA9ICsodmFsdWUgLSB3aG9sZSpzdGVwKS50b0ZpeGVkKDIpO1xyXG5cclxuICAgIGlmICh2YWx1ZSA8IDApIHtcclxuICAgICAgcmV0dXJuIE1hdGguYWJzKHJlbWluZGVyKSA8IHN0ZXAvMiA/IHdob2xlKnN0ZXAgOiAod2hvbGUgLSAxKSpzdGVwO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICh2YWx1ZSA8PSB0aGlzLnBhcmFtZXRlcnMubWluVmFsdWUpIHtcclxuICAgICAgcmV0dXJuIHRoaXMucGFyYW1ldGVycy5taW5WYWx1ZTtcclxuICAgIH0gZWxzZSBpZiAodmFsdWUgPj0gdGhpcy5wYXJhbWV0ZXJzLm1heFZhbHVlKSB7XHJcbiAgICAgIHJldHVybiB0aGlzLnBhcmFtZXRlcnMubWF4VmFsdWU7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHJlbWluZGVyIDwgc3RlcC8yID8gd2hvbGUqc3RlcCA6ICh3aG9sZSArIDEpKnN0ZXA7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBUcmFjaztcclxuIiwiaW1wb3J0IGNyZWF0ZUVsZW0gZnJvbSAnLi4vY3JlYXRlRWxlbS9jcmVhdGVFbGVtJztcclxuXHJcbmNsYXNzIFByb2dyZXNzQmFyIHtcclxuICBlbGVtOiBIVE1MRWxlbWVudDtcclxuICBpc1ZlcnRpY2FsOiBib29sZWFuO1xyXG5cclxuICBjb25zdHJ1Y3Rvcihpc1ZlcnRpY2FsOiBib29sZWFuKSB7XHJcbiAgICB0aGlzLmVsZW0gPSBjcmVhdGVFbGVtKCdzbGlkZXJfX3NjYWxlLWZpbGxpbmcnKTtcclxuICAgIHRoaXMuaXNWZXJ0aWNhbCA9IGlzVmVydGljYWw7XHJcbiAgfVxyXG5cclxuICBzZXRQb3NpdGlvbiA9IChvZmZzZXQ6IG51bWJlcik6IHZvaWQgPT4ge1xyXG4gICAgaWYgKHRoaXMuaXNWZXJ0aWNhbCkge1xyXG4gICAgICB0aGlzLmVsZW0uc3R5bGUubGVmdCA9ICcwJztcclxuICAgICAgdGhpcy5lbGVtLnN0eWxlLndpZHRoID0gJzEwMCUnO1xyXG4gICAgICB0aGlzLmVsZW0uc3R5bGUudG9wID0gb2Zmc2V0ICsgJ3B4JztcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuZWxlbS5zdHlsZS50b3AgPSAnMCc7XHJcbiAgICAgIHRoaXMuZWxlbS5zdHlsZS5oZWlnaHQgPSAnMTAwJSc7XHJcbiAgICAgIHRoaXMuZWxlbS5zdHlsZS5sZWZ0ID0gb2Zmc2V0ICsgJ3B4JztcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHNldERpbWVuc2lvbiA9IChkaW1lbnNpb246IG51bWJlcik6IHZvaWQgPT4ge1xyXG4gICAgaWYgKHRoaXMuaXNWZXJ0aWNhbCkge1xyXG4gICAgICB0aGlzLmVsZW0uc3R5bGUuaGVpZ2h0ID0gZGltZW5zaW9uICsgJ3B4JztcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuZWxlbS5zdHlsZS53aWR0aCA9IGRpbWVuc2lvbiArICdweCc7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBpbml0ID0gKGlzVmVydGljYWw6IGJvb2xlYW4pOiB2b2lkID0+IHtcclxuICAgIHRoaXMuaXNWZXJ0aWNhbCA9IGlzVmVydGljYWw7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBQcm9ncmVzc0JhcjtcclxuIiwiaW1wb3J0ICogYXMgdHlwZXMgZnJvbSAnLi4vdHlwZXMnO1xyXG5pbXBvcnQgTWFrZU9ic2VydmFibGVPYmplY3QgZnJvbSAnLi4vbWFrZU9ic2VydmFibGVPYmplY3QvTWFrZU9ic2VydmFibGVPYmplY3QnO1xyXG5cclxuY2xhc3MgTW9kZWwge1xyXG4gIGN1cnJlbnRWYWx1ZXM6IHR5cGVzLkN1cnJlbnRWYWx1ZXM7XHJcbiAgb2JzZXJ2ZXJzOiBNYWtlT2JzZXJ2YWJsZU9iamVjdDtcclxuXHJcbiAgY29uc3RydWN0b3IoY3VycmVudFZhbHVlczogdHlwZXMuQ3VycmVudFZhbHVlcykge1xyXG4gICAgdGhpcy5jdXJyZW50VmFsdWVzID0gY3VycmVudFZhbHVlcztcclxuICAgIHRoaXMub2JzZXJ2ZXJzID0gbmV3IE1ha2VPYnNlcnZhYmxlT2JqZWN0KCk7XHJcbiAgfVxyXG5cclxuICBzZXRDdXJyZW50TWluVmFsdWUoZGF0YTogbnVtYmVyKTogdm9pZCB7XHJcbiAgICBpZiAodGhpcy5jdXJyZW50VmFsdWVzLmN1cnJlbnRNaW5WYWx1ZSAhPT0gZGF0YSkge1xyXG4gICAgICB0aGlzLmN1cnJlbnRWYWx1ZXMuY3VycmVudE1pblZhbHVlID0gZGF0YTtcclxuICAgICAgdGhpcy5vYnNlcnZlcnMubm90aWZ5T2JzZXJ2ZXJzKCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBzZXRDdXJyZW50TWF4VmFsdWUoZGF0YTogbnVtYmVyKTogdm9pZCB7XHJcbiAgICBpZiAodGhpcy5jdXJyZW50VmFsdWVzLmN1cnJlbnRNYXhWYWx1ZSAhPT0gZGF0YSkge1xyXG4gICAgICB0aGlzLmN1cnJlbnRWYWx1ZXMuY3VycmVudE1heFZhbHVlID0gZGF0YTtcclxuICAgICAgdGhpcy5vYnNlcnZlcnMubm90aWZ5T2JzZXJ2ZXJzKCk7XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBNb2RlbDsiLCJ2YXIgbWFwID0ge1xuXHRcIi4vQ29udHJvbGxlci9Db250cm9sbGVyLnRzXCI6IDcsXG5cdFwiLi9Db250cm9sbGVyL2Jsb2Nrcy9wYXJzaW5nRGlnaXRzL1BhcnNpbmdEaWdpdHMudHNcIjogMyxcblx0XCIuL01vZGVsL01vZGVsLnRzXCI6IDE0LFxuXHRcIi4vVmlldy9WaWV3LnRzXCI6IDgsXG5cdFwiLi9WaWV3L2Jsb2Nrcy9iYXIvQmFyLnRzXCI6IDQsXG5cdFwiLi9WaWV3L2Jsb2Nrcy9idXR0b24vQnV0dG9uLnRzXCI6IDEwLFxuXHRcIi4vVmlldy9ibG9ja3MvY3JlYXRlRWxlbS9jcmVhdGVFbGVtLnRzXCI6IDAsXG5cdFwiLi9WaWV3L2Jsb2Nrcy9sYWJlbC9MYWJlbC50c1wiOiAxMSxcblx0XCIuL1ZpZXcvYmxvY2tzL21hcmsvTWFyay50c1wiOiA5LFxuXHRcIi4vVmlldy9ibG9ja3MvcHJvZ3Jlc3NCYXIvUHJvZ3Jlc3NCYXIudHNcIjogMTMsXG5cdFwiLi9WaWV3L2Jsb2Nrcy9ydW5uZXIvUnVubmVyLnRzXCI6IDYsXG5cdFwiLi9WaWV3L2Jsb2Nrcy9zY2FsZS9TY2FsZS50c1wiOiA1LFxuXHRcIi4vVmlldy9ibG9ja3MvdHJhY2svVHJhY2sudHNcIjogMTIsXG5cdFwiLi9tYWtlT2JzZXJ2YWJsZU9iamVjdC9NYWtlT2JzZXJ2YWJsZU9iamVjdC50c1wiOiAxLFxuXHRcIi4vc2xpZGVyLnRzXCI6IDE2LFxuXHRcIi4vc3R5bGUuc2Nzc1wiOiAxNyxcblx0XCIuL3R5cGVzLnRzXCI6IDJcbn07XG5cblxuZnVuY3Rpb24gd2VicGFja0NvbnRleHQocmVxKSB7XG5cdHZhciBpZCA9IHdlYnBhY2tDb250ZXh0UmVzb2x2ZShyZXEpO1xuXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhpZCk7XG59XG5mdW5jdGlvbiB3ZWJwYWNrQ29udGV4dFJlc29sdmUocmVxKSB7XG5cdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8obWFwLCByZXEpKSB7XG5cdFx0dmFyIGUgPSBuZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiICsgcmVxICsgXCInXCIpO1xuXHRcdGUuY29kZSA9ICdNT0RVTEVfTk9UX0ZPVU5EJztcblx0XHR0aHJvdyBlO1xuXHR9XG5cdHJldHVybiBtYXBbcmVxXTtcbn1cbndlYnBhY2tDb250ZXh0LmtleXMgPSBmdW5jdGlvbiB3ZWJwYWNrQ29udGV4dEtleXMoKSB7XG5cdHJldHVybiBPYmplY3Qua2V5cyhtYXApO1xufTtcbndlYnBhY2tDb250ZXh0LnJlc29sdmUgPSB3ZWJwYWNrQ29udGV4dFJlc29sdmU7XG5tb2R1bGUuZXhwb3J0cyA9IHdlYnBhY2tDb250ZXh0O1xud2VicGFja0NvbnRleHQuaWQgPSAxNTsiLCJpbXBvcnQgQ29udHJvbGxlciBmcm9tICcuL0NvbnRyb2xsZXIvQ29udHJvbGxlcic7XHJcblxyXG4oZnVuY3Rpb24oJCkge1xyXG4gIGNvbnN0IGNvbmZpZyA9IHtcclxuICAgIG1pblZhbHVlOiAwLFxyXG4gICAgbWF4VmFsdWU6IDEwMDAsXHJcbiAgICBzdGVwOiAxLFxyXG4gICAgaXNSYW5nZTogZmFsc2UsXHJcbiAgICBpc1ZlcnRpY2FsOiBmYWxzZSxcclxuICAgIHNob3dMYWJlbDogZmFsc2UsXHJcbiAgICBpc0Zsb2F0OiBmYWxzZSxcclxuICB9O1xyXG5cclxuICBjb25zdCBtZXRob2RzOiBNZXRob2RzID0ge1xyXG4gICAgaW5pdDogZnVuY3Rpb24ob3B0OiBDb25maWcpIHtcclxuICAgICAgaWYgKCEkKHRoaXMpLmRhdGEoJ3NsaWRlcicpKSB7XHJcbiAgICAgICAgY29uc3QgbmV3Q29uZmlnID0geyAuLi5jb25maWcgfTtcclxuICAgICAgICBjb25zdCBzbGlkZXIgPSBuZXcgQ29udHJvbGxlcigkLmV4dGVuZChuZXdDb25maWcsIG9wdCkpO1xyXG4gICAgICAgICQodGhpcykuZGF0YSgnc2xpZGVyJywgc2xpZGVyKTtcclxuXHJcbiAgICAgICAgc2xpZGVyLmFwcGVuZFRvTm9kZSgkKHRoaXMpKTtcclxuICAgICAgfVxyXG4gICAgfSxcclxuXHJcbiAgICB1cGRhdGU6IGZ1bmN0aW9uKG9wdDogQ29uZmlnKSB7XHJcbiAgICAgIGNvbnN0IHNsaWRlciA9ICQodGhpcykuZGF0YSgnc2xpZGVyJyk7XHJcbiAgICAgIHNsaWRlci51cGRhdGVDb25maWcob3B0KTtcclxuICAgIH0sXHJcblxyXG4gICAgZ2V0Q29uZmlnOiBmdW5jdGlvbigpIHtcclxuICAgICAgY29uc3Qgc2xpZGVyID0gJCh0aGlzKS5kYXRhKCdzbGlkZXInKTtcclxuICAgICAgcmV0dXJuIHNsaWRlci5nZXRDb25maWcoKTtcclxuICAgIH0sXHJcblxyXG4gICAgc2V0VmFsdWVzOiBmdW5jdGlvbihvcHQ6IENvbmZpZykge1xyXG4gICAgICBjb25zdCBzbGlkZXIgPSAkKHRoaXMpLmRhdGEoJ3NsaWRlcicpO1xyXG4gICAgICBzbGlkZXIuc2V0VmFsdWVzKG9wdC5jdXJyZW50TWluVmFsdWUsIG9wdC5jdXJyZW50TWF4VmFsdWUpO1xyXG4gICAgfSxcclxuXHJcbiAgICBpbnB1dHNBdHRhY2g6IGZ1bmN0aW9uKG9wdDogSW5wdXRzT2JqZWN0KSB7XHJcbiAgICAgIGNvbnN0IHNsaWRlciA9ICQodGhpcykuZGF0YSgnc2xpZGVyJyk7XHJcbiAgICAgIHNsaWRlci5hZGRPYnNlcnZlcigoKSA9PiB7XHJcbiAgICAgICAgb3B0Lm1pblZhbHVlSW5wdXQudmFsKHNsaWRlci5nZXRWYWx1ZXMoKS5jdXJyZW50TWluVmFsdWUpO1xyXG4gICAgICAgIG9wdC5tYXhWYWx1ZUlucHV0LnZhbChzbGlkZXIuZ2V0VmFsdWVzKCkuY3VycmVudE1heFZhbHVlKTtcclxuICAgICAgICBvcHQubWF4VmFsdWUudmFsKHNsaWRlci5nZXRDb25maWcoKS5tYXhWYWx1ZSk7XHJcbiAgICAgICAgb3B0Lm1pblZhbHVlLnZhbChzbGlkZXIuZ2V0Q29uZmlnKCkubWluVmFsdWUpO1xyXG4gICAgICAgIG9wdC5zdGVwLnZhbChzbGlkZXIuZ2V0Q29uZmlnKCkuc3RlcCk7XHJcbiAgICAgIH0pXHJcbiAgICB9LFxyXG4gIH1cclxuXHJcbiAgJC5mbi5vbWZnc2xpZGVyID0gZnVuY3Rpb24obWV0aG9kOiBzdHJpbmcpIHtcclxuICAgIGlmIChtZXRob2RzW21ldGhvZF0pIHtcclxuICAgICAgcmV0dXJuIG1ldGhvZHNbbWV0aG9kXS5hcHBseSh0aGlzLCBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpKTtcclxuICAgIH0gZWxzZSBpZiAodHlwZW9mIG1ldGhvZCA9PT0gJ29iamVjdCcgfHwgIW1ldGhvZCkge1xyXG4gICAgICByZXR1cm4gbWV0aG9kcy5pbml0LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAkLmVycm9yKGDQnNC10YLQvtC0ICR7bWV0aG9kfSDQvdC1INC90LDQudC00LXQvSDQsiDQv9C70LDQs9C40L3QtSBqUXVlcnkub21mZ3NsaWRlcmApO1xyXG4gICAgfVxyXG4gIH07XHJcbn0pKGpRdWVyeSk7XHJcbiIsImV4cG9ydCBkZWZhdWx0IF9fd2VicGFja19wdWJsaWNfcGF0aF9fICsgXCJpbmRleC5odG1sXCI7IiwiaW1wb3J0ICcuL2RlbW8tcGFnZS9pbmRleC5odG1sJztcclxuXHJcbmZ1bmN0aW9uIGltcG9ydEFsbChyOiAgX19XZWJwYWNrTW9kdWxlQXBpLlJlcXVpcmVDb250ZXh0KSB7XHJcbiAgICByLmtleXMoKS5mb3JFYWNoKHIpO1xyXG59XHJcblxyXG5pbXBvcnRBbGwocmVxdWlyZS5jb250ZXh0KCcuL3BsdWdpbicsIHRydWUsIC8oPzwhXFwuZClcXC4oanN8dHN8c2NzcykkL2kpKTsiXSwic291cmNlUm9vdCI6IiJ9